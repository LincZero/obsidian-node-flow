var km=Object.defineProperty;var Im=(e,t,n)=>t in e?km(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Me=(e,t,n)=>Im(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const r of s.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();/**
* @vue/shared v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function al(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const Ge={},Ri=[],mn=()=>{},Am=()=>!1,Cr=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),ll=e=>e.startsWith("onUpdate:"),dt=Object.assign,cl=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Dm=Object.prototype.hasOwnProperty,He=(e,t)=>Dm.call(e,t),ye=Array.isArray,$i=e=>ls(e)==="[object Map]",co=e=>ls(e)==="[object Set]",ic=e=>ls(e)==="[object Date]",Ee=e=>typeof e=="function",et=e=>typeof e=="string",Yt=e=>typeof e=="symbol",qe=e=>e!==null&&typeof e=="object",Wf=e=>(qe(e)||Ee(e))&&Ee(e.then)&&Ee(e.catch),Zf=Object.prototype.toString,ls=e=>Zf.call(e),Nm=e=>ls(e).slice(8,-1),Yf=e=>ls(e)==="[object Object]",dl=e=>et(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,So=al(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Er=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Tm=/-(\w)/g,Ut=Er(e=>e.replace(Tm,(t,n)=>n?n.toUpperCase():"")),Mm=/\B([A-Z])/g,Ti=Er(e=>e.replace(Mm,"-$1").toLowerCase()),Sr=Er(e=>e.charAt(0).toUpperCase()+e.slice(1)),eu=Er(e=>e?`on${Sr(e)}`:""),Tn=(e,t)=>!Object.is(e,t),Ls=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},Aa=(e,t,n,i=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:i,value:n})},js=e=>{const t=parseFloat(e);return isNaN(t)?e:t},Fm=e=>{const t=et(e)?Number(e):NaN;return isNaN(t)?e:t};let oc;const kr=()=>oc||(oc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function wt(e){if(ye(e)){const t={};for(let n=0;n<e.length;n++){const i=e[n],o=et(i)?zm(i):wt(i);if(o)for(const s in o)t[s]=o[s]}return t}else if(et(e)||qe(e))return e}const Pm=/;(?![^(]*\))/g,Om=/:([^]+)/,Lm=/\/\*[^]*?\*\//g;function zm(e){const t={};return e.replace(Lm,"").split(Pm).forEach(n=>{if(n){const i=n.split(Om);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function Ue(e){let t="";if(et(e))t=e;else if(ye(e))for(let n=0;n<e.length;n++){const i=Ue(e[n]);i&&(t+=i+" ")}else if(qe(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const Rm="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",$m=al(Rm);function Xf(e){return!!e||e===""}function Bm(e,t){if(e.length!==t.length)return!1;let n=!0;for(let i=0;n&&i<e.length;i++)n=cs(e[i],t[i]);return n}function cs(e,t){if(e===t)return!0;let n=ic(e),i=ic(t);if(n||i)return n&&i?e.getTime()===t.getTime():!1;if(n=Yt(e),i=Yt(t),n||i)return e===t;if(n=ye(e),i=ye(t),n||i)return n&&i?Bm(e,t):!1;if(n=qe(e),i=qe(t),n||i){if(!n||!i)return!1;const o=Object.keys(e).length,s=Object.keys(t).length;if(o!==s)return!1;for(const r in e){const u=e.hasOwnProperty(r),a=t.hasOwnProperty(r);if(u&&!a||!u&&a||!cs(e[r],t[r]))return!1}}return String(e)===String(t)}function fl(e,t){return e.findIndex(n=>cs(n,t))}const Kf=e=>!!(e&&e.__v_isRef===!0),we=e=>et(e)?e:e==null?"":ye(e)||qe(e)&&(e.toString===Zf||!Ee(e.toString))?Kf(e)?we(e.value):JSON.stringify(e,Jf,2):String(e),Jf=(e,t)=>Kf(t)?Jf(e,t.value):$i(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[i,o],s)=>(n[tu(i,s)+" =>"]=o,n),{})}:co(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>tu(n))}:Yt(t)?tu(t):qe(t)&&!ye(t)&&!Yf(t)?String(t):t,tu=(e,t="")=>{var n;return Yt(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let _t;class Qf{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=_t,!t&&_t&&(this.index=(_t.scopes||(_t.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=_t;try{return _t=this,t()}finally{_t=n}}}on(){++this._on===1&&(this.prevScope=_t,_t=this)}off(){this._on>0&&--this._on===0&&(_t=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(this.effects.length=0,n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0}}}function hl(e){return new Qf(e)}function pl(){return _t}function zs(e,t=!1){_t&&_t.cleanups.push(e)}let je;const nu=new WeakSet;class eh{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,_t&&_t.active&&_t.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,nu.has(this)&&(nu.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||nh(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,sc(this),ih(this);const t=je,n=Zt;je=this,Zt=!0;try{return this.fn()}finally{oh(this),je=t,Zt=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)vl(t);this.deps=this.depsTail=void 0,sc(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?nu.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Da(this)&&this.run()}get dirty(){return Da(this)}}let th=0,ko,Io;function nh(e,t=!1){if(e.flags|=8,t){e.next=Io,Io=e;return}e.next=ko,ko=e}function ml(){th++}function gl(){if(--th>0)return;if(Io){let t=Io;for(Io=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;ko;){let t=ko;for(ko=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(i){e||(e=i)}t=n}}if(e)throw e}function ih(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function oh(e){let t,n=e.depsTail,i=n;for(;i;){const o=i.prevDep;i.version===-1?(i===n&&(n=o),vl(i),Vm(i)):t=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=o}e.deps=t,e.depsTail=n}function Da(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(sh(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function sh(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Ro)||(e.globalVersion=Ro,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!Da(e))))return;e.flags|=2;const t=e.dep,n=je,i=Zt;je=e,Zt=!0;try{ih(e);const o=e.fn(e._value);(t.version===0||Tn(o,e._value))&&(e.flags|=128,e._value=o,t.version++)}catch(o){throw t.version++,o}finally{je=n,Zt=i,oh(e),e.flags&=-3}}function vl(e,t=!1){const{dep:n,prevSub:i,nextSub:o}=e;if(i&&(i.nextSub=o,e.prevSub=void 0),o&&(o.prevSub=i,e.nextSub=void 0),n.subs===e&&(n.subs=i,!i&&n.computed)){n.computed.flags&=-5;for(let s=n.computed.deps;s;s=s.nextDep)vl(s,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function Vm(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let Zt=!0;const rh=[];function Fn(){rh.push(Zt),Zt=!1}function Pn(){const e=rh.pop();Zt=e===void 0?!0:e}function sc(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=je;je=void 0;try{t()}finally{je=n}}}let Ro=0;class Hm{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Ir{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!je||!Zt||je===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==je)n=this.activeLink=new Hm(je,this),je.deps?(n.prevDep=je.depsTail,je.depsTail.nextDep=n,je.depsTail=n):je.deps=je.depsTail=n,uh(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const i=n.nextDep;i.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=i),n.prevDep=je.depsTail,n.nextDep=void 0,je.depsTail.nextDep=n,je.depsTail=n,je.deps===n&&(je.deps=i)}return n}trigger(t){this.version++,Ro++,this.notify(t)}notify(t){ml();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{gl()}}}function uh(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let i=t.deps;i;i=i.nextDep)uh(i)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const Ws=new WeakMap,gi=Symbol(""),Na=Symbol(""),$o=Symbol("");function bt(e,t,n){if(Zt&&je){let i=Ws.get(e);i||Ws.set(e,i=new Map);let o=i.get(n);o||(i.set(n,o=new Ir),o.map=i,o.key=n),o.track()}}function Sn(e,t,n,i,o,s){const r=Ws.get(e);if(!r){Ro++;return}const u=a=>{a&&a.trigger()};if(ml(),t==="clear")r.forEach(u);else{const a=ye(e),l=a&&dl(n);if(a&&n==="length"){const c=Number(i);r.forEach((d,f)=>{(f==="length"||f===$o||!Yt(f)&&f>=c)&&u(d)})}else switch((n!==void 0||r.has(void 0))&&u(r.get(n)),l&&u(r.get($o)),t){case"add":a?l&&u(r.get("length")):(u(r.get(gi)),$i(e)&&u(r.get(Na)));break;case"delete":a||(u(r.get(gi)),$i(e)&&u(r.get(Na)));break;case"set":$i(e)&&u(r.get(gi));break}}gl()}function Um(e,t){const n=Ws.get(e);return n&&n.get(t)}function Mi(e){const t=_e(e);return t===e?t:(bt(t,"iterate",$o),Ht(e)?t:t.map(mt))}function Ar(e){return bt(e=_e(e),"iterate",$o),e}const qm={__proto__:null,[Symbol.iterator](){return iu(this,Symbol.iterator,mt)},concat(...e){return Mi(this).concat(...e.map(t=>ye(t)?Mi(t):t))},entries(){return iu(this,"entries",e=>(e[1]=mt(e[1]),e))},every(e,t){return xn(this,"every",e,t,void 0,arguments)},filter(e,t){return xn(this,"filter",e,t,n=>n.map(mt),arguments)},find(e,t){return xn(this,"find",e,t,mt,arguments)},findIndex(e,t){return xn(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return xn(this,"findLast",e,t,mt,arguments)},findLastIndex(e,t){return xn(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return xn(this,"forEach",e,t,void 0,arguments)},includes(...e){return ou(this,"includes",e)},indexOf(...e){return ou(this,"indexOf",e)},join(e){return Mi(this).join(e)},lastIndexOf(...e){return ou(this,"lastIndexOf",e)},map(e,t){return xn(this,"map",e,t,void 0,arguments)},pop(){return go(this,"pop")},push(...e){return go(this,"push",e)},reduce(e,...t){return rc(this,"reduce",e,t)},reduceRight(e,...t){return rc(this,"reduceRight",e,t)},shift(){return go(this,"shift")},some(e,t){return xn(this,"some",e,t,void 0,arguments)},splice(...e){return go(this,"splice",e)},toReversed(){return Mi(this).toReversed()},toSorted(e){return Mi(this).toSorted(e)},toSpliced(...e){return Mi(this).toSpliced(...e)},unshift(...e){return go(this,"unshift",e)},values(){return iu(this,"values",mt)}};function iu(e,t,n){const i=Ar(e),o=i[t]();return i!==e&&!Ht(e)&&(o._next=o.next,o.next=()=>{const s=o._next();return s.value&&(s.value=n(s.value)),s}),o}const Gm=Array.prototype;function xn(e,t,n,i,o,s){const r=Ar(e),u=r!==e&&!Ht(e),a=r[t];if(a!==Gm[t]){const d=a.apply(e,s);return u?mt(d):d}let l=n;r!==e&&(u?l=function(d,f){return n.call(this,mt(d),f,e)}:n.length>2&&(l=function(d,f){return n.call(this,d,f,e)}));const c=a.call(r,l,i);return u&&o?o(c):c}function rc(e,t,n,i){const o=Ar(e);let s=n;return o!==e&&(Ht(e)?n.length>3&&(s=function(r,u,a){return n.call(this,r,u,a,e)}):s=function(r,u,a){return n.call(this,r,mt(u),a,e)}),o[t](s,...i)}function ou(e,t,n){const i=_e(e);bt(i,"iterate",$o);const o=i[t](...n);return(o===-1||o===!1)&&yl(n[0])?(n[0]=_e(n[0]),i[t](...n)):o}function go(e,t,n=[]){Fn(),ml();const i=_e(e)[t].apply(e,n);return gl(),Pn(),i}const jm=al("__proto__,__v_isRef,__isVue"),ah=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Yt));function Wm(e){Yt(e)||(e=String(e));const t=_e(this);return bt(t,"has",e),t.hasOwnProperty(e)}class lh{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,i){if(n==="__v_skip")return t.__v_skip;const o=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!o;if(n==="__v_isReadonly")return o;if(n==="__v_isShallow")return s;if(n==="__v_raw")return i===(o?s?ig:hh:s?fh:dh).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(i)?t:void 0;const r=ye(t);if(!o){let a;if(r&&(a=qm[n]))return a;if(n==="hasOwnProperty")return Wm}const u=Reflect.get(t,n,Ie(t)?t:i);return(Yt(n)?ah.has(n):jm(n))||(o||bt(t,"get",n),s)?u:Ie(u)?r&&dl(n)?u:u.value:qe(u)?o?Dr(u):ds(u):u}}class ch extends lh{constructor(t=!1){super(!1,t)}set(t,n,i,o){let s=t[n];if(!this._isShallow){const a=Jn(s);if(!Ht(i)&&!Jn(i)&&(s=_e(s),i=_e(i)),!ye(t)&&Ie(s)&&!Ie(i))return a?!1:(s.value=i,!0)}const r=ye(t)&&dl(n)?Number(n)<t.length:He(t,n),u=Reflect.set(t,n,i,Ie(t)?t:o);return t===_e(o)&&(r?Tn(i,s)&&Sn(t,"set",n,i):Sn(t,"add",n,i)),u}deleteProperty(t,n){const i=He(t,n);t[n];const o=Reflect.deleteProperty(t,n);return o&&i&&Sn(t,"delete",n,void 0),o}has(t,n){const i=Reflect.has(t,n);return(!Yt(n)||!ah.has(n))&&bt(t,"has",n),i}ownKeys(t){return bt(t,"iterate",ye(t)?"length":gi),Reflect.ownKeys(t)}}class Zm extends lh{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const Ym=new ch,Xm=new Zm,Km=new ch(!0);const Ta=e=>e,ys=e=>Reflect.getPrototypeOf(e);function Jm(e,t,n){return function(...i){const o=this.__v_raw,s=_e(o),r=$i(s),u=e==="entries"||e===Symbol.iterator&&r,a=e==="keys"&&r,l=o[e](...i),c=n?Ta:t?Zs:mt;return!t&&bt(s,"iterate",a?Na:gi),{next(){const{value:d,done:f}=l.next();return f?{value:d,done:f}:{value:u?[c(d[0]),c(d[1])]:c(d),done:f}},[Symbol.iterator](){return this}}}}function ws(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Qm(e,t){const n={get(o){const s=this.__v_raw,r=_e(s),u=_e(o);e||(Tn(o,u)&&bt(r,"get",o),bt(r,"get",u));const{has:a}=ys(r),l=t?Ta:e?Zs:mt;if(a.call(r,o))return l(s.get(o));if(a.call(r,u))return l(s.get(u));s!==r&&s.get(o)},get size(){const o=this.__v_raw;return!e&&bt(_e(o),"iterate",gi),Reflect.get(o,"size",o)},has(o){const s=this.__v_raw,r=_e(s),u=_e(o);return e||(Tn(o,u)&&bt(r,"has",o),bt(r,"has",u)),o===u?s.has(o):s.has(o)||s.has(u)},forEach(o,s){const r=this,u=r.__v_raw,a=_e(u),l=t?Ta:e?Zs:mt;return!e&&bt(a,"iterate",gi),u.forEach((c,d)=>o.call(s,l(c),l(d),r))}};return dt(n,e?{add:ws("add"),set:ws("set"),delete:ws("delete"),clear:ws("clear")}:{add(o){!t&&!Ht(o)&&!Jn(o)&&(o=_e(o));const s=_e(this);return ys(s).has.call(s,o)||(s.add(o),Sn(s,"add",o,o)),this},set(o,s){!t&&!Ht(s)&&!Jn(s)&&(s=_e(s));const r=_e(this),{has:u,get:a}=ys(r);let l=u.call(r,o);l||(o=_e(o),l=u.call(r,o));const c=a.call(r,o);return r.set(o,s),l?Tn(s,c)&&Sn(r,"set",o,s):Sn(r,"add",o,s),this},delete(o){const s=_e(this),{has:r,get:u}=ys(s);let a=r.call(s,o);a||(o=_e(o),a=r.call(s,o)),u&&u.call(s,o);const l=s.delete(o);return a&&Sn(s,"delete",o,void 0),l},clear(){const o=_e(this),s=o.size!==0,r=o.clear();return s&&Sn(o,"clear",void 0,void 0),r}}),["keys","values","entries",Symbol.iterator].forEach(o=>{n[o]=Jm(o,e,t)}),n}function _l(e,t){const n=Qm(e,t);return(i,o,s)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?i:Reflect.get(He(n,o)&&o in i?n:i,o,s)}const eg={get:_l(!1,!1)},tg={get:_l(!1,!0)},ng={get:_l(!0,!1)};const dh=new WeakMap,fh=new WeakMap,hh=new WeakMap,ig=new WeakMap;function og(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function sg(e){return e.__v_skip||!Object.isExtensible(e)?0:og(Nm(e))}function ds(e){return Jn(e)?e:bl(e,!1,Ym,eg,dh)}function rg(e){return bl(e,!1,Km,tg,fh)}function Dr(e){return bl(e,!0,Xm,ng,hh)}function bl(e,t,n,i,o){if(!qe(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=sg(e);if(s===0)return e;const r=o.get(e);if(r)return r;const u=new Proxy(e,s===2?i:n);return o.set(e,u),u}function Bi(e){return Jn(e)?Bi(e.__v_raw):!!(e&&e.__v_isReactive)}function Jn(e){return!!(e&&e.__v_isReadonly)}function Ht(e){return!!(e&&e.__v_isShallow)}function yl(e){return e?!!e.__v_raw:!1}function _e(e){const t=e&&e.__v_raw;return t?_e(t):e}function Vi(e){return!He(e,"__v_skip")&&Object.isExtensible(e)&&Aa(e,"__v_skip",!0),e}const mt=e=>qe(e)?ds(e):e,Zs=e=>qe(e)?Dr(e):e;function Ie(e){return e?e.__v_isRef===!0:!1}function ce(e){return ph(e,!1)}function Ys(e){return ph(e,!0)}function ph(e,t){return Ie(e)?e:new ug(e,t)}class ug{constructor(t,n){this.dep=new Ir,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:_e(t),this._value=n?t:mt(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,i=this.__v_isShallow||Ht(t)||Jn(t);t=i?t:_e(t),Tn(t,n)&&(this._rawValue=t,this._value=i?t:mt(t),this.dep.trigger())}}function $(e){return Ie(e)?e.value:e}function De(e){return Ee(e)?e():$(e)}const ag={get:(e,t,n)=>t==="__v_raw"?e:$(Reflect.get(e,t,n)),set:(e,t,n,i)=>{const o=e[t];return Ie(o)&&!Ie(n)?(o.value=n,!0):Reflect.set(e,t,n,i)}};function mh(e){return Bi(e)?e:new Proxy(e,ag)}class lg{constructor(t){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new Ir,{get:i,set:o}=t(n.track.bind(n),n.trigger.bind(n));this._get=i,this._set=o}get value(){return this._value=this._get()}set value(t){this._set(t)}}function cg(e){return new lg(e)}function dg(e){const t=ye(e)?new Array(e.length):{};for(const n in e)t[n]=gh(e,n);return t}class fg{constructor(t,n,i){this._object=t,this._key=n,this._defaultValue=i,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return Um(_e(this._object),this._key)}}class hg{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function Ke(e,t,n){return Ie(e)?e:Ee(e)?new hg(e):qe(e)&&arguments.length>1?gh(e,t,n):ce(e)}function gh(e,t,n){const i=e[t];return Ie(i)?i:new fg(e,t,n)}class pg{constructor(t,n,i){this.fn=t,this.setter=n,this._value=void 0,this.dep=new Ir(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Ro-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&je!==this)return nh(this,!0),!0}get value(){const t=this.dep.track();return sh(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function mg(e,t,n=!1){let i,o;return Ee(e)?i=e:(i=e.get,o=e.set),new pg(i,o,n)}const xs={},Xs=new WeakMap;let li;function gg(e,t=!1,n=li){if(n){let i=Xs.get(n);i||Xs.set(n,i=[]),i.push(e)}}function vg(e,t,n=Ge){const{immediate:i,deep:o,once:s,scheduler:r,augmentJob:u,call:a}=n,l=g=>o?g:Ht(g)||o===!1||o===0?kn(g,1):kn(g);let c,d,f,h,p=!1,_=!1;if(Ie(e)?(d=()=>e.value,p=Ht(e)):Bi(e)?(d=()=>l(e),p=!0):ye(e)?(_=!0,p=e.some(g=>Bi(g)||Ht(g)),d=()=>e.map(g=>{if(Ie(g))return g.value;if(Bi(g))return l(g);if(Ee(g))return a?a(g,2):g()})):Ee(e)?t?d=a?()=>a(e,2):e:d=()=>{if(f){Fn();try{f()}finally{Pn()}}const g=li;li=c;try{return a?a(e,3,[h]):e(h)}finally{li=g}}:d=mn,t&&o){const g=d,x=o===!0?1/0:o;d=()=>kn(g(),x)}const b=pl(),y=()=>{c.stop(),b&&b.active&&cl(b.effects,c)};if(s&&t){const g=t;t=(...x)=>{g(...x),y()}}let v=_?new Array(e.length).fill(xs):xs;const m=g=>{if(!(!(c.flags&1)||!c.dirty&&!g))if(t){const x=c.run();if(o||p||(_?x.some((E,D)=>Tn(E,v[D])):Tn(x,v))){f&&f();const E=li;li=c;try{const D=[x,v===xs?void 0:_&&v[0]===xs?[]:v,h];v=x,a?a(t,3,D):t(...D)}finally{li=E}}}else c.run()};return u&&u(m),c=new eh(d),c.scheduler=r?()=>r(m,!1):m,h=g=>gg(g,!1,c),f=c.onStop=()=>{const g=Xs.get(c);if(g){if(a)a(g,4);else for(const x of g)x();Xs.delete(c)}},t?i?m(!0):v=c.run():r?r(m.bind(null,!0),!0):c.run(),y.pause=c.pause.bind(c),y.resume=c.resume.bind(c),y.stop=y,y}function kn(e,t=1/0,n){if(t<=0||!qe(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,Ie(e))kn(e.value,t,n);else if(ye(e))for(let i=0;i<e.length;i++)kn(e[i],t,n);else if(co(e)||$i(e))e.forEach(i=>{kn(i,t,n)});else if(Yf(e)){for(const i in e)kn(e[i],t,n);for(const i of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,i)&&kn(e[i],t,n)}return e}/**
* @vue/runtime-core v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function fs(e,t,n,i){try{return i?e(...i):e()}catch(o){Nr(o,t,n)}}function Xt(e,t,n,i){if(Ee(e)){const o=fs(e,t,n,i);return o&&Wf(o)&&o.catch(s=>{Nr(s,t,n)}),o}if(ye(e)){const o=[];for(let s=0;s<e.length;s++)o.push(Xt(e[s],t,n,i));return o}}function Nr(e,t,n,i=!0){const o=t?t.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:r}=t&&t.appContext.config||Ge;if(t){let u=t.parent;const a=t.proxy,l=`https://vuejs.org/error-reference/#runtime-${n}`;for(;u;){const c=u.ec;if(c){for(let d=0;d<c.length;d++)if(c[d](e,a,l)===!1)return}u=u.parent}if(s){Fn(),fs(s,null,10,[e,a,l]),Pn();return}}_g(e,n,o,i,r)}function _g(e,t,n,i=!0,o=!1){if(o)throw e;console.error(e)}const Ct=[];let an=-1;const Hi=[];let Un=null,Li=0;const vh=Promise.resolve();let Ks=null;function We(e){const t=Ks||vh;return e?t.then(this?e.bind(this):e):t}function bg(e){let t=an+1,n=Ct.length;for(;t<n;){const i=t+n>>>1,o=Ct[i],s=Bo(o);s<e||s===e&&o.flags&2?t=i+1:n=i}return t}function wl(e){if(!(e.flags&1)){const t=Bo(e),n=Ct[Ct.length-1];!n||!(e.flags&2)&&t>=Bo(n)?Ct.push(e):Ct.splice(bg(t),0,e),e.flags|=1,_h()}}function _h(){Ks||(Ks=vh.then(yh))}function yg(e){ye(e)?Hi.push(...e):Un&&e.id===-1?Un.splice(Li+1,0,e):e.flags&1||(Hi.push(e),e.flags|=1),_h()}function uc(e,t,n=an+1){for(;n<Ct.length;n++){const i=Ct[n];if(i&&i.flags&2){if(e&&i.id!==e.uid)continue;Ct.splice(n,1),n--,i.flags&4&&(i.flags&=-2),i(),i.flags&4||(i.flags&=-2)}}}function bh(e){if(Hi.length){const t=[...new Set(Hi)].sort((n,i)=>Bo(n)-Bo(i));if(Hi.length=0,Un){Un.push(...t);return}for(Un=t,Li=0;Li<Un.length;Li++){const n=Un[Li];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Un=null,Li=0}}const Bo=e=>e.id==null?e.flags&2?-1:1/0:e.id;function yh(e){try{for(an=0;an<Ct.length;an++){const t=Ct[an];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),fs(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;an<Ct.length;an++){const t=Ct[an];t&&(t.flags&=-2)}an=-1,Ct.length=0,bh(),Ks=null,(Ct.length||Hi.length)&&yh()}}let pt=null,wh=null;function Js(e){const t=pt;return pt=e,wh=e&&e.type.__scopeId||null,t}function Ce(e,t=pt,n){if(!t||e._n)return e;const i=(...o)=>{i._d&&_c(-1);const s=Js(t);let r;try{r=e(...o)}finally{Js(s),i._d&&_c(1)}return r};return i._n=!0,i._c=!0,i._d=!0,i}function Fe(e,t){if(pt===null)return e;const n=Lr(pt),i=e.dirs||(e.dirs=[]);for(let o=0;o<t.length;o++){let[s,r,u,a=Ge]=t[o];s&&(Ee(s)&&(s={mounted:s,updated:s}),s.deep&&kn(r),i.push({dir:s,instance:n,value:r,oldValue:void 0,arg:u,modifiers:a}))}return e}function ri(e,t,n,i){const o=e.dirs,s=t&&t.dirs;for(let r=0;r<o.length;r++){const u=o[r];s&&(u.oldValue=s[r].value);let a=u.dir[i];a&&(Fn(),Xt(a,n,8,[e.el,u,e,t]),Pn())}}const wg=Symbol("_vte"),xh=e=>e.__isTeleport,qn=Symbol("_leaveCb"),Cs=Symbol("_enterCb");function Ch(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return it(()=>{e.isMounted=!0}),fo(()=>{e.isUnmounting=!0}),e}const Rt=[Function,Array],Eh={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Rt,onEnter:Rt,onAfterEnter:Rt,onEnterCancelled:Rt,onBeforeLeave:Rt,onLeave:Rt,onAfterLeave:Rt,onLeaveCancelled:Rt,onBeforeAppear:Rt,onAppear:Rt,onAfterAppear:Rt,onAppearCancelled:Rt},Sh=e=>{const t=e.subTree;return t.component?Sh(t.component):t},xg={name:"BaseTransition",props:Eh,setup(e,{slots:t}){const n=Rn(),i=Ch();return()=>{const o=t.default&&xl(t.default(),!0);if(!o||!o.length)return;const s=kh(o),r=_e(e),{mode:u}=r;if(i.isLeaving)return su(s);const a=ac(s);if(!a)return su(s);let l=Vo(a,r,i,n,d=>l=d);a.type!==yt&&Ei(a,l);let c=n.subTree&&ac(n.subTree);if(c&&c.type!==yt&&!ci(a,c)&&Sh(n).type!==yt){let d=Vo(c,r,i,n);if(Ei(c,d),u==="out-in"&&a.type!==yt)return i.isLeaving=!0,d.afterLeave=()=>{i.isLeaving=!1,n.job.flags&8||n.update(),delete d.afterLeave,c=void 0},su(s);u==="in-out"&&a.type!==yt?d.delayLeave=(f,h,p)=>{const _=Ih(i,c);_[String(c.key)]=c,f[qn]=()=>{h(),f[qn]=void 0,delete l.delayedLeave,c=void 0},l.delayedLeave=()=>{p(),delete l.delayedLeave,c=void 0}}:c=void 0}else c&&(c=void 0);return s}}};function kh(e){let t=e[0];if(e.length>1){for(const n of e)if(n.type!==yt){t=n;break}}return t}const Cg=xg;function Ih(e,t){const{leavingVNodes:n}=e;let i=n.get(t.type);return i||(i=Object.create(null),n.set(t.type,i)),i}function Vo(e,t,n,i,o){const{appear:s,mode:r,persisted:u=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:c,onEnterCancelled:d,onBeforeLeave:f,onLeave:h,onAfterLeave:p,onLeaveCancelled:_,onBeforeAppear:b,onAppear:y,onAfterAppear:v,onAppearCancelled:m}=t,g=String(e.key),x=Ih(n,e),E=(w,M)=>{w&&Xt(w,i,9,M)},D=(w,M)=>{const O=M[1];E(w,M),ye(w)?w.every(C=>C.length<=1)&&O():w.length<=1&&O()},k={mode:r,persisted:u,beforeEnter(w){let M=a;if(!n.isMounted)if(s)M=b||a;else return;w[qn]&&w[qn](!0);const O=x[g];O&&ci(e,O)&&O.el[qn]&&O.el[qn](),E(M,[w])},enter(w){let M=l,O=c,C=d;if(!n.isMounted)if(s)M=y||l,O=v||c,C=m||d;else return;let z=!1;const P=w[Cs]=q=>{z||(z=!0,q?E(C,[w]):E(O,[w]),k.delayedLeave&&k.delayedLeave(),w[Cs]=void 0)};M?D(M,[w,P]):P()},leave(w,M){const O=String(e.key);if(w[Cs]&&w[Cs](!0),n.isUnmounting)return M();E(f,[w]);let C=!1;const z=w[qn]=P=>{C||(C=!0,M(),P?E(_,[w]):E(p,[w]),w[qn]=void 0,x[O]===e&&delete x[O])};x[O]=e,h?D(h,[w,z]):z()},clone(w){const M=Vo(w,t,n,i,o);return o&&o(M),M}};return k}function su(e){if(Tr(e))return e=Qn(e),e.children=null,e}function ac(e){if(!Tr(e))return xh(e.type)&&e.children?kh(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&Ee(n.default))return n.default()}}function Ei(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Ei(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function xl(e,t=!1,n){let i=[],o=0;for(let s=0;s<e.length;s++){let r=e[s];const u=n==null?r.key:String(n)+String(r.key!=null?r.key:s);r.type===Se?(r.patchFlag&128&&o++,i=i.concat(xl(r.children,t,u))):(t||r.type!==yt)&&i.push(u!=null?Qn(r,{key:u}):r)}if(o>1)for(let s=0;s<i.length;s++)i[s].patchFlag=-2;return i}/*! #__NO_SIDE_EFFECTS__ */function be(e,t){return Ee(e)?dt({name:e.name},t,{setup:e}):e}function Ah(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function Ao(e,t,n,i,o=!1){if(ye(e)){e.forEach((p,_)=>Ao(p,t&&(ye(t)?t[_]:t),n,i,o));return}if(Ui(i)&&!o){i.shapeFlag&512&&i.type.__asyncResolved&&i.component.subTree.component&&Ao(e,t,n,i.component.subTree);return}const s=i.shapeFlag&4?Lr(i.component):i.el,r=o?null:s,{i:u,r:a}=e,l=t&&t.r,c=u.refs===Ge?u.refs={}:u.refs,d=u.setupState,f=_e(d),h=d===Ge?()=>!1:p=>He(f,p);if(l!=null&&l!==a&&(et(l)?(c[l]=null,h(l)&&(d[l]=null)):Ie(l)&&(l.value=null)),Ee(a))fs(a,u,12,[r,c]);else{const p=et(a),_=Ie(a);if(p||_){const b=()=>{if(e.f){const y=p?h(a)?d[a]:c[a]:a.value;o?ye(y)&&cl(y,s):ye(y)?y.includes(s)||y.push(s):p?(c[a]=[s],h(a)&&(d[a]=c[a])):(a.value=[s],e.k&&(c[e.k]=a.value))}else p?(c[a]=r,h(a)&&(d[a]=r)):_&&(a.value=r,e.k&&(c[e.k]=r))};r?(b.id=-1,Nt(b,n)):b()}}}kr().requestIdleCallback;kr().cancelIdleCallback;const Ui=e=>!!e.type.__asyncLoader,Tr=e=>e.type.__isKeepAlive;function Eg(e,t){Dh(e,"a",t)}function Sg(e,t){Dh(e,"da",t)}function Dh(e,t,n=gt){const i=e.__wdc||(e.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(Mr(t,i,n),n){let o=n.parent;for(;o&&o.parent;)Tr(o.parent.vnode)&&kg(i,t,n,o),o=o.parent}}function kg(e,t,n,i){const o=Mr(t,e,i,!0);Si(()=>{cl(i[t],o)},n)}function Mr(e,t,n=gt,i=!1){if(n){const o=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...r)=>{Fn();const u=ps(n),a=Xt(t,n,e,r);return u(),Pn(),a});return i?o.unshift(s):o.push(s),s}}const zn=e=>(t,n=gt)=>{(!Ho||e==="sp")&&Mr(e,(...i)=>t(...i),n)},Nh=zn("bm"),it=zn("m"),Ig=zn("bu"),Th=zn("u"),fo=zn("bum"),Si=zn("um"),Ag=zn("sp"),Dg=zn("rtg"),Ng=zn("rtc");function Tg(e,t=gt){Mr("ec",e,t)}const Mh="components";function hs(e,t){return Oh(Mh,e,!0,t)||e}const Fh=Symbol.for("v-ndc");function Ph(e){return et(e)?Oh(Mh,e,!1)||e:e||Fh}function Oh(e,t,n=!0,i=!1){const o=pt||gt;if(o){const s=o.type;{const u=_1(s,!1);if(u&&(u===t||u===Ut(t)||u===Sr(Ut(t))))return s}const r=lc(o[e]||s[e],t)||lc(o.appContext[e],t);return!r&&i?s:r}}function lc(e,t){return e&&(e[t]||e[Ut(t)]||e[Sr(Ut(t))])}function rt(e,t,n,i){let o;const s=n&&n[i],r=ye(e);if(r||et(e)){const u=r&&Bi(e);let a=!1,l=!1;u&&(a=!Ht(e),l=Jn(e),e=Ar(e)),o=new Array(e.length);for(let c=0,d=e.length;c<d;c++)o[c]=t(a?l?Zs(mt(e[c])):mt(e[c]):e[c],c,void 0,s&&s[c])}else if(typeof e=="number"){o=new Array(e);for(let u=0;u<e;u++)o[u]=t(u+1,u,void 0,s&&s[u])}else if(qe(e))if(e[Symbol.iterator])o=Array.from(e,(u,a)=>t(u,a,void 0,s&&s[a]));else{const u=Object.keys(e);o=new Array(u.length);for(let a=0,l=u.length;a<l;a++){const c=u[a];o[a]=t(e[c],c,a,s&&s[a])}}else o=[];return n&&(n[i]=o),o}function It(e,t,n={},i,o){if(pt.ce||pt.parent&&Ui(pt.parent)&&pt.parent.ce)return t!=="default"&&(n.name=t),X(),tt(Se,null,[te("slot",n,i&&i())],64);let s=e[t];s&&s._c&&(s._d=!1),X();const r=s&&Lh(s(n)),u=n.key||r&&r.key,a=tt(Se,{key:(u&&!Yt(u)?u:`_${t}`)+(!r&&i?"_fb":"")},r||(i?i():[]),r&&e._===1?64:-2);return a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),s&&s._c&&(s._d=!0),a}function Lh(e){return e.some(t=>Xi(t)?!(t.type===yt||t.type===Se&&!Lh(t.children)):!0)?e:null}const Ma=e=>e?i0(e)?Lr(e):Ma(e.parent):null,Do=dt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Ma(e.parent),$root:e=>Ma(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>$h(e),$forceUpdate:e=>e.f||(e.f=()=>{wl(e.update)}),$nextTick:e=>e.n||(e.n=We.bind(e.proxy)),$watch:e=>t1.bind(e)}),ru=(e,t)=>e!==Ge&&!e.__isScriptSetup&&He(e,t),Mg={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:i,data:o,props:s,accessCache:r,type:u,appContext:a}=e;let l;if(t[0]!=="$"){const h=r[t];if(h!==void 0)switch(h){case 1:return i[t];case 2:return o[t];case 4:return n[t];case 3:return s[t]}else{if(ru(i,t))return r[t]=1,i[t];if(o!==Ge&&He(o,t))return r[t]=2,o[t];if((l=e.propsOptions[0])&&He(l,t))return r[t]=3,s[t];if(n!==Ge&&He(n,t))return r[t]=4,n[t];Fa&&(r[t]=0)}}const c=Do[t];let d,f;if(c)return t==="$attrs"&&bt(e.attrs,"get",""),c(e);if((d=u.__cssModules)&&(d=d[t]))return d;if(n!==Ge&&He(n,t))return r[t]=4,n[t];if(f=a.config.globalProperties,He(f,t))return f[t]},set({_:e},t,n){const{data:i,setupState:o,ctx:s}=e;return ru(o,t)?(o[t]=n,!0):i!==Ge&&He(i,t)?(i[t]=n,!0):He(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(s[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:i,appContext:o,propsOptions:s}},r){let u;return!!n[r]||e!==Ge&&He(e,r)||ru(t,r)||(u=s[0])&&He(u,r)||He(i,r)||He(Do,r)||He(o.config.globalProperties,r)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:He(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function Fg(){return zh().slots}function Pg(){return zh().attrs}function zh(){const e=Rn();return e.setupContext||(e.setupContext=s0(e))}function cc(e){return ye(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}function Og(e,t){const n={};for(const i in e)t.includes(i)||Object.defineProperty(n,i,{enumerable:!0,get:()=>e[i]});return n}let Fa=!0;function Lg(e){const t=$h(e),n=e.proxy,i=e.ctx;Fa=!1,t.beforeCreate&&dc(t.beforeCreate,e,"bc");const{data:o,computed:s,methods:r,watch:u,provide:a,inject:l,created:c,beforeMount:d,mounted:f,beforeUpdate:h,updated:p,activated:_,deactivated:b,beforeDestroy:y,beforeUnmount:v,destroyed:m,unmounted:g,render:x,renderTracked:E,renderTriggered:D,errorCaptured:k,serverPrefetch:w,expose:M,inheritAttrs:O,components:C,directives:z,filters:P}=t;if(l&&zg(l,i,null),r)for(const W in r){const Z=r[W];Ee(Z)&&(i[W]=Z.bind(n))}if(o){const W=o.call(n,n);qe(W)&&(e.data=ds(W))}if(Fa=!0,s)for(const W in s){const Z=s[W],ne=Ee(Z)?Z.bind(n,n):Ee(Z.get)?Z.get.bind(n,n):mn,oe=!Ee(Z)&&Ee(Z.set)?Z.set.bind(n):mn,ue=me({get:ne,set:oe});Object.defineProperty(i,W,{enumerable:!0,configurable:!0,get:()=>ue.value,set:le=>ue.value=le})}if(u)for(const W in u)Rh(u[W],i,n,W);if(a){const W=Ee(a)?a.call(n):a;Reflect.ownKeys(W).forEach(Z=>{vn(Z,W[Z])})}c&&dc(c,e,"c");function R(W,Z){ye(Z)?Z.forEach(ne=>W(ne.bind(n))):Z&&W(Z.bind(n))}if(R(Nh,d),R(it,f),R(Ig,h),R(Th,p),R(Eg,_),R(Sg,b),R(Tg,k),R(Ng,E),R(Dg,D),R(fo,v),R(Si,g),R(Ag,w),ye(M))if(M.length){const W=e.exposed||(e.exposed={});M.forEach(Z=>{Object.defineProperty(W,Z,{get:()=>n[Z],set:ne=>n[Z]=ne})})}else e.exposed||(e.exposed={});x&&e.render===mn&&(e.render=x),O!=null&&(e.inheritAttrs=O),C&&(e.components=C),z&&(e.directives=z),w&&Ah(e)}function zg(e,t,n=mn){ye(e)&&(e=Pa(e));for(const i in e){const o=e[i];let s;qe(o)?"default"in o?s=Ft(o.from||i,o.default,!0):s=Ft(o.from||i):s=Ft(o),Ie(s)?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>s.value,set:r=>s.value=r}):t[i]=s}}function dc(e,t,n){Xt(ye(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,n)}function Rh(e,t,n,i){let o=i.includes(".")?Jh(n,i):()=>n[i];if(et(e)){const s=t[e];Ee(s)&&Ae(o,s)}else if(Ee(e))Ae(o,e.bind(n));else if(qe(e))if(ye(e))e.forEach(s=>Rh(s,t,n,i));else{const s=Ee(e.handler)?e.handler.bind(n):t[e.handler];Ee(s)&&Ae(o,s,e)}}function $h(e){const t=e.type,{mixins:n,extends:i}=t,{mixins:o,optionsCache:s,config:{optionMergeStrategies:r}}=e.appContext,u=s.get(t);let a;return u?a=u:!o.length&&!n&&!i?a=t:(a={},o.length&&o.forEach(l=>Qs(a,l,r,!0)),Qs(a,t,r)),qe(t)&&s.set(t,a),a}function Qs(e,t,n,i=!1){const{mixins:o,extends:s}=t;s&&Qs(e,s,n,!0),o&&o.forEach(r=>Qs(e,r,n,!0));for(const r in t)if(!(i&&r==="expose")){const u=Rg[r]||n&&n[r];e[r]=u?u(e[r],t[r]):t[r]}return e}const Rg={data:fc,props:hc,emits:hc,methods:wo,computed:wo,beforeCreate:xt,created:xt,beforeMount:xt,mounted:xt,beforeUpdate:xt,updated:xt,beforeDestroy:xt,beforeUnmount:xt,destroyed:xt,unmounted:xt,activated:xt,deactivated:xt,errorCaptured:xt,serverPrefetch:xt,components:wo,directives:wo,watch:Bg,provide:fc,inject:$g};function fc(e,t){return t?e?function(){return dt(Ee(e)?e.call(this,this):e,Ee(t)?t.call(this,this):t)}:t:e}function $g(e,t){return wo(Pa(e),Pa(t))}function Pa(e){if(ye(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function xt(e,t){return e?[...new Set([].concat(e,t))]:t}function wo(e,t){return e?dt(Object.create(null),e,t):t}function hc(e,t){return e?ye(e)&&ye(t)?[...new Set([...e,...t])]:dt(Object.create(null),cc(e),cc(t??{})):t}function Bg(e,t){if(!e)return t;if(!t)return e;const n=dt(Object.create(null),e);for(const i in t)n[i]=xt(e[i],t[i]);return n}function Bh(){return{app:null,config:{isNativeTag:Am,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Vg=0;function Hg(e,t){return function(i,o=null){Ee(i)||(i=dt({},i)),o!=null&&!qe(o)&&(o=null);const s=Bh(),r=new WeakSet,u=[];let a=!1;const l=s.app={_uid:Vg++,_component:i,_props:o,_container:null,_context:s,_instance:null,version:w1,get config(){return s.config},set config(c){},use(c,...d){return r.has(c)||(c&&Ee(c.install)?(r.add(c),c.install(l,...d)):Ee(c)&&(r.add(c),c(l,...d))),l},mixin(c){return s.mixins.includes(c)||s.mixins.push(c),l},component(c,d){return d?(s.components[c]=d,l):s.components[c]},directive(c,d){return d?(s.directives[c]=d,l):s.directives[c]},mount(c,d,f){if(!a){const h=l._ceVNode||te(i,o);return h.appContext=s,f===!0?f="svg":f===!1&&(f=void 0),e(h,c,f),a=!0,l._container=c,c.__vue_app__=l,Lr(h.component)}},onUnmount(c){u.push(c)},unmount(){a&&(Xt(u,l._instance,16),e(null,l._container),delete l._container.__vue_app__)},provide(c,d){return s.provides[c]=d,l},runWithContext(c){const d=qi;qi=l;try{return c()}finally{qi=d}}};return l}}let qi=null;function vn(e,t){if(gt){let n=gt.provides;const i=gt.parent&&gt.parent.provides;i===n&&(n=gt.provides=Object.create(i)),n[e]=t}}function Ft(e,t,n=!1){const i=gt||pt;if(i||qi){let o=qi?qi._context.provides:i?i.parent==null||i.ce?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(o&&e in o)return o[e];if(arguments.length>1)return n&&Ee(t)?t.call(i&&i.proxy):t}}const Vh={},Hh=()=>Object.create(Vh),Uh=e=>Object.getPrototypeOf(e)===Vh;function Ug(e,t,n,i=!1){const o={},s=Hh();e.propsDefaults=Object.create(null),qh(e,t,o,s);for(const r in e.propsOptions[0])r in o||(o[r]=void 0);n?e.props=i?o:rg(o):e.type.props?e.props=o:e.props=s,e.attrs=s}function qg(e,t,n,i){const{props:o,attrs:s,vnode:{patchFlag:r}}=e,u=_e(o),[a]=e.propsOptions;let l=!1;if((i||r>0)&&!(r&16)){if(r&8){const c=e.vnode.dynamicProps;for(let d=0;d<c.length;d++){let f=c[d];if(Fr(e.emitsOptions,f))continue;const h=t[f];if(a)if(He(s,f))h!==s[f]&&(s[f]=h,l=!0);else{const p=Ut(f);o[p]=Oa(a,u,p,h,e,!1)}else h!==s[f]&&(s[f]=h,l=!0)}}}else{qh(e,t,o,s)&&(l=!0);let c;for(const d in u)(!t||!He(t,d)&&((c=Ti(d))===d||!He(t,c)))&&(a?n&&(n[d]!==void 0||n[c]!==void 0)&&(o[d]=Oa(a,u,d,void 0,e,!0)):delete o[d]);if(s!==u)for(const d in s)(!t||!He(t,d))&&(delete s[d],l=!0)}l&&Sn(e.attrs,"set","")}function qh(e,t,n,i){const[o,s]=e.propsOptions;let r=!1,u;if(t)for(let a in t){if(So(a))continue;const l=t[a];let c;o&&He(o,c=Ut(a))?!s||!s.includes(c)?n[c]=l:(u||(u={}))[c]=l:Fr(e.emitsOptions,a)||(!(a in i)||l!==i[a])&&(i[a]=l,r=!0)}if(s){const a=_e(n),l=u||Ge;for(let c=0;c<s.length;c++){const d=s[c];n[d]=Oa(o,a,d,l[d],e,!He(l,d))}}return r}function Oa(e,t,n,i,o,s){const r=e[n];if(r!=null){const u=He(r,"default");if(u&&i===void 0){const a=r.default;if(r.type!==Function&&!r.skipFactory&&Ee(a)){const{propsDefaults:l}=o;if(n in l)i=l[n];else{const c=ps(o);i=l[n]=a.call(null,t),c()}}else i=a;o.ce&&o.ce._setProp(n,i)}r[0]&&(s&&!u?i=!1:r[1]&&(i===""||i===Ti(n))&&(i=!0))}return i}const Gg=new WeakMap;function Gh(e,t,n=!1){const i=n?Gg:t.propsCache,o=i.get(e);if(o)return o;const s=e.props,r={},u=[];let a=!1;if(!Ee(e)){const c=d=>{a=!0;const[f,h]=Gh(d,t,!0);dt(r,f),h&&u.push(...h)};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!s&&!a)return qe(e)&&i.set(e,Ri),Ri;if(ye(s))for(let c=0;c<s.length;c++){const d=Ut(s[c]);pc(d)&&(r[d]=Ge)}else if(s)for(const c in s){const d=Ut(c);if(pc(d)){const f=s[c],h=r[d]=ye(f)||Ee(f)?{type:f}:dt({},f),p=h.type;let _=!1,b=!0;if(ye(p))for(let y=0;y<p.length;++y){const v=p[y],m=Ee(v)&&v.name;if(m==="Boolean"){_=!0;break}else m==="String"&&(b=!1)}else _=Ee(p)&&p.name==="Boolean";h[0]=_,h[1]=b,(_||He(h,"default"))&&u.push(d)}}const l=[r,u];return qe(e)&&i.set(e,l),l}function pc(e){return e[0]!=="$"&&!So(e)}const Cl=e=>e[0]==="_"||e==="$stable",El=e=>ye(e)?e.map(cn):[cn(e)],jg=(e,t,n)=>{if(t._n)return t;const i=Ce((...o)=>El(t(...o)),n);return i._c=!1,i},jh=(e,t,n)=>{const i=e._ctx;for(const o in e){if(Cl(o))continue;const s=e[o];if(Ee(s))t[o]=jg(o,s,i);else if(s!=null){const r=El(s);t[o]=()=>r}}},Wh=(e,t)=>{const n=El(t);e.slots.default=()=>n},Zh=(e,t,n)=>{for(const i in t)(n||!Cl(i))&&(e[i]=t[i])},Wg=(e,t,n)=>{const i=e.slots=Hh();if(e.vnode.shapeFlag&32){const o=t.__;o&&Aa(i,"__",o,!0);const s=t._;s?(Zh(i,t,n),n&&Aa(i,"_",s,!0)):jh(t,i)}else t&&Wh(e,t)},Zg=(e,t,n)=>{const{vnode:i,slots:o}=e;let s=!0,r=Ge;if(i.shapeFlag&32){const u=t._;u?n&&u===1?s=!1:Zh(o,t,n):(s=!t.$stable,jh(t,o)),r=t}else t&&(Wh(e,t),r={default:1});if(s)for(const u in o)!Cl(u)&&r[u]==null&&delete o[u]},Nt=a1;function Yg(e){return Xg(e)}function Xg(e,t){const n=kr();n.__VUE__=!0;const{insert:i,remove:o,patchProp:s,createElement:r,createText:u,createComment:a,setText:l,setElementText:c,parentNode:d,nextSibling:f,setScopeId:h=mn,insertStaticContent:p}=e,_=(F,L,S,I=null,N=null,T=null,B=void 0,Y=null,j=!!L.dynamicChildren)=>{if(F===L)return;F&&!ci(F,L)&&(I=ae(F),le(F,N,T,!0),F=null),L.patchFlag===-2&&(j=!1,L.dynamicChildren=null);const{type:G,ref:ee,shapeFlag:J}=L;switch(G){case Pr:b(F,L,S,I);break;case yt:y(F,L,S,I);break;case Rs:F==null&&v(L,S,I,B);break;case Se:C(F,L,S,I,N,T,B,Y,j);break;default:J&1?x(F,L,S,I,N,T,B,Y,j):J&6?z(F,L,S,I,N,T,B,Y,j):(J&64||J&128)&&G.process(F,L,S,I,N,T,B,Y,j,ve)}ee!=null&&N?Ao(ee,F&&F.ref,T,L||F,!L):ee==null&&F&&F.ref!=null&&Ao(F.ref,null,T,F,!0)},b=(F,L,S,I)=>{if(F==null)i(L.el=u(L.children),S,I);else{const N=L.el=F.el;L.children!==F.children&&l(N,L.children)}},y=(F,L,S,I)=>{F==null?i(L.el=a(L.children||""),S,I):L.el=F.el},v=(F,L,S,I)=>{[F.el,F.anchor]=p(F.children,L,S,I,F.el,F.anchor)},m=({el:F,anchor:L},S,I)=>{let N;for(;F&&F!==L;)N=f(F),i(F,S,I),F=N;i(L,S,I)},g=({el:F,anchor:L})=>{let S;for(;F&&F!==L;)S=f(F),o(F),F=S;o(L)},x=(F,L,S,I,N,T,B,Y,j)=>{L.type==="svg"?B="svg":L.type==="math"&&(B="mathml"),F==null?E(L,S,I,N,T,B,Y,j):w(F,L,N,T,B,Y,j)},E=(F,L,S,I,N,T,B,Y)=>{let j,G;const{props:ee,shapeFlag:J,transition:se,dirs:he}=F;if(j=F.el=r(F.type,T,ee&&ee.is,ee),J&8?c(j,F.children):J&16&&k(F.children,j,null,I,N,uu(F,T),B,Y),he&&ri(F,null,I,"created"),D(j,F,F.scopeId,B,I),ee){for(const Le in ee)Le!=="value"&&!So(Le)&&s(j,Le,null,ee[Le],T,I);"value"in ee&&s(j,"value",null,ee.value,T),(G=ee.onVnodeBeforeMount)&&sn(G,I,F)}he&&ri(F,null,I,"beforeMount");const ke=Kg(N,se);ke&&se.beforeEnter(j),i(j,L,S),((G=ee&&ee.onVnodeMounted)||ke||he)&&Nt(()=>{G&&sn(G,I,F),ke&&se.enter(j),he&&ri(F,null,I,"mounted")},N)},D=(F,L,S,I,N)=>{if(S&&h(F,S),I)for(let T=0;T<I.length;T++)h(F,I[T]);if(N){let T=N.subTree;if(L===T||e0(T.type)&&(T.ssContent===L||T.ssFallback===L)){const B=N.vnode;D(F,B,B.scopeId,B.slotScopeIds,N.parent)}}},k=(F,L,S,I,N,T,B,Y,j=0)=>{for(let G=j;G<F.length;G++){const ee=F[G]=Y?Gn(F[G]):cn(F[G]);_(null,ee,L,S,I,N,T,B,Y)}},w=(F,L,S,I,N,T,B)=>{const Y=L.el=F.el;let{patchFlag:j,dynamicChildren:G,dirs:ee}=L;j|=F.patchFlag&16;const J=F.props||Ge,se=L.props||Ge;let he;if(S&&ui(S,!1),(he=se.onVnodeBeforeUpdate)&&sn(he,S,L,F),ee&&ri(L,F,S,"beforeUpdate"),S&&ui(S,!0),(J.innerHTML&&se.innerHTML==null||J.textContent&&se.textContent==null)&&c(Y,""),G?M(F.dynamicChildren,G,Y,S,I,uu(L,N),T):B||Z(F,L,Y,null,S,I,uu(L,N),T,!1),j>0){if(j&16)O(Y,J,se,S,N);else if(j&2&&J.class!==se.class&&s(Y,"class",null,se.class,N),j&4&&s(Y,"style",J.style,se.style,N),j&8){const ke=L.dynamicProps;for(let Le=0;Le<ke.length;Le++){const Re=ke[Le],vt=J[Re],St=se[Re];(St!==vt||Re==="value")&&s(Y,Re,vt,St,N,S)}}j&1&&F.children!==L.children&&c(Y,L.children)}else!B&&G==null&&O(Y,J,se,S,N);((he=se.onVnodeUpdated)||ee)&&Nt(()=>{he&&sn(he,S,L,F),ee&&ri(L,F,S,"updated")},I)},M=(F,L,S,I,N,T,B)=>{for(let Y=0;Y<L.length;Y++){const j=F[Y],G=L[Y],ee=j.el&&(j.type===Se||!ci(j,G)||j.shapeFlag&198)?d(j.el):S;_(j,G,ee,null,I,N,T,B,!0)}},O=(F,L,S,I,N)=>{if(L!==S){if(L!==Ge)for(const T in L)!So(T)&&!(T in S)&&s(F,T,L[T],null,N,I);for(const T in S){if(So(T))continue;const B=S[T],Y=L[T];B!==Y&&T!=="value"&&s(F,T,Y,B,N,I)}"value"in S&&s(F,"value",L.value,S.value,N)}},C=(F,L,S,I,N,T,B,Y,j)=>{const G=L.el=F?F.el:u(""),ee=L.anchor=F?F.anchor:u("");let{patchFlag:J,dynamicChildren:se,slotScopeIds:he}=L;he&&(Y=Y?Y.concat(he):he),F==null?(i(G,S,I),i(ee,S,I),k(L.children||[],S,ee,N,T,B,Y,j)):J>0&&J&64&&se&&F.dynamicChildren?(M(F.dynamicChildren,se,S,N,T,B,Y),(L.key!=null||N&&L===N.subTree)&&Yh(F,L,!0)):Z(F,L,S,ee,N,T,B,Y,j)},z=(F,L,S,I,N,T,B,Y,j)=>{L.slotScopeIds=Y,F==null?L.shapeFlag&512?N.ctx.activate(L,S,I,B,j):P(L,S,I,N,T,B,j):q(F,L,j)},P=(F,L,S,I,N,T,B)=>{const Y=F.component=p1(F,I,N);if(Tr(F)&&(Y.ctx.renderer=ve),m1(Y,!1,B),Y.asyncDep){if(N&&N.registerDep(Y,R,B),!F.el){const j=Y.subTree=te(yt);y(null,j,L,S)}}else R(Y,F,L,S,N,T,B)},q=(F,L,S)=>{const I=L.component=F.component;if(r1(F,L,S))if(I.asyncDep&&!I.asyncResolved){W(I,L,S);return}else I.next=L,I.update();else L.el=F.el,I.vnode=L},R=(F,L,S,I,N,T,B)=>{const Y=()=>{if(F.isMounted){let{next:J,bu:se,u:he,parent:ke,vnode:Le}=F;{const nn=Xh(F);if(nn){J&&(J.el=Le.el,W(F,J,B)),nn.asyncDep.then(()=>{F.isUnmounted||Y()});return}}let Re=J,vt;ui(F,!1),J?(J.el=Le.el,W(F,J,B)):J=Le,se&&Ls(se),(vt=J.props&&J.props.onVnodeBeforeUpdate)&&sn(vt,ke,J,Le),ui(F,!0);const St=gc(F),tn=F.subTree;F.subTree=St,_(tn,St,d(tn.el),ae(tn),F,N,T),J.el=St.el,Re===null&&u1(F,St.el),he&&Nt(he,N),(vt=J.props&&J.props.onVnodeUpdated)&&Nt(()=>sn(vt,ke,J,Le),N)}else{let J;const{el:se,props:he}=L,{bm:ke,m:Le,parent:Re,root:vt,type:St}=F,tn=Ui(L);ui(F,!1),ke&&Ls(ke),!tn&&(J=he&&he.onVnodeBeforeMount)&&sn(J,Re,L),ui(F,!0);{vt.ce&&vt.ce._def.shadowRoot!==!1&&vt.ce._injectChildStyle(St);const nn=F.subTree=gc(F);_(null,nn,S,I,F,N,T),L.el=nn.el}if(Le&&Nt(Le,N),!tn&&(J=he&&he.onVnodeMounted)){const nn=L;Nt(()=>sn(J,Re,nn),N)}(L.shapeFlag&256||Re&&Ui(Re.vnode)&&Re.vnode.shapeFlag&256)&&F.a&&Nt(F.a,N),F.isMounted=!0,L=S=I=null}};F.scope.on();const j=F.effect=new eh(Y);F.scope.off();const G=F.update=j.run.bind(j),ee=F.job=j.runIfDirty.bind(j);ee.i=F,ee.id=F.uid,j.scheduler=()=>wl(ee),ui(F,!0),G()},W=(F,L,S)=>{L.component=F;const I=F.vnode.props;F.vnode=L,F.next=null,qg(F,L.props,I,S),Zg(F,L.children,S),Fn(),uc(F),Pn()},Z=(F,L,S,I,N,T,B,Y,j=!1)=>{const G=F&&F.children,ee=F?F.shapeFlag:0,J=L.children,{patchFlag:se,shapeFlag:he}=L;if(se>0){if(se&128){oe(G,J,S,I,N,T,B,Y,j);return}else if(se&256){ne(G,J,S,I,N,T,B,Y,j);return}}he&8?(ee&16&&K(G,N,T),J!==G&&c(S,J)):ee&16?he&16?oe(G,J,S,I,N,T,B,Y,j):K(G,N,T,!0):(ee&8&&c(S,""),he&16&&k(J,S,I,N,T,B,Y,j))},ne=(F,L,S,I,N,T,B,Y,j)=>{F=F||Ri,L=L||Ri;const G=F.length,ee=L.length,J=Math.min(G,ee);let se;for(se=0;se<J;se++){const he=L[se]=j?Gn(L[se]):cn(L[se]);_(F[se],he,S,null,N,T,B,Y,j)}G>ee?K(F,N,T,!0,!1,J):k(L,S,I,N,T,B,Y,j,J)},oe=(F,L,S,I,N,T,B,Y,j)=>{let G=0;const ee=L.length;let J=F.length-1,se=ee-1;for(;G<=J&&G<=se;){const he=F[G],ke=L[G]=j?Gn(L[G]):cn(L[G]);if(ci(he,ke))_(he,ke,S,null,N,T,B,Y,j);else break;G++}for(;G<=J&&G<=se;){const he=F[J],ke=L[se]=j?Gn(L[se]):cn(L[se]);if(ci(he,ke))_(he,ke,S,null,N,T,B,Y,j);else break;J--,se--}if(G>J){if(G<=se){const he=se+1,ke=he<ee?L[he].el:I;for(;G<=se;)_(null,L[G]=j?Gn(L[G]):cn(L[G]),S,ke,N,T,B,Y,j),G++}}else if(G>se)for(;G<=J;)le(F[G],N,T,!0),G++;else{const he=G,ke=G,Le=new Map;for(G=ke;G<=se;G++){const Dt=L[G]=j?Gn(L[G]):cn(L[G]);Dt.key!=null&&Le.set(Dt.key,G)}let Re,vt=0;const St=se-ke+1;let tn=!1,nn=0;const mo=new Array(St);for(G=0;G<St;G++)mo[G]=0;for(G=he;G<=J;G++){const Dt=F[G];if(vt>=St){le(Dt,N,T,!0);continue}let on;if(Dt.key!=null)on=Le.get(Dt.key);else for(Re=ke;Re<=se;Re++)if(mo[Re-ke]===0&&ci(Dt,L[Re])){on=Re;break}on===void 0?le(Dt,N,T,!0):(mo[on-ke]=G+1,on>=nn?nn=on:tn=!0,_(Dt,L[on],S,null,N,T,B,Y,j),vt++)}const tc=tn?Jg(mo):Ri;for(Re=tc.length-1,G=St-1;G>=0;G--){const Dt=ke+G,on=L[Dt],nc=Dt+1<ee?L[Dt+1].el:I;mo[G]===0?_(null,on,S,nc,N,T,B,Y,j):tn&&(Re<0||G!==tc[Re]?ue(on,S,nc,2):Re--)}}},ue=(F,L,S,I,N=null)=>{const{el:T,type:B,transition:Y,children:j,shapeFlag:G}=F;if(G&6){ue(F.component.subTree,L,S,I);return}if(G&128){F.suspense.move(L,S,I);return}if(G&64){B.move(F,L,S,ve);return}if(B===Se){i(T,L,S);for(let J=0;J<j.length;J++)ue(j[J],L,S,I);i(F.anchor,L,S);return}if(B===Rs){m(F,L,S);return}if(I!==2&&G&1&&Y)if(I===0)Y.beforeEnter(T),i(T,L,S),Nt(()=>Y.enter(T),N);else{const{leave:J,delayLeave:se,afterLeave:he}=Y,ke=()=>{F.ctx.isUnmounted?o(T):i(T,L,S)},Le=()=>{J(T,()=>{ke(),he&&he()})};se?se(T,ke,Le):Le()}else i(T,L,S)},le=(F,L,S,I=!1,N=!1)=>{const{type:T,props:B,ref:Y,children:j,dynamicChildren:G,shapeFlag:ee,patchFlag:J,dirs:se,cacheIndex:he}=F;if(J===-2&&(N=!1),Y!=null&&(Fn(),Ao(Y,null,S,F,!0),Pn()),he!=null&&(L.renderCache[he]=void 0),ee&256){L.ctx.deactivate(F);return}const ke=ee&1&&se,Le=!Ui(F);let Re;if(Le&&(Re=B&&B.onVnodeBeforeUnmount)&&sn(Re,L,F),ee&6)U(F.component,S,I);else{if(ee&128){F.suspense.unmount(S,I);return}ke&&ri(F,null,L,"beforeUnmount"),ee&64?F.type.remove(F,L,S,ve,I):G&&!G.hasOnce&&(T!==Se||J>0&&J&64)?K(G,L,S,!1,!0):(T===Se&&J&384||!N&&ee&16)&&K(j,L,S),I&&H(F)}(Le&&(Re=B&&B.onVnodeUnmounted)||ke)&&Nt(()=>{Re&&sn(Re,L,F),ke&&ri(F,null,L,"unmounted")},S)},H=F=>{const{type:L,el:S,anchor:I,transition:N}=F;if(L===Se){V(S,I);return}if(L===Rs){g(F);return}const T=()=>{o(S),N&&!N.persisted&&N.afterLeave&&N.afterLeave()};if(F.shapeFlag&1&&N&&!N.persisted){const{leave:B,delayLeave:Y}=N,j=()=>B(S,T);Y?Y(F.el,T,j):j()}else T()},V=(F,L)=>{let S;for(;F!==L;)S=f(F),o(F),F=S;o(L)},U=(F,L,S)=>{const{bum:I,scope:N,job:T,subTree:B,um:Y,m:j,a:G,parent:ee,slots:{__:J}}=F;mc(j),mc(G),I&&Ls(I),ee&&ye(J)&&J.forEach(se=>{ee.renderCache[se]=void 0}),N.stop(),T&&(T.flags|=8,le(B,F,L,S)),Y&&Nt(Y,L),Nt(()=>{F.isUnmounted=!0},L),L&&L.pendingBranch&&!L.isUnmounted&&F.asyncDep&&!F.asyncResolved&&F.suspenseId===L.pendingId&&(L.deps--,L.deps===0&&L.resolve())},K=(F,L,S,I=!1,N=!1,T=0)=>{for(let B=T;B<F.length;B++)le(F[B],L,S,I,N)},ae=F=>{if(F.shapeFlag&6)return ae(F.component.subTree);if(F.shapeFlag&128)return F.suspense.next();const L=f(F.anchor||F.el),S=L&&L[wg];return S?f(S):L};let fe=!1;const de=(F,L,S)=>{F==null?L._vnode&&le(L._vnode,null,null,!0):_(L._vnode||null,F,L,null,null,null,S),L._vnode=F,fe||(fe=!0,uc(),bh(),fe=!1)},ve={p:_,um:le,m:ue,r:H,mt:P,mc:k,pc:Z,pbc:M,n:ae,o:e};return{render:de,hydrate:void 0,createApp:Hg(de)}}function uu({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function ui({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Kg(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Yh(e,t,n=!1){const i=e.children,o=t.children;if(ye(i)&&ye(o))for(let s=0;s<i.length;s++){const r=i[s];let u=o[s];u.shapeFlag&1&&!u.dynamicChildren&&((u.patchFlag<=0||u.patchFlag===32)&&(u=o[s]=Gn(o[s]),u.el=r.el),!n&&u.patchFlag!==-2&&Yh(r,u)),u.type===Pr&&(u.el=r.el),u.type===yt&&!u.el&&(u.el=r.el)}}function Jg(e){const t=e.slice(),n=[0];let i,o,s,r,u;const a=e.length;for(i=0;i<a;i++){const l=e[i];if(l!==0){if(o=n[n.length-1],e[o]<l){t[i]=o,n.push(i);continue}for(s=0,r=n.length-1;s<r;)u=s+r>>1,e[n[u]]<l?s=u+1:r=u;l<e[n[s]]&&(s>0&&(t[i]=n[s-1]),n[s]=i)}}for(s=n.length,r=n[s-1];s-- >0;)n[s]=r,r=t[r];return n}function Xh(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Xh(t)}function mc(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Qg=Symbol.for("v-scx"),e1=()=>Ft(Qg);function Ae(e,t,n){return Kh(e,t,n)}function Kh(e,t,n=Ge){const{immediate:i,deep:o,flush:s,once:r}=n,u=dt({},n),a=t&&i||!t&&s!=="post";let l;if(Ho){if(s==="sync"){const h=e1();l=h.__watcherHandles||(h.__watcherHandles=[])}else if(!a){const h=()=>{};return h.stop=mn,h.resume=mn,h.pause=mn,h}}const c=gt;u.call=(h,p,_)=>Xt(h,c,p,_);let d=!1;s==="post"?u.scheduler=h=>{Nt(h,c&&c.suspense)}:s!=="sync"&&(d=!0,u.scheduler=(h,p)=>{p?h():wl(h)}),u.augmentJob=h=>{t&&(h.flags|=4),d&&(h.flags|=2,c&&(h.id=c.uid,h.i=c))};const f=vg(e,t,u);return Ho&&(l?l.push(f):a&&f()),f}function t1(e,t,n){const i=this.proxy,o=et(e)?e.includes(".")?Jh(i,e):()=>i[e]:e.bind(i,i);let s;Ee(t)?s=t:(s=t.handler,n=t);const r=ps(this),u=Kh(o,s.bind(i),n);return r(),u}function Jh(e,t){const n=t.split(".");return()=>{let i=e;for(let o=0;o<n.length&&i;o++)i=i[n[o]];return i}}const n1=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Ut(t)}Modifiers`]||e[`${Ti(t)}Modifiers`];function i1(e,t,...n){if(e.isUnmounted)return;const i=e.vnode.props||Ge;let o=n;const s=t.startsWith("update:"),r=s&&n1(i,t.slice(7));r&&(r.trim&&(o=n.map(c=>et(c)?c.trim():c)),r.number&&(o=n.map(js)));let u,a=i[u=eu(t)]||i[u=eu(Ut(t))];!a&&s&&(a=i[u=eu(Ti(t))]),a&&Xt(a,e,6,o);const l=i[u+"Once"];if(l){if(!e.emitted)e.emitted={};else if(e.emitted[u])return;e.emitted[u]=!0,Xt(l,e,6,o)}}function Qh(e,t,n=!1){const i=t.emitsCache,o=i.get(e);if(o!==void 0)return o;const s=e.emits;let r={},u=!1;if(!Ee(e)){const a=l=>{const c=Qh(l,t,!0);c&&(u=!0,dt(r,c))};!n&&t.mixins.length&&t.mixins.forEach(a),e.extends&&a(e.extends),e.mixins&&e.mixins.forEach(a)}return!s&&!u?(qe(e)&&i.set(e,null),null):(ye(s)?s.forEach(a=>r[a]=null):dt(r,s),qe(e)&&i.set(e,r),r)}function Fr(e,t){return!e||!Cr(t)?!1:(t=t.slice(2).replace(/Once$/,""),He(e,t[0].toLowerCase()+t.slice(1))||He(e,Ti(t))||He(e,t))}function gc(e){const{type:t,vnode:n,proxy:i,withProxy:o,propsOptions:[s],slots:r,attrs:u,emit:a,render:l,renderCache:c,props:d,data:f,setupState:h,ctx:p,inheritAttrs:_}=e,b=Js(e);let y,v;try{if(n.shapeFlag&4){const g=o||i,x=g;y=cn(l.call(x,g,c,d,h,f,p)),v=u}else{const g=t;y=cn(g.length>1?g(d,{attrs:u,slots:r,emit:a}):g(d,null)),v=t.props?u:o1(u)}}catch(g){No.length=0,Nr(g,e,1),y=te(yt)}let m=y;if(v&&_!==!1){const g=Object.keys(v),{shapeFlag:x}=m;g.length&&x&7&&(s&&g.some(ll)&&(v=s1(v,s)),m=Qn(m,v,!1,!0))}return n.dirs&&(m=Qn(m,null,!1,!0),m.dirs=m.dirs?m.dirs.concat(n.dirs):n.dirs),n.transition&&Ei(m,n.transition),y=m,Js(b),y}const o1=e=>{let t;for(const n in e)(n==="class"||n==="style"||Cr(n))&&((t||(t={}))[n]=e[n]);return t},s1=(e,t)=>{const n={};for(const i in e)(!ll(i)||!(i.slice(9)in t))&&(n[i]=e[i]);return n};function r1(e,t,n){const{props:i,children:o,component:s}=e,{props:r,children:u,patchFlag:a}=t,l=s.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&a>=0){if(a&1024)return!0;if(a&16)return i?vc(i,r,l):!!r;if(a&8){const c=t.dynamicProps;for(let d=0;d<c.length;d++){const f=c[d];if(r[f]!==i[f]&&!Fr(l,f))return!0}}}else return(o||u)&&(!u||!u.$stable)?!0:i===r?!1:i?r?vc(i,r,l):!0:!!r;return!1}function vc(e,t,n){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let o=0;o<i.length;o++){const s=i[o];if(t[s]!==e[s]&&!Fr(n,s))return!0}return!1}function u1({vnode:e,parent:t},n){for(;t;){const i=t.subTree;if(i.suspense&&i.suspense.activeBranch===e&&(i.el=e.el),i===e)(e=t.vnode).el=n,t=t.parent;else break}}const e0=e=>e.__isSuspense;function a1(e,t){t&&t.pendingBranch?ye(e)?t.effects.push(...e):t.effects.push(e):yg(e)}const Se=Symbol.for("v-fgt"),Pr=Symbol.for("v-txt"),yt=Symbol.for("v-cmt"),Rs=Symbol.for("v-stc"),No=[];let Et=null;function X(e=!1){No.push(Et=e?null:[])}function l1(){No.pop(),Et=No[No.length-1]||null}let Yi=1;function _c(e,t=!1){Yi+=e,e<0&&Et&&t&&(Et.hasOnce=!0)}function t0(e){return e.dynamicChildren=Yi>0?Et||Ri:null,l1(),Yi>0&&Et&&Et.push(e),e}function Q(e,t,n,i,o,s){return t0(A(e,t,n,i,o,s,!0))}function tt(e,t,n,i,o){return t0(te(e,t,n,i,o,!0))}function Xi(e){return e?e.__v_isVNode===!0:!1}function ci(e,t){return e.type===t.type&&e.key===t.key}const n0=({key:e})=>e??null,$s=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?et(e)||Ie(e)||Ee(e)?{i:pt,r:e,k:t,f:!!n}:e:null);function A(e,t=null,n=null,i=0,o=null,s=e===Se?0:1,r=!1,u=!1){const a={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&n0(t),ref:t&&$s(t),scopeId:wh,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:i,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:pt};return u?(Sl(a,n),s&128&&e.normalize(a)):n&&(a.shapeFlag|=et(n)?8:16),Yi>0&&!r&&Et&&(a.patchFlag>0||s&6)&&a.patchFlag!==32&&Et.push(a),a}const te=c1;function c1(e,t=null,n=null,i=0,o=null,s=!1){if((!e||e===Fh)&&(e=yt),Xi(e)){const u=Qn(e,t,!0);return n&&Sl(u,n),Yi>0&&!s&&Et&&(u.shapeFlag&6?Et[Et.indexOf(e)]=u:Et.push(u)),u.patchFlag=-2,u}if(b1(e)&&(e=e.__vccOpts),t){t=d1(t);let{class:u,style:a}=t;u&&!et(u)&&(t.class=Ue(u)),qe(a)&&(yl(a)&&!ye(a)&&(a=dt({},a)),t.style=wt(a))}const r=et(e)?1:e0(e)?128:xh(e)?64:qe(e)?4:Ee(e)?2:0;return A(e,t,n,i,o,r,s,!0)}function d1(e){return e?yl(e)||Uh(e)?dt({},e):e:null}function Qn(e,t,n=!1,i=!1){const{props:o,ref:s,patchFlag:r,children:u,transition:a}=e,l=t?Or(o||{},t):o,c={__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&n0(l),ref:t&&t.ref?n&&s?ye(s)?s.concat($s(t)):[s,$s(t)]:$s(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:u,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Se?r===-1?16:r|16:r,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:a,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Qn(e.ssContent),ssFallback:e.ssFallback&&Qn(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return a&&i&&Ei(c,a.clone(c)),c}function ot(e=" ",t=0){return te(Pr,null,e,t)}function La(e,t){const n=te(Rs,null,e);return n.staticCount=t,n}function Oe(e="",t=!1){return t?(X(),tt(yt,null,e)):te(yt,null,e)}function cn(e){return e==null||typeof e=="boolean"?te(yt):ye(e)?te(Se,null,e.slice()):Xi(e)?Gn(e):te(Pr,null,String(e))}function Gn(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Qn(e)}function Sl(e,t){let n=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(ye(t))n=16;else if(typeof t=="object")if(i&65){const o=t.default;o&&(o._c&&(o._d=!1),Sl(e,o()),o._c&&(o._d=!0));return}else{n=32;const o=t._;!o&&!Uh(t)?t._ctx=pt:o===3&&pt&&(pt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Ee(t)?(t={default:t,_ctx:pt},n=32):(t=String(t),i&64?(n=16,t=[ot(t)]):n=8);e.children=t,e.shapeFlag|=n}function Or(...e){const t={};for(let n=0;n<e.length;n++){const i=e[n];for(const o in i)if(o==="class")t.class!==i.class&&(t.class=Ue([t.class,i.class]));else if(o==="style")t.style=wt([t.style,i.style]);else if(Cr(o)){const s=t[o],r=i[o];r&&s!==r&&!(ye(s)&&s.includes(r))&&(t[o]=s?[].concat(s,r):r)}else o!==""&&(t[o]=i[o])}return t}function sn(e,t,n,i=null){Xt(e,t,7,[n,i])}const f1=Bh();let h1=0;function p1(e,t,n){const i=e.type,o=(t?t.appContext:e.appContext)||f1,s={uid:h1++,vnode:e,type:i,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Qf(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Gh(i,o),emitsOptions:Qh(i,o),emit:null,emitted:null,propsDefaults:Ge,inheritAttrs:i.inheritAttrs,ctx:Ge,data:Ge,props:Ge,attrs:Ge,slots:Ge,refs:Ge,setupState:Ge,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=i1.bind(null,s),e.ce&&e.ce(s),s}let gt=null;const Rn=()=>gt||pt;let er,za;{const e=kr(),t=(n,i)=>{let o;return(o=e[n])||(o=e[n]=[]),o.push(i),s=>{o.length>1?o.forEach(r=>r(s)):o[0](s)}};er=t("__VUE_INSTANCE_SETTERS__",n=>gt=n),za=t("__VUE_SSR_SETTERS__",n=>Ho=n)}const ps=e=>{const t=gt;return er(e),e.scope.on(),()=>{e.scope.off(),er(t)}},bc=()=>{gt&&gt.scope.off(),er(null)};function i0(e){return e.vnode.shapeFlag&4}let Ho=!1;function m1(e,t=!1,n=!1){t&&za(t);const{props:i,children:o}=e.vnode,s=i0(e);Ug(e,i,s,t),Wg(e,o,n||t);const r=s?g1(e,t):void 0;return t&&za(!1),r}function g1(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Mg);const{setup:i}=n;if(i){Fn();const o=e.setupContext=i.length>1?s0(e):null,s=ps(e),r=fs(i,e,0,[e.props,o]),u=Wf(r);if(Pn(),s(),(u||e.sp)&&!Ui(e)&&Ah(e),u){if(r.then(bc,bc),t)return r.then(a=>{yc(e,a)}).catch(a=>{Nr(a,e,0)});e.asyncDep=r}else yc(e,r)}else o0(e)}function yc(e,t,n){Ee(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:qe(t)&&(e.setupState=mh(t)),o0(e)}function o0(e,t,n){const i=e.type;e.render||(e.render=i.render||mn);{const o=ps(e);Fn();try{Lg(e)}finally{Pn(),o()}}}const v1={get(e,t){return bt(e,"get",""),e[t]}};function s0(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,v1),slots:e.slots,emit:e.emit,expose:t}}function Lr(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(mh(Vi(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Do)return Do[n](e)},has(t,n){return n in t||n in Do}})):e.proxy}function _1(e,t=!0){return Ee(e)?e.displayName||e.name:e.name||t&&e.__name}function b1(e){return Ee(e)&&"__vccOpts"in e}const me=(e,t)=>mg(e,t,Ho);function Ve(e,t,n){const i=arguments.length;return i===2?qe(t)&&!ye(t)?Xi(t)?te(e,null,[t]):te(e,t):te(e,null,t):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&Xi(n)&&(n=[n]),te(e,t,n))}function y1(e,t){const n=e.memo;if(n.length!=t.length)return!1;for(let i=0;i<n.length;i++)if(Tn(n[i],t[i]))return!1;return Yi>0&&Et&&Et.push(e),!0}const w1="3.5.17";/**
* @vue/runtime-dom v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ra;const wc=typeof window<"u"&&window.trustedTypes;if(wc)try{Ra=wc.createPolicy("vue",{createHTML:e=>e})}catch{}const r0=Ra?e=>Ra.createHTML(e):e=>e,x1="http://www.w3.org/2000/svg",C1="http://www.w3.org/1998/Math/MathML",En=typeof document<"u"?document:null,xc=En&&En.createElement("template"),E1={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,i)=>{const o=t==="svg"?En.createElementNS(x1,e):t==="mathml"?En.createElementNS(C1,e):n?En.createElement(e,{is:n}):En.createElement(e);return e==="select"&&i&&i.multiple!=null&&o.setAttribute("multiple",i.multiple),o},createText:e=>En.createTextNode(e),createComment:e=>En.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>En.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,i,o,s){const r=n?n.previousSibling:t.lastChild;if(o&&(o===s||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),n),!(o===s||!(o=o.nextSibling)););else{xc.innerHTML=r0(i==="svg"?`<svg>${e}</svg>`:i==="mathml"?`<math>${e}</math>`:e);const u=xc.content;if(i==="svg"||i==="mathml"){const a=u.firstChild;for(;a.firstChild;)u.appendChild(a.firstChild);u.removeChild(a)}t.insertBefore(u,n)}return[r?r.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},$n="transition",vo="animation",Ki=Symbol("_vtc"),u0={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},a0=dt({},Eh,u0),S1=e=>(e.displayName="Transition",e.props=a0,e),k1=S1((e,{slots:t})=>Ve(Cg,l0(e),t)),ai=(e,t=[])=>{ye(e)?e.forEach(n=>n(...t)):e&&e(...t)},Cc=e=>e?ye(e)?e.some(t=>t.length>1):e.length>1:!1;function l0(e){const t={};for(const C in e)C in u0||(t[C]=e[C]);if(e.css===!1)return t;const{name:n="v",type:i,duration:o,enterFromClass:s=`${n}-enter-from`,enterActiveClass:r=`${n}-enter-active`,enterToClass:u=`${n}-enter-to`,appearFromClass:a=s,appearActiveClass:l=r,appearToClass:c=u,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:h=`${n}-leave-to`}=e,p=I1(o),_=p&&p[0],b=p&&p[1],{onBeforeEnter:y,onEnter:v,onEnterCancelled:m,onLeave:g,onLeaveCancelled:x,onBeforeAppear:E=y,onAppear:D=v,onAppearCancelled:k=m}=t,w=(C,z,P,q)=>{C._enterCancelled=q,Vn(C,z?c:u),Vn(C,z?l:r),P&&P()},M=(C,z)=>{C._isLeaving=!1,Vn(C,d),Vn(C,h),Vn(C,f),z&&z()},O=C=>(z,P)=>{const q=C?D:v,R=()=>w(z,C,P);ai(q,[z,R]),Ec(()=>{Vn(z,C?a:s),un(z,C?c:u),Cc(q)||Sc(z,i,_,R)})};return dt(t,{onBeforeEnter(C){ai(y,[C]),un(C,s),un(C,r)},onBeforeAppear(C){ai(E,[C]),un(C,a),un(C,l)},onEnter:O(!1),onAppear:O(!0),onLeave(C,z){C._isLeaving=!0;const P=()=>M(C,z);un(C,d),C._enterCancelled?(un(C,f),$a()):($a(),un(C,f)),Ec(()=>{C._isLeaving&&(Vn(C,d),un(C,h),Cc(g)||Sc(C,i,b,P))}),ai(g,[C,P])},onEnterCancelled(C){w(C,!1,void 0,!0),ai(m,[C])},onAppearCancelled(C){w(C,!0,void 0,!0),ai(k,[C])},onLeaveCancelled(C){M(C),ai(x,[C])}})}function I1(e){if(e==null)return null;if(qe(e))return[au(e.enter),au(e.leave)];{const t=au(e);return[t,t]}}function au(e){return Fm(e)}function un(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[Ki]||(e[Ki]=new Set)).add(t)}function Vn(e,t){t.split(/\s+/).forEach(i=>i&&e.classList.remove(i));const n=e[Ki];n&&(n.delete(t),n.size||(e[Ki]=void 0))}function Ec(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let A1=0;function Sc(e,t,n,i){const o=e._endId=++A1,s=()=>{o===e._endId&&i()};if(n!=null)return setTimeout(s,n);const{type:r,timeout:u,propCount:a}=c0(e,t);if(!r)return i();const l=r+"end";let c=0;const d=()=>{e.removeEventListener(l,f),s()},f=h=>{h.target===e&&++c>=a&&d()};setTimeout(()=>{c<a&&d()},u+1),e.addEventListener(l,f)}function c0(e,t){const n=window.getComputedStyle(e),i=p=>(n[p]||"").split(", "),o=i(`${$n}Delay`),s=i(`${$n}Duration`),r=kc(o,s),u=i(`${vo}Delay`),a=i(`${vo}Duration`),l=kc(u,a);let c=null,d=0,f=0;t===$n?r>0&&(c=$n,d=r,f=s.length):t===vo?l>0&&(c=vo,d=l,f=a.length):(d=Math.max(r,l),c=d>0?r>l?$n:vo:null,f=c?c===$n?s.length:a.length:0);const h=c===$n&&/\b(transform|all)(,|$)/.test(i(`${$n}Property`).toString());return{type:c,timeout:d,propCount:f,hasTransform:h}}function kc(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,i)=>Ic(n)+Ic(e[i])))}function Ic(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function $a(){return document.body.offsetHeight}function D1(e,t,n){const i=e[Ki];i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const tr=Symbol("_vod"),d0=Symbol("_vsh"),lt={beforeMount(e,{value:t},{transition:n}){e[tr]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):_o(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:i}){!t!=!n&&(i?t?(i.beforeEnter(e),_o(e,!0),i.enter(e)):i.leave(e,()=>{_o(e,!1)}):_o(e,t))},beforeUnmount(e,{value:t}){_o(e,t)}};function _o(e,t){e.style.display=t?e[tr]:"none",e[d0]=!t}const N1=Symbol(""),T1=/(^|;)\s*display\s*:/;function M1(e,t,n){const i=e.style,o=et(n);let s=!1;if(n&&!o){if(t)if(et(t))for(const r of t.split(";")){const u=r.slice(0,r.indexOf(":")).trim();n[u]==null&&Bs(i,u,"")}else for(const r in t)n[r]==null&&Bs(i,r,"");for(const r in n)r==="display"&&(s=!0),Bs(i,r,n[r])}else if(o){if(t!==n){const r=i[N1];r&&(n+=";"+r),i.cssText=n,s=T1.test(n)}}else t&&e.removeAttribute("style");tr in e&&(e[tr]=s?i.display:"",e[d0]&&(i.display="none"))}const Ac=/\s*!important$/;function Bs(e,t,n){if(ye(n))n.forEach(i=>Bs(e,t,i));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const i=F1(e,t);Ac.test(n)?e.setProperty(Ti(i),n.replace(Ac,""),"important"):e[i]=n}}const Dc=["Webkit","Moz","ms"],lu={};function F1(e,t){const n=lu[t];if(n)return n;let i=Ut(t);if(i!=="filter"&&i in e)return lu[t]=i;i=Sr(i);for(let o=0;o<Dc.length;o++){const s=Dc[o]+i;if(s in e)return lu[t]=s}return t}const Nc="http://www.w3.org/1999/xlink";function Tc(e,t,n,i,o,s=$m(t)){i&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(Nc,t.slice(6,t.length)):e.setAttributeNS(Nc,t,n):n==null||s&&!Xf(n)?e.removeAttribute(t):e.setAttribute(t,s?"":Yt(n)?String(n):n)}function Mc(e,t,n,i,o){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?r0(n):n);return}const s=e.tagName;if(t==="value"&&s!=="PROGRESS"&&!s.includes("-")){const u=s==="OPTION"?e.getAttribute("value")||"":e.value,a=n==null?e.type==="checkbox"?"on":"":String(n);(u!==a||!("_value"in e))&&(e.value=a),n==null&&e.removeAttribute(t),e._value=n;return}let r=!1;if(n===""||n==null){const u=typeof e[t];u==="boolean"?n=Xf(n):n==null&&u==="string"?(n="",r=!0):u==="number"&&(n=0,r=!0)}try{e[t]=n}catch{}r&&e.removeAttribute(o||t)}function Zn(e,t,n,i){e.addEventListener(t,n,i)}function P1(e,t,n,i){e.removeEventListener(t,n,i)}const Fc=Symbol("_vei");function O1(e,t,n,i,o=null){const s=e[Fc]||(e[Fc]={}),r=s[t];if(i&&r)r.value=i;else{const[u,a]=L1(t);if(i){const l=s[t]=$1(i,o);Zn(e,u,l,a)}else r&&(P1(e,u,r,a),s[t]=void 0)}}const Pc=/(?:Once|Passive|Capture)$/;function L1(e){let t;if(Pc.test(e)){t={};let i;for(;i=e.match(Pc);)e=e.slice(0,e.length-i[0].length),t[i[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Ti(e.slice(2)),t]}let cu=0;const z1=Promise.resolve(),R1=()=>cu||(z1.then(()=>cu=0),cu=Date.now());function $1(e,t){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;Xt(B1(i,n.value),t,5,[i])};return n.value=e,n.attached=R1(),n}function B1(e,t){if(ye(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(i=>o=>!o._stopped&&i&&i(o))}else return t}const Oc=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,V1=(e,t,n,i,o,s)=>{const r=o==="svg";t==="class"?D1(e,i,r):t==="style"?M1(e,n,i):Cr(t)?ll(t)||O1(e,t,n,i,s):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):H1(e,t,i,r))?(Mc(e,t,i),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Tc(e,t,i,r,s,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!et(i))?Mc(e,Ut(t),i,s,t):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),Tc(e,t,i,r))};function H1(e,t,n,i){if(i)return!!(t==="innerHTML"||t==="textContent"||t in e&&Oc(t)&&Ee(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const o=e.tagName;if(o==="IMG"||o==="VIDEO"||o==="CANVAS"||o==="SOURCE")return!1}return Oc(t)&&et(n)?!1:t in e}const f0=new WeakMap,h0=new WeakMap,nr=Symbol("_moveCb"),Lc=Symbol("_enterCb"),U1=e=>(delete e.props.mode,e),q1=U1({name:"TransitionGroup",props:dt({},a0,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=Rn(),i=Ch();let o,s;return Th(()=>{if(!o.length)return;const r=e.moveClass||`${e.name||"v"}-move`;if(!Y1(o[0].el,n.vnode.el,r)){o=[];return}o.forEach(j1),o.forEach(W1);const u=o.filter(Z1);$a(),u.forEach(a=>{const l=a.el,c=l.style;un(l,r),c.transform=c.webkitTransform=c.transitionDuration="";const d=l[nr]=f=>{f&&f.target!==l||(!f||/transform$/.test(f.propertyName))&&(l.removeEventListener("transitionend",d),l[nr]=null,Vn(l,r))};l.addEventListener("transitionend",d)}),o=[]}),()=>{const r=_e(e),u=l0(r);let a=r.tag||Se;if(o=[],s)for(let l=0;l<s.length;l++){const c=s[l];c.el&&c.el instanceof Element&&(o.push(c),Ei(c,Vo(c,u,i,n)),f0.set(c,c.el.getBoundingClientRect()))}s=t.default?xl(t.default()):[];for(let l=0;l<s.length;l++){const c=s[l];c.key!=null&&Ei(c,Vo(c,u,i,n))}return te(a,null,s)}}}),G1=q1;function j1(e){const t=e.el;t[nr]&&t[nr](),t[Lc]&&t[Lc]()}function W1(e){h0.set(e,e.el.getBoundingClientRect())}function Z1(e){const t=f0.get(e),n=h0.get(e),i=t.left-n.left,o=t.top-n.top;if(i||o){const s=e.el.style;return s.transform=s.webkitTransform=`translate(${i}px,${o}px)`,s.transitionDuration="0s",e}}function Y1(e,t,n){const i=e.cloneNode(),o=e[Ki];o&&o.forEach(u=>{u.split(/\s+/).forEach(a=>a&&i.classList.remove(a))}),n.split(/\s+/).forEach(u=>u&&i.classList.add(u)),i.style.display="none";const s=t.nodeType===1?t:t.parentNode;s.appendChild(i);const{hasTransform:r}=c0(i);return s.removeChild(i),r}const Ji=e=>{const t=e.props["onUpdate:modelValue"]||!1;return ye(t)?n=>Ls(t,n):t};function X1(e){e.target.composing=!0}function zc(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Mn=Symbol("_assign"),Qi={created(e,{modifiers:{lazy:t,trim:n,number:i}},o){e[Mn]=Ji(o);const s=i||o.props&&o.props.type==="number";Zn(e,t?"change":"input",r=>{if(r.target.composing)return;let u=e.value;n&&(u=u.trim()),s&&(u=js(u)),e[Mn](u)}),n&&Zn(e,"change",()=>{e.value=e.value.trim()}),t||(Zn(e,"compositionstart",X1),Zn(e,"compositionend",zc),Zn(e,"change",zc))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:i,trim:o,number:s}},r){if(e[Mn]=Ji(r),e.composing)return;const u=(s||e.type==="number")&&!/^0\d/.test(e.value)?js(e.value):e.value,a=t??"";u!==a&&(document.activeElement===e&&e.type!=="range"&&(i&&t===n||o&&e.value.trim()===a)||(e.value=a))}},rn={deep:!0,created(e,t,n){e[Mn]=Ji(n),Zn(e,"change",()=>{const i=e._modelValue,o=Uo(e),s=e.checked,r=e[Mn];if(ye(i)){const u=fl(i,o),a=u!==-1;if(s&&!a)r(i.concat(o));else if(!s&&a){const l=[...i];l.splice(u,1),r(l)}}else if(co(i)){const u=new Set(i);s?u.add(o):u.delete(o),r(u)}else r(p0(e,s))})},mounted:Rc,beforeUpdate(e,t,n){e[Mn]=Ji(n),Rc(e,t,n)}};function Rc(e,{value:t,oldValue:n},i){e._modelValue=t;let o;if(ye(t))o=fl(t,i.props.value)>-1;else if(co(t))o=t.has(i.props.value);else{if(t===n)return;o=cs(t,p0(e,!0))}e.checked!==o&&(e.checked=o)}const kl={deep:!0,created(e,{value:t,modifiers:{number:n}},i){const o=co(t);Zn(e,"change",()=>{const s=Array.prototype.filter.call(e.options,r=>r.selected).map(r=>n?js(Uo(r)):Uo(r));e[Mn](e.multiple?o?new Set(s):s:s[0]),e._assigning=!0,We(()=>{e._assigning=!1})}),e[Mn]=Ji(i)},mounted(e,{value:t}){$c(e,t)},beforeUpdate(e,t,n){e[Mn]=Ji(n)},updated(e,{value:t}){e._assigning||$c(e,t)}};function $c(e,t){const n=e.multiple,i=ye(t);if(!(n&&!i&&!co(t))){for(let o=0,s=e.options.length;o<s;o++){const r=e.options[o],u=Uo(r);if(n)if(i){const a=typeof u;a==="string"||a==="number"?r.selected=t.some(l=>String(l)===String(u)):r.selected=fl(t,u)>-1}else r.selected=t.has(u);else if(cs(Uo(r),t)){e.selectedIndex!==o&&(e.selectedIndex=o);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Uo(e){return"_value"in e?e._value:e.value}function p0(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const K1=["ctrl","shift","alt","meta"],J1={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>K1.some(n=>e[`${n}Key`]&&!t.includes(n))},Fi=(e,t)=>{const n=e._withMods||(e._withMods={}),i=t.join(".");return n[i]||(n[i]=(o,...s)=>{for(let r=0;r<t.length;r++){const u=J1[t[r]];if(u&&u(o,t))return}return e(o,...s)})},Q1=dt({patchProp:V1},E1);let Bc;function ev(){return Bc||(Bc=Yg(Q1))}const tv=(...e)=>{const t=ev().createApp(...e),{mount:n}=t;return t.mount=i=>{const o=iv(i);if(!o)return;const s=t._component;!Ee(s)&&!s.render&&!s.template&&(s.template=o.innerHTML),o.nodeType===1&&(o.textContent="");const r=n(o,!1,nv(o));return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),r},t};function nv(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function iv(e){return et(e)?document.querySelector(e):e}(function(){var e;try{if(typeof document<"u"){var t=document.createElement("style");t.nonce=(e=document.head.querySelector("meta[property=csp-nonce]"))==null?void 0:e.content,t.appendChild(document.createTextNode(".vue-notification-group{display:block;position:fixed;z-index:5000}.vue-notification-wrapper{display:block;overflow:hidden;width:100%;margin:0;padding:0}.notification-title{font-weight:600}.vue-notification-template{display:block;box-sizing:border-box;background:#fff;text-align:left}.vue-notification{display:block;box-sizing:border-box;text-align:left;font-size:12px;padding:10px;margin:0 5px 5px;color:#fff;background:#44a4fc;border-left:5px solid #187FE7}.vue-notification.warn{background:#ffb648;border-left-color:#f48a06}.vue-notification.error{background:#e54d42;border-left-color:#b82e24}.vue-notification.success{background:#68cd86;border-left-color:#42a85f}.vn-fade-enter-active,.vn-fade-leave-active,.vn-fade-move{transition:all .5s}.vn-fade-enter-from,.vn-fade-leave-to{opacity:0}")),document.head.appendChild(t)}}catch(n){console.error("vite-plugin-css-injected-by-js",n)}})();const m0=new Map;function ov(e){return{all:e=e||new Map,on:function(t,n){var i=e.get(t);i?i.push(n):e.set(t,[n])},off:function(t,n){var i=e.get(t);i&&(n?i.splice(i.indexOf(n)>>>0,1):e.set(t,[]))},emit:function(t,n){var i=e.get(t);i&&i.slice().map(function(o){o(n)}),(i=e.get("*"))&&i.slice().map(function(o){o(t,n)})}}}const ir=ov(),du="[-+]?[0-9]*.?[0-9]+",Vc=[{name:"px",regexp:new RegExp(`^${du}px$`)},{name:"%",regexp:new RegExp(`^${du}%$`)},{name:"px",regexp:new RegExp(`^${du}$`)}],sv=e=>{if(e==="auto")return{type:e,value:0};for(let t=0;t<Vc.length;t++){const n=Vc[t];if(n.regexp.test(e))return{type:n.name,value:parseFloat(e)}}return{type:"",value:e}},rv=e=>{switch(typeof e){case"number":return{type:"px",value:e};case"string":return sv(e);default:return{type:"",value:e}}},Hc={x:new Set(["left","center","right"]),y:new Set(["top","bottom"])},uv=(e=>()=>e++)(0),av=e=>typeof e!="string"?[]:e.split(/\s+/gi).filter(Boolean),lv=e=>{typeof e=="string"&&(e=av(e));let t=null,n=null;return e.forEach(i=>{Hc.y.has(i)&&(n=i),Hc.x.has(i)&&(t=i)}),{x:t,y:n}},fu={position:["top","right"],cssAnimation:"vn-fade",velocityAnimation:{enter:e=>({height:[e.clientHeight,0],opacity:[1,0]}),leave:{height:0,opacity:[0,1]}}},cv=(e,t)=>{let n,i,o=t;const s=()=>{i=Date.now(),n=setTimeout(e,o)},r=()=>{clearTimeout(n),o-=Date.now()-i};return s(),{start:s,stop:r}};function dv(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Xi(e)}const Es={IDLE:0,DESTROYED:2},fv=be({name:"notifications",props:{group:{type:String,default:""},width:{type:[Number,String],default:300},reverse:{type:Boolean,default:!1},position:{type:[String,Array],default:()=>fu.position},classes:{type:[String,Array],default:"vue-notification"},animationType:{type:String,default:"css",validator(e){return e==="css"||e==="velocity"}},animation:{type:Object,default(){return fu.velocityAnimation}},animationName:{type:String,default:fu.cssAnimation},speed:{type:Number,default:300},duration:{type:Number,default:3e3},delay:{type:Number,default:0},max:{type:Number,default:1/0},ignoreDuplicates:{type:Boolean,default:!1},closeOnClick:{type:Boolean,default:!0},pauseOnHover:{type:Boolean,default:!1},dangerouslySetInnerHtml:{type:Boolean,default:!1}},emits:{click:e=>!0,destroy:e=>!0,start:e=>!0},slots:Object,setup:(e,{emit:t,slots:n,expose:i})=>{const o=ce([]),s=m0.get("velocity"),r=me(()=>e.animationType==="velocity"),u=me(()=>o.value.filter(w=>w.state!==Es.DESTROYED)),a=me(()=>rv(e.width)),l=me(()=>{const{x:w,y:M}=lv(e.position),O=a.value.value,C=a.value.type,z={width:O+C};return M&&(z[M]="0px"),w&&(w==="center"?z.left=`calc(50% - ${+O/2}${C})`:z[w]="0px"),z}),c=me(()=>r.value?{onEnter:E,onLeave:D,onAfterLeave:k}:{}),d=w=>{t("click",w),e.closeOnClick&&v(w)},f=w=>{var M;e.pauseOnHover&&((M=w.timer)==null||M.stop())},h=w=>{var M;e.pauseOnHover&&((M=w.timer)==null||M.start())},p=(w={})=>{if(w.group||(w.group=""),w.data||(w.data={}),e.group!==w.group)return;if(w.clean||w.clear){g();return}const M=typeof w.duration=="number"?w.duration:e.duration,O=typeof w.speed=="number"?w.speed:e.speed,C=typeof w.ignoreDuplicates=="boolean"?w.ignoreDuplicates:e.ignoreDuplicates,{title:z,text:P,type:q,data:R,id:W}=w,Z={id:W||uv(),title:z,text:P,type:q,state:Es.IDLE,speed:O,length:M+2*O,data:R,duplicates:0};M>=0&&(Z.timer=cv(()=>v(Z),Z.length));const ne="bottom"in l.value,oe=e.reverse?!ne:ne;let ue=-1;const le=u.value.find(H=>H.title===w.title&&H.text===w.text);if(C&&le){le.duplicates++;return}oe?(o.value.push(Z),t("start",Z),u.value.length>e.max&&(ue=0)):(o.value.unshift(Z),t("start",Z),u.value.length>e.max&&(ue=u.value.length-1)),ue!==-1&&v(u.value[ue])},_=w=>{m(w)},b=w=>["vue-notification-template",e.classes,w.type||""],y=w=>r.value?void 0:{transition:`all ${w.speed}ms`},v=w=>{var M;(M=w.timer)==null||M.stop(),w.state=Es.DESTROYED,k(),t("destroy",w)},m=w=>{const M=o.value.find(O=>O.id===w);M&&v(M)},g=()=>{u.value.forEach(v)},x=(w,M)=>{var O;const C=(O=e.animation)==null?void 0:O[w];return typeof C=="function"?C(M):C},E=(w,M)=>{const O=x("enter",w);s(w,O,{duration:e.speed,complete:M})},D=(w,M)=>{const O=x("leave",w);s(w,O,{duration:e.speed,complete:M})};function k(){o.value=o.value.filter(w=>w.state!==Es.DESTROYED)}return it(()=>{ir.on("add",p),ir.on("close",_)}),()=>{let w;return te("div",{class:"vue-notification-group",style:l.value},[te(G1,Or(c.value,{tag:"div",css:!r.value,name:e.animationName}),dv(w=u.value.map(M=>te("div",{key:M.id,class:"vue-notification-wrapper",style:y(M),"data-id":M.id,onMouseenter:()=>f(M),onMouseleave:()=>h(M)},[n.body?n.body({item:M,class:[e.classes,M.type],close:()=>v(M)}):te("div",{class:b(M),onClick:()=>d(M)},[e.dangerouslySetInnerHtml?te(Se,null,[M.title?te("div",{class:"notification-title",innerHTML:M.title},null):null,te("div",{class:"notification-content",innerHTML:M.text},null)]):te(Se,null,[M.title?te("div",{class:"notification-title"},[M.title]):null,te("div",{class:"notification-content"},[M.text])])])])))?w:{default:()=>[w]})])}}}),Il=e=>{typeof e=="string"&&(e={title:"",text:e}),typeof e=="object"&&ir.emit("add",e)};Il.close=e=>{ir.emit("close",e)};const hv=()=>({notify:Il}),pv="Notifications";function mv(e,t={}){Object.entries(t).forEach(i=>m0.set(...i));const n=t.name||"notify";e.config.globalProperties["$"+n]=Il,e.component(t.componentName||pv,fv)}const gv={install:mv};class Al extends Error{constructor(t,n){super(n),this.type=t}}class vi extends Al{constructor(t,n){super("Configuration",t),this.node=n}}class vv extends Al{constructor(t){super("PopoutBlocked",t)}}class _v extends Al{constructor(t){super("Bind",t)}}class zr extends Error{constructor(t,n,i){super(`${t}: ${n}${i===void 0?"":": "+i}`)}}class $e extends zr{constructor(t,n){super("Assert",t,n)}}class Pt extends zr{constructor(t,n,i){super("UnreachableCase",t,`${n}${i===void 0?"":": "+i}`)}}class Ye extends zr{constructor(t,n){super("UnexpectedNull",t,n)}}class Te extends zr{constructor(t,n){super("UnexpectedUndefined",t,n)}}var or;(function(e){let t=!1;const n={PopoutCannotBeCreatedWithGroundItemConfig:{id:0,default:"Popout cannot be created with ground ItemConfig"},PleaseRegisterAConstructorFunction:{id:1,default:"Please register a constructor function"},ComponentTypeNotRegisteredAndBindComponentEventHandlerNotAssigned:{id:2,default:"Component type not registered and BindComponentEvent handler not assigned"},ComponentIsAlreadyRegistered:{id:3,default:"Component is already registered"},ComponentIsNotVirtuable:{id:4,default:"Component is not virtuable. Requires rootHtmlElement field/getter"},VirtualComponentDoesNotHaveRootHtmlElement:{id:5,default:'Virtual component does not have getter "rootHtmlElement"'},ItemConfigIsNotTypeComponent:{id:6,default:"ItemConfig is not of type component"},InvalidNumberPartInSizeString:{id:7,default:"Invalid number part in size string"},UnknownUnitInSizeString:{id:8,default:"Unknown unit in size string"},UnsupportedUnitInSizeString:{id:9,default:"Unsupported unit in size string"}};e.idCount=Object.keys(n).length;const i=Object.values(n);function o(){if(!t)for(let s=0;s<e.idCount;s++){const r=i[s];if(r.id!==s)throw new $e("INSI00110",`${s}: ${r.id}`);_i[s]=r.default}t=!0}e.checkInitialise=o})(or||(or={}));const _i=new Array(or.idCount);var To;(function(e){e.defaultComponentBaseZIndex="auto",e.defaultComponentDragZIndex="32",e.defaultComponentStackMaximisedZIndex="41"})(To||(To={}));var sr;(function(e){e.width="width",e.height="height"})(sr||(sr={}));var ei;(function(e){e.top="top",e.left="left",e.right="right",e.bottom="bottom"})(ei||(ei={}));var Mo;(function(e){e.base="base",e.drag="drag",e.stackMaximised="stackMaximised"})(Mo||(Mo={}));const bv={base:To.defaultComponentBaseZIndex,drag:To.defaultComponentDragZIndex,stackMaximised:To.defaultComponentStackMaximisedZIndex};var Uc;(function(e){function t(i){return n(i)}e.isJson=t;function n(i){return!Array.isArray(i)&&i!==null&&typeof i=="object"}e.isJsonObject=n})(Uc||(Uc={}));var ie;(function(e){e.ground="ground",e.row="row",e.column="column",e.stack="stack",e.component="component"})(ie||(ie={}));var qo;(function(e){e.none="none",e.always="always",e.onload="onload"})(qo||(qo={}));var ze;(function(e){e.Pixel="px",e.Percent="%",e.Fractional="fr",e.Em="em"})(ze||(ze={}));(function(e){function t(i){switch(i){case e.Pixel:return e.Pixel;case e.Percent:return e.Percent;case e.Fractional:return e.Fractional;case e.Em:return e.Em;default:return}}e.tryParse=t;function n(i){switch(i){case e.Pixel:return e.Pixel;case e.Percent:return e.Percent;case e.Fractional:return e.Fractional;case e.Em:return e.Em;default:throw new Pt("SUEF44998",i)}}e.format=n})(ze||(ze={}));function Be(e){return e.toString(10)+"px"}function zi(e){const t=e.replace("px","");return parseFloat(t)}function yv(e){e=e.trimStart();const t=e.length;if(t===0)return{numericPart:"",firstNonNumericCharPart:""};{let n=t,i=!1;for(let r=0;r<t;r++){const u=e[r];if(!wv(u))if(u!=="."){n=r;break}else if(i){n=r;break}else i=!0}const o=e.substring(0,n),s=e.substring(n).trim();return{numericPart:o,firstNonNumericCharPart:s}}}function wv(e){return e>="0"&&e<="9"}function xv(e){return e.offsetWidth}function Bt(e,t){const n=Be(t);e.style.width=n}function Cv(e){return e.offsetHeight}function Vt(e,t){const n=Be(t);e.style.height=n}function Xn(e){return{width:e.offsetWidth,height:e.offsetHeight}}function bi(e,t){t?e.style.display="":e.style.display="none"}function di(e,t){if(t!==void 0){for(const n in t)if(t.hasOwnProperty(n)){const i=t[n],o=e[n];e[n]=Go(o,i)}}return e}function Go(e,t){if(typeof t!="object")return t;if(Array.isArray(t)){const n=t.length,i=new Array(n);for(let o=0;o<n;o++){const s=t[o];i[o]=Go({},s)}return i}else{if(t===null)return null;{const n=t;return e===void 0?di({},n):typeof e!="object"?di({},n):Array.isArray(e)?di({},n):di(e===null?{}:e,n)}}}function Ev(e,t){const n=t.indexOf(e);if(n===-1)throw new Error("Can't remove item from array. Item is not in the array");t.splice(n,1)}function g0(){return(Math.random()*1e15).toString(36).replace(".","")}function Sv(e){return e instanceof Error?e.message:typeof e=="string"?e:"Unknown Error"}var jo;(function(e){const t=["settings","hasHeaders","constrainDragToContainer","selectionEnabled","dimensions","borderWidth","minItemHeight","minItemWidth","headerHeight","dragProxyWidth","dragProxyHeight","labels","close","maximise","minimise","popout","content","componentType","componentState","id","width","type","height","isClosable","title","popoutWholeStack","openPopouts","parentId","activeItemIndex","reorderEnabled","borderGrabWidth"],n=[!0,!1,"row","column","stack","component","close","maximise","minimise","open in new window"];function i(){if(t.length>36)throw new Error("Too many keys in config minifier map")}e.checkInitialise=i;function o(h,p){const _={};for(const b in h)if(h.hasOwnProperty(b)){let y;p?y=u(b):y=a(b);const v=h[b];_[y]=r(v,p)}return _}e.translateObject=o;function s(h,p){const _=h.length,b=new Array(_);for(let y=0;y<_;y++){const v=h[y];b[y]=r(v,p)}return b}function r(h,p){return typeof h=="object"?h===null?null:Array.isArray(h)?s(h,p):o(h,p):p?l(h):c(h)}function u(h){if(typeof h=="string"&&h.length===1)return"___"+h;const p=d(h);return p===-1?h:p.toString(36)}function a(h){return h.length===1?t[parseInt(h,36)]:h.substr(0,3)==="___"?h[3]:h}function l(h){if(typeof h=="string"&&h.length===1)return"___"+h;const p=f(h);return p===-1?h:p.toString(36)}function c(h){return typeof h=="string"&&h.length===1?n[parseInt(h,36)]:typeof h=="string"&&h.substr(0,3)==="___"?h[3]:h}function d(h){for(let p=0;p<t.length;p++)if(t[p]===h)return p;return-1}function f(h){for(let p=0;p<n.length;p++)if(n[p]===h)return p;return-1}})(jo||(jo={}));var Pe;(function(e){e.defaults={type:ie.ground,content:[],size:1,sizeUnit:ze.Fractional,minSize:void 0,minSizeUnit:ze.Pixel,id:"",isClosable:!0};function t(r,u){switch(r.type){case ie.ground:case ie.row:case ie.column:return to.createCopy(r,u);case ie.stack:return On.createCopy(r,u);case ie.component:return eo.createCopy(r);default:throw new Pt("CICC91354",r.type,"Invalid Config Item type specified")}}e.createCopy=t;function n(r){switch(r){case ie.ground:throw new $e("CICCDR91562");case ie.row:case ie.column:return to.createDefault(r);case ie.stack:return On.createDefault();case ie.component:return eo.createDefault();default:throw new Pt("CICCDD91563",r,"Invalid Config Item type specified")}}e.createDefault=n;function i(r){return r.type===ie.component}e.isComponentItem=i;function o(r){return r.type===ie.stack}e.isStackItem=o;function s(r){return r.type===ie.ground}e.isGroundItem=s})(Pe||(Pe={}));var qt;(function(e){e.defaultMaximised=!1,function(t){function n(i,o){if(i!==void 0)return{show:o??i.show,popout:i.popout,close:i.close,maximise:i.maximise,minimise:i.minimise,tabDropdown:i.tabDropdown}}t.createCopy=n}(e.Header||(e.Header={}))})(qt||(qt={}));var On;(function(e){e.defaultActiveItemIndex=0;function t(o,s){return{type:o.type,content:n(s!==void 0?s:o.content),size:o.size,sizeUnit:o.sizeUnit,minSize:o.minSize,minSizeUnit:o.minSizeUnit,id:o.id,maximised:o.maximised,isClosable:o.isClosable,activeItemIndex:o.activeItemIndex,header:qt.Header.createCopy(o.header)}}e.createCopy=t;function n(o){const s=o.length,r=new Array(s);for(let u=0;u<s;u++)r[u]=Pe.createCopy(o[u]);return r}e.copyContent=n;function i(){return{type:ie.stack,content:[],size:Pe.defaults.size,sizeUnit:Pe.defaults.sizeUnit,minSize:Pe.defaults.minSize,minSizeUnit:Pe.defaults.minSizeUnit,id:Pe.defaults.id,maximised:qt.defaultMaximised,isClosable:Pe.defaults.isClosable,activeItemIndex:e.defaultActiveItemIndex,header:void 0}}e.createDefault=i})(On||(On={}));var eo;(function(e){e.defaultReorderEnabled=!0;function t(s){const r=s.componentType;if(typeof r=="string")return r}e.resolveComponentTypeName=t;function n(s){return{type:s.type,content:[],size:s.size,sizeUnit:s.sizeUnit,minSize:s.minSize,minSizeUnit:s.minSizeUnit,id:s.id,maximised:s.maximised,isClosable:s.isClosable,reorderEnabled:s.reorderEnabled,title:s.title,header:qt.Header.createCopy(s.header),componentType:s.componentType,componentState:Go(void 0,s.componentState)}}e.createCopy=n;function i(s="",r,u=""){return{type:ie.component,content:[],size:Pe.defaults.size,sizeUnit:Pe.defaults.sizeUnit,minSize:Pe.defaults.minSize,minSizeUnit:Pe.defaults.minSizeUnit,id:Pe.defaults.id,maximised:qt.defaultMaximised,isClosable:Pe.defaults.isClosable,reorderEnabled:e.defaultReorderEnabled,title:u,header:void 0,componentType:s,componentState:r}}e.createDefault=i;function o(s){return Go({},s)}e.copyComponentType=o})(eo||(eo={}));var to;(function(e){function t(s){switch(s.type){case ie.row:case ie.column:case ie.stack:case ie.component:return!0;case ie.ground:return!1;default:throw new Pt("CROCOSPCICIC13687",s.type)}}e.isChildItemConfig=t;function n(s,r){return{type:s.type,content:i(r!==void 0?r:s.content),size:s.size,sizeUnit:s.sizeUnit,minSize:s.minSize,minSizeUnit:s.minSizeUnit,id:s.id,isClosable:s.isClosable}}e.createCopy=n;function i(s){const r=s.length,u=new Array(r);for(let a=0;a<r;a++)u[a]=Pe.createCopy(s[a]);return u}e.copyContent=i;function o(s){return{type:s,content:[],size:Pe.defaults.size,sizeUnit:Pe.defaults.sizeUnit,minSize:Pe.defaults.minSize,minSizeUnit:Pe.defaults.minSizeUnit,id:Pe.defaults.id,isClosable:Pe.defaults.isClosable}}e.createDefault=o})(to||(to={}));var ki;(function(e){function t(i){return Pe.createCopy(i)}e.createCopy=t;function n(i){switch(i.type){case ie.row:case ie.column:case ie.stack:case ie.component:return!0;case ie.ground:return!1;default:throw new Pt("CROCOSPCICIC13687",i.type)}}e.isRootItemConfig=n})(ki||(ki={}));var Ba;(function(e){function t(n){const i=n===void 0?[]:[n];return{type:ie.ground,content:i,size:100,sizeUnit:ze.Percent,minSize:0,minSizeUnit:ze.Pixel,id:"",isClosable:!1,title:"",reorderEnabled:!1}}e.create=t})(Ba||(Ba={}));var xe;(function(e){(function(u){u.defaults={constrainDragToContainer:!0,reorderEnabled:!0,popoutWholeStack:!1,blockedPopoutsThrowError:!0,closePopoutsOnUnload:!0,responsiveMode:qo.none,tabOverlapAllowance:0,reorderOnTabMenuClick:!0,tabControlOffset:10,popInOnClose:!1};function a(l){return{constrainDragToContainer:l.constrainDragToContainer,reorderEnabled:l.reorderEnabled,popoutWholeStack:l.popoutWholeStack,blockedPopoutsThrowError:l.blockedPopoutsThrowError,closePopoutsOnUnload:l.closePopoutsOnUnload,responsiveMode:l.responsiveMode,tabOverlapAllowance:l.tabOverlapAllowance,reorderOnTabMenuClick:l.reorderOnTabMenuClick,tabControlOffset:l.tabControlOffset,popInOnClose:l.popInOnClose}}u.createCopy=a})(e.Settings||(e.Settings={})),function(u){function a(l){return{borderWidth:l.borderWidth,borderGrabWidth:l.borderGrabWidth,defaultMinItemHeight:l.defaultMinItemHeight,defaultMinItemHeightUnit:l.defaultMinItemHeightUnit,defaultMinItemWidth:l.defaultMinItemWidth,defaultMinItemWidthUnit:l.defaultMinItemWidthUnit,headerHeight:l.headerHeight,dragProxyWidth:l.dragProxyWidth,dragProxyHeight:l.dragProxyHeight}}u.createCopy=a,u.defaults={borderWidth:5,borderGrabWidth:5,defaultMinItemHeight:0,defaultMinItemHeightUnit:ze.Pixel,defaultMinItemWidth:10,defaultMinItemWidthUnit:ze.Pixel,headerHeight:20,dragProxyWidth:300,dragProxyHeight:200}}(e.Dimensions||(e.Dimensions={})),function(u){function a(l){return{show:l.show,popout:l.popout,dock:l.dock,close:l.close,maximise:l.maximise,minimise:l.minimise,tabDropdown:l.tabDropdown}}u.createCopy=a,u.defaults={show:ei.top,popout:"open in new window",dock:"dock",maximise:"maximise",minimise:"minimise",close:"close",tabDropdown:"additional tabs"}}(e.Header||(e.Header={}));function t(u){return"parentId"in u}e.isPopout=t;function n(){return{root:void 0,openPopouts:[],dimensions:e.Dimensions.defaults,settings:e.Settings.defaults,header:e.Header.defaults,resolved:!0}}e.createDefault=n;function i(u){return t(u)?Wo.createCopy(u):{root:u.root===void 0?void 0:ki.createCopy(u.root),openPopouts:e.copyOpenPopouts(u.openPopouts),settings:e.Settings.createCopy(u.settings),dimensions:e.Dimensions.createCopy(u.dimensions),header:e.Header.createCopy(u.header),resolved:u.resolved}}e.createCopy=i;function o(u){const a=u.length,l=new Array(a);for(let c=0;c<a;c++)l[c]=Wo.createCopy(u[c]);return l}e.copyOpenPopouts=o;function s(u){return jo.translateObject(u,!0)}e.minifyConfig=s;function r(u){return jo.translateObject(u,!1)}e.unminifyConfig=r})(xe||(xe={}));var Wo;(function(e){(function(n){function i(o){return{width:o.width,height:o.height,left:o.left,top:o.top}}n.createCopy=i,n.defaults={width:null,height:null,left:null,top:null}})(e.Window||(e.Window={}));function t(n){return{root:n.root===void 0?void 0:ki.createCopy(n.root),openPopouts:xe.copyOpenPopouts(n.openPopouts),settings:xe.Settings.createCopy(n.settings),dimensions:xe.Dimensions.createCopy(n.dimensions),header:xe.Header.createCopy(n.header),parentId:n.parentId,indexInParent:n.indexInParent,window:e.Window.createCopy(n.window),resolved:n.resolved}}e.createCopy=t})(Wo||(Wo={}));var Qe;(function(e){function t(f,h){switch(f.type){case ie.ground:throw new vi("ItemConfig cannot specify type ground",JSON.stringify(f));case ie.row:case ie.column:return rr.resolve(f,h);case ie.stack:return Zo.resolve(f,h);case ie.component:return ti.resolve(f,h);default:throw new Pt("UCUICR55499",f.type)}}e.resolve=t;function n(f){if(f===void 0)return[];{const h=f.length,p=new Array(h);for(let _=0;_<h;_++)p[_]=e.resolve(f[_],!1);return p}}e.resolveContent=n;function i(f){return f===void 0?Pe.defaults.id:Array.isArray(f)?f.length===0?Pe.defaults.id:f[0]:f}e.resolveId=i;function o(f,h,p,_){if(f!==void 0)return ur(f,[ze.Percent,ze.Fractional]);if(h!==void 0||p!==void 0){if(h!==void 0)return{size:h,sizeUnit:ze.Percent};if(p!==void 0)return{size:p,sizeUnit:ze.Percent};throw new Te("CRS33390")}else return _?{size:50,sizeUnit:ze.Percent}:{size:Pe.defaults.size,sizeUnit:Pe.defaults.sizeUnit}}e.resolveSize=o;function s(f,h,p){if(f!==void 0)return ur(f,[ze.Pixel]);{const _=h!==void 0;return _||p!==void 0?_?{size:h,sizeUnit:ze.Pixel}:{size:p,sizeUnit:ze.Pixel}:{size:Pe.defaults.minSize,sizeUnit:Pe.defaults.minSizeUnit}}}e.resolveMinSize=s;function r(f){return f.size!==void 0?1:f.width!==void 0||f.height!==void 0?2:0}e.calculateSizeWidthHeightSpecificationType=r;function u(f){return f.type===ie.ground}e.isGround=u;function a(f){return f.type===ie.row}e.isRow=a;function l(f){return f.type===ie.column}e.isColumn=l;function c(f){return f.type===ie.stack}e.isStack=c;function d(f){return f.type===ie.component}e.isComponent=d})(Qe||(Qe={}));var no;(function(e){const t="__glMaximised";(function(i){function o(s,r){var u;if(!(s===void 0&&r===void 0))return{show:(u=s==null?void 0:s.show)!==null&&u!==void 0?u:r===void 0?void 0:r?xe.Header.defaults.show:!1,popout:s==null?void 0:s.popout,maximise:s==null?void 0:s.maximise,close:s==null?void 0:s.close,minimise:s==null?void 0:s.minimise,tabDropdown:s==null?void 0:s.tabDropdown}}i.resolve=o})(e.Header||(e.Header={}));function n(i){let o,s=i.id,r=!1;if(s===void 0)o=Pe.defaults.id;else if(Array.isArray(s)){const a=s.findIndex(l=>l===t);a>0&&(r=!0,s=s.splice(a,1)),s.length>0?o=s[0]:o=Pe.defaults.id}else o=s;let u;return i.maximised!==void 0?u=i.maximised:u=r,{id:o,maximised:u}}e.resolveIdAndMaximised=n})(no||(no={}));var Zo;(function(e){function t(s,r){var u,a;const{id:l,maximised:c}=no.resolveIdAndMaximised(s),{size:d,sizeUnit:f}=Qe.resolveSize(s.size,s.width,s.height,r),{size:h,sizeUnit:p}=Qe.resolveMinSize(s.minSize,s.minWidth,s.minHeight);return{type:ie.stack,content:i(s.content),size:d,sizeUnit:f,minSize:h,minSizeUnit:p,id:l,maximised:c,isClosable:(u=s.isClosable)!==null&&u!==void 0?u:Pe.defaults.isClosable,activeItemIndex:(a=s.activeItemIndex)!==null&&a!==void 0?a:On.defaultActiveItemIndex,header:no.Header.resolve(s.header,s.hasHeaders)}}e.resolve=t;function n(s){return{type:ie.stack,content:o(s.content),size:Yo(s.size,s.sizeUnit),minSize:Dl(s.minSize,s.minSizeUnit),id:s.id,maximised:s.maximised,isClosable:s.isClosable,activeItemIndex:s.activeItemIndex,header:qt.Header.createCopy(s.header)}}e.fromResolved=n;function i(s){if(s===void 0)return[];{const r=s.length,u=new Array(r);for(let a=0;a<r;a++){const l=s[a],c=Qe.resolve(l,!1);if(Pe.isComponentItem(c))u[a]=c;else throw new $e("UCUSICRC91114",JSON.stringify(c))}return u}}function o(s){const r=s.length,u=new Array(r);for(let a=0;a<r;a++){const l=s[a];u[a]=ti.fromResolved(l)}return u}})(Zo||(Zo={}));var ti;(function(e){function t(o,s){var r,u,a;let l=o.componentType;if(l===void 0&&(l=o.componentName),l===void 0)throw new Error("ComponentItemConfig.componentType is undefined");{const{id:c,maximised:d}=no.resolveIdAndMaximised(o);let f;o.title===void 0||o.title===""?f=e.componentTypeToTitle(l):f=o.title;const{size:h,sizeUnit:p}=Qe.resolveSize(o.size,o.width,o.height,s),{size:_,sizeUnit:b}=Qe.resolveMinSize(o.minSize,o.minWidth,o.minHeight);return{type:o.type,content:[],size:h,sizeUnit:p,minSize:_,minSizeUnit:b,id:c,maximised:d,isClosable:(r=o.isClosable)!==null&&r!==void 0?r:Pe.defaults.isClosable,reorderEnabled:(u=o.reorderEnabled)!==null&&u!==void 0?u:eo.defaultReorderEnabled,title:f,header:no.Header.resolve(o.header,o.hasHeaders),componentType:l,componentState:(a=o.componentState)!==null&&a!==void 0?a:{}}}}e.resolve=t;function n(o){return{type:ie.component,size:Yo(o.size,o.sizeUnit),minSize:Dl(o.minSize,o.minSizeUnit),id:o.id,maximised:o.maximised,isClosable:o.isClosable,reorderEnabled:o.reorderEnabled,title:o.title,header:qt.Header.createCopy(o.header),componentType:o.componentType,componentState:Go(void 0,o.componentState)}}e.fromResolved=n;function i(o){switch(typeof o){case"string":return o;case"number":return o.toString();case"boolean":return o.toString();default:return""}}e.componentTypeToTitle=i})(ti||(ti={}));var rr;(function(e){function t(r){switch(r.type){case ie.row:case ie.column:case ie.stack:case ie.component:return!0;case ie.ground:return!1;default:throw new Pt("UROCOSPCICIC13687",r.type)}}e.isChildItemConfig=t;function n(r,u){var a;const{size:l,sizeUnit:c}=Qe.resolveSize(r.size,r.width,r.height,u),{size:d,sizeUnit:f}=Qe.resolveMinSize(r.minSize,r.minWidth,r.minHeight);return{type:r.type,content:e.resolveContent(r.content),size:l,sizeUnit:c,minSize:d,minSizeUnit:f,id:Qe.resolveId(r.id),isClosable:(a=r.isClosable)!==null&&a!==void 0?a:Pe.defaults.isClosable}}e.resolve=n;function i(r){return{type:r.type,content:s(r.content),size:Yo(r.size,r.sizeUnit),minSize:Dl(r.minSize,r.minSizeUnit),id:r.id,isClosable:r.isClosable}}e.fromResolved=i;function o(r){if(r===void 0)return[];{const u=r.length,a=new Array(u);let l=!1,c=!1;for(let h=0;h<u;h++){const p=r[h];if(e.isChildItemConfig(p)){if(!c){const _=Qe.calculateSizeWidthHeightSpecificationType(p);switch(_){case 0:break;case 2:l=!0;break;case 1:c=!0;break;default:throw new Pt("ROCICRC87556",_)}}a[h]=p}else throw new vi("ItemConfig is not Row, Column or Stack",p)}let d;c?d=!1:l?d=!0:d=!1;const f=new Array(u);for(let h=0;h<u;h++){const p=a[h],_=Qe.resolve(p,d);if(to.isChildItemConfig(_))f[h]=_;else throw new $e("UROCOSPIC99512",JSON.stringify(_))}return f}}e.resolveContent=o;function s(r){const u=r.length,a=new Array(u);for(let l=0;l<u;l++){const c=r[l],d=c.type;let f;switch(d){case ie.row:case ie.column:f=e.fromResolved(c);break;case ie.stack:f=Zo.fromResolved(c);break;case ie.component:f=ti.fromResolved(c);break;default:throw new Pt("ROCICFRC44797",d)}a[l]=f}return a}})(rr||(rr={}));var io;(function(e){function t(o){switch(o.type){case ie.row:case ie.column:case ie.stack:case ie.component:return!0;case ie.ground:return!1;default:throw new Pt("URICIR23687",o.type)}}e.isRootItemConfig=t;function n(o){if(o!==void 0){const s=Qe.resolve(o,!1);if(ki.isRootItemConfig(s))return s;throw new vi("ItemConfig is not Row, Column or Stack",JSON.stringify(o))}}e.resolve=n;function i(o){if(o!==void 0){const s=o.type;switch(s){case ie.row:case ie.column:return rr.fromResolved(o);case ie.stack:return Zo.fromResolved(o);case ie.component:return ti.fromResolved(o);default:throw new Pt("RICFROU89921",s)}}}e.fromResolvedOrUndefined=i})(io||(io={}));var Mt;(function(e){(function(r){function u(a){var l,c,d,f,h,p,_,b,y,v;return{constrainDragToContainer:(l=a==null?void 0:a.constrainDragToContainer)!==null&&l!==void 0?l:xe.Settings.defaults.constrainDragToContainer,reorderEnabled:(c=a==null?void 0:a.reorderEnabled)!==null&&c!==void 0?c:xe.Settings.defaults.reorderEnabled,popoutWholeStack:(d=a==null?void 0:a.popoutWholeStack)!==null&&d!==void 0?d:xe.Settings.defaults.popoutWholeStack,blockedPopoutsThrowError:(f=a==null?void 0:a.blockedPopoutsThrowError)!==null&&f!==void 0?f:xe.Settings.defaults.blockedPopoutsThrowError,closePopoutsOnUnload:(h=a==null?void 0:a.closePopoutsOnUnload)!==null&&h!==void 0?h:xe.Settings.defaults.closePopoutsOnUnload,responsiveMode:(p=a==null?void 0:a.responsiveMode)!==null&&p!==void 0?p:xe.Settings.defaults.responsiveMode,tabOverlapAllowance:(_=a==null?void 0:a.tabOverlapAllowance)!==null&&_!==void 0?_:xe.Settings.defaults.tabOverlapAllowance,reorderOnTabMenuClick:(b=a==null?void 0:a.reorderOnTabMenuClick)!==null&&b!==void 0?b:xe.Settings.defaults.reorderOnTabMenuClick,tabControlOffset:(y=a==null?void 0:a.tabControlOffset)!==null&&y!==void 0?y:xe.Settings.defaults.tabControlOffset,popInOnClose:(v=a==null?void 0:a.popInOnClose)!==null&&v!==void 0?v:xe.Settings.defaults.popInOnClose}}r.resolve=u})(e.Settings||(e.Settings={})),function(r){function u(d){var f,h,p,_,b;const{size:y,sizeUnit:v}=r.resolveDefaultMinItemHeight(d),{size:m,sizeUnit:g}=r.resolveDefaultMinItemWidth(d);return{borderWidth:(f=d==null?void 0:d.borderWidth)!==null&&f!==void 0?f:xe.Dimensions.defaults.borderWidth,borderGrabWidth:(h=d==null?void 0:d.borderGrabWidth)!==null&&h!==void 0?h:xe.Dimensions.defaults.borderGrabWidth,defaultMinItemHeight:y,defaultMinItemHeightUnit:v,defaultMinItemWidth:m,defaultMinItemWidthUnit:g,headerHeight:(p=d==null?void 0:d.headerHeight)!==null&&p!==void 0?p:xe.Dimensions.defaults.headerHeight,dragProxyWidth:(_=d==null?void 0:d.dragProxyWidth)!==null&&_!==void 0?_:xe.Dimensions.defaults.dragProxyWidth,dragProxyHeight:(b=d==null?void 0:d.dragProxyHeight)!==null&&b!==void 0?b:xe.Dimensions.defaults.dragProxyHeight}}r.resolve=u;function a(d){return{borderWidth:d.borderWidth,borderGrabWidth:d.borderGrabWidth,defaultMinItemHeight:Yo(d.defaultMinItemHeight,d.defaultMinItemHeightUnit),defaultMinItemWidth:Yo(d.defaultMinItemWidth,d.defaultMinItemWidthUnit),headerHeight:d.headerHeight,dragProxyWidth:d.dragProxyWidth,dragProxyHeight:d.dragProxyHeight}}r.fromResolved=a;function l(d){const f=d==null?void 0:d.defaultMinItemHeight;return f===void 0?{size:xe.Dimensions.defaults.defaultMinItemHeight,sizeUnit:xe.Dimensions.defaults.defaultMinItemHeightUnit}:ur(f,[ze.Pixel])}r.resolveDefaultMinItemHeight=l;function c(d){const f=d==null?void 0:d.defaultMinItemWidth;return f===void 0?{size:xe.Dimensions.defaults.defaultMinItemWidth,sizeUnit:xe.Dimensions.defaults.defaultMinItemWidthUnit}:ur(f,[ze.Pixel])}r.resolveDefaultMinItemWidth=c}(e.Dimensions||(e.Dimensions={})),function(r){function u(a,l,c){var d,f,h,p,_,b,y,v,m,g,x,E;let D;return(a==null?void 0:a.show)!==void 0?D=a.show:l!==void 0&&l.hasHeaders!==void 0?D=l.hasHeaders?xe.Header.defaults.show:!1:D=xe.Header.defaults.show,{show:D,popout:(f=(d=a==null?void 0:a.popout)!==null&&d!==void 0?d:c==null?void 0:c.popout)!==null&&f!==void 0?f:(l==null?void 0:l.showPopoutIcon)===!1?!1:xe.Header.defaults.popout,dock:(p=(h=a==null?void 0:a.popin)!==null&&h!==void 0?h:c==null?void 0:c.popin)!==null&&p!==void 0?p:xe.Header.defaults.dock,maximise:(b=(_=a==null?void 0:a.maximise)!==null&&_!==void 0?_:c==null?void 0:c.maximise)!==null&&b!==void 0?b:(l==null?void 0:l.showMaximiseIcon)===!1?!1:xe.Header.defaults.maximise,close:(v=(y=a==null?void 0:a.close)!==null&&y!==void 0?y:c==null?void 0:c.close)!==null&&v!==void 0?v:(l==null?void 0:l.showCloseIcon)===!1?!1:xe.Header.defaults.close,minimise:(g=(m=a==null?void 0:a.minimise)!==null&&m!==void 0?m:c==null?void 0:c.minimise)!==null&&g!==void 0?g:xe.Header.defaults.minimise,tabDropdown:(E=(x=a==null?void 0:a.tabDropdown)!==null&&x!==void 0?x:c==null?void 0:c.tabDropdown)!==null&&E!==void 0?E:xe.Header.defaults.tabDropdown}}r.resolve=u}(e.Header||(e.Header={}));function t(r){return"parentId"in r||"indexInParent"in r||"window"in r}e.isPopout=t;function n(r){if(t(r))return Fo.resolve(r);{let u;return r.root!==void 0?u=r.root:r.content!==void 0&&r.content.length>0?u=r.content[0]:u=void 0,{resolved:!0,root:io.resolve(u),openPopouts:e.resolveOpenPopouts(r.openPopouts),dimensions:e.Dimensions.resolve(r.dimensions),settings:e.Settings.resolve(r.settings),header:e.Header.resolve(r.header,r.settings,r.labels)}}}e.resolve=n;function i(r){return{root:io.fromResolvedOrUndefined(r.root),openPopouts:Fo.fromResolvedArray(r.openPopouts),settings:xe.Settings.createCopy(r.settings),dimensions:e.Dimensions.fromResolved(r.dimensions),header:xe.Header.createCopy(r.header)}}e.fromResolved=i;function o(r){const u=r;return u.resolved!==void 0&&u.resolved===!0}e.isResolved=o;function s(r){if(r===void 0)return[];{const u=r.length,a=new Array(u);for(let l=0;l<u;l++)a[l]=Fo.resolve(r[l]);return a}}e.resolveOpenPopouts=s})(Mt||(Mt={}));var Fo;(function(e){(function(o){function s(u,a){var l,c,d,f,h,p,_,b;let y;const v=Wo.Window.defaults;return u!==void 0?y={width:(l=u.width)!==null&&l!==void 0?l:v.width,height:(c=u.height)!==null&&c!==void 0?c:v.height,left:(d=u.left)!==null&&d!==void 0?d:v.left,top:(f=u.top)!==null&&f!==void 0?f:v.top}:y={width:(h=a==null?void 0:a.width)!==null&&h!==void 0?h:v.width,height:(p=a==null?void 0:a.height)!==null&&p!==void 0?p:v.height,left:(_=a==null?void 0:a.left)!==null&&_!==void 0?_:v.left,top:(b=a==null?void 0:a.top)!==null&&b!==void 0?b:v.top},y}o.resolve=s;function r(u){return{width:u.width===null?void 0:u.width,height:u.height===null?void 0:u.height,left:u.left===null?void 0:u.left,top:u.top===null?void 0:u.top}}o.fromResolved=r})(e.Window||(e.Window={}));function t(o){var s,r;let u;return o.root!==void 0?u=o.root:o.content!==void 0&&o.content.length>0?u=o.content[0]:u=void 0,{root:io.resolve(u),openPopouts:Mt.resolveOpenPopouts(o.openPopouts),dimensions:Mt.Dimensions.resolve(o.dimensions),settings:Mt.Settings.resolve(o.settings),header:Mt.Header.resolve(o.header,o.settings,o.labels),parentId:(s=o.parentId)!==null&&s!==void 0?s:null,indexInParent:(r=o.indexInParent)!==null&&r!==void 0?r:null,window:e.Window.resolve(o.window,o.dimensions),resolved:!0}}e.resolve=t;function n(o){return{root:io.fromResolvedOrUndefined(o.root),openPopouts:i(o.openPopouts),dimensions:Mt.Dimensions.fromResolved(o.dimensions),settings:xe.Settings.createCopy(o.settings),header:xe.Header.createCopy(o.header),parentId:o.parentId,indexInParent:o.indexInParent,window:e.Window.fromResolved(o.window)}}e.fromResolved=n;function i(o){const s=o.length,r=new Array(s);for(let u=0;u<s;u++){const a=o[u];r[u]=e.fromResolved(a)}return r}e.fromResolvedArray=i})(Fo||(Fo={}));function ur(e,t){const{numericPart:n,firstNonNumericCharPart:i}=yv(e),o=Number.parseInt(n,10);if(isNaN(o))throw new vi(`${_i[7]}: ${e}`);{const s=ze.tryParse(i);if(s===void 0)throw new vi(`${_i[8]}: ${e}`);if(t.includes(s))return{size:o,sizeUnit:s};throw new vi(`${_i[9]}: ${e}`)}}function Yo(e,t){return e.toString(10)+ze.format(t)}function Dl(e,t){if(e!==void 0)return e.toString(10)+ze.format(t)}class nt{constructor(){this._allEventSubscriptions=[],this._subscriptionsMap=new Map,this.unbind=this.removeEventListener,this.trigger=this.emit}tryBubbleEvent(t,n){}emit(t,...n){let i=this._subscriptionsMap.get(t);if(i!==void 0){i=i.slice();for(let o=0;o<i.length;o++){const s=i[o];s(...n)}}this.emitAllEvent(t,n),this.tryBubbleEvent(t,n)}emitUnknown(t,...n){let i=this._subscriptionsMap.get(t);if(i!==void 0){i=i.slice();for(let o=0;o<i.length;o++)i[o](...n)}this.emitAllEvent(t,n),this.tryBubbleEvent(t,n)}emitBaseBubblingEvent(t){const n=new nt.BubblingEvent(t,this);this.emitUnknown(t,n)}emitUnknownBubblingEvent(t){const n=new nt.BubblingEvent(t,this);this.emitUnknown(t,n)}removeEventListener(t,n){const i=n;this.removeUnknownEventListener(t,i)}off(t,n){this.removeEventListener(t,n)}addEventListener(t,n){const i=n;this.addUnknownEventListener(t,i)}on(t,n){this.addEventListener(t,n)}addUnknownEventListener(t,n){if(t===nt.ALL_EVENT)this._allEventSubscriptions.push(n);else{let i=this._subscriptionsMap.get(t);i!==void 0?i.push(n):(i=[n],this._subscriptionsMap.set(t,i))}}removeUnknownEventListener(t,n){if(t===nt.ALL_EVENT)this.removeSubscription(t,this._allEventSubscriptions,n);else{const i=this._subscriptionsMap.get(t);if(i===void 0)throw new Error("No subscribtions to unsubscribe for event "+t);this.removeSubscription(t,i,n)}}removeSubscription(t,n,i){const o=n.indexOf(i);if(o<0)throw new Error("Nothing to unbind for "+t);n.splice(o,1)}emitAllEvent(t,n){const i=this._allEventSubscriptions.length;if(i>0){const o=n.slice();o.unshift(t);const s=this._allEventSubscriptions.slice();for(let r=0;r<i;r++)s[r](...o)}}}(function(e){e.ALL_EVENT="__all",e.headerClickEventName="stackHeaderClick",e.headerTouchStartEventName="stackHeaderTouchStart";class t{constructor(s,r){this._name=s,this._target=r,this._isPropagationStopped=!1}get name(){return this._name}get target(){return this._target}get origin(){return this._target}get isPropagationStopped(){return this._isPropagationStopped}stopPropagation(){this._isPropagationStopped=!0}}e.BubblingEvent=t;class n extends t{constructor(s,r,u){super(s,r),this._mouseEvent=u}get mouseEvent(){return this._mouseEvent}}e.ClickBubblingEvent=n;class i extends t{constructor(s,r,u){super(s,r),this._touchEvent=u}get touchEvent(){return this._touchEvent}}e.TouchStartBubblingEvent=i})(nt||(nt={}));class kv extends nt{constructor(t,n,i,o,s,r,u,a,l){super(),this._config=t,this._parent=n,this._layoutManager=i,this._element=o,this._updateItemConfigEvent=s,this._showEvent=r,this._hideEvent=u,this._focusEvent=a,this._blurEvent=l,this._stackMaximised=!1,this._width=0,this._height=0,this._visible=!0,this._isShownWithZeroDimensions=!0,this._componentType=t.componentType,this._isClosable=t.isClosable,this._initialState=t.componentState,this._state=this._initialState,this._boundComponent=this.layoutManager.bindComponent(this,t),this.updateElementPositionPropertyFromBoundComponent()}get width(){return this._width}get height(){return this._height}get parent(){return this._parent}get componentName(){return this._componentType}get componentType(){return this._componentType}get virtual(){return this._boundComponent.virtual}get component(){return this._boundComponent.component}get tab(){return this._tab}get title(){return this._parent.title}get layoutManager(){return this._layoutManager}get isHidden(){return!this._visible}get visible(){return this._visible}get state(){return this._state}get initialState(){return this._initialState}get element(){return this._element}destroy(){this.releaseComponent(),this.stateRequestEvent=void 0,this.emit("destroy")}getElement(){return this._element}hide(){this._hideEvent()}show(){this._showEvent()}focus(t=!1){this._focusEvent(t)}blur(t=!1){this._blurEvent(t)}setSize(t,n){let i=this._parent;if(i.isColumn||i.isRow||i.parent===null)throw new $e("ICSSPRC","ComponentContainer cannot have RowColumn Parent");{let o;do o=i,i=i.parent;while(i!==null&&!i.isColumn&&!i.isRow);if(i===null)return!1;{const s=i.isColumn?"height":"width",r=this[s];if(r===null)throw new Ye("ICSSCS11194");{const u=s==="height"?n:t,a=r*(1/(o.size/100)),l=u/a*100,c=(o.size-l)/(i.contentItems.length-1);for(let d=0;d<i.contentItems.length;d++){const f=i.contentItems[d];f===o?f.size=l:f.size+=c}return i.updateSize(!1),!0}}}}close(){this._isClosable&&(this.emit("close"),this._parent.close())}replaceComponent(t){if(this.releaseComponent(),Qe.isComponent(t)){const n=ti.resolve(t,!1);if(this._initialState=n.componentState,this._state=this._initialState,this._componentType=n.componentType,this._updateItemConfigEvent(n),this._boundComponent=this.layoutManager.bindComponent(this,n),this.updateElementPositionPropertyFromBoundComponent(),this._boundComponent.virtual){if(this.virtualVisibilityChangeRequiredEvent!==void 0&&this.virtualVisibilityChangeRequiredEvent(this,this._visible),this.virtualRectingRequiredEvent!==void 0){this._layoutManager.fireBeforeVirtualRectingEvent(1);try{this.virtualRectingRequiredEvent(this,this._width,this._height)}finally{this._layoutManager.fireAfterVirtualRectingEvent()}}this.setBaseLogicalZIndex()}this.emit("stateChanged")}else throw new Error("ReplaceComponent not passed a component ItemConfig")}getState(){return this._state}extendState(t){const n=di(this._state,t);this.setState(n)}setState(t){this._state=t,this._parent.emitBaseBubblingEvent("stateChanged")}setTitle(t){this._parent.setTitle(t)}setTab(t){this._tab=t,this.emit("tab",t)}setVisibility(t){this._boundComponent.virtual&&this.virtualVisibilityChangeRequiredEvent!==void 0&&this.virtualVisibilityChangeRequiredEvent(this,t),t?this._visible?this._isShownWithZeroDimensions&&(this._height!==0||this._width!==0)&&(this._isShownWithZeroDimensions=!1,this.setSizeToNodeSize(this._width,this._height,!0),this.emitShow()):(this._visible=!0,this._height===0&&this._width===0?this._isShownWithZeroDimensions=!0:(this._isShownWithZeroDimensions=!1,this.setSizeToNodeSize(this._width,this._height,!0),this.emitShow())):this._visible&&(this._visible=!1,this._isShownWithZeroDimensions=!1,this.emitHide())}setBaseLogicalZIndex(){this.setLogicalZIndex(Mo.base)}setLogicalZIndex(t){t!==this._logicalZIndex&&(this._logicalZIndex=t,this.notifyVirtualZIndexChangeRequired())}enterDragMode(t,n){this._width=t,this._height=n,Bt(this._element,t),Vt(this._element,n),this.setLogicalZIndex(Mo.drag),this.drag()}exitDragMode(){this.setBaseLogicalZIndex()}enterStackMaximised(){this._stackMaximised=!0,this.setLogicalZIndex(Mo.stackMaximised)}exitStackMaximised(){this.setBaseLogicalZIndex(),this._stackMaximised=!1}drag(){if(this._boundComponent.virtual&&this.virtualRectingRequiredEvent!==void 0){this._layoutManager.fireBeforeVirtualRectingEvent(1);try{this.virtualRectingRequiredEvent(this,this._width,this._height)}finally{this._layoutManager.fireAfterVirtualRectingEvent()}}}setSizeToNodeSize(t,n,i){(t!==this._width||n!==this._height||i)&&(this._width=t,this._height=n,Bt(this._element,t),Vt(this._element,n),this._boundComponent.virtual?this.addVirtualSizedContainerToLayoutManager():(this.emit("resize"),this.checkShownFromZeroDimensions()))}notifyVirtualRectingRequired(){this.virtualRectingRequiredEvent!==void 0&&(this.virtualRectingRequiredEvent(this,this._width,this._height),this.emit("resize"),this.checkShownFromZeroDimensions())}notifyVirtualZIndexChangeRequired(){if(this.virtualZIndexChangeRequiredEvent!==void 0){const t=this._logicalZIndex,n=bv[t];this.virtualZIndexChangeRequiredEvent(this,t,n)}}updateElementPositionPropertyFromBoundComponent(){this._boundComponent.virtual?this._element.style.position="static":this._element.style.position=""}addVirtualSizedContainerToLayoutManager(){this._layoutManager.beginVirtualSizedContainerAdding();try{this._layoutManager.addVirtualSizedContainer(this)}finally{this._layoutManager.endVirtualSizedContainerAdding()}}checkShownFromZeroDimensions(){this._isShownWithZeroDimensions&&(this._height!==0||this._width!==0)&&(this._isShownWithZeroDimensions=!1,this.emitShow())}emitShow(){this.emit("shown"),this.emit("show")}emitHide(){this.emit("hide")}releaseComponent(){this._stackMaximised&&this.exitStackMaximised(),this.emit("beforeComponentRelease",this._boundComponent.component),this.layoutManager.unbindComponent(this,this._boundComponent.virtual,this._boundComponent.component)}}class Iv extends nt{constructor(t,n,i){super(),this._config=t,this._initialWindowSize=n,this._layoutManager=i,this._isInitialised=!1,this._popoutWindow=null,this.createWindow()}toConfig(){var t,n;if(this._isInitialised===!1)throw new Error("Can't create config, layout not yet initialised");const o=this.getGlInstance().saveLayout();let s,r;this._popoutWindow===null?(s=null,r=null):(s=(t=this._popoutWindow.screenX)!==null&&t!==void 0?t:this._popoutWindow.screenLeft,r=(n=this._popoutWindow.screenY)!==null&&n!==void 0?n:this._popoutWindow.screenTop);const u={width:this.getGlInstance().width,height:this.getGlInstance().height,left:s,top:r};return{root:o.root,openPopouts:o.openPopouts,settings:o.settings,dimensions:o.dimensions,header:o.header,window:u,parentId:this._config.parentId,indexInParent:this._config.indexInParent,resolved:!0}}getGlInstance(){if(this._popoutWindow===null)throw new Ye("BPGGI24693");return this._popoutWindow.__glInstance}getWindow(){if(this._popoutWindow===null)throw new Ye("BPGW087215");return this._popoutWindow}close(){if(this.getGlInstance())this.getGlInstance().closeWindow();else try{this.getWindow().close()}catch{}}popIn(){let t,n=this._config.indexInParent;if(!this._config.parentId)return;const i=this.getGlInstance().saveLayout(),s=di({},i).root;if(s===void 0)throw new Te("BPPIR19998");const r=this._layoutManager.groundItem;if(r===void 0)throw new Te("BPPIG34972");t=r.getItemsByPopInParentId(this._config.parentId)[0],t||(r.contentItems.length>0?t=r.contentItems[0]:t=r,n=0);const u=this._layoutManager.createAndInitContentItem(s,t);t.addChild(u,n),this._layoutManager.layoutConfig.settings.popInOnClose?this._onClose():this.close()}createWindow(){const t=this.createUrl(),n=Math.floor(Math.random()*1e6).toString(36),i=this.serializeWindowFeatures({width:this._initialWindowSize.width,height:this._initialWindowSize.height,innerWidth:this._initialWindowSize.width,innerHeight:this._initialWindowSize.height,menubar:"no",toolbar:"no",location:"no",personalbar:"no",resizable:"yes",scrollbars:"no",status:"no"});if(this._popoutWindow=globalThis.open(t,n,i),!this._popoutWindow){if(this._layoutManager.layoutConfig.settings.blockedPopoutsThrowError===!0)throw new vv("Popout blocked");return}this._popoutWindow.addEventListener("load",()=>this.positionWindow(),{passive:!0}),this._popoutWindow.addEventListener("beforeunload",()=>{this._layoutManager.layoutConfig.settings.popInOnClose?this.popIn():this._onClose()},{passive:!0}),this._checkReadyInterval=setInterval(()=>this.checkReady(),10)}checkReady(){if(this._popoutWindow===null)throw new Ye("BPCR01844");this._popoutWindow.__glInstance&&this._popoutWindow.__glInstance.isInitialised&&(this.onInitialised(),this._checkReadyInterval!==void 0&&(clearInterval(this._checkReadyInterval),this._checkReadyInterval=void 0))}serializeWindowFeatures(t){const n=[];for(const i in t)n.push(i+"="+t[i].toString());return n.join(",")}createUrl(){const t="gl-window-config-"+g0(),n=xe.minifyConfig(this._config);try{localStorage.setItem(t,JSON.stringify(n))}catch(o){throw new Error("Error while writing to localStorage "+Sv(o))}const i=new URL(location.href);return i.searchParams.set("gl-window",t),i.toString()}positionWindow(){if(this._popoutWindow===null)throw new Error("BrowserPopout.positionWindow: null popoutWindow");this._popoutWindow.moveTo(this._initialWindowSize.left,this._initialWindowSize.top),this._popoutWindow.focus()}onInitialised(){this._isInitialised=!0,this.getGlInstance().on("popIn",()=>this.popIn()),this.emit("initialised")}_onClose(){setTimeout(()=>this.emit("closed"),50)}}class Tt extends nt{constructor(t,n,i,o){super(),this.layoutManager=t,this._parent=i,this._element=o,this._popInParentIds=[],this._type=n.type,this._id=n.id,this._isInitialised=!1,this.isGround=!1,this.isRow=!1,this.isColumn=!1,this.isStack=!1,this.isComponent=!1,this.size=n.size,this.sizeUnit=n.sizeUnit,this.minSize=n.minSize,this.minSizeUnit=n.minSizeUnit,this._isClosable=n.isClosable,this._pendingEventPropagations={},this._throttledEvents=["stateChanged"],this._contentItems=this.createContentItems(n.content)}get type(){return this._type}get id(){return this._id}set id(t){this._id=t}get popInParentIds(){return this._popInParentIds}get parent(){return this._parent}get contentItems(){return this._contentItems}get isClosable(){return this._isClosable}get element(){return this._element}get isInitialised(){return this._isInitialised}static isStack(t){return t.isStack}static isComponentItem(t){return t.isComponent}static isComponentParentableItem(t){return t.isStack||t.isGround}removeChild(t,n=!1){const i=this._contentItems.indexOf(t);if(i===-1)throw new Error("Can't remove child item. Unknown content item");if(n||this._contentItems[i].destroy(),this._contentItems.splice(i,1),this._contentItems.length>0)this.updateSize(!1);else if(!this.isGround&&this._isClosable===!0){if(this._parent===null)throw new Ye("CIUC00874");this._parent.removeChild(this)}}addChild(t,n,i){return n??(n=this._contentItems.length),this._contentItems.splice(n,0,t),t.setParent(this),this._isInitialised===!0&&t._isInitialised===!1&&t.init(),n}replaceChild(t,n,i=!1){const o=this._contentItems.indexOf(t),s=t._element.parentNode;if(o===-1)throw new $e("CIRCI23232","Can't replace child. oldChild is not child of this");if(s===null)throw new Ye("CIRCP23232");if(s.replaceChild(n._element,t._element),i===!0&&(t._parent=null,t.destroy()),this._contentItems[o]=n,n.setParent(this),n.size=t.size,n.sizeUnit=t.sizeUnit,n.minSize=t.minSize,n.minSizeUnit=t.minSizeUnit,n._parent===null)throw new Ye("CIRCNC45699");n._parent._isInitialised===!0&&n._isInitialised===!1&&n.init(),this.updateSize(!1)}remove(){if(this._parent===null)throw new Ye("CIR11110");this._parent.removeChild(this)}popout(){const t=g0(),n=this.layoutManager.createPopoutFromContentItem(this,void 0,t,void 0);return this.emitBaseBubblingEvent("stateChanged"),n}calculateConfigContent(){const t=this._contentItems,n=t.length,i=new Array(n);for(let o=0;o<n;o++){const s=t[o];i[o]=s.toConfig()}return i}highlightDropZone(t,n,i){const o=this.layoutManager.dropTargetIndicator;if(o===null)throw new Ye("ACIHDZ5593");o.highlightArea(i,1)}onDrop(t,n){this.addChild(t)}show(){this.layoutManager.beginSizeInvalidation();try{bi(this._element,!0);for(let t=0;t<this._contentItems.length;t++)this._contentItems[t].show()}finally{this.layoutManager.endSizeInvalidation()}}destroy(){for(let t=0;t<this._contentItems.length;t++)this._contentItems[t].destroy();this._contentItems=[],this.emitBaseBubblingEvent("beforeItemDestroyed"),this._element.remove(),this.emitBaseBubblingEvent("itemDestroyed")}getElementArea(t){t=t??this._element;const n=t.getBoundingClientRect(),i=n.top+document.body.scrollTop,o=n.left+document.body.scrollLeft,s=n.width,r=n.height;return{x1:o,y1:i,x2:o+s,y2:i+r,surface:s*r,contentItem:this}}init(){this._isInitialised=!0,this.emitBaseBubblingEvent("itemCreated"),this.emitUnknownBubblingEvent(this.type+"Created")}setParent(t){this._parent=t}addPopInParentId(t){this.popInParentIds.includes(t)||this.popInParentIds.push(t)}initContentItems(){for(let t=0;t<this._contentItems.length;t++)this._contentItems[t].init()}hide(){this.layoutManager.beginSizeInvalidation();try{bi(this._element,!1)}finally{this.layoutManager.endSizeInvalidation()}}updateContentItemsSize(t){for(let n=0;n<this._contentItems.length;n++)this._contentItems[n].updateSize(t)}createContentItems(t){const n=t.length,i=new Array(n);for(let o=0;o<t.length;o++)i[o]=this.layoutManager.createContentItem(t[o],this);return i}propagateEvent(t,n){if(n.length===1){const i=n[0];i instanceof nt.BubblingEvent&&i.isPropagationStopped===!1&&this._isInitialised===!0&&(this.isGround===!1&&this._parent?this._parent.emitUnknown(t,i):this.scheduleEventPropagationToLayoutManager(t,i))}}tryBubbleEvent(t,n){if(n.length===1){const i=n[0];i instanceof nt.BubblingEvent&&i.isPropagationStopped===!1&&this._isInitialised===!0&&(this.isGround===!1&&this._parent?this._parent.emitUnknown(t,i):this.scheduleEventPropagationToLayoutManager(t,i))}}scheduleEventPropagationToLayoutManager(t,n){this._throttledEvents.indexOf(t)===-1?this.layoutManager.emitUnknown(t,n):this._pendingEventPropagations[t]!==!0&&(this._pendingEventPropagations[t]=!0,globalThis.requestAnimationFrame(()=>this.propagateEventToLayoutManager(t,n)))}propagateEventToLayoutManager(t,n){this._pendingEventPropagations[t]=!1,this.layoutManager.emitUnknown(t,n)}}class pi extends Tt{constructor(t,n,i){super(t,n,i,document.createElement("div")),this._parentItem=i,this._focused=!1,this.isComponent=!0,this._reorderEnabled=n.reorderEnabled,this.applyUpdatableConfig(n),this._initialWantMaximise=n.maximised;const o=document.createElement("div");o.classList.add("lm_content"),this.element.appendChild(o),this._container=new kv(n,this,t,o,s=>this.handleUpdateItemConfigEvent(s),()=>this.show(),()=>this.hide(),s=>this.focus(s),s=>this.blur(s))}get componentName(){return this._container.componentType}get componentType(){return this._container.componentType}get reorderEnabled(){return this._reorderEnabled}get initialWantMaximise(){return this._initialWantMaximise}get component(){return this._container.component}get container(){return this._container}get parentItem(){return this._parentItem}get headerConfig(){return this._headerConfig}get title(){return this._title}get tab(){return this._tab}get focused(){return this._focused}destroy(){this._container.destroy(),super.destroy()}applyUpdatableConfig(t){this.setTitle(t.title),this._headerConfig=t.header}toConfig(){const t=this._container.stateRequestEvent,n=t===void 0?this._container.state:t();return{type:ie.component,content:[],size:this.size,sizeUnit:this.sizeUnit,minSize:this.minSize,minSizeUnit:this.minSizeUnit,id:this.id,maximised:!1,isClosable:this.isClosable,reorderEnabled:this._reorderEnabled,title:this._title,header:qt.Header.createCopy(this._headerConfig),componentType:eo.copyComponentType(this.componentType),componentState:n}}close(){if(this.parent===null)throw new Ye("CIC68883");this.parent.removeChild(this,!1)}enterDragMode(t,n){Bt(this.element,t),Vt(this.element,n),this._container.enterDragMode(t,n)}exitDragMode(){this._container.exitDragMode()}enterStackMaximised(){this._container.enterStackMaximised()}exitStackMaximised(){this._container.exitStackMaximised()}drag(){this._container.drag()}updateSize(t){this.updateNodeSize(t)}init(){this.updateNodeSize(!1),super.init(),this._container.emit("open"),this.initContentItems()}setTitle(t){this._title=t,this.emit("titleChanged",t),this.emit("stateChanged")}setTab(t){this._tab=t,this.emit("tab",t),this._container.setTab(t)}hide(){super.hide(),this._container.setVisibility(!1)}show(){super.show(),this._container.setVisibility(!0)}focus(t=!1){this.parentItem.setActiveComponentItem(this,!0,t)}setFocused(t){this._focused=!0,this.tab.setFocused(),t||this.emitBaseBubblingEvent("focus")}blur(t=!1){this._focused&&this.layoutManager.setFocusedComponentItem(void 0,t)}setBlurred(t){this._focused=!1,this.tab.setBlurred(),t||this.emitBaseBubblingEvent("blur")}setParent(t){this._parentItem=t,super.setParent(t)}handleUpdateItemConfigEvent(t){this.applyUpdatableConfig(t)}updateNodeSize(t){if(this.element.style.display!=="none"){const{width:n,height:i}=Xn(this.element);this._container.setSizeToNodeSize(n,i,t)}}}class v0 extends Tt{constructor(){super(...arguments),this._focused=!1}get focused(){return this._focused}setFocusedValue(t){this._focused=t}}class Nl extends nt{constructor(t,n){super(),this._eElement=t,this._pointerTracking=!1,this._pointerDownEventListener=i=>this.onPointerDown(i),this._pointerMoveEventListener=i=>this.onPointerMove(i),this._pointerUpEventListener=i=>this.onPointerUp(i),this._timeout=void 0,this._allowableTargets=[t,...n],this._oDocument=document,this._eBody=document.body,this._nDelay=1800,this._nDistance=10,this._nX=0,this._nY=0,this._nOriginalX=0,this._nOriginalY=0,this._dragging=!1,this._eElement.addEventListener("pointerdown",this._pointerDownEventListener,{passive:!0})}destroy(){this.checkRemovePointerTrackingEventListeners(),this._eElement.removeEventListener("pointerdown",this._pointerDownEventListener)}cancelDrag(){this.processDragStop(void 0)}onPointerDown(t){if(this._allowableTargets.includes(t.target)&&t.isPrimary){const n=this.getPointerCoordinates(t);this.processPointerDown(n)}}processPointerDown(t){this._nOriginalX=t.x,this._nOriginalY=t.y,this._oDocument.addEventListener("pointermove",this._pointerMoveEventListener),this._oDocument.addEventListener("pointerup",this._pointerUpEventListener,{passive:!0}),this._pointerTracking=!0,this._timeout=setTimeout(()=>{try{this.startDrag()}catch(n){throw console.error(n),n}},this._nDelay)}onPointerMove(t){this._pointerTracking&&(this.processDragMove(t),t.preventDefault())}processDragMove(t){this._nX=t.pageX-this._nOriginalX,this._nY=t.pageY-this._nOriginalY,this._dragging===!1&&(Math.abs(this._nX)>this._nDistance||Math.abs(this._nY)>this._nDistance)&&this.startDrag(),this._dragging&&this.emit("drag",this._nX,this._nY,t)}onPointerUp(t){this.processDragStop(t)}processDragStop(t){var n;this._timeout!==void 0&&(clearTimeout(this._timeout),this._timeout=void 0),this.checkRemovePointerTrackingEventListeners(),this._dragging===!0&&(this._eBody.classList.remove("lm_dragging"),this._eElement.classList.remove("lm_dragging"),(n=this._oDocument.querySelector("iframe"))===null||n===void 0||n.style.setProperty("pointer-events",""),this._dragging=!1,this.emit("dragStop",t))}checkRemovePointerTrackingEventListeners(){this._pointerTracking&&(this._oDocument.removeEventListener("pointermove",this._pointerMoveEventListener),this._oDocument.removeEventListener("pointerup",this._pointerUpEventListener),this._pointerTracking=!1)}startDrag(){var t;this._timeout!==void 0&&(clearTimeout(this._timeout),this._timeout=void 0),this._dragging=!0,this._eBody.classList.add("lm_dragging"),this._eElement.classList.add("lm_dragging"),(t=this._oDocument.querySelector("iframe"))===null||t===void 0||t.style.setProperty("pointer-events","none"),this.emit("dragStart",this._nOriginalX,this._nOriginalY)}getPointerCoordinates(t){return{x:t.pageX,y:t.pageY}}}class Av{constructor(t,n,i){this._isVertical=t,this._size=n,this._grabSize=i<this._size?this._size:i,this._element=document.createElement("div"),this._element.classList.add("lm_splitter");const o=document.createElement("div");o.classList.add("lm_drag_handle");const s=this._grabSize-this._size,r=s/2;this._isVertical?(o.style.top=Be(-r),o.style.height=Be(this._size+s),this._element.classList.add("lm_vertical"),this._element.style.height=Be(this._size)):(o.style.left=Be(-r),o.style.width=Be(this._size+s),this._element.classList.add("lm_horizontal"),this._element.style.width=Be(this._size)),this._element.appendChild(o),this._dragListener=new Nl(this._element,[o])}get element(){return this._element}destroy(){this._element.remove()}on(t,n){this._dragListener.on(t,n)}}class Ii extends Tt{constructor(t,n,i,o){switch(super(n,i,o,Ii.createElement(document,t)),this._rowOrColumnParent=o,this._splitter=[],this.isRow=!t,this.isColumn=t,this._childElementContainer=this.element,this._splitterSize=n.layoutConfig.dimensions.borderWidth,this._splitterGrabSize=n.layoutConfig.dimensions.borderGrabWidth,this._isColumn=t,this._dimension=t?"height":"width",this._splitterPosition=null,this._splitterMinPosition=null,this._splitterMaxPosition=null,i.type){case ie.row:case ie.column:this._configType=i.type;break;default:throw new $e("ROCCCT00925")}}newComponent(t,n,i,o){const s={type:"component",componentType:t,componentState:n,title:i};return this.newItem(s,o)}addComponent(t,n,i,o){const s={type:"component",componentType:t,componentState:n,title:i};return this.addItem(s,o)}newItem(t,n){n=this.addItem(t,n);const i=this.contentItems[n];return Tt.isStack(i)&&Qe.isComponent(t)?i.contentItems[0]:i}addItem(t,n){this.layoutManager.checkMinimiseMaximisedStack();const i=Qe.resolve(t,!1),o=this.layoutManager.createAndInitContentItem(i,this);return this.addChild(o,n,!1)}addChild(t,n,i){if(n===void 0&&(n=this.contentItems.length),this.contentItems.length>0){const s=this.createSplitter(Math.max(0,n-1)).element;n>0?(this.contentItems[n-1].element.insertAdjacentElement("afterend",s),s.insertAdjacentElement("afterend",t.element)):(this.contentItems[0].element.insertAdjacentElement("beforebegin",s),s.insertAdjacentElement("beforebegin",t.element))}else this._childElementContainer.appendChild(t.element);super.addChild(t,n);const o=1/this.contentItems.length*100;if(i===!0)return this.emitBaseBubblingEvent("stateChanged"),n;for(let s=0;s<this.contentItems.length;s++){const r=this.contentItems[s];if(r===t)t.size=o;else{const u=r.size*=(100-o)/100;r.size=u}}return this.updateSize(!1),this.emitBaseBubblingEvent("stateChanged"),n}removeChild(t,n){const i=this.contentItems.indexOf(t),o=Math.max(i-1,0);if(i===-1)throw new Error("Can't remove child. ContentItem is not child of this Row or Column");if(this._splitter[o]&&(this._splitter[o].destroy(),this._splitter.splice(o,1)),super.removeChild(t,n),this.contentItems.length===1&&this.isClosable===!0){const s=this.contentItems[0];this.contentItems.length=0,this._rowOrColumnParent.replaceChild(this,s,!0)}else this.updateSize(!1),this.emitBaseBubblingEvent("stateChanged")}replaceChild(t,n){const i=t.size;super.replaceChild(t,n),n.size=i,this.updateSize(!1),this.emitBaseBubblingEvent("stateChanged")}updateSize(t){this.layoutManager.beginVirtualSizedContainerAdding();try{this.updateNodeSize(),this.updateContentItemsSize(t)}finally{this.layoutManager.endVirtualSizedContainerAdding()}}init(){if(this.isInitialised!==!0){this.updateNodeSize();for(let t=0;t<this.contentItems.length;t++)this._childElementContainer.appendChild(this.contentItems[t].element);super.init();for(let t=0;t<this.contentItems.length-1;t++)this.contentItems[t].element.insertAdjacentElement("afterend",this.createSplitter(t).element);this.initContentItems()}}toConfig(){return{type:this.type,content:this.calculateConfigContent(),size:this.size,sizeUnit:this.sizeUnit,minSize:this.minSize,minSizeUnit:this.minSizeUnit,id:this.id,isClosable:this.isClosable}}setParent(t){this._rowOrColumnParent=t,super.setParent(t)}updateNodeSize(){this.contentItems.length>0&&(this.calculateRelativeSizes(),this.setAbsoluteSizes()),this.emitBaseBubblingEvent("stateChanged"),this.emit("resize")}setAbsoluteSizes(){const t=this.calculateAbsoluteSizes();for(let n=0;n<this.contentItems.length;n++)t.additionalPixel-n>0&&t.itemSizes[n]++,this._isColumn?(Bt(this.contentItems[n].element,t.crossAxisSize),Vt(this.contentItems[n].element,t.itemSizes[n])):(Bt(this.contentItems[n].element,t.itemSizes[n]),Vt(this.contentItems[n].element,t.crossAxisSize))}calculateAbsoluteSizes(){const t=(this.contentItems.length-1)*this._splitterSize,{width:n,height:i}=Xn(this.element);let o,s;this._isColumn?(o=i-t,s=n):(o=n-t,s=i);let r=0;const u=[];for(let l=0;l<this.contentItems.length;l++){const c=this.contentItems[l];let d;if(c.sizeUnit===ze.Percent)d=Math.floor(o*(c.size/100));else throw new $e("ROCCAS6692");r+=d,u.push(d)}const a=Math.floor(o-r);return{itemSizes:u,additionalPixel:a,totalSize:o,crossAxisSize:s}}calculateRelativeSizes(){let t=0;const n=[];let i=0;for(let o=0;o<this.contentItems.length;o++){const s=this.contentItems[o];switch(s.sizeUnit){case ze.Percent:{t+=s.size;break}case ze.Fractional:{n.push(s),i+=s.size;break}default:throw new $e("ROCCRS49110",JSON.stringify(s))}}if(Math.round(t)===100){this.respectMinItemSize();return}else if(Math.round(t)<100&&n.length>0){const o=100-t;for(let s=0;s<n.length;s++){const r=n[s];r.size=o*(r.size/i),r.sizeUnit=ze.Percent}this.respectMinItemSize();return}else{if(Math.round(t)>100&&n.length>0){for(let o=0;o<n.length;o++){const s=n[o];s.size=50*(s.size/i),s.sizeUnit=ze.Percent}t+=50}for(let o=0;o<this.contentItems.length;o++){const s=this.contentItems[o];s.size=s.size/t*100}this.respectMinItemSize()}}respectMinItemSize(){const t=this.calculateContentItemMinSize(this);if(!(t<=0||this.contentItems.length<=1)){let n=0,i=0;const o=[],s=[],r=this.calculateAbsoluteSizes();for(let u=0;u<r.itemSizes.length;u++){const a=r.itemSizes[u];let l;a<t?(i+=t-a,l={size:t}):(n+=a-t,l={size:a},o.push(l)),s.push(l)}if(i===0||i>n)return;{const u=i/n;let a=i;for(let l=0;l<o.length;l++){const c=o[l],d=Math.round((c.size-t)*u);a-=d,c.size-=d}a!==0&&(s[s.length-1].size-=a);for(let l=0;l<this.contentItems.length;l++){const c=this.contentItems[l];c.size=s[l].size/r.totalSize*100}}}}createSplitter(t){const n=new Av(this._isColumn,this._splitterSize,this._splitterGrabSize);return n.on("drag",(i,o)=>this.onSplitterDrag(n,i,o)),n.on("dragStop",()=>this.onSplitterDragStop(n)),n.on("dragStart",()=>this.onSplitterDragStart(n)),this._splitter.splice(t,0,n),n}getSplitItems(t){const n=this._splitter.indexOf(t);return{before:this.contentItems[n],after:this.contentItems[n+1]}}calculateContentItemMinSize(t){const n=t.minSize;if(n!==void 0){if(t.minSizeUnit===ze.Pixel)return n;throw new $e("ROCGMD98831",JSON.stringify(t))}else{const i=this.layoutManager.layoutConfig.dimensions;return this._isColumn?i.defaultMinItemHeight:i.defaultMinItemWidth}}calculateContentItemsTotalMinSize(t){let n=0;for(const i of t)n+=this.calculateContentItemMinSize(i);return n}onSplitterDragStart(t){const n=this.getSplitItems(t),i=zi(n.before.element.style[this._dimension]),o=zi(n.after.element.style[this._dimension]),s=this.calculateContentItemsTotalMinSize(n.before.contentItems),r=this.calculateContentItemsTotalMinSize(n.after.contentItems);this._splitterPosition=0,this._splitterMinPosition=-1*(i-s),this._splitterMaxPosition=o-r}onSplitterDrag(t,n,i){let o=this._isColumn?i:n;if(this._splitterMinPosition===null||this._splitterMaxPosition===null)throw new Ye("ROCOSD59226");o=Math.max(o,this._splitterMinPosition),o=Math.min(o,this._splitterMaxPosition),this._splitterPosition=o;const s=Be(o);this._isColumn?t.element.style.top=s:t.element.style.left=s}onSplitterDragStop(t){if(this._splitterPosition===null)throw new Ye("ROCOSDS66932");{const n=this.getSplitItems(t),i=zi(n.before.element.style[this._dimension]),o=zi(n.after.element.style[this._dimension]),s=(this._splitterPosition+i)/(i+o),r=n.before.size+n.after.size;n.before.size=s*r,n.after.size=(1-s)*r,t.element.style.top=Be(0),t.element.style.left=Be(0),globalThis.requestAnimationFrame(()=>this.updateSize(!1))}}}(function(e){function t(o,s){return s==="width"?xv(o):Cv(o)}e.getElementDimensionSize=t;function n(o,s,r){return s==="width"?Bt(o,r):Vt(o,r)}e.setElementDimensionSize=n;function i(o,s){const r=o.createElement("div");return r.classList.add("lm_item"),s?r.classList.add("lm_column"):r.classList.add("lm_row"),r}e.createElement=i})(Ii||(Ii={}));class ni extends v0{constructor(t,n,i){super(t,Ba.create(n),null,ni.createElement(document)),this.isGround=!0,this._childElementContainer=this.element,this._containerElement=i;let o=null;for(;;){const s=o?o.previousSibling:this._containerElement.lastChild;if(s instanceof Element&&s.classList.contains("lm_content"))o=s;else break}this._containerElement.insertBefore(this.element,o)}init(){if(this.isInitialised!==!0){this.updateNodeSize();for(let t=0;t<this.contentItems.length;t++)this._childElementContainer.appendChild(this.contentItems[t].element);super.init(),this.initContentItems()}}loadRoot(t){if(this.clearRoot(),t!==void 0){const n=this.layoutManager.createAndInitContentItem(t,this);this.addChild(n,0)}}clearRoot(){const t=this.contentItems;switch(t.length){case 0:return;case 1:{t[0].remove();return}default:throw new $e("GILR07721")}}addItem(t,n){this.layoutManager.checkMinimiseMaximisedStack();const i=Qe.resolve(t,!1);let o;if(this.contentItems.length>0?o=this.contentItems[0]:o=this,o.isComponent)throw new Error("Cannot add item as child to ComponentItem");{const s=this.layoutManager.createAndInitContentItem(i,o);return n=o.addChild(s,n),o===this?-1:n}}loadComponentAsRoot(t){this.clearRoot();const n=Qe.resolve(t,!1);if(n.maximised)throw new Error("Root Component cannot be maximised");{const i=new pi(this.layoutManager,n,this);i.init(),this.addChild(i,0)}}addChild(t,n){if(this.contentItems.length>0)throw new Error("Ground node can only have a single child");return this._childElementContainer.appendChild(t.element),n=super.addChild(t,n),this.updateSize(!1),this.emitBaseBubblingEvent("stateChanged"),n}calculateConfigContent(){const t=this.contentItems,n=t.length,i=new Array(n);for(let o=0;o<n;o++){const r=t[o].toConfig();if(ki.isRootItemConfig(r))i[o]=r;else throw new $e("RCCC66832")}return i}setSize(t,n){t===void 0||n===void 0?this.updateSize(!1):(Bt(this.element,t),Vt(this.element,n),this.contentItems.length>0&&(Bt(this.contentItems[0].element,t),Vt(this.contentItems[0].element,n)),this.updateContentItemsSize(!1))}updateSize(t){this.layoutManager.beginVirtualSizedContainerAdding();try{this.updateNodeSize(),this.updateContentItemsSize(t)}finally{this.layoutManager.endVirtualSizedContainerAdding()}}createSideAreas(){const n=ni.Area.oppositeSides,i=new Array(Object.keys(n).length);let o=0;for(const s in n){const r=s,u=this.getElementArea();if(u===null)throw new Ye("RCSA77553");u.side=r,n[r][1]==="2"?u[r]=u[n[r]]-50:u[r]=u[n[r]]+50,u.surface=(u.x2-u.x1)*(u.y2-u.y1),i[o++]=u}return i}highlightDropZone(t,n,i){this.layoutManager.tabDropPlaceholder.remove(),super.highlightDropZone(t,n,i)}onDrop(t,n){if(t.isComponent){const i=On.createDefault(),o=t;i.header=qt.Header.createCopy(o.headerConfig);const s=this.layoutManager.createAndInitContentItem(i,this);s.addChild(t),t=s}if(this.contentItems.length===0)this.addChild(t);else{if(t.type===ie.row||t.type===ie.column){const r=On.createDefault(),u=this.layoutManager.createContentItem(r,this);u.addChild(t),t=u}const i=n.side[0]=="x"?ie.row:ie.column,o=n.side[1]=="2",s=this.contentItems[0];if(!(s instanceof Ii)||s.type!==i){const r=Pe.createDefault(i),u=this.layoutManager.createContentItem(r,this);this.replaceChild(s,u),u.addChild(t,o?0:void 0,!0),u.addChild(s,o?void 0:0,!0),s.size=50,t.size=50,t.sizeUnit=ze.Percent,u.updateSize(!1)}else{const r=s.contentItems[o?0:s.contentItems.length-1];s.addChild(t,o?0:void 0,!0),r.size*=.5,t.size=r.size,t.sizeUnit=ze.Percent,s.updateSize(!1)}}}dock(){throw new $e("GID87731")}validateDocking(){throw new $e("GIVD87732")}getAllContentItems(){const t=[this];return this.deepGetAllContentItems(this.contentItems,t),t}getConfigMaximisedItems(){const t=[];return this.deepFilterContentItems(this.contentItems,t,n=>Tt.isStack(n)&&n.initialWantMaximise?!0:!!(Tt.isComponentItem(n)&&n.initialWantMaximise)),t}getItemsByPopInParentId(t){const n=[];return this.deepFilterContentItems(this.contentItems,n,i=>i.popInParentIds.includes(t)),n}toConfig(){throw new Error("Cannot generate GroundItem config")}setActiveComponentItem(t,n,i){}updateNodeSize(){const{width:t,height:n}=Xn(this._containerElement);Bt(this.element,t),Vt(this.element,n),this.contentItems.length>0&&(Bt(this.contentItems[0].element,t),Vt(this.contentItems[0].element,n))}deepGetAllContentItems(t,n){for(let i=0;i<t.length;i++){const o=t[i];n.push(o),this.deepGetAllContentItems(o.contentItems,n)}}deepFilterContentItems(t,n,i){for(let o=0;o<t.length;o++){const s=t[o];i(s)&&n.push(s),this.deepFilterContentItems(s.contentItems,n,i)}}}(function(e){(function(n){n.oppositeSides={y2:"y1",x2:"x1",y1:"y2",x1:"x2"}})(e.Area||(e.Area={}));function t(n){const i=n.createElement("div");return i.classList.add("lm_goldenlayout"),i.classList.add("lm_item"),i.classList.add("lm_root"),i}e.createElement=t})(ni||(ni={}));class Ss{constructor(t,n,i,o){this._header=t,this._pushEvent=o,this._clickEventListener=s=>this.onClick(s),this._touchStartEventListener=s=>this.onTouchStart(s),this._element=document.createElement("div"),this._element.classList.add(i),this._element.title=n,this._header.on("destroy",()=>this.destroy()),this._element.addEventListener("click",this._clickEventListener,{passive:!0}),this._element.addEventListener("touchstart",this._touchStartEventListener,{passive:!0}),this._header.controlsContainerElement.appendChild(this._element)}get element(){return this._element}destroy(){var t;this._element.removeEventListener("click",this._clickEventListener),this._element.removeEventListener("touchstart",this._touchStartEventListener),(t=this._element.parentNode)===null||t===void 0||t.removeChild(this._element)}onClick(t){this._pushEvent(t)}onTouchStart(t){this._pushEvent(t)}}class Dv{constructor(t,n,i,o,s){var r;this._layoutManager=t,this._componentItem=n,this._closeEvent=i,this._focusEvent=o,this._dragStartEvent=s,this._isActive=!1,this._tabClickListener=a=>this.onTabClickDown(a),this._tabTouchStartListener=a=>this.onTabTouchStart(a),this._closeClickListener=()=>this.onCloseClick(),this._closeTouchStartListener=()=>this.onCloseTouchStart(),this._dragStartListener=(a,l)=>this.onDragStart(a,l),this._contentItemDestroyListener=()=>this.onContentItemDestroy(),this._tabTitleChangedListener=a=>this.setTitle(a),this._element=document.createElement("div"),this._element.classList.add("lm_tab"),this._titleElement=document.createElement("span"),this._titleElement.classList.add("lm_title"),this._closeElement=document.createElement("div"),this._closeElement.classList.add("lm_close_tab"),this._element.appendChild(this._titleElement),this._element.appendChild(this._closeElement),n.isClosable?this._closeElement.style.display="":this._closeElement.style.display="none",this.setTitle(n.title),this._componentItem.on("titleChanged",this._tabTitleChangedListener),((r=n.reorderEnabled)!==null&&r!==void 0?r:this._layoutManager.layoutConfig.settings.reorderEnabled)&&this.enableReorder(),this._element.addEventListener("click",this._tabClickListener,{passive:!0}),this._element.addEventListener("touchstart",this._tabTouchStartListener,{passive:!0}),this._componentItem.isClosable?(this._closeElement.addEventListener("click",this._closeClickListener,{passive:!0}),this._closeElement.addEventListener("touchstart",this._closeTouchStartListener,{passive:!0})):(this._closeElement.remove(),this._closeElement=void 0),this._componentItem.setTab(this),this._layoutManager.emit("tabCreated",this)}get isActive(){return this._isActive}get componentItem(){return this._componentItem}get contentItem(){return this._componentItem}get element(){return this._element}get titleElement(){return this._titleElement}get closeElement(){return this._closeElement}get reorderEnabled(){return this._dragListener!==void 0}set reorderEnabled(t){t!==this.reorderEnabled&&(t?this.enableReorder():this.disableReorder())}setTitle(t){this._titleElement.innerText=t,this._element.title=t}setActive(t){t!==this._isActive&&(this._isActive=t,t?this._element.classList.add("lm_active"):this._element.classList.remove("lm_active"))}destroy(){var t,n;this._closeEvent=void 0,this._focusEvent=void 0,this._dragStartEvent=void 0,this._element.removeEventListener("click",this._tabClickListener),this._element.removeEventListener("touchstart",this._tabTouchStartListener),(t=this._closeElement)===null||t===void 0||t.removeEventListener("click",this._closeClickListener),(n=this._closeElement)===null||n===void 0||n.removeEventListener("touchstart",this._closeTouchStartListener),this._componentItem.off("titleChanged",this._tabTitleChangedListener),this.reorderEnabled&&this.disableReorder(),this._element.remove()}setBlurred(){this._element.classList.remove("lm_focused"),this._titleElement.classList.remove("lm_focused")}setFocused(){this._element.classList.add("lm_focused"),this._titleElement.classList.add("lm_focused")}onDragStart(t,n){if(this._dragListener===void 0)throw new Te("TODSDLU10093");if(this._dragStartEvent===void 0)throw new Te("TODS23309");this._dragStartEvent(t,n,this._dragListener,this.componentItem)}onContentItemDestroy(){this._dragListener!==void 0&&(this._dragListener.destroy(),this._dragListener=void 0)}onTabClickDown(t){const n=t.target;(n===this._element||n===this._titleElement)&&(t.button===0?this.notifyFocus():t.button===1&&this._componentItem.isClosable&&this.notifyClose())}onTabTouchStart(t){t.target===this._element&&this.notifyFocus()}onCloseClick(){this.notifyClose()}onCloseTouchStart(){this.notifyClose()}notifyClose(){if(this._closeEvent===void 0)throw new Te("TNC15007");this._closeEvent(this._componentItem)}notifyFocus(){if(this._focusEvent===void 0)throw new Te("TNA15007");this._focusEvent(this._componentItem)}enableReorder(){this._dragListener=new Nl(this._element,[this._titleElement]),this._dragListener.on("dragStart",this._dragStartListener),this._componentItem.on("destroy",this._contentItemDestroyListener)}disableReorder(){if(this._dragListener===void 0)throw new Te("TDR87745");this._componentItem.off("destroy",this._contentItemDestroyListener),this._dragListener.off("dragStart",this._dragStartListener),this._dragListener=void 0}}class Nv{constructor(t,n,i,o,s){this._layoutManager=t,this._componentRemoveEvent=n,this._componentFocusEvent=i,this._componentDragStartEvent=o,this._dropdownActiveChangedEvent=s,this._tabs=[],this._lastVisibleTabIndex=-1,this._dropdownActive=!1,this._element=document.createElement("section"),this._element.classList.add("lm_tabs"),this._dropdownElement=document.createElement("section"),this._dropdownElement.classList.add("lm_tabdropdown_list"),this._dropdownElement.style.display="none"}get tabs(){return this._tabs}get tabCount(){return this._tabs.length}get lastVisibleTabIndex(){return this._lastVisibleTabIndex}get element(){return this._element}get dropdownElement(){return this._dropdownElement}get dropdownActive(){return this._dropdownActive}destroy(){for(let t=0;t<this._tabs.length;t++)this._tabs[t].destroy()}createTab(t,n){for(let o=0;o<this._tabs.length;o++)if(this._tabs[o].componentItem===t)return;const i=new Dv(this._layoutManager,t,o=>this.handleTabCloseEvent(o),o=>this.handleTabFocusEvent(o),(o,s,r,u)=>this.handleTabDragStartEvent(o,s,r,u));n===void 0&&(n=this._tabs.length),this._tabs.splice(n,0,i),n<this._element.childNodes.length?this._element.insertBefore(i.element,this._element.childNodes[n]):this._element.appendChild(i.element)}removeTab(t){for(let n=0;n<this._tabs.length;n++)if(this._tabs[n].componentItem===t){this._tabs[n].destroy(),this._tabs.splice(n,1);return}throw new Error("contentItem is not controlled by this header")}processActiveComponentChanged(t){let n=-1;for(let i=0;i<this._tabs.length;i++){const o=this._tabs[i].componentItem===t;this._tabs[i].setActive(o),o&&(n=i)}if(n<0)throw new $e("HSACI56632");if(this._layoutManager.layoutConfig.settings.reorderOnTabMenuClick&&this._lastVisibleTabIndex!==-1&&n>this._lastVisibleTabIndex){const i=this._tabs[n];for(let o=n;o>0;o--)this._tabs[o]=this._tabs[o-1];this._tabs[0]=i}}updateTabSizes(t,n){let i=!1;this.tryUpdateTabSizes(i,t,n)||(i=!0,this.tryUpdateTabSizes(i,t,n)),i!==this._dropdownActive&&(this._dropdownActive=i,this._dropdownActiveChangedEvent())}tryUpdateTabSizes(t,n,i){if(this._tabs.length>0){if(i===void 0)throw new Error("non-empty tabs must have active component item");let o=0,s=!1;const r=this._layoutManager.layoutConfig.settings.tabOverlapAllowance,u=this._tabs.indexOf(i.tab),a=this._tabs[u];this._lastVisibleTabIndex=-1;for(let l=0;l<this._tabs.length;l++){const c=this._tabs[l].element;c.parentElement!==this._element&&this._element.appendChild(c);const d=getComputedStyle(a.element).marginRight,f=zi(d),h=c.offsetWidth+f;o+=h;let p=0;if(u<=l)p=o;else{const _=getComputedStyle(a.element).marginRight,b=zi(_);p=o+a.element.offsetWidth+b}if(p>n){if(s)l===u&&(c.style.zIndex="auto",c.style.marginLeft="",c.parentElement!==this._element&&this._element.appendChild(c));else{let _;if(u>0&&u<=l?_=(p-n)/(l-1):_=(p-n)/l,_<r){for(let b=0;b<=l;b++){const y=b!==u&&b!==0?"-"+Be(_):"";this._tabs[b].element.style.zIndex=Be(l-b),this._tabs[b].element.style.marginLeft=y}this._lastVisibleTabIndex=l,c.parentElement!==this._element&&this._element.appendChild(c)}else s=!0}if(s&&l!==u)if(t)c.style.zIndex="auto",c.style.marginLeft="",c.parentElement!==this._dropdownElement&&this._dropdownElement.appendChild(c);else return!1}else this._lastVisibleTabIndex=l,c.style.zIndex="auto",c.style.marginLeft="",c.parentElement!==this._element&&this._element.appendChild(c)}}return!0}showAdditionalTabsDropdown(){this._dropdownElement.style.display=""}hideAdditionalTabsDropdown(){this._dropdownElement.style.display="none"}handleTabCloseEvent(t){this._componentRemoveEvent(t)}handleTabFocusEvent(t){this._componentFocusEvent(t)}handleTabDragStartEvent(t,n,i,o){this._componentDragStartEvent(t,n,i,o)}}class Tv extends nt{constructor(t,n,i,o,s,r,u,a,l,c,d,f,h){super(),this._layoutManager=t,this._parent=n,this._configClosable=o,this._getActiveComponentItemEvent=s,this._popoutEvent=u,this._maximiseToggleEvent=a,this._clickEvent=l,this._touchStartEvent=c,this._componentRemoveEvent=d,this._componentFocusEvent=f,this._componentDragStartEvent=h,this._clickListener=p=>this.onClick(p),this._touchStartListener=p=>this.onTouchStart(p),this._rowColumnClosable=!0,this._closeButton=null,this._popoutButton=null,this._tabsContainer=new Nv(this._layoutManager,p=>this.handleTabInitiatedComponentRemoveEvent(p),p=>this.handleTabInitiatedComponentFocusEvent(p),(p,_,b,y)=>this.handleTabInitiatedDragStartEvent(p,_,b,y),()=>this.processTabDropdownActiveChanged()),this._show=i.show,this._popoutEnabled=i.popoutEnabled,this._popoutLabel=i.popoutLabel,this._maximiseEnabled=i.maximiseEnabled,this._maximiseLabel=i.maximiseLabel,this._minimiseEnabled=i.minimiseEnabled,this._minimiseLabel=i.minimiseLabel,this._closeEnabled=i.closeEnabled,this._closeLabel=i.closeLabel,this._tabDropdownEnabled=i.tabDropdownEnabled,this._tabDropdownLabel=i.tabDropdownLabel,this.setSide(i.side),this._canRemoveComponent=this._configClosable,this._element=document.createElement("section"),this._element.classList.add("lm_header"),this._controlsContainerElement=document.createElement("section"),this._controlsContainerElement.classList.add("lm_controls"),this._element.appendChild(this._tabsContainer.element),this._element.appendChild(this._controlsContainerElement),this._element.appendChild(this._tabsContainer.dropdownElement),this._element.addEventListener("click",this._clickListener,{passive:!0}),this._element.addEventListener("touchstart",this._touchStartListener,{passive:!0}),this._documentMouseUpListener=()=>this._tabsContainer.hideAdditionalTabsDropdown(),globalThis.document.addEventListener("mouseup",this._documentMouseUpListener,{passive:!0}),this._tabControlOffset=this._layoutManager.layoutConfig.settings.tabControlOffset,this._tabDropdownEnabled&&(this._tabDropdownButton=new Ss(this,this._tabDropdownLabel,"lm_tabdropdown",()=>this._tabsContainer.showAdditionalTabsDropdown())),this._popoutEnabled&&(this._popoutButton=new Ss(this,this._popoutLabel,"lm_popout",()=>this.handleButtonPopoutEvent())),this._maximiseEnabled&&(this._maximiseButton=new Ss(this,this._maximiseLabel,"lm_maximise",p=>this.handleButtonMaximiseToggleEvent(p))),this._configClosable&&(this._closeButton=new Ss(this,this._closeLabel,"lm_close",()=>r())),this.processTabDropdownActiveChanged()}get show(){return this._show}get side(){return this._side}get leftRightSided(){return this._leftRightSided}get layoutManager(){return this._layoutManager}get parent(){return this._parent}get tabs(){return this._tabsContainer.tabs}get lastVisibleTabIndex(){return this._tabsContainer.lastVisibleTabIndex}get element(){return this._element}get tabsContainerElement(){return this._tabsContainer.element}get controlsContainerElement(){return this._controlsContainerElement}destroy(){this.emit("destroy"),this._popoutEvent=void 0,this._maximiseToggleEvent=void 0,this._clickEvent=void 0,this._touchStartEvent=void 0,this._componentRemoveEvent=void 0,this._componentFocusEvent=void 0,this._componentDragStartEvent=void 0,this._tabsContainer.destroy(),globalThis.document.removeEventListener("mouseup",this._documentMouseUpListener),this._element.remove()}createTab(t,n){this._tabsContainer.createTab(t,n)}removeTab(t){this._tabsContainer.removeTab(t)}processActiveComponentChanged(t){this._tabsContainer.processActiveComponentChanged(t),this.updateTabSizes()}setSide(t){this._side=t,this._leftRightSided=[ei.right,ei.left].includes(this._side)}setRowColumnClosable(t){this._rowColumnClosable=t,this.updateClosability()}updateClosability(){let t;if(!this._configClosable)t=!1;else if(!this._rowColumnClosable)t=!1;else{t=!0;const n=this.tabs.length;for(let i=0;i<n;i++)if(!this._tabsContainer.tabs[i].componentItem.isClosable){t=!1;break}}this._closeButton!==null&&bi(this._closeButton.element,t),this._popoutButton!==null&&bi(this._popoutButton.element,t),this._canRemoveComponent=t||this._tabsContainer.tabCount>1}applyFocusedValue(t){t?this._element.classList.add("lm_focused"):this._element.classList.remove("lm_focused")}processMaximised(){if(this._maximiseButton===void 0)throw new Te("HPMAX16997");this._maximiseButton.element.setAttribute("title",this._minimiseLabel)}processMinimised(){if(this._maximiseButton===void 0)throw new Te("HPMIN16997");this._maximiseButton.element.setAttribute("title",this._maximiseLabel)}updateTabSizes(){if(this._tabsContainer.tabCount>0){const t=this._show?this._layoutManager.layoutConfig.dimensions.headerHeight:0;this._leftRightSided?(this._element.style.height="",this._element.style.width=Be(t)):(this._element.style.width="",this._element.style.height=Be(t));let n;this._leftRightSided?n=this._element.offsetHeight-this._controlsContainerElement.offsetHeight-this._tabControlOffset:n=this._element.offsetWidth-this._controlsContainerElement.offsetWidth-this._tabControlOffset,this._tabsContainer.updateTabSizes(n,this._getActiveComponentItemEvent())}}handleTabInitiatedComponentRemoveEvent(t){if(this._canRemoveComponent){if(this._componentRemoveEvent===void 0)throw new Te("HHTCE22294");this._componentRemoveEvent(t)}}handleTabInitiatedComponentFocusEvent(t){if(this._componentFocusEvent===void 0)throw new Te("HHTAE22294");this._componentFocusEvent(t)}handleTabInitiatedDragStartEvent(t,n,i,o){if(!this._canRemoveComponent)i.cancelDrag();else{if(this._componentDragStartEvent===void 0)throw new Te("HHTDSE22294");this._componentDragStartEvent(t,n,i,o)}}processTabDropdownActiveChanged(){this._tabDropdownButton!==void 0&&bi(this._tabDropdownButton.element,this._tabsContainer.dropdownActive)}handleButtonPopoutEvent(){if(this._layoutManager.layoutConfig.settings.popoutWholeStack){if(this._popoutEvent===void 0)throw new Te("HHBPOE17834");this._popoutEvent()}else{const t=this._getActiveComponentItemEvent();t&&t.popout()}}handleButtonMaximiseToggleEvent(t){if(this._maximiseToggleEvent===void 0)throw new Te("HHBMTE16834");this._maximiseToggleEvent()}onClick(t){t.target===this._element&&this.notifyClick(t)}onTouchStart(t){t.target===this._element&&this.notifyTouchStart(t)}notifyClick(t){if(this._clickEvent===void 0)throw new Te("HNHC46834");this._clickEvent(t)}notifyTouchStart(t){if(this._touchStartEvent===void 0)throw new Te("HNHTS46834");this._touchStartEvent(t)}}class An extends v0{constructor(t,n,i){var o,s,r,u,a,l,c,d,f,h,p,_,b,y,v,m,g,x,E;super(t,n,i,An.createElement(document)),this._headerSideChanged=!1,this._resizeListener=()=>this.handleResize(),this._maximisedListener=()=>this.handleMaximised(),this._minimisedListener=()=>this.handleMinimised(),this._headerConfig=n.header;const D=t.layoutConfig.header,k=n.content;let w;k.length!==1?w=void 0:w=k[0].header,this._initialWantMaximise=n.maximised,this._initialActiveItemIndex=(o=n.activeItemIndex)!==null&&o!==void 0?o:0;const M=(u=(r=(s=this._headerConfig)===null||s===void 0?void 0:s.show)!==null&&r!==void 0?r:w==null?void 0:w.show)!==null&&u!==void 0?u:D.show,O=(c=(l=(a=this._headerConfig)===null||a===void 0?void 0:a.popout)!==null&&l!==void 0?l:w==null?void 0:w.popout)!==null&&c!==void 0?c:D.popout,C=(h=(f=(d=this._headerConfig)===null||d===void 0?void 0:d.maximise)!==null&&f!==void 0?f:w==null?void 0:w.maximise)!==null&&h!==void 0?h:D.maximise,z=(b=(_=(p=this._headerConfig)===null||p===void 0?void 0:p.close)!==null&&_!==void 0?_:w==null?void 0:w.close)!==null&&b!==void 0?b:D.close,P=(m=(v=(y=this._headerConfig)===null||y===void 0?void 0:y.minimise)!==null&&v!==void 0?v:w==null?void 0:w.minimise)!==null&&m!==void 0?m:D.minimise,q=(E=(x=(g=this._headerConfig)===null||g===void 0?void 0:g.tabDropdown)!==null&&x!==void 0?x:w==null?void 0:w.tabDropdown)!==null&&E!==void 0?E:D.tabDropdown;this._maximisedEnabled=C!==!1;const R={show:M!==!1,side:M===!1?ei.top:M,popoutEnabled:O!==!1,popoutLabel:O===!1?"":O,maximiseEnabled:this._maximisedEnabled,maximiseLabel:C===!1?"":C,closeEnabled:z!==!1,closeLabel:z===!1?"":z,minimiseEnabled:!0,minimiseLabel:P,tabDropdownEnabled:q!==!1,tabDropdownLabel:q===!1?"":q};this._header=new Tv(t,this,R,n.isClosable&&z!==!1,()=>this.getActiveComponentItem(),()=>this.remove(),()=>this.handlePopoutEvent(),()=>this.toggleMaximise(),W=>this.handleHeaderClickEvent(W),W=>this.handleHeaderTouchStartEvent(W),W=>this.handleHeaderComponentRemoveEvent(W),W=>this.handleHeaderComponentFocusEvent(W),(W,Z,ne,oe)=>this.handleHeaderComponentStartDragEvent(W,Z,ne,oe)),this.isStack=!0,this._childElementContainer=document.createElement("section"),this._childElementContainer.classList.add("lm_items"),this.on("resize",this._resizeListener),this._maximisedEnabled&&(this.on("maximised",this._maximisedListener),this.on("minimised",this._minimisedListener)),this.element.appendChild(this._header.element),this.element.appendChild(this._childElementContainer),this.setupHeaderPosition(),this._header.updateClosability()}get childElementContainer(){return this._childElementContainer}get header(){return this._header}get headerShow(){return this._header.show}get headerSide(){return this._header.side}get headerLeftRightSided(){return this._header.leftRightSided}get contentAreaDimensions(){return this._contentAreaDimensions}get initialWantMaximise(){return this._initialWantMaximise}get isMaximised(){return this===this.layoutManager.maximisedStack}get stackParent(){if(!this.parent)throw new Error("Stack should always have a parent");return this.parent}updateSize(t){this.layoutManager.beginVirtualSizedContainerAdding();try{this.updateNodeSize(),this.updateContentItemsSize(t)}finally{this.layoutManager.endVirtualSizedContainerAdding()}}init(){if(this.isInitialised===!0)return;this.updateNodeSize();for(let i=0;i<this.contentItems.length;i++)this._childElementContainer.appendChild(this.contentItems[i].element);super.init();const t=this.contentItems,n=t.length;if(n>0){if(this._initialActiveItemIndex<0||this._initialActiveItemIndex>=n)throw new Error(`ActiveItemIndex out of range: ${this._initialActiveItemIndex} id: ${this.id}`);for(let i=0;i<n;i++){const o=t[i];if(o instanceof pi)this._header.createTab(o,i),o.hide(),o.container.setBaseLogicalZIndex();else throw new Error(`Stack Content Item is not of type ComponentItem: ${i} id: ${this.id}`)}this.setActiveComponentItem(t[this._initialActiveItemIndex],!1),this._header.updateTabSizes()}this._header.updateClosability(),this.initContentItems()}setActiveContentItem(t){if(Tt.isComponentItem(t))this.setActiveComponentItem(t,!1);else throw new Error("Stack.setActiveContentItem: item is not a ComponentItem")}setActiveComponentItem(t,n,i=!1){if(this._activeComponentItem!==t){if(this.contentItems.indexOf(t)===-1)throw new Error("componentItem is not a child of this stack");this.layoutManager.beginSizeInvalidation();try{this._activeComponentItem!==void 0&&this._activeComponentItem.hide(),this._activeComponentItem=t,this._header.processActiveComponentChanged(t),t.show()}finally{this.layoutManager.endSizeInvalidation()}this.emit("activeContentItemChanged",t),this.layoutManager.emit("activeContentItemChanged",t),this.emitStateChangedEvent()}(this.focused||n)&&this.layoutManager.setFocusedComponentItem(t,i)}getActiveContentItem(){var t;return(t=this.getActiveComponentItem())!==null&&t!==void 0?t:null}getActiveComponentItem(){return this._activeComponentItem}focusActiveContentItem(){var t;(t=this._activeComponentItem)===null||t===void 0||t.focus()}setFocusedValue(t){this._header.applyFocusedValue(t),super.setFocusedValue(t)}setRowColumnClosable(t){this._header.setRowColumnClosable(t)}newComponent(t,n,i,o){const s={type:"component",componentType:t,componentState:n,title:i};return this.newItem(s,o)}addComponent(t,n,i,o){const s={type:"component",componentType:t,componentState:n,title:i};return this.addItem(s,o)}newItem(t,n){return n=this.addItem(t,n),this.contentItems[n]}addItem(t,n){this.layoutManager.checkMinimiseMaximisedStack();const i=Qe.resolve(t,!1),o=this.layoutManager.createAndInitContentItem(i,this);return this.addChild(o,n)}addChild(t,n,i=!1){if(n!==void 0&&n>this.contentItems.length)throw n-=1,new $e("SAC99728");if(t instanceof pi)return n=super.addChild(t,n),this._childElementContainer.appendChild(t.element),this._header.createTab(t,n),this.setActiveComponentItem(t,i),this._header.updateTabSizes(),this.updateSize(!1),t.container.setBaseLogicalZIndex(),this._header.updateClosability(),this.emitStateChangedEvent(),n;throw new $e("SACC88532")}removeChild(t,n){const i=t,o=this.contentItems.indexOf(i),s=this.contentItems.length===1;if(this._activeComponentItem===i&&(i.focused&&i.blur(),!s)){const r=o===0?1:o-1;this.setActiveComponentItem(this.contentItems[r],!1)}this._header.removeTab(i),super.removeChild(i,n),s||this._header.updateClosability(),this.emitStateChangedEvent()}toggleMaximise(){this.isMaximised?this.minimise():this.maximise()}maximise(){if(!this.isMaximised){this.layoutManager.setMaximisedStack(this);const t=this.contentItems,n=t.length;for(let i=0;i<n;i++){const o=t[i];if(o instanceof pi)o.enterStackMaximised();else throw new $e("SMAXI87773")}this.emitStateChangedEvent()}}minimise(){if(this.isMaximised){this.layoutManager.setMaximisedStack(void 0);const t=this.contentItems,n=t.length;for(let i=0;i<n;i++){const o=t[i];if(o instanceof pi)o.exitStackMaximised();else throw new $e("SMINI87773")}this.emitStateChangedEvent()}}destroy(){var t;!((t=this._activeComponentItem)===null||t===void 0)&&t.focused&&this._activeComponentItem.blur(),super.destroy(),this.off("resize",this._resizeListener),this._maximisedEnabled&&(this.off("maximised",this._maximisedListener),this.off("minimised",this._minimisedListener)),this._header.destroy()}toConfig(){let t;if(this._activeComponentItem&&(t=this.contentItems.indexOf(this._activeComponentItem),t<0))throw new Error("active component item not found in stack");if(this.contentItems.length>0&&t===void 0)throw new Error("expected non-empty stack to have an active component item");return{type:"stack",content:this.calculateConfigContent(),size:this.size,sizeUnit:this.sizeUnit,minSize:this.minSize,minSizeUnit:this.minSizeUnit,id:this.id,isClosable:this.isClosable,maximised:this.isMaximised,header:this.createHeaderConfig(),activeItemIndex:t}}onDrop(t,n){if(this._dropSegment==="header"){if(this.resetHeaderDropZone(),this._dropIndex===void 0)throw new Te("SODDI68990");this.addChild(t,this._dropIndex);return}if(this._dropSegment==="body"){this.addChild(t,0,!0);return}const i=this._dropSegment==="top"||this._dropSegment==="bottom",o=this._dropSegment==="left"||this._dropSegment==="right",s=this._dropSegment==="top"||this._dropSegment==="left",r=i&&this.stackParent.isColumn||o&&this.stackParent.isRow;if(t.isComponent){const u=On.createDefault();u.header=this.createHeaderConfig();const a=this.layoutManager.createAndInitContentItem(u,this);a.addChild(t),t=a}if(t.type===ie.row||t.type===ie.column){const u=On.createDefault();u.header=this.createHeaderConfig();const a=this.layoutManager.createContentItem(u,this);a.addChild(t),t=a}if(r){const u=this.stackParent.contentItems.indexOf(this);this.stackParent.addChild(t,s?u:u+1,!0),this.size*=.5,t.size=this.size,t.sizeUnit=this.sizeUnit,this.stackParent.updateSize(!1)}else{const u=i?ie.column:ie.row,a=Pe.createDefault(u),l=this.layoutManager.createContentItem(a,this);this.stackParent.replaceChild(this,l),l.addChild(t,s?0:void 0,!0),l.addChild(this,s?void 0:0,!0),this.size=50,t.size=50,t.sizeUnit=ze.Percent,l.updateSize(!1)}}highlightDropZone(t,n){for(const i in this._contentAreaDimensions){const o=i,s=this._contentAreaDimensions[o].hoverArea;if(s.x1<t&&s.x2>t&&s.y1<n&&s.y2>n){o==="header"?(this._dropSegment="header",this.highlightHeaderDropZone(this._header.leftRightSided?n:t)):(this.resetHeaderDropZone(),this.highlightBodyDropZone(o));return}}}getArea(){if(this.element.style.display==="none")return null;const t=super.getElementArea(this._header.element),n=super.getElementArea(this._childElementContainer);if(t===null||n===null)throw new Ye("SGAHC13086");const i=n.x2-n.x1,o=n.y2-n.y1;return this._contentAreaDimensions={header:{hoverArea:{x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2},highlightArea:{x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2}}},this.contentItems.length===0?(this._contentAreaDimensions.body={hoverArea:{x1:n.x1,y1:n.y1,x2:n.x2,y2:n.y2},highlightArea:{x1:n.x1,y1:n.y1,x2:n.x2,y2:n.y2}},super.getElementArea(this.element)):(this._contentAreaDimensions.left={hoverArea:{x1:n.x1,y1:n.y1,x2:n.x1+i*.25,y2:n.y2},highlightArea:{x1:n.x1,y1:n.y1,x2:n.x1+i*.5,y2:n.y2}},this._contentAreaDimensions.top={hoverArea:{x1:n.x1+i*.25,y1:n.y1,x2:n.x1+i*.75,y2:n.y1+o*.5},highlightArea:{x1:n.x1,y1:n.y1,x2:n.x2,y2:n.y1+o*.5}},this._contentAreaDimensions.right={hoverArea:{x1:n.x1+i*.75,y1:n.y1,x2:n.x2,y2:n.y2},highlightArea:{x1:n.x1+i*.5,y1:n.y1,x2:n.x2,y2:n.y2}},this._contentAreaDimensions.bottom={hoverArea:{x1:n.x1+i*.25,y1:n.y1+o*.5,x2:n.x1+i*.75,y2:n.y2},highlightArea:{x1:n.x1,y1:n.y1+o*.5,x2:n.x2,y2:n.y2}},super.getElementArea(this.element))}positionHeader(t){this._header.side!==t&&(this._header.setSide(t),this._headerSideChanged=!0,this.setupHeaderPosition())}updateNodeSize(){if(this.element.style.display!=="none"){const t=Xn(this.element);if(this._header.show){const n=this._header.leftRightSided?sr.width:sr.height;t[n]-=this.layoutManager.layoutConfig.dimensions.headerHeight}this._childElementContainer.style.width=Be(t.width),this._childElementContainer.style.height=Be(t.height);for(let n=0;n<this.contentItems.length;n++)this.contentItems[n].element.style.width=Be(t.width),this.contentItems[n].element.style.height=Be(t.height);this.emit("resize"),this.emitStateChangedEvent()}}highlightHeaderDropZone(t){const n=this._header.lastVisibleTabIndex+1,o=this._header.tabsContainerElement.childNodes,s=new Array(n);let r=0,u=0;for(;u<n;){const c=o[r++];c!==this.layoutManager.tabDropPlaceholder&&(s[u++]=c)}const a=this.layoutManager.dropTargetIndicator;if(a===null)throw new Ye("SHHDZDTI97110");let l;if(n===0){const c=this._header.element.getBoundingClientRect(),d=c.top+document.body.scrollTop,f=c.left+document.body.scrollLeft;l={x1:f,x2:f+100,y1:d+c.height-20,y2:d+c.height},this._dropIndex=0}else{let c=0,d=!1,f,h,p,_;do{_=s[c];const x=_.getBoundingClientRect(),E=x.top+document.body.scrollTop,D=x.left+document.body.scrollLeft;this._header.leftRightSided?(h=E,f=D,p=x.height):(h=D,f=E,p=x.width),t>=h&&t<h+p?d=!0:c++}while(c<n&&!d);if(d===!1&&t<h)return;const b=h+p/2;t<b?(this._dropIndex=c,_.insertAdjacentElement("beforebegin",this.layoutManager.tabDropPlaceholder)):(this._dropIndex=Math.min(c+1,n),_.insertAdjacentElement("afterend",this.layoutManager.tabDropPlaceholder));const y=this.layoutManager.tabDropPlaceholder.getBoundingClientRect(),v=y.top+document.body.scrollTop,m=y.left+document.body.scrollLeft,g=y.width;if(this._header.leftRightSided){const x=v;l={x1:f,x2:f+_.clientHeight,y1:x,y2:x+g}}else{const x=m;l={x1:x,x2:x+g,y1:f,y2:f+_.clientHeight}}}a.highlightArea(l,0)}resetHeaderDropZone(){this.layoutManager.tabDropPlaceholder.remove()}setupHeaderPosition(){bi(this._header.element,this._header.show),this.element.classList.remove("lm_left","lm_right","lm_bottom"),this._header.leftRightSided&&this.element.classList.add("lm_"+this._header.side),this.updateSize(!1)}highlightBodyDropZone(t){if(this._contentAreaDimensions===void 0)throw new Te("SHBDZC82265");{const n=this._contentAreaDimensions[t].highlightArea,i=this.layoutManager.dropTargetIndicator;if(i===null)throw new Ye("SHBDZD96110");i.highlightArea(n,1),this._dropSegment=t}}handleResize(){this._header.updateTabSizes()}handleMaximised(){this._header.processMaximised()}handleMinimised(){this._header.processMinimised()}handlePopoutEvent(){this.popout()}handleHeaderClickEvent(t){const n=nt.headerClickEventName,i=new nt.ClickBubblingEvent(n,this,t);this.emit(n,i)}handleHeaderTouchStartEvent(t){const n=nt.headerTouchStartEventName,i=new nt.TouchStartBubblingEvent(n,this,t);this.emit(n,i)}handleHeaderComponentRemoveEvent(t){this.removeChild(t,!1)}handleHeaderComponentFocusEvent(t){this.setActiveComponentItem(t,!0)}handleHeaderComponentStartDragEvent(t,n,i,o){this.isMaximised===!0&&this.toggleMaximise(),this.layoutManager.startComponentDrag(t,n,i,o,this)}createHeaderConfig(){if(this._headerSideChanged){const t=this._header.show?this._header.side:!1;let n=qt.Header.createCopy(this._headerConfig,t);return n===void 0&&(n={show:t,popout:void 0,maximise:void 0,close:void 0,minimise:void 0,tabDropdown:void 0}),n}else return qt.Header.createCopy(this._headerConfig)}emitStateChangedEvent(){this.emitBaseBubblingEvent("stateChanged")}}(function(e){function t(n){const i=n.createElement("div");return i.classList.add("lm_item"),i.classList.add("lm_stack"),i}e.createElement=t})(An||(An={}));class _0 extends nt{constructor(t,n,i,o,s,r){if(super(),this._dragListener=i,this._layoutManager=o,this._componentItem=s,this._originalParent=r,this._area=null,this._lastValidArea=null,this._dragListener.on("drag",(u,a,l)=>this.onDrag(u,a,l)),this._dragListener.on("dragStop",()=>this.onDrop()),this.createDragProxyElements(t,n),this._componentItem.parent===null)throw new Ye("DPC10097");this._componentItemFocused=this._componentItem.focused,this._componentItemFocused&&this._componentItem.blur(),this._componentItem.parent.removeChild(this._componentItem,!0),this.setDimensions(),document.body.appendChild(this._element),this.determineMinMaxXY(),this._layoutManager.calculateItemAreas(),this.setDropPosition(t,n)}get element(){return this._element}createDragProxyElements(t,n){this._element=document.createElement("div"),this._element.classList.add("lm_dragProxy");const i=document.createElement("div");i.classList.add("lm_header");const o=document.createElement("div");o.classList.add("lm_tabs");const s=document.createElement("div");s.classList.add("lm_tab");const r=document.createElement("span");r.classList.add("lm_title"),s.appendChild(r),o.appendChild(s),i.appendChild(o),this._proxyContainerElement=document.createElement("div"),this._proxyContainerElement.classList.add("lm_content"),this._element.appendChild(i),this._element.appendChild(this._proxyContainerElement),this._originalParent instanceof An&&this._originalParent.headerShow&&(this._sided=this._originalParent.headerLeftRightSided,this._element.classList.add("lm_"+this._originalParent.headerSide),[ei.right,ei.bottom].indexOf(this._originalParent.headerSide)>=0&&this._proxyContainerElement.insertAdjacentElement("afterend",i)),this._element.style.left=Be(t),this._element.style.top=Be(n),s.setAttribute("title",this._componentItem.title),r.insertAdjacentText("afterbegin",this._componentItem.title),this._proxyContainerElement.appendChild(this._componentItem.element)}determineMinMaxXY(){const t=this._layoutManager.groundItem;if(t===void 0)throw new Te("DPDMMXY73109");{const i=t.element.getBoundingClientRect();this._minX=i.left+document.body.scrollLeft,this._minY=i.top+document.body.scrollTop,this._maxX=this._minX+i.width,this._maxY=this._minY+i.height}}onDrag(t,n,i){const o=i.pageX,s=i.pageY;this.setDropPosition(o,s),this._componentItem.drag()}setDropPosition(t,n){this._layoutManager.layoutConfig.settings.constrainDragToContainer&&(t<=this._minX?t=Math.ceil(this._minX):t>=this._maxX&&(t=Math.floor(this._maxX)),n<=this._minY?n=Math.ceil(this._minY):n>=this._maxY&&(n=Math.floor(this._maxY))),this._element.style.left=Be(t),this._element.style.top=Be(n),this._area=this._layoutManager.getArea(t,n),this._area!==null&&(this._lastValidArea=this._area,this._area.contentItem.highlightDropZone(t,n,this._area))}onDrop(){const t=this._layoutManager.dropTargetIndicator;if(t===null)throw new Ye("DPOD30011");t.hide(),this._componentItem.exitDragMode();let n;this._area!==null?(n=this._componentItem,this._area.contentItem.onDrop(n,this._area)):this._lastValidArea!==null?(n=this._componentItem,this._lastValidArea.contentItem.onDrop(n,this._lastValidArea)):this._originalParent?(n=this._componentItem,this._originalParent.addChild(n)):this._componentItem.destroy(),this._element.remove(),this._layoutManager.emit("itemDropped",this._componentItem),this._componentItemFocused&&n!==void 0&&n.focus()}setDimensions(){const t=this._layoutManager.layoutConfig.dimensions;if(t===void 0)throw new Error("DragProxy.setDimensions: dimensions undefined");let n=t.dragProxyWidth,i=t.dragProxyHeight;if(n===void 0||i===void 0)throw new Error("DragProxy.setDimensions: width and/or height undefined");const o=this._layoutManager.layoutConfig.header.show===!1?0:t.headerHeight;this._element.style.width=Be(n),this._element.style.height=Be(i),n-=this._sided?o:0,i-=this._sided?0:o,this._proxyContainerElement.style.width=Be(n),this._proxyContainerElement.style.height=Be(i),this._componentItem.enterDragMode(n,i),this._componentItem.show()}}class Xo{constructor(t,n,i,o,s,r,u){this._layoutManager=t,this._element=n,this._extraAllowableChildTargets=i,this._componentTypeOrFtn=o,this._componentState=s,this._title=r,this._id=u,this._dragListener=null,this._dummyGroundContainer=document.createElement("div");const a=to.createDefault("row");this._dummyGroundContentItem=new ni(this._layoutManager,a,this._dummyGroundContainer),this.createDragListener()}destroy(){this.removeDragListener()}createDragListener(){this.removeDragListener(),this._dragListener=new Nl(this._element,this._extraAllowableChildTargets),this._dragListener.on("dragStart",(t,n)=>this.onDragStart(t,n)),this._dragListener.on("dragStop",()=>this.onDragStop())}onDragStart(t,n){var i;const o="component";let s;if(typeof this._componentTypeOrFtn=="function"){const a=this._componentTypeOrFtn();Xo.isDragSourceComponentItemConfig(a)?s={type:o,componentState:a.state,componentType:a.type,title:(i=a.title)!==null&&i!==void 0?i:this._title}:s=a}else s={type:o,componentState:this._componentState,componentType:this._componentTypeOrFtn,title:this._title,id:this._id};const r=ti.resolve(s,!1),u=new pi(this._layoutManager,r,this._dummyGroundContentItem);if(this._dummyGroundContentItem.contentItems.push(u),this._dragListener===null)throw new Ye("DSODSD66746");{const a=new _0(t,n,this._dragListener,this._layoutManager,u,this._dummyGroundContentItem),l=this._layoutManager.transitionIndicator;if(l===null)throw new Ye("DSODST66746");l.transitionElements(this._element,a.element)}}onDragStop(){this.createDragListener()}removeDragListener(){this._dragListener!==null&&(this._dragListener.destroy(),this._dragListener=null)}}(function(e){function t(n){return!("componentType"in n)}e.isDragSourceComponentItemConfig=t})(Xo||(Xo={}));class Mv{constructor(){this._element=document.createElement("div"),this._element.classList.add("lm_dropTargetIndicator");const t=document.createElement("div");t.classList.add("lm_inner"),this._element.appendChild(t),document.body.appendChild(this._element)}destroy(){this._element.remove()}highlightArea(t,n){this._element.style.left=Be(t.x1+n),this._element.style.top=Be(t.y1+n),this._element.style.width=Be(t.x2-t.x1-n),this._element.style.height=Be(t.y2-t.y1-n),this._element.style.display="block"}hide(){bi(this._element,!1)}}class Fv{constructor(){this._element=document.createElement("div"),this._element.classList.add("lm_transition_indicator"),document.body.appendChild(this._element),this._toElement=null,this._fromDimensions=null,this._totalAnimationDuration=200,this._animationStartTime=null}destroy(){this._element.remove()}transitionElements(t,n){}nextAnimationFrame(){}measure(t){const n=t.getBoundingClientRect();return{left:n.left,top:n.top,width:t.offsetWidth,height:t.offsetHeight}}}class yi extends nt{constructor(t){super(),this._layoutManager=t,this._childEventListener=n=>this.onEventFromChild(n),globalThis.addEventListener(yi.ChildEventName,this._childEventListener,{passive:!0})}emit(t,...n){t==="userBroadcast"?this.emitUserBroadcast(...n):super.emit(t,...n)}emitUserBroadcast(...t){this.handleUserBroadcastEvent("userBroadcast",t)}destroy(){globalThis.removeEventListener(yi.ChildEventName,this._childEventListener)}handleUserBroadcastEvent(t,n){this._layoutManager.isSubWindow?this.propagateToParent(t,n):this.propagateToThisAndSubtree(t,n)}onEventFromChild(t){const n=t.detail;this.handleUserBroadcastEvent(n.eventName,n.args)}propagateToParent(t,n){const o={bubbles:!0,cancelable:!0,detail:{layoutManager:this._layoutManager,eventName:t,args:n}},s=new CustomEvent(yi.ChildEventName,o),r=globalThis.opener;if(r===null)throw new Ye("EHPTP15778");r.dispatchEvent(s)}propagateToThisAndSubtree(t,n){this.emitUnknown(t,...n);for(let i=0;i<this._layoutManager.openPopouts.length;i++){const o=this._layoutManager.openPopouts[i].getGlInstance();o&&o.eventHub.propagateToThisAndSubtree(t,n)}}}(function(e){e.ChildEventName="gl_child_event"})(yi||(yi={}));class wi extends nt{constructor(t){super(),this.resizeWithContainerAutomatically=!1,this.resizeDebounceInterval=100,this.resizeDebounceExtendedWhenPossible=!0,this._isInitialised=!1,this._groundItem=void 0,this._openPopouts=[],this._dropTargetIndicator=null,this._transitionIndicator=null,this._itemAreas=[],this._maximisePlaceholder=wi.createMaximisePlaceElement(document),this._tabDropPlaceholder=wi.createTabDropPlaceholderElement(document),this._dragSources=[],this._updatingColumnsResponsive=!1,this._firstLoad=!0,this._eventHub=new yi(this),this._width=null,this._height=null,this._virtualSizedContainers=[],this._virtualSizedContainerAddingBeginCount=0,this._sizeInvalidationBeginCount=0,this._resizeObserver=new ResizeObserver(()=>this.handleContainerResize()),this._windowBeforeUnloadListener=()=>this.onBeforeUnload(),this._windowBeforeUnloadListening=!1,this._maximisedStackBeforeDestroyedListener=n=>this.cleanupBeforeMaximisedStackDestroyed(n),this.isSubWindow=t.isSubWindow,this._constructorOrSubWindowLayoutConfig=t.constructorOrSubWindowLayoutConfig,or.checkInitialise(),jo.checkInitialise(),t.containerElement!==void 0&&(this._containerElement=t.containerElement)}get container(){return this._containerElement}get isInitialised(){return this._isInitialised}get groundItem(){return this._groundItem}get root(){return this._groundItem}get openPopouts(){return this._openPopouts}get dropTargetIndicator(){return this._dropTargetIndicator}get transitionIndicator(){return this._transitionIndicator}get width(){return this._width}get height(){return this._height}get eventHub(){return this._eventHub}get rootItem(){if(this._groundItem===void 0)throw new Error("Cannot access rootItem before init");return this._groundItem.contentItems.length===0?void 0:this._groundItem.contentItems[0]}get focusedComponentItem(){return this._focusedComponentItem}get tabDropPlaceholder(){return this._tabDropPlaceholder}get maximisedStack(){return this._maximisedStack}get deprecatedConstructor(){return!this.isSubWindow&&this._constructorOrSubWindowLayoutConfig!==void 0}destroy(){if(this._isInitialised){this._windowBeforeUnloadListening&&(globalThis.removeEventListener("beforeunload",this._windowBeforeUnloadListener),this._windowBeforeUnloadListening=!1),this.layoutConfig.settings.closePopoutsOnUnload===!0&&this.closeAllOpenPopouts(),this._resizeObserver.disconnect(),this.checkClearResizeTimeout(),this._groundItem!==void 0&&this._groundItem.destroy(),this._tabDropPlaceholder.remove(),this._dropTargetIndicator!==null&&this._dropTargetIndicator.destroy(),this._transitionIndicator!==null&&this._transitionIndicator.destroy(),this._eventHub.destroy();for(const t of this._dragSources)t.destroy();this._dragSources=[],this._isInitialised=!1}}minifyConfig(t){return xe.minifyConfig(t)}unminifyConfig(t){return xe.unminifyConfig(t)}init(){this.setContainer(),this._dropTargetIndicator=new Mv,this._transitionIndicator=new Fv,this.updateSizeFromContainer();let t;if(this.isSubWindow){if(this._constructorOrSubWindowLayoutConfig===void 0)throw new Te("LMIU07155");{const i=this._constructorOrSubWindowLayoutConfig.root;if(i===void 0)throw new $e("LMIC07156");if(Qe.isComponent(i))t=i;else throw new $e("LMIC07157");const o=Mt.resolve(this._constructorOrSubWindowLayoutConfig);this.layoutConfig=Object.assign(Object.assign({},o),{root:void 0})}}else this._constructorOrSubWindowLayoutConfig===void 0?this.layoutConfig=xe.createDefault():this.layoutConfig=Mt.resolve(this._constructorOrSubWindowLayoutConfig);const n=this.layoutConfig;this._groundItem=new ni(this,n.root,this._containerElement),this._groundItem.init(),this.checkLoadedLayoutMaximiseItem(),this._resizeObserver.observe(this._containerElement),this._isInitialised=!0,this.adjustColumnsResponsive(),this.emit("initialised"),t!==void 0&&this.loadComponentAsRoot(t)}loadLayout(t){if(this.isInitialised){if(this._groundItem===void 0)throw new Te("LMLL11119");this.createSubWindows(),this.layoutConfig=Mt.resolve(t),this._groundItem.loadRoot(this.layoutConfig.root),this.checkLoadedLayoutMaximiseItem(),this.adjustColumnsResponsive()}else throw new Error("GoldenLayout: Need to call init() if LayoutConfig with defined root passed to constructor")}saveLayout(){if(this._isInitialised===!1)throw new Error("Can't create config, layout not yet initialised");if(this._groundItem===void 0)throw new Te("LMTC18244");{const t=this._groundItem.calculateConfigContent();let n;t.length!==1?n=void 0:n=t[0],this.reconcilePopoutWindows();const i=[];for(let s=0;s<this._openPopouts.length;s++)i.push(this._openPopouts[s].toConfig());return{root:n,openPopouts:i,settings:xe.Settings.createCopy(this.layoutConfig.settings),dimensions:xe.Dimensions.createCopy(this.layoutConfig.dimensions),header:xe.Header.createCopy(this.layoutConfig.header),resolved:!0}}}clear(){if(this._groundItem===void 0)throw new Te("LMCL11129");this._groundItem.clearRoot()}toConfig(){return this.saveLayout()}newComponent(t,n,i){const o=this.newComponentAtLocation(t,n,i);if(o===void 0)throw new $e("LMNC65588");return o}newComponentAtLocation(t,n,i,o){if(this._groundItem===void 0)throw new Error("Cannot add component before init");{const s=this.addComponentAtLocation(t,n,i,o);if(s===void 0)return;{const r=s.parentItem.contentItems[s.index];if(Tt.isComponentItem(r))return r;throw new $e("LMNC992877533")}}}addComponent(t,n,i){const o=this.addComponentAtLocation(t,n,i);if(o===void 0)throw new $e("LMAC99943");return o}addComponentAtLocation(t,n,i,o){const s={type:"component",componentType:t,componentState:n,title:i};return this.addItemAtLocation(s,o)}newItem(t){const n=this.newItemAtLocation(t);if(n===void 0)throw new $e("LMNC65588");return n}newItemAtLocation(t,n){if(this._groundItem===void 0)throw new Error("Cannot add component before init");{const i=this.addItemAtLocation(t,n);return i===void 0?void 0:i.parentItem.contentItems[i.index]}}addItem(t){const n=this.addItemAtLocation(t);if(n===void 0)throw new $e("LMAI99943");return n}addItemAtLocation(t,n){if(this._groundItem===void 0)throw new Error("Cannot add component before init");{n===void 0&&(n=wi.defaultLocationSelectors);const i=this.findFirstLocation(n);if(i===void 0)return;{let o=i.parentItem,s;switch(o.type){case ie.ground:{s=o.addItem(t,i.index),s>=0?o=this._groundItem.contentItems[0]:s=0;break}case ie.row:case ie.column:{s=o.addItem(t,i.index);break}case ie.stack:if(Qe.isComponent(t)){s=o.addItem(t,i.index);break}else throw Error(_i[6]);case ie.component:throw new $e("LMAIALC87444602");default:throw new Pt("LMAIALU98881733",o.type)}if(Qe.isComponent(t)){const r=o.contentItems[s];Tt.isStack(r)&&(o=r,s=0)}return i.parentItem=o,i.index=s,i}}}loadComponentAsRoot(t){if(this._groundItem===void 0)throw new Error("Cannot add item before init");this._groundItem.loadComponentAsRoot(t)}updateSize(t,n){this.setSize(t,n)}setSize(t,n){if(this._width=t,this._height=n,this._isInitialised===!0){if(this._groundItem===void 0)throw new Te("LMUS18881");if(this._groundItem.setSize(this._width,this._height),this._maximisedStack){const{width:i,height:o}=Xn(this._containerElement);Bt(this._maximisedStack.element,i),Vt(this._maximisedStack.element,o),this._maximisedStack.updateSize(!1)}this.adjustColumnsResponsive()}}beginSizeInvalidation(){this._sizeInvalidationBeginCount++}endSizeInvalidation(){--this._sizeInvalidationBeginCount===0&&this.updateSizeFromContainer()}updateSizeFromContainer(){const{width:t,height:n}=Xn(this._containerElement);this.setSize(t,n)}updateRootSize(t=!1){if(this._groundItem===void 0)throw new Te("LMURS28881");this._groundItem.updateSize(t)}createAndInitContentItem(t,n){const i=this.createContentItem(t,n);return i.init(),i}createContentItem(t,n){if(typeof t.type!="string")throw new vi("Missing parameter 'type'",JSON.stringify(t));return Pe.isComponentItem(t)&&!(n instanceof An)&&n&&!(this.isSubWindow===!0&&n instanceof ni)&&(t={type:ie.stack,content:[t],size:t.size,sizeUnit:t.sizeUnit,minSize:t.minSize,minSizeUnit:t.minSizeUnit,id:t.id,maximised:t.maximised,isClosable:t.isClosable,activeItemIndex:0,header:void 0}),this.createContentItemFromConfig(t,n)}findFirstComponentItemById(t){if(this._groundItem===void 0)throw new Te("LMFFCIBI82446");return this.findFirstContentItemTypeByIdRecursive(ie.component,t,this._groundItem)}createPopout(t,n,i,o){return t instanceof Tt?this.createPopoutFromContentItem(t,n,i,o):this.createPopoutFromItemConfig(t,n,i,o)}createPopoutFromContentItem(t,n,i,o){let s=t.parent,r=t;for(;s!==null&&s.contentItems.length===1&&!s.isGround;)r=s,s=s.parent;if(s===null)throw new Ye("LMCPFCI00834");{if(o===void 0&&(o=s.contentItems.indexOf(r)),i!==null&&s.addPopInParentId(i),n===void 0){const a=globalThis.screenX||globalThis.screenLeft,l=globalThis.screenY||globalThis.screenTop,c=t.element.offsetLeft,d=t.element.offsetTop,{width:f,height:h}=Xn(t.element);n={left:a+c,top:l+d,width:f,height:h}}const u=t.toConfig();if(t.remove(),ki.isRootItemConfig(u))return this.createPopoutFromItemConfig(u,n,i,o);throw new Error(`${_i[0]}`)}}beginVirtualSizedContainerAdding(){++this._virtualSizedContainerAddingBeginCount===0&&(this._virtualSizedContainers.length=0)}addVirtualSizedContainer(t){this._virtualSizedContainers.push(t)}endVirtualSizedContainerAdding(){if(--this._virtualSizedContainerAddingBeginCount===0){const t=this._virtualSizedContainers.length;if(t>0){this.fireBeforeVirtualRectingEvent(t);for(let n=0;n<t;n++)this._virtualSizedContainers[n].notifyVirtualRectingRequired();this.fireAfterVirtualRectingEvent(),this._virtualSizedContainers.length=0}}}fireBeforeVirtualRectingEvent(t){this.beforeVirtualRectingEvent!==void 0&&this.beforeVirtualRectingEvent(t)}fireAfterVirtualRectingEvent(){this.afterVirtualRectingEvent!==void 0&&this.afterVirtualRectingEvent()}createPopoutFromItemConfig(t,n,i,o){const s=this.toConfig(),r={root:t,openPopouts:[],settings:s.settings,dimensions:s.dimensions,header:s.header,window:n,parentId:i,indexInParent:o,resolved:!0};return this.createPopoutFromPopoutLayoutConfig(r)}createPopoutFromPopoutLayoutConfig(t){var n,i,o,s;const r=t.window,u={left:(n=r.left)!==null&&n!==void 0?n:globalThis.screenX||globalThis.screenLeft+20,top:(i=r.top)!==null&&i!==void 0?i:globalThis.screenY||globalThis.screenTop+20,width:(o=r.width)!==null&&o!==void 0?o:500,height:(s=r.height)!==null&&s!==void 0?s:309},a=new Iv(t,u,this);return a.on("initialised",()=>this.emit("windowOpened",a)),a.on("closed",()=>this.reconcilePopoutWindows()),this._openPopouts.push(a),this.layoutConfig.settings.closePopoutsOnUnload&&!this._windowBeforeUnloadListening&&(globalThis.addEventListener("beforeunload",this._windowBeforeUnloadListener,{passive:!0}),this._windowBeforeUnloadListening=!0),a}closeAllOpenPopouts(){for(let t=0;t<this._openPopouts.length;t++)this._openPopouts[t].close();this._openPopouts.length=0,this._windowBeforeUnloadListening&&(globalThis.removeEventListener("beforeunload",this._windowBeforeUnloadListener),this._windowBeforeUnloadListening=!1)}newDragSource(t,n,i,o,s){const r=new Xo(this,t,[],n,i,o,s);return this._dragSources.push(r),r}removeDragSource(t){Ev(t,this._dragSources),t.destroy()}startComponentDrag(t,n,i,o,s){new _0(t,n,i,this,o,s)}focusComponent(t,n=!1){t.focus(n)}clearComponentFocus(t=!1){this.setFocusedComponentItem(void 0,t)}setFocusedComponentItem(t,n=!1){if(t!==this._focusedComponentItem){let i;if(t===void 0||(i=t.parentItem),this._focusedComponentItem!==void 0){const o=this._focusedComponentItem;this._focusedComponentItem=void 0,o.setBlurred(n);const s=o.parentItem;i===s?i=void 0:s.setFocusedValue(!1)}t!==void 0&&(this._focusedComponentItem=t,t.setFocused(n),i!==void 0&&i.setFocusedValue(!0))}}createContentItemFromConfig(t,n){switch(t.type){case ie.ground:throw new $e("LMCCIFC68871");case ie.row:return new Ii(!1,this,t,n);case ie.column:return new Ii(!0,this,t,n);case ie.stack:return new An(this,t,n);case ie.component:return new pi(this,t,n);default:throw new Pt("CCC913564",t.type,"Invalid Config Item type specified")}}setMaximisedStack(t){t===void 0?this._maximisedStack!==void 0&&this.processMinimiseMaximisedStack():t!==this._maximisedStack&&(this._maximisedStack!==void 0&&this.processMinimiseMaximisedStack(),this.processMaximiseStack(t))}checkMinimiseMaximisedStack(){this._maximisedStack!==void 0&&this._maximisedStack.minimise()}cleanupBeforeMaximisedStackDestroyed(t){this._maximisedStack!==null&&this._maximisedStack===t.target&&(this._maximisedStack.off("beforeItemDestroyed",this._maximisedStackBeforeDestroyedListener),this._maximisedStack=void 0)}closeWindow(){globalThis.setTimeout(()=>globalThis.close(),1)}getArea(t,n){let i=null,o=1/0;for(let s=0;s<this._itemAreas.length;s++){const r=this._itemAreas[s];t>=r.x1&&t<r.x2&&n>=r.y1&&n<r.y2&&o>r.surface&&(o=r.surface,i=r)}return i}calculateItemAreas(){const t=this.getAllContentItems(),n=this._groundItem;if(n===void 0)throw new Te("LMCIAR44365");if(t.length===1){const i=n.getElementArea();if(i===null)throw new Ye("LMCIARA44365");this._itemAreas=[i];return}else{n.contentItems[0].isStack?this._itemAreas=[]:this._itemAreas=n.createSideAreas();for(let i=0;i<t.length;i++){const o=t[i];if(Tt.isStack(o)){const s=o.getArea();if(s===null)continue;{this._itemAreas.push(s);const r=o.contentAreaDimensions;if(r===void 0)throw new Te("LMCIASC45599");{const u=r.header.highlightArea,a=(u.x2-u.x1)*(u.y2-u.y1),l={x1:u.x1,x2:u.x2,y1:u.y1,y2:u.y2,contentItem:o,surface:a};this._itemAreas.push(l)}}}}}}checkLoadedLayoutMaximiseItem(){if(this._groundItem===void 0)throw new Te("LMCLLMI43432");{const t=this._groundItem.getConfigMaximisedItems();if(t.length>0){let n=t[0];if(Tt.isComponentItem(n)){const i=n.parent;if(i===null)throw new Ye("LMXLLMI69999");n=i}if(Tt.isStack(n))n.maximise();else throw new $e("LMCLLMI19993")}}}processMaximiseStack(t){if(this._maximisedStack=t,t.on("beforeItemDestroyed",this._maximisedStackBeforeDestroyedListener),t.element.classList.add("lm_maximised"),t.element.insertAdjacentElement("afterend",this._maximisePlaceholder),this._groundItem===void 0)throw new Te("LMMXI19993");{this._groundItem.element.prepend(t.element);const{width:n,height:i}=Xn(this._containerElement);Bt(t.element,n),Vt(t.element,i),t.updateSize(!0),t.focusActiveContentItem(),this._maximisedStack.emit("maximised"),this.emit("stateChanged")}}processMinimiseMaximisedStack(){if(this._maximisedStack===void 0)throw new $e("LMMMS74422");{const t=this._maximisedStack;if(t.parent===null)throw new Ye("LMMI13668");t.element.classList.remove("lm_maximised"),this._maximisePlaceholder.insertAdjacentElement("afterend",t.element),this._maximisePlaceholder.remove(),this.updateRootSize(!0),this._maximisedStack=void 0,t.off("beforeItemDestroyed",this._maximisedStackBeforeDestroyedListener),t.emit("minimised"),this.emit("stateChanged")}}reconcilePopoutWindows(){const t=[];for(let n=0;n<this._openPopouts.length;n++)this._openPopouts[n].getWindow().closed===!1?t.push(this._openPopouts[n]):this.emit("windowClosed",this._openPopouts[n]);this._openPopouts.length!==t.length&&(this._openPopouts=t,this.emit("stateChanged"))}getAllContentItems(){if(this._groundItem===void 0)throw new Te("LMGACI13130");return this._groundItem.getAllContentItems()}createSubWindows(){for(let t=0;t<this.layoutConfig.openPopouts.length;t++){const n=this.layoutConfig.openPopouts[t];this.createPopoutFromPopoutLayoutConfig(n)}}handleContainerResize(){this.resizeWithContainerAutomatically&&this.processResizeWithDebounce()}processResizeWithDebounce(){this.resizeDebounceExtendedWhenPossible&&this.checkClearResizeTimeout(),this._resizeTimeoutId===void 0&&(this._resizeTimeoutId=setTimeout(()=>{this._resizeTimeoutId=void 0,this.beginSizeInvalidation(),this.endSizeInvalidation()},this.resizeDebounceInterval))}checkClearResizeTimeout(){this._resizeTimeoutId!==void 0&&(clearTimeout(this._resizeTimeoutId),this._resizeTimeoutId=void 0)}setContainer(){var t;const n=document.body,i=(t=this._containerElement)!==null&&t!==void 0?t:n;if(i===n){this.resizeWithContainerAutomatically=!0;const o=document.documentElement;o.style.height="100%",o.style.margin="0",o.style.padding="0",o.style.overflow="clip",n.style.height="100%",n.style.margin="0",n.style.padding="0",n.style.overflow="clip"}this._containerElement=i}onBeforeUnload(){this.destroy()}adjustColumnsResponsive(){if(this._groundItem===void 0)throw new Te("LMACR20883");if(this._firstLoad=!1,this.useResponsiveLayout()&&!this._updatingColumnsResponsive&&this._groundItem.contentItems.length>0&&this._groundItem.contentItems[0].isRow){if(this._groundItem===void 0||this._width===null)throw new Te("LMACR77412");{const t=this._groundItem.contentItems[0].contentItems.length;if(t<=1)return;{const n=this.layoutConfig.dimensions.defaultMinItemWidth;if(t*n<=this._width)return;{this._updatingColumnsResponsive=!0;const o=Math.max(Math.floor(this._width/n),1),s=t-o,r=this._groundItem.contentItems[0],u=this.getAllStacks();if(u.length===0)throw new $e("LMACRS77413");{const a=u[0];for(let l=0;l<s;l++){const c=r.contentItems[r.contentItems.length-1];this.addChildContentItemsToContainer(a,c)}this._updatingColumnsResponsive=!1}}}}}}useResponsiveLayout(){const t=this.layoutConfig.settings,n=t.responsiveMode===qo.always,i=t.responsiveMode===qo.onload&&this._firstLoad;return n||i}addChildContentItemsToContainer(t,n){const i=n.contentItems;if(n instanceof An)for(let o=0;o<i.length;o++){const s=i[o];n.removeChild(s,!0),t.addChild(s)}else for(let o=0;o<i.length;o++){const s=i[o];this.addChildContentItemsToContainer(t,s)}}getAllStacks(){if(this._groundItem===void 0)throw new Te("LMFASC52778");{const t=[];return this.findAllStacksRecursive(t,this._groundItem),t}}findFirstContentItemType(t){if(this._groundItem===void 0)throw new Te("LMFFCIT82446");return this.findFirstContentItemTypeRecursive(t,this._groundItem)}findFirstContentItemTypeRecursive(t,n){const i=n.contentItems,o=i.length;if(o!==0){for(let s=0;s<o;s++){const r=i[s];if(r.type===t)return r}for(let s=0;s<o;s++){const r=i[s],u=this.findFirstContentItemTypeRecursive(t,r);if(u!==void 0)return u}return}}findFirstContentItemTypeByIdRecursive(t,n,i){const o=i.contentItems,s=o.length;if(s!==0){for(let r=0;r<s;r++){const u=o[r];if(u.type===t&&u.id===n)return u}for(let r=0;r<s;r++){const u=o[r],a=this.findFirstContentItemTypeByIdRecursive(t,n,u);if(a!==void 0)return a}return}}findAllStacksRecursive(t,n){const i=n.contentItems;for(let o=0;o<i.length;o++){const s=i[o];s instanceof An?t.push(s):s.isComponent||this.findAllStacksRecursive(t,s)}}findFirstLocation(t){const n=t.length;for(let i=0;i<n;i++){const o=t[i],s=this.findLocation(o);if(s!==void 0)return s}}findLocation(t){const n=t.index;switch(t.typeId){case 0:{if(this._focusedComponentItem===void 0)return;{const i=this._focusedComponentItem.parentItem,o=i.contentItems,s=o.length;if(n===void 0)return{parentItem:i,index:s};{const u=o.indexOf(this._focusedComponentItem)+n;return u<0||u>s?void 0:{parentItem:i,index:u}}}}case 1:{if(this._focusedComponentItem===void 0)return;{const i=this._focusedComponentItem.parentItem;return this.tryCreateLocationFromParentItem(i,n)}}case 2:{const i=this.findFirstContentItemType(ie.stack);return i===void 0?void 0:this.tryCreateLocationFromParentItem(i,n)}case 3:{let i=this.findFirstContentItemType(ie.row);return i!==void 0?this.tryCreateLocationFromParentItem(i,n):(i=this.findFirstContentItemType(ie.column),i!==void 0?this.tryCreateLocationFromParentItem(i,n):void 0)}case 4:{const i=this.findFirstContentItemType(ie.row);return i===void 0?void 0:this.tryCreateLocationFromParentItem(i,n)}case 5:{const i=this.findFirstContentItemType(ie.column);return i===void 0?void 0:this.tryCreateLocationFromParentItem(i,n)}case 6:{if(this._groundItem===void 0)throw new Te("LMFLRIF18244");return this.rootItem!==void 0?void 0:n===void 0||n===0?{parentItem:this._groundItem,index:0}:void 0}case 7:{if(this._groundItem===void 0)throw new Te("LMFLF18244");{const i=this._groundItem.contentItems;if(i.length===0)return n===void 0||n===0?{parentItem:this._groundItem,index:0}:void 0;{const o=i[0];return this.tryCreateLocationFromParentItem(o,n)}}}}}tryCreateLocationFromParentItem(t,n){const o=t.contentItems.length;return n===void 0?{parentItem:t,index:o}:n<0||n>o?void 0:{parentItem:t,index:n}}}(function(e){function t(i){const o=i.createElement("div");return o.classList.add("lm_maximise_place"),o}e.createMaximisePlaceElement=t;function n(i){const o=i.createElement("div");return o.classList.add("lm_drop_tab_placeholder"),o}e.createTabDropPlaceholderElement=n,e.defaultLocationSelectors=[{typeId:1,index:void 0},{typeId:2,index:void 0},{typeId:3,index:void 0},{typeId:7,index:void 0}],e.afterFocusedItemIfPossibleLocationSelectors=[{typeId:0,index:1},{typeId:2,index:void 0},{typeId:3,index:void 0},{typeId:7,index:void 0}]})(wi||(wi={}));class Ko extends wi{constructor(t,n,i,o){if(super(Ko.createLayoutManagerConstructorParameters(t,n)),this._bindComponentEventHanlderPassedInConstructor=!1,this._creationTimeoutPassed=!1,n!==void 0&&typeof n=="function"&&(this.bindComponentEvent=n,this._bindComponentEventHanlderPassedInConstructor=!0,i!==void 0&&(this.unbindComponentEvent=i)),!this._bindComponentEventHanlderPassedInConstructor&&this.isSubWindow){if(this._constructorOrSubWindowLayoutConfig===void 0)throw new Te("VLC98823");{const s=Mt.resolve(this._constructorOrSubWindowLayoutConfig);this.layoutConfig=Object.assign(Object.assign({},s),{root:void 0})}}o!==!0&&(this.deprecatedConstructor||this.init())}destroy(){this.bindComponentEvent=void 0,this.unbindComponentEvent=void 0,super.destroy()}init(){if(!this._bindComponentEventHanlderPassedInConstructor&&(document.readyState==="loading"||document.body===null)){document.addEventListener("DOMContentLoaded",()=>this.init(),{passive:!0});return}if(!this._bindComponentEventHanlderPassedInConstructor&&this.isSubWindow===!0&&!this._creationTimeoutPassed){setTimeout(()=>this.init(),7),this._creationTimeoutPassed=!0;return}this.isSubWindow===!0&&(this._bindComponentEventHanlderPassedInConstructor||this.clearHtmlAndAdjustStylesForSubWindow(),window.__glInstance=this),super.init()}clearHtmlAndAdjustStylesForSubWindow(){const t=document.head,n=new Array(4);n[0]=document.querySelectorAll("body link"),n[1]=document.querySelectorAll("body style"),n[2]=document.querySelectorAll("template"),n[3]=document.querySelectorAll(".gl_keep");for(let o=0;o<n.length;o++){const s=n[o];for(let r=0;r<s.length;r++){const u=s[r];t.appendChild(u)}}const i=document.body;i.innerHTML="",i.style.visibility="visible",this.checkAddDefaultPopinButton(),document.body.offsetHeight}checkAddDefaultPopinButton(){if(this.layoutConfig.settings.popInOnClose)return!1;{const t=document.createElement("div");t.classList.add("lm_popin"),t.setAttribute("title",this.layoutConfig.header.dock);const n=document.createElement("div");n.classList.add("lm_icon");const i=document.createElement("div");return i.classList.add("lm_bg"),t.appendChild(n),t.appendChild(i),t.addEventListener("click",()=>this.emit("popIn")),document.body.appendChild(t),!0}}bindComponent(t,n){if(this.bindComponentEvent!==void 0)return this.bindComponentEvent(t,n);if(this.getComponentEvent!==void 0)return{virtual:!1,component:this.getComponentEvent(t,n)};{const o=`${_i[2]}: ${JSON.stringify(n)}`;throw new _v(o)}}unbindComponent(t,n,i){if(this.unbindComponentEvent!==void 0)this.unbindComponentEvent(t);else if(!n&&this.releaseComponentEvent!==void 0){if(i===void 0)throw new Te("VCUCRCU333998");this.releaseComponentEvent(t,i)}}}(function(e){let t=!1;function n(i,o){const s=t?null:new URL(document.location.href).searchParams.get("gl-window");t=!0;const r=s!==null;let u,a;if(s!==null){const l=localStorage.getItem(s);if(l===null)throw new Error("Null gl-window Config");localStorage.removeItem(s);const c=JSON.parse(l),d=xe.unminifyConfig(c);a=Mt.fromResolved(d),i instanceof HTMLElement&&(u=i)}else i===void 0?a=void 0:i instanceof HTMLElement?(a=void 0,u=i):a=i,u===void 0&&o instanceof HTMLElement&&(u=o);return{constructorOrSubWindowLayoutConfig:a,isSubWindow:r,containerElement:u}}e.createLayoutManagerConstructorParameters=n})(Ko||(Ko={}));const Pv={root:{type:ie.row,content:[{type:ie.component,title:"智能编辑器",header:{show:"top",popout:!1},componentType:"AutoEditor",componentState:void 0,width:26},{type:ie.component,title:"画布",header:{show:"top",popout:!1},componentType:"NodeFlow",width:74},{type:ie.stack,header:{show:"top",popout:!1},width:20,content:[{type:ie.component,title:"后端连接器",componentType:"BackendConnector"},{type:ie.component,title:"节点模板",componentType:"NodeList"}]}]}},b0={miniRow:Pv},Ov={class:"main-bar menus-1"},Lv={class:"menus-2"},zv={class:"menus-2"},Rv={class:"menus-2"},$v={class:"menus-2"},Bv={class:"menus-2"},Vv={class:"menu-1",style:{padding:"0 28px 0 16px","font-weight":"bold","font-size":"16px",float:"right"}},Hv={href:"https://github.com/LincZero/obsidian-node-flow/"},Uv={xmlns:"http://www.w3.org/2000/svg",class:"icon github-icon",viewBox:"0 0 1024 1024",fill:"currentColor","aria-label":"github icon",name:"github",style:{width:"1.25rem",height:"1.25rem","vertical-align":"middle"}},qv={class:"menus-2"},Gv=be({__name:"TabBar",setup(e){const{notify:t}=hv();let n=Ft("LAYOUT"),i=ce("");ce("未保存*");const o=()=>{s.value&&s.value.click()},s=ce(null),r=d=>{d.target.closest(".menus-1")||(i.value="")};it(()=>{document.addEventListener("click",r)}),fo(()=>{document.removeEventListener("click",r)});const u=(d,f)=>{n!=null&&n.value&&n.value.addGlComponent(d,f)},a=()=>{n!=null&&n.value&&(n.value.loadGLLayout(b0.miniRow),t({title:"重置布局成功"}))},l=()=>{if(!(n!=null&&n.value))return;const d=n.value.getLayoutConfig();localStorage.setItem("gl_config",JSON.stringify(d)),t({title:"保存布局成功"})},c=()=>{const d=localStorage.getItem("gl_config");if(!d||!(n!=null&&n.value))return;const f=JSON.parse(d);n.value.loadGLLayout(f),t({title:"加载布局成功"})};return(d,f)=>(X(),Q("div",Ov,[f[33]||(f[33]=A("div",{class:"menu-1",style:{padding:"0 16px","font-weight":"bold","font-size":"16px",color:"#11b981"}},"NodeFlow App",-1)),A("div",{class:"menu-1",onClick:f[0]||(f[0]=Fi(h=>Ie(i)?i.value=$(i)==="menuFile"?"":"menuFile":i=$(i)==="menuFile"?"":"menuFile",["stop"])),onMouseover:f[1]||(f[1]=h=>Ie(i)?i.value=$(i)===""?"":"menuFile":i=$(i)===""?"":"menuFile")},[f[21]||(f[21]=ot(" 文件(F) ")),Fe(A("div",Lv,[A("div",{class:"menu-2",onClick:o},[f[19]||(f[19]=ot("打开配置 ")),A("input",{type:"file",accept:".json",text:"打开配置",ref_key:"fileInputEl",ref:s},null,512)]),f[20]||(f[20]=A("div",{class:"menu-2"},"保存配置",-1))],512),[[lt,$(i)==="menuFile"]])],32),A("div",{class:"menu-1",onClick:f[2]||(f[2]=Fi(h=>Ie(i)?i.value=$(i)==="menuEdit"?"":"menuEdit":i=$(i)==="menuEdit"?"":"menuEdit",["stop"])),onMouseover:f[3]||(f[3]=h=>Ie(i)?i.value=$(i)===""?"":"menuEdit":i=$(i)===""?"":"menuEdit")},[f[23]||(f[23]=ot(" 编辑(E) ")),Fe(A("div",zv,f[22]||(f[22]=[A("div",{class:"menu-2"},"新增流",-1),A("div",{class:"menu-2",disabled:""},"编辑流",-1)]),512),[[lt,$(i)==="menuEdit"]])],32),A("div",{class:"menu-1",onClick:f[10]||(f[10]=Fi(h=>Ie(i)?i.value=$(i)==="menuView"?"":"menuView":i=$(i)==="menuView"?"":"menuView",["stop"])),onMouseover:f[11]||(f[11]=h=>Ie(i)?i.value=$(i)===""?"":"menuView":i=$(i)===""?"":"menuView")},[f[26]||(f[26]=ot(" 视图(V) ")),Fe(A("div",Rv,[A("div",{class:"menu-2",onClick:l},"保存布局"),A("div",{class:"menu-2",onClick:c},"加载布局"),A("div",{class:"menu-2",onClick:a},"重置布局"),f[24]||(f[24]=A("hr",{class:"menu-2"},null,-1)),A("div",{class:"menu-2",onClick:f[4]||(f[4]=h=>u("NodeFlow","画布"))},"画布"),A("div",{class:"menu-2",onClick:f[5]||(f[5]=h=>u("AutoEditor","智能编辑器"))},"智能编辑器"),A("div",{class:"menu-2",onClick:f[6]||(f[6]=h=>u("NodeEditor","节点编辑器"))},"节点编辑器"),A("div",{class:"menu-2",onClick:f[7]||(f[7]=h=>u("JsonEditor","Json编辑器"))},"Json编辑器"),A("div",{class:"menu-2",onClick:f[8]||(f[8]=h=>u("BackendConnector","后端连接器"))},"后端连接器"),A("div",{class:"menu-2",onClick:f[9]||(f[9]=h=>u("NodeList","节点模板"))},"节点模板"),f[25]||(f[25]=A("div",null,null,-1))],512),[[lt,$(i)==="menuView"]])],32),A("div",{class:"menu-1",onClick:f[12]||(f[12]=Fi(h=>Ie(i)?i.value=$(i)==="menuTool"?"":"menuTool":i=$(i)==="menuTool"?"":"menuTool",["stop"])),onMouseover:f[13]||(f[13]=h=>Ie(i)?i.value=$(i)===""?"":"menuTool":i=$(i)===""?"":"menuTool")},[f[27]||(f[27]=ot(" 工具(T) ")),Fe(A("div",$v,null,512),[[lt,$(i)==="menuTool"]])],32),A("div",{class:"menu-1",onClick:f[15]||(f[15]=Fi(h=>Ie(i)?i.value=$(i)==="menuHelp"?"":"menuHelp":i=$(i)==="menuHelp"?"":"menuHelp",["stop"])),onMouseover:f[16]||(f[16]=h=>Ie(i)?i.value=$(i)===""?"":"menuHelp":i=$(i)===""?"":"menuHelp")},[f[29]||(f[29]=ot(" 帮助(H) ")),Fe(A("div",Bv,[f[28]||(f[28]=A("div",{class:"menu-2"},[A("a",{target:"_blank",href:"https://linczero.github.io/MdNote_Public/ProductDoc/Plugin/NodeFlow/"},"文档")],-1)),A("div",{class:"menu-2",onClick:f[14]||(f[14]=h=>console.log("暂无版本号"))},"版本信息")],512),[[lt,$(i)==="menuHelp"]])],32),A("div",Vv,[A("a",Hv,[(X(),Q("svg",Uv,f[30]||(f[30]=[A("path",{d:"M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"},null,-1)])))])]),f[34]||(f[34]=La('<div class="menu-1" style="padding:0 16px;font-weight:bold;font-size:16px;float:right;" data-v-b7c30393><a href="https://linczero.github.io/obsidian-node-flow/" data-v-b7c30393>在线交互</a></div><div class="menu-1" style="padding:0 16px;font-weight:bold;font-size:16px;float:right;" data-v-b7c30393><a href="https://linczero.github.io/MdNote_Public/ProductDoc/Plugin/NodeFlow/README.show.html" data-v-b7c30393>在线展示</a></div><div class="menu-1" style="padding:0 16px;font-weight:bold;font-size:16px;float:right;" data-v-b7c30393><a href="https://linczero.github.io/MdNote_Public/ProductDoc/Plugin/NodeFlow/docs/zh/" data-v-b7c30393>在线文档</a></div>',3)),A("div",{class:"menu-1",style:{padding:"0 16px","font-weight":"bold","font-size":"16px",float:"right"},onClick:f[17]||(f[17]=Fi(h=>Ie(i)?i.value=$(i)==="serialLinks"?"":"serialLinks":i=$(i)==="serialLinks"?"":"serialLinks",["stop"])),onMouseover:f[18]||(f[18]=h=>Ie(i)?i.value=$(i)===""?"":"serialLinks":i=$(i)===""?"":"serialLinks")},[f[32]||(f[32]=ot(" 其他在线 ")),Fe(A("div",qv,f[31]||(f[31]=[La('<div class="menu-2" data-v-b7c30393><a href="https://any-block.github.io/any-block/" data-v-b7c30393>AnyBlock</a></div><div class="menu-2" data-v-b7c30393><a href="https://linczero.github.io/obsidian-node-flow/" data-v-b7c30393>NodeFlow</a></div><div class="menu-2" data-v-b7c30393><a href="https://linczero.github.io/obsidian-chat-view-qq/" data-v-b7c30393>ChatView</a></div><div data-v-b7c30393></div>',4)]),512),[[lt,$(i)==="serialLinks"]])],32)]))}}),Xe=(e,t)=>{const n=e.__vccOpts||e;for(const[i,o]of t)n[i]=o;return n},jv=Xe(Gv,[["__scopeId","data-v-b7c30393"]]);function Rr(e){return pl()?(zs(e),!0):!1}function In(e){return typeof e=="function"?e():$(e)}const Wv=typeof window<"u"&&typeof document<"u",Zv=e=>typeof e<"u",Yv=Object.prototype.toString,Xv=e=>Yv.call(e)==="[object Object]",Kv=()=>{};function Jv(e,t){function n(...i){return new Promise((o,s)=>{Promise.resolve(e(()=>t.apply(this,i),{fn:t,thisArg:this,args:i})).then(o).catch(s)})}return n}const y0=e=>e();function Qv(e=y0){const t=ce(!0);function n(){t.value=!1}function i(){t.value=!0}const o=(...s)=>{t.value&&e(...s)};return{isActive:Dr(t),pause:n,resume:i,eventFilter:o}}function qc(e,t=!1,n="Timeout"){return new Promise((i,o)=>{setTimeout(t?()=>o(n):i,e)})}function e_(e,t,n={}){const{eventFilter:i=y0,...o}=n;return Ae(e,Jv(i,t),o)}function Pi(e,t,n={}){const{eventFilter:i,...o}=n,{eventFilter:s,pause:r,resume:u,isActive:a}=Qv(i);return{stop:e_(e,t,{...o,eventFilter:s}),pause:r,resume:u,isActive:a}}function t_(e,t={}){if(!Ie(e))return dg(e);const n=Array.isArray(e.value)?Array.from({length:e.value.length}):{};for(const i in e.value)n[i]=cg(()=>({get(){return e.value[i]},set(o){var s;if((s=In(t.replaceRef))!=null?s:!0)if(Array.isArray(e.value)){const u=[...e.value];u[i]=o,e.value=u}else{const u={...e.value,[i]:o};Object.setPrototypeOf(u,Object.getPrototypeOf(e.value)),e.value=u}else e.value[i]=o}}));return n}function Va(e,t=!1){function n(d,{flush:f="sync",deep:h=!1,timeout:p,throwOnTimeout:_}={}){let b=null;const v=[new Promise(m=>{b=Ae(e,g=>{d(g)!==t&&(b==null||b(),m(g))},{flush:f,deep:h,immediate:!0})})];return p!=null&&v.push(qc(p,_).then(()=>In(e)).finally(()=>b==null?void 0:b())),Promise.race(v)}function i(d,f){if(!Ie(d))return n(g=>g===d,f);const{flush:h="sync",deep:p=!1,timeout:_,throwOnTimeout:b}=f??{};let y=null;const m=[new Promise(g=>{y=Ae([e,d],([x,E])=>{t!==(x===E)&&(y==null||y(),g(x))},{flush:h,deep:p,immediate:!0})})];return _!=null&&m.push(qc(_,b).then(()=>In(e)).finally(()=>(y==null||y(),In(e)))),Promise.race(m)}function o(d){return n(f=>!!f,d)}function s(d){return i(null,d)}function r(d){return i(void 0,d)}function u(d){return n(Number.isNaN,d)}function a(d,f){return n(h=>{const p=Array.from(h);return p.includes(d)||p.includes(In(d))},f)}function l(d){return c(1,d)}function c(d=1,f){let h=-1;return n(()=>(h+=1,h>=d),f)}return Array.isArray(In(e))?{toMatch:n,toContains:a,changed:l,changedTimes:c,get not(){return Va(e,!t)}}:{toMatch:n,toBe:i,toBeTruthy:o,toBeNull:s,toBeNaN:u,toBeUndefined:r,changed:l,changedTimes:c,get not(){return Va(e,!t)}}}function Ha(e){return Va(e)}function n_(e){var t;const n=In(e);return(t=n==null?void 0:n.$el)!=null?t:n}const w0=Wv?window:void 0;function x0(...e){let t,n,i,o;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,i,o]=e,t=w0):[t,n,i,o]=e,!t)return Kv;Array.isArray(n)||(n=[n]),Array.isArray(i)||(i=[i]);const s=[],r=()=>{s.forEach(c=>c()),s.length=0},u=(c,d,f,h)=>(c.addEventListener(d,f,h),()=>c.removeEventListener(d,f,h)),a=Ae(()=>[n_(t),In(o)],([c,d])=>{if(r(),!c)return;const f=Xv(d)?{...d}:d;s.push(...n.flatMap(h=>i.map(p=>u(c,h,p,f))))},{immediate:!0,flush:"post"}),l=()=>{a(),r()};return Rr(l),l}function i_(e){return typeof e=="function"?e:typeof e=="string"?t=>t.key===e:Array.isArray(e)?t=>e.includes(t.key):()=>!0}function Gc(...e){let t,n,i={};e.length===3?(t=e[0],n=e[1],i=e[2]):e.length===2?typeof e[1]=="object"?(t=!0,n=e[0],i=e[1]):(t=e[0],n=e[1]):(t=!0,n=e[0]);const{target:o=w0,eventName:s="keydown",passive:r=!1,dedupe:u=!1}=i,a=i_(t);return x0(o,s,c=>{c.repeat&&In(u)||a(c)&&n(c)},r)}function o_(e){return JSON.parse(JSON.stringify(e))}function hu(e,t,n,i={}){var o,s,r;const{clone:u=!1,passive:a=!1,eventName:l,deep:c=!1,defaultValue:d,shouldEmit:f}=i,h=Rn(),p=n||(h==null?void 0:h.emit)||((o=h==null?void 0:h.$emit)==null?void 0:o.bind(h))||((r=(s=h==null?void 0:h.proxy)==null?void 0:s.$emit)==null?void 0:r.bind(h==null?void 0:h.proxy));let _=l;t||(t="modelValue"),_=_||`update:${t.toString()}`;const b=m=>u?typeof u=="function"?u(m):o_(m):m,y=()=>Zv(e[t])?b(e[t]):d,v=m=>{f?f(m)&&p(_,m):p(_,m)};if(a){const m=y(),g=ce(m);let x=!1;return Ae(()=>e[t],E=>{x||(x=!0,g.value=b(E),We(()=>x=!1))}),Ae(g,E=>{!x&&(E!==e[t]||c)&&v(E)},{deep:c}),g}else return me({get(){return y()},set(m){v(m)}})}var s_={value:()=>{}};function $r(){for(var e=0,t=arguments.length,n={},i;e<t;++e){if(!(i=arguments[e]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new Vs(n)}function Vs(e){this._=e}function r_(e,t){return e.trim().split(/^|\s+/).map(function(n){var i="",o=n.indexOf(".");if(o>=0&&(i=n.slice(o+1),n=n.slice(0,o)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}Vs.prototype=$r.prototype={constructor:Vs,on:function(e,t){var n=this._,i=r_(e+"",n),o,s=-1,r=i.length;if(arguments.length<2){for(;++s<r;)if((o=(e=i[s]).type)&&(o=u_(n[o],e.name)))return o;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<r;)if(o=(e=i[s]).type)n[o]=jc(n[o],e.name,t);else if(t==null)for(o in n)n[o]=jc(n[o],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Vs(e)},call:function(e,t){if((o=arguments.length-2)>0)for(var n=new Array(o),i=0,o,s;i<o;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],i=0,o=s.length;i<o;++i)s[i].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],o=0,s=i.length;o<s;++o)i[o].value.apply(t,n)}};function u_(e,t){for(var n=0,i=e.length,o;n<i;++n)if((o=e[n]).name===t)return o.value}function jc(e,t,n){for(var i=0,o=e.length;i<o;++i)if(e[i].name===t){e[i]=s_,e=e.slice(0,i).concat(e.slice(i+1));break}return n!=null&&e.push({name:t,value:n}),e}var Ua="http://www.w3.org/1999/xhtml";const Wc={svg:"http://www.w3.org/2000/svg",xhtml:Ua,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Br(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Wc.hasOwnProperty(t)?{space:Wc[t],local:e}:e}function a_(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Ua&&t.documentElement.namespaceURI===Ua?t.createElement(e):t.createElementNS(n,e)}}function l_(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function C0(e){var t=Br(e);return(t.local?l_:a_)(t)}function c_(){}function Tl(e){return e==null?c_:function(){return this.querySelector(e)}}function d_(e){typeof e!="function"&&(e=Tl(e));for(var t=this._groups,n=t.length,i=new Array(n),o=0;o<n;++o)for(var s=t[o],r=s.length,u=i[o]=new Array(r),a,l,c=0;c<r;++c)(a=s[c])&&(l=e.call(a,a.__data__,c,s))&&("__data__"in a&&(l.__data__=a.__data__),u[c]=l);return new Ot(i,this._parents)}function f_(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function h_(){return[]}function E0(e){return e==null?h_:function(){return this.querySelectorAll(e)}}function p_(e){return function(){return f_(e.apply(this,arguments))}}function m_(e){typeof e=="function"?e=p_(e):e=E0(e);for(var t=this._groups,n=t.length,i=[],o=[],s=0;s<n;++s)for(var r=t[s],u=r.length,a,l=0;l<u;++l)(a=r[l])&&(i.push(e.call(a,a.__data__,l,r)),o.push(a));return new Ot(i,o)}function S0(e){return function(){return this.matches(e)}}function k0(e){return function(t){return t.matches(e)}}var g_=Array.prototype.find;function v_(e){return function(){return g_.call(this.children,e)}}function __(){return this.firstElementChild}function b_(e){return this.select(e==null?__:v_(typeof e=="function"?e:k0(e)))}var y_=Array.prototype.filter;function w_(){return Array.from(this.children)}function x_(e){return function(){return y_.call(this.children,e)}}function C_(e){return this.selectAll(e==null?w_:x_(typeof e=="function"?e:k0(e)))}function E_(e){typeof e!="function"&&(e=S0(e));for(var t=this._groups,n=t.length,i=new Array(n),o=0;o<n;++o)for(var s=t[o],r=s.length,u=i[o]=[],a,l=0;l<r;++l)(a=s[l])&&e.call(a,a.__data__,l,s)&&u.push(a);return new Ot(i,this._parents)}function I0(e){return new Array(e.length)}function S_(){return new Ot(this._enter||this._groups.map(I0),this._parents)}function ar(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}ar.prototype={constructor:ar,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function k_(e){return function(){return e}}function I_(e,t,n,i,o,s){for(var r=0,u,a=t.length,l=s.length;r<l;++r)(u=t[r])?(u.__data__=s[r],i[r]=u):n[r]=new ar(e,s[r]);for(;r<a;++r)(u=t[r])&&(o[r]=u)}function A_(e,t,n,i,o,s,r){var u,a,l=new Map,c=t.length,d=s.length,f=new Array(c),h;for(u=0;u<c;++u)(a=t[u])&&(f[u]=h=r.call(a,a.__data__,u,t)+"",l.has(h)?o[u]=a:l.set(h,a));for(u=0;u<d;++u)h=r.call(e,s[u],u,s)+"",(a=l.get(h))?(i[u]=a,a.__data__=s[u],l.delete(h)):n[u]=new ar(e,s[u]);for(u=0;u<c;++u)(a=t[u])&&l.get(f[u])===a&&(o[u]=a)}function D_(e){return e.__data__}function N_(e,t){if(!arguments.length)return Array.from(this,D_);var n=t?A_:I_,i=this._parents,o=this._groups;typeof e!="function"&&(e=k_(e));for(var s=o.length,r=new Array(s),u=new Array(s),a=new Array(s),l=0;l<s;++l){var c=i[l],d=o[l],f=d.length,h=T_(e.call(c,c&&c.__data__,l,i)),p=h.length,_=u[l]=new Array(p),b=r[l]=new Array(p),y=a[l]=new Array(f);n(c,d,_,b,y,h,t);for(var v=0,m=0,g,x;v<p;++v)if(g=_[v]){for(v>=m&&(m=v+1);!(x=b[m])&&++m<p;);g._next=x||null}}return r=new Ot(r,i),r._enter=u,r._exit=a,r}function T_(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function M_(){return new Ot(this._exit||this._groups.map(I0),this._parents)}function F_(e,t,n){var i=this.enter(),o=this,s=this.exit();return typeof e=="function"?(i=e(i),i&&(i=i.selection())):i=i.append(e+""),t!=null&&(o=t(o),o&&(o=o.selection())),n==null?s.remove():n(s),i&&o?i.merge(o).order():o}function P_(e){for(var t=e.selection?e.selection():e,n=this._groups,i=t._groups,o=n.length,s=i.length,r=Math.min(o,s),u=new Array(o),a=0;a<r;++a)for(var l=n[a],c=i[a],d=l.length,f=u[a]=new Array(d),h,p=0;p<d;++p)(h=l[p]||c[p])&&(f[p]=h);for(;a<o;++a)u[a]=n[a];return new Ot(u,this._parents)}function O_(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var i=e[t],o=i.length-1,s=i[o],r;--o>=0;)(r=i[o])&&(s&&r.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(r,s),s=r);return this}function L_(e){e||(e=z_);function t(d,f){return d&&f?e(d.__data__,f.__data__):!d-!f}for(var n=this._groups,i=n.length,o=new Array(i),s=0;s<i;++s){for(var r=n[s],u=r.length,a=o[s]=new Array(u),l,c=0;c<u;++c)(l=r[c])&&(a[c]=l);a.sort(t)}return new Ot(o,this._parents).order()}function z_(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function R_(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function $_(){return Array.from(this)}function B_(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],o=0,s=i.length;o<s;++o){var r=i[o];if(r)return r}return null}function V_(){let e=0;for(const t of this)++e;return e}function H_(){return!this.node()}function U_(e){for(var t=this._groups,n=0,i=t.length;n<i;++n)for(var o=t[n],s=0,r=o.length,u;s<r;++s)(u=o[s])&&e.call(u,u.__data__,s,o);return this}function q_(e){return function(){this.removeAttribute(e)}}function G_(e){return function(){this.removeAttributeNS(e.space,e.local)}}function j_(e,t){return function(){this.setAttribute(e,t)}}function W_(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Z_(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Y_(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function X_(e,t){var n=Br(e);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((t==null?n.local?G_:q_:typeof t=="function"?n.local?Y_:Z_:n.local?W_:j_)(n,t))}function A0(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function K_(e){return function(){this.style.removeProperty(e)}}function J_(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Q_(e,t,n){return function(){var i=t.apply(this,arguments);i==null?this.style.removeProperty(e):this.style.setProperty(e,i,n)}}function eb(e,t,n){return arguments.length>1?this.each((t==null?K_:typeof t=="function"?Q_:J_)(e,t,n??"")):oo(this.node(),e)}function oo(e,t){return e.style.getPropertyValue(t)||A0(e).getComputedStyle(e,null).getPropertyValue(t)}function tb(e){return function(){delete this[e]}}function nb(e,t){return function(){this[e]=t}}function ib(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function ob(e,t){return arguments.length>1?this.each((t==null?tb:typeof t=="function"?ib:nb)(e,t)):this.node()[e]}function D0(e){return e.trim().split(/^|\s+/)}function Ml(e){return e.classList||new N0(e)}function N0(e){this._node=e,this._names=D0(e.getAttribute("class")||"")}N0.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function T0(e,t){for(var n=Ml(e),i=-1,o=t.length;++i<o;)n.add(t[i])}function M0(e,t){for(var n=Ml(e),i=-1,o=t.length;++i<o;)n.remove(t[i])}function sb(e){return function(){T0(this,e)}}function rb(e){return function(){M0(this,e)}}function ub(e,t){return function(){(t.apply(this,arguments)?T0:M0)(this,e)}}function ab(e,t){var n=D0(e+"");if(arguments.length<2){for(var i=Ml(this.node()),o=-1,s=n.length;++o<s;)if(!i.contains(n[o]))return!1;return!0}return this.each((typeof t=="function"?ub:t?sb:rb)(n,t))}function lb(){this.textContent=""}function cb(e){return function(){this.textContent=e}}function db(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function fb(e){return arguments.length?this.each(e==null?lb:(typeof e=="function"?db:cb)(e)):this.node().textContent}function hb(){this.innerHTML=""}function pb(e){return function(){this.innerHTML=e}}function mb(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function gb(e){return arguments.length?this.each(e==null?hb:(typeof e=="function"?mb:pb)(e)):this.node().innerHTML}function vb(){this.nextSibling&&this.parentNode.appendChild(this)}function _b(){return this.each(vb)}function bb(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function yb(){return this.each(bb)}function wb(e){var t=typeof e=="function"?e:C0(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function xb(){return null}function Cb(e,t){var n=typeof e=="function"?e:C0(e),i=t==null?xb:typeof t=="function"?t:Tl(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function Eb(){var e=this.parentNode;e&&e.removeChild(this)}function Sb(){return this.each(Eb)}function kb(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Ib(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Ab(e){return this.select(e?Ib:kb)}function Db(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Nb(e){return function(t){e.call(this,t,this.__data__)}}function Tb(e){return e.trim().split(/^|\s+/).map(function(t){var n="",i=t.indexOf(".");return i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),{type:t,name:n}})}function Mb(e){return function(){var t=this.__on;if(t){for(var n=0,i=-1,o=t.length,s;n<o;++n)s=t[n],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++i]=s;++i?t.length=i:delete this.__on}}}function Fb(e,t,n){return function(){var i=this.__on,o,s=Nb(t);if(i){for(var r=0,u=i.length;r<u;++r)if((o=i[r]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=s,o.options=n),o.value=t;return}}this.addEventListener(e.type,s,n),o={type:e.type,name:e.name,value:t,listener:s,options:n},i?i.push(o):this.__on=[o]}}function Pb(e,t,n){var i=Tb(e+""),o,s=i.length,r;if(arguments.length<2){var u=this.node().__on;if(u){for(var a=0,l=u.length,c;a<l;++a)for(o=0,c=u[a];o<s;++o)if((r=i[o]).type===c.type&&r.name===c.name)return c.value}return}for(u=t?Fb:Mb,o=0;o<s;++o)this.each(u(i[o],t,n));return this}function F0(e,t,n){var i=A0(e),o=i.CustomEvent;typeof o=="function"?o=new o(t,n):(o=i.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function Ob(e,t){return function(){return F0(this,e,t)}}function Lb(e,t){return function(){return F0(this,e,t.apply(this,arguments))}}function zb(e,t){return this.each((typeof t=="function"?Lb:Ob)(e,t))}function*Rb(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],o=0,s=i.length,r;o<s;++o)(r=i[o])&&(yield r)}var P0=[null];function Ot(e,t){this._groups=e,this._parents=t}function ms(){return new Ot([[document.documentElement]],P0)}function $b(){return this}Ot.prototype=ms.prototype={constructor:Ot,select:d_,selectAll:m_,selectChild:b_,selectChildren:C_,filter:E_,data:N_,enter:S_,exit:M_,join:F_,merge:P_,selection:$b,order:O_,sort:L_,call:R_,nodes:$_,node:B_,size:V_,empty:H_,each:U_,attr:X_,style:eb,property:ob,classed:ab,text:fb,html:gb,raise:_b,lower:yb,append:wb,insert:Cb,remove:Sb,clone:Ab,datum:Db,on:Pb,dispatch:zb,[Symbol.iterator]:Rb};function jt(e){return typeof e=="string"?new Ot([[document.querySelector(e)]],[document.documentElement]):new Ot([[e]],P0)}function Bb(e){let t;for(;t=e.sourceEvent;)e=t;return e}function ln(e,t){if(e=Bb(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,i=i.matrixTransform(t.getScreenCTM().inverse()),[i.x,i.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}const Vb={passive:!1},Jo={capture:!0,passive:!1};function pu(e){e.stopImmediatePropagation()}function Gi(e){e.preventDefault(),e.stopImmediatePropagation()}function O0(e){var t=e.document.documentElement,n=jt(e).on("dragstart.drag",Gi,Jo);"onselectstart"in t?n.on("selectstart.drag",Gi,Jo):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function L0(e,t){var n=e.document.documentElement,i=jt(e).on("dragstart.drag",null);t&&(i.on("click.drag",Gi,Jo),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const ks=e=>()=>e;function qa(e,{sourceEvent:t,subject:n,target:i,identifier:o,active:s,x:r,y:u,dx:a,dy:l,dispatch:c}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:r,enumerable:!0,configurable:!0},y:{value:u,enumerable:!0,configurable:!0},dx:{value:a,enumerable:!0,configurable:!0},dy:{value:l,enumerable:!0,configurable:!0},_:{value:c}})}qa.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function Hb(e){return!e.ctrlKey&&!e.button}function Ub(){return this.parentNode}function qb(e,t){return t??{x:e.x,y:e.y}}function Gb(){return navigator.maxTouchPoints||"ontouchstart"in this}function jb(){var e=Hb,t=Ub,n=qb,i=Gb,o={},s=$r("start","drag","end"),r=0,u,a,l,c,d=0;function f(g){g.on("mousedown.drag",h).filter(i).on("touchstart.drag",b).on("touchmove.drag",y,Vb).on("touchend.drag touchcancel.drag",v).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(g,x){if(!(c||!e.call(this,g,x))){var E=m(this,t.call(this,g,x),g,x,"mouse");E&&(jt(g.view).on("mousemove.drag",p,Jo).on("mouseup.drag",_,Jo),O0(g.view),pu(g),l=!1,u=g.clientX,a=g.clientY,E("start",g))}}function p(g){if(Gi(g),!l){var x=g.clientX-u,E=g.clientY-a;l=x*x+E*E>d}o.mouse("drag",g)}function _(g){jt(g.view).on("mousemove.drag mouseup.drag",null),L0(g.view,l),Gi(g),o.mouse("end",g)}function b(g,x){if(e.call(this,g,x)){var E=g.changedTouches,D=t.call(this,g,x),k=E.length,w,M;for(w=0;w<k;++w)(M=m(this,D,g,x,E[w].identifier,E[w]))&&(pu(g),M("start",g,E[w]))}}function y(g){var x=g.changedTouches,E=x.length,D,k;for(D=0;D<E;++D)(k=o[x[D].identifier])&&(Gi(g),k("drag",g,x[D]))}function v(g){var x=g.changedTouches,E=x.length,D,k;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),D=0;D<E;++D)(k=o[x[D].identifier])&&(pu(g),k("end",g,x[D]))}function m(g,x,E,D,k,w){var M=s.copy(),O=ln(w||E,x),C,z,P;if((P=n.call(g,new qa("beforestart",{sourceEvent:E,target:f,identifier:k,active:r,x:O[0],y:O[1],dx:0,dy:0,dispatch:M}),D))!=null)return C=P.x-O[0]||0,z=P.y-O[1]||0,function q(R,W,Z){var ne=O,oe;switch(R){case"start":o[k]=q,oe=r++;break;case"end":delete o[k],--r;case"drag":O=ln(Z||W,x),oe=r;break}M.call(R,g,new qa(R,{sourceEvent:W,subject:P,target:f,identifier:k,active:oe,x:O[0]+C,y:O[1]+z,dx:O[0]-ne[0],dy:O[1]-ne[1],dispatch:M}),D)}}return f.filter=function(g){return arguments.length?(e=typeof g=="function"?g:ks(!!g),f):e},f.container=function(g){return arguments.length?(t=typeof g=="function"?g:ks(g),f):t},f.subject=function(g){return arguments.length?(n=typeof g=="function"?g:ks(g),f):n},f.touchable=function(g){return arguments.length?(i=typeof g=="function"?g:ks(!!g),f):i},f.on=function(){var g=s.on.apply(s,arguments);return g===s?f:g},f.clickDistance=function(g){return arguments.length?(d=(g=+g)*g,f):Math.sqrt(d)},f}function Fl(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function z0(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}function gs(){}var Qo=.7,lr=1/Qo,ji="\\s*([+-]?\\d+)\\s*",es="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",gn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Wb=/^#([0-9a-f]{3,8})$/,Zb=new RegExp(`^rgb\\(${ji},${ji},${ji}\\)$`),Yb=new RegExp(`^rgb\\(${gn},${gn},${gn}\\)$`),Xb=new RegExp(`^rgba\\(${ji},${ji},${ji},${es}\\)$`),Kb=new RegExp(`^rgba\\(${gn},${gn},${gn},${es}\\)$`),Jb=new RegExp(`^hsl\\(${es},${gn},${gn}\\)$`),Qb=new RegExp(`^hsla\\(${es},${gn},${gn},${es}\\)$`),Zc={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Fl(gs,Ai,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Yc,formatHex:Yc,formatHex8:ey,formatHsl:ty,formatRgb:Xc,toString:Xc});function Yc(){return this.rgb().formatHex()}function ey(){return this.rgb().formatHex8()}function ty(){return R0(this).formatHsl()}function Xc(){return this.rgb().formatRgb()}function Ai(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Wb.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Kc(t):n===3?new kt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Is(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Is(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Zb.exec(e))?new kt(t[1],t[2],t[3],1):(t=Yb.exec(e))?new kt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Xb.exec(e))?Is(t[1],t[2],t[3],t[4]):(t=Kb.exec(e))?Is(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Jb.exec(e))?ed(t[1],t[2]/100,t[3]/100,1):(t=Qb.exec(e))?ed(t[1],t[2]/100,t[3]/100,t[4]):Zc.hasOwnProperty(e)?Kc(Zc[e]):e==="transparent"?new kt(NaN,NaN,NaN,0):null}function Kc(e){return new kt(e>>16&255,e>>8&255,e&255,1)}function Is(e,t,n,i){return i<=0&&(e=t=n=NaN),new kt(e,t,n,i)}function ny(e){return e instanceof gs||(e=Ai(e)),e?(e=e.rgb(),new kt(e.r,e.g,e.b,e.opacity)):new kt}function Ga(e,t,n,i){return arguments.length===1?ny(e):new kt(e,t,n,i??1)}function kt(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}Fl(kt,Ga,z0(gs,{brighter(e){return e=e==null?lr:Math.pow(lr,e),new kt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Qo:Math.pow(Qo,e),new kt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new kt(xi(this.r),xi(this.g),xi(this.b),cr(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Jc,formatHex:Jc,formatHex8:iy,formatRgb:Qc,toString:Qc}));function Jc(){return`#${mi(this.r)}${mi(this.g)}${mi(this.b)}`}function iy(){return`#${mi(this.r)}${mi(this.g)}${mi(this.b)}${mi((isNaN(this.opacity)?1:this.opacity)*255)}`}function Qc(){const e=cr(this.opacity);return`${e===1?"rgb(":"rgba("}${xi(this.r)}, ${xi(this.g)}, ${xi(this.b)}${e===1?")":`, ${e})`}`}function cr(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function xi(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function mi(e){return e=xi(e),(e<16?"0":"")+e.toString(16)}function ed(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Wt(e,t,n,i)}function R0(e){if(e instanceof Wt)return new Wt(e.h,e.s,e.l,e.opacity);if(e instanceof gs||(e=Ai(e)),!e)return new Wt;if(e instanceof Wt)return e;e=e.rgb();var t=e.r/255,n=e.g/255,i=e.b/255,o=Math.min(t,n,i),s=Math.max(t,n,i),r=NaN,u=s-o,a=(s+o)/2;return u?(t===s?r=(n-i)/u+(n<i)*6:n===s?r=(i-t)/u+2:r=(t-n)/u+4,u/=a<.5?s+o:2-s-o,r*=60):u=a>0&&a<1?0:r,new Wt(r,u,a,e.opacity)}function oy(e,t,n,i){return arguments.length===1?R0(e):new Wt(e,t,n,i??1)}function Wt(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}Fl(Wt,oy,z0(gs,{brighter(e){return e=e==null?lr:Math.pow(lr,e),new Wt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Qo:Math.pow(Qo,e),new Wt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,o=2*n-i;return new kt(mu(e>=240?e-240:e+120,o,i),mu(e,o,i),mu(e<120?e+240:e-120,o,i),this.opacity)},clamp(){return new Wt(td(this.h),As(this.s),As(this.l),cr(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=cr(this.opacity);return`${e===1?"hsl(":"hsla("}${td(this.h)}, ${As(this.s)*100}%, ${As(this.l)*100}%${e===1?")":`, ${e})`}`}}));function td(e){return e=(e||0)%360,e<0?e+360:e}function As(e){return Math.max(0,Math.min(1,e||0))}function mu(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Pl=e=>()=>e;function sy(e,t){return function(n){return e+n*t}}function ry(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(i){return Math.pow(e+i*t,n)}}function uy(e){return(e=+e)==1?$0:function(t,n){return n-t?ry(t,n,e):Pl(isNaN(t)?n:t)}}function $0(e,t){var n=t-e;return n?sy(e,n):Pl(isNaN(e)?t:e)}const dr=function e(t){var n=uy(t);function i(o,s){var r=n((o=Ga(o)).r,(s=Ga(s)).r),u=n(o.g,s.g),a=n(o.b,s.b),l=$0(o.opacity,s.opacity);return function(c){return o.r=r(c),o.g=u(c),o.b=a(c),o.opacity=l(c),o+""}}return i.gamma=e,i}(1);function ay(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,i=t.slice(),o;return function(s){for(o=0;o<n;++o)i[o]=e[o]*(1-s)+t[o]*s;return i}}function ly(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function cy(e,t){var n=t?t.length:0,i=e?Math.min(n,e.length):0,o=new Array(i),s=new Array(n),r;for(r=0;r<i;++r)o[r]=Po(e[r],t[r]);for(;r<n;++r)s[r]=t[r];return function(u){for(r=0;r<i;++r)s[r]=o[r](u);return s}}function dy(e,t){var n=new Date;return e=+e,t=+t,function(i){return n.setTime(e*(1-i)+t*i),n}}function dn(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function fy(e,t){var n={},i={},o;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(o in t)o in e?n[o]=Po(e[o],t[o]):i[o]=t[o];return function(s){for(o in n)i[o]=n[o](s);return i}}var ja=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,gu=new RegExp(ja.source,"g");function hy(e){return function(){return e}}function py(e){return function(t){return e(t)+""}}function B0(e,t){var n=ja.lastIndex=gu.lastIndex=0,i,o,s,r=-1,u=[],a=[];for(e=e+"",t=t+"";(i=ja.exec(e))&&(o=gu.exec(t));)(s=o.index)>n&&(s=t.slice(n,s),u[r]?u[r]+=s:u[++r]=s),(i=i[0])===(o=o[0])?u[r]?u[r]+=o:u[++r]=o:(u[++r]=null,a.push({i:r,x:dn(i,o)})),n=gu.lastIndex;return n<t.length&&(s=t.slice(n),u[r]?u[r]+=s:u[++r]=s),u.length<2?a[0]?py(a[0].x):hy(t):(t=a.length,function(l){for(var c=0,d;c<t;++c)u[(d=a[c]).i]=d.x(l);return u.join("")})}function Po(e,t){var n=typeof t,i;return t==null||n==="boolean"?Pl(t):(n==="number"?dn:n==="string"?(i=Ai(t))?(t=i,dr):B0:t instanceof Ai?dr:t instanceof Date?dy:ly(t)?ay:Array.isArray(t)?cy:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?fy:dn)(e,t)}var nd=180/Math.PI,Wa={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function V0(e,t,n,i,o,s){var r,u,a;return(r=Math.sqrt(e*e+t*t))&&(e/=r,t/=r),(a=e*n+t*i)&&(n-=e*a,i-=t*a),(u=Math.sqrt(n*n+i*i))&&(n/=u,i/=u,a/=u),e*i<t*n&&(e=-e,t=-t,a=-a,r=-r),{translateX:o,translateY:s,rotate:Math.atan2(t,e)*nd,skewX:Math.atan(a)*nd,scaleX:r,scaleY:u}}var Ds;function my(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Wa:V0(t.a,t.b,t.c,t.d,t.e,t.f)}function gy(e){return e==null||(Ds||(Ds=document.createElementNS("http://www.w3.org/2000/svg","g")),Ds.setAttribute("transform",e),!(e=Ds.transform.baseVal.consolidate()))?Wa:(e=e.matrix,V0(e.a,e.b,e.c,e.d,e.e,e.f))}function H0(e,t,n,i){function o(l){return l.length?l.pop()+" ":""}function s(l,c,d,f,h,p){if(l!==d||c!==f){var _=h.push("translate(",null,t,null,n);p.push({i:_-4,x:dn(l,d)},{i:_-2,x:dn(c,f)})}else(d||f)&&h.push("translate("+d+t+f+n)}function r(l,c,d,f){l!==c?(l-c>180?c+=360:c-l>180&&(l+=360),f.push({i:d.push(o(d)+"rotate(",null,i)-2,x:dn(l,c)})):c&&d.push(o(d)+"rotate("+c+i)}function u(l,c,d,f){l!==c?f.push({i:d.push(o(d)+"skewX(",null,i)-2,x:dn(l,c)}):c&&d.push(o(d)+"skewX("+c+i)}function a(l,c,d,f,h,p){if(l!==d||c!==f){var _=h.push(o(h)+"scale(",null,",",null,")");p.push({i:_-4,x:dn(l,d)},{i:_-2,x:dn(c,f)})}else(d!==1||f!==1)&&h.push(o(h)+"scale("+d+","+f+")")}return function(l,c){var d=[],f=[];return l=e(l),c=e(c),s(l.translateX,l.translateY,c.translateX,c.translateY,d,f),r(l.rotate,c.rotate,d,f),u(l.skewX,c.skewX,d,f),a(l.scaleX,l.scaleY,c.scaleX,c.scaleY,d,f),l=c=null,function(h){for(var p=-1,_=f.length,b;++p<_;)d[(b=f[p]).i]=b.x(h);return d.join("")}}}var vy=H0(my,"px, ","px)","deg)"),_y=H0(gy,", ",")",")"),by=1e-12;function id(e){return((e=Math.exp(e))+1/e)/2}function yy(e){return((e=Math.exp(e))-1/e)/2}function wy(e){return((e=Math.exp(2*e))-1)/(e+1)}const Hs=function e(t,n,i){function o(s,r){var u=s[0],a=s[1],l=s[2],c=r[0],d=r[1],f=r[2],h=c-u,p=d-a,_=h*h+p*p,b,y;if(_<by)y=Math.log(f/l)/t,b=function(D){return[u+D*h,a+D*p,l*Math.exp(t*D*y)]};else{var v=Math.sqrt(_),m=(f*f-l*l+i*_)/(2*l*n*v),g=(f*f-l*l-i*_)/(2*f*n*v),x=Math.log(Math.sqrt(m*m+1)-m),E=Math.log(Math.sqrt(g*g+1)-g);y=(E-x)/t,b=function(D){var k=D*y,w=id(x),M=l/(n*v)*(w*wy(t*k+x)-yy(x));return[u+M*h,a+M*p,l*w/id(t*k+x)]}}return b.duration=y*1e3*t/Math.SQRT2,b}return o.rho=function(s){var r=Math.max(.001,+s),u=r*r,a=u*u;return e(r,u,a)},o}(Math.SQRT2,2,4);var so=0,xo=0,bo=0,U0=1e3,fr,Co,hr=0,Di=0,Vr=0,ts=typeof performance=="object"&&performance.now?performance:Date,q0=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Ol(){return Di||(q0(xy),Di=ts.now()+Vr)}function xy(){Di=0}function pr(){this._call=this._time=this._next=null}pr.prototype=G0.prototype={constructor:pr,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Ol():+n)+(t==null?0:+t),!this._next&&Co!==this&&(Co?Co._next=this:fr=this,Co=this),this._call=e,this._time=n,Za()},stop:function(){this._call&&(this._call=null,this._time=1/0,Za())}};function G0(e,t,n){var i=new pr;return i.restart(e,t,n),i}function Cy(){Ol(),++so;for(var e=fr,t;e;)(t=Di-e._time)>=0&&e._call.call(void 0,t),e=e._next;--so}function od(){Di=(hr=ts.now())+Vr,so=xo=0;try{Cy()}finally{so=0,Sy(),Di=0}}function Ey(){var e=ts.now(),t=e-hr;t>U0&&(Vr-=t,hr=e)}function Sy(){for(var e,t=fr,n,i=1/0;t;)t._call?(i>t._time&&(i=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:fr=n);Co=e,Za(i)}function Za(e){if(!so){xo&&(xo=clearTimeout(xo));var t=e-Di;t>24?(e<1/0&&(xo=setTimeout(od,e-ts.now()-Vr)),bo&&(bo=clearInterval(bo))):(bo||(hr=ts.now(),bo=setInterval(Ey,U0)),so=1,q0(od))}}function sd(e,t,n){var i=new pr;return t=t==null?0:+t,i.restart(o=>{i.stop(),e(o+t)},t,n),i}var ky=$r("start","end","cancel","interrupt"),Iy=[],j0=0,rd=1,Ya=2,Us=3,ud=4,Xa=5,qs=6;function Hr(e,t,n,i,o,s){var r=e.__transition;if(!r)e.__transition={};else if(n in r)return;Ay(e,n,{name:t,index:i,group:o,on:ky,tween:Iy,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:j0})}function Ll(e,t){var n=Jt(e,t);if(n.state>j0)throw new Error("too late; already scheduled");return n}function bn(e,t){var n=Jt(e,t);if(n.state>Us)throw new Error("too late; already running");return n}function Jt(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Ay(e,t,n){var i=e.__transition,o;i[t]=n,n.timer=G0(s,0,n.time);function s(l){n.state=rd,n.timer.restart(r,n.delay,n.time),n.delay<=l&&r(l-n.delay)}function r(l){var c,d,f,h;if(n.state!==rd)return a();for(c in i)if(h=i[c],h.name===n.name){if(h.state===Us)return sd(r);h.state===ud?(h.state=qs,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete i[c]):+c<t&&(h.state=qs,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete i[c])}if(sd(function(){n.state===Us&&(n.state=ud,n.timer.restart(u,n.delay,n.time),u(l))}),n.state=Ya,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Ya){for(n.state=Us,o=new Array(f=n.tween.length),c=0,d=-1;c<f;++c)(h=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(o[++d]=h);o.length=d+1}}function u(l){for(var c=l<n.duration?n.ease.call(null,l/n.duration):(n.timer.restart(a),n.state=Xa,1),d=-1,f=o.length;++d<f;)o[d].call(e,c);n.state===Xa&&(n.on.call("end",e,e.__data__,n.index,n.group),a())}function a(){n.state=qs,n.timer.stop(),delete i[t];for(var l in i)return;delete e.__transition}}function Gs(e,t){var n=e.__transition,i,o,s=!0,r;if(n){t=t==null?null:t+"";for(r in n){if((i=n[r]).name!==t){s=!1;continue}o=i.state>Ya&&i.state<Xa,i.state=qs,i.timer.stop(),i.on.call(o?"interrupt":"cancel",e,e.__data__,i.index,i.group),delete n[r]}s&&delete e.__transition}}function Dy(e){return this.each(function(){Gs(this,e)})}function Ny(e,t){var n,i;return function(){var o=bn(this,e),s=o.tween;if(s!==n){i=n=s;for(var r=0,u=i.length;r<u;++r)if(i[r].name===t){i=i.slice(),i.splice(r,1);break}}o.tween=i}}function Ty(e,t,n){var i,o;if(typeof n!="function")throw new Error;return function(){var s=bn(this,e),r=s.tween;if(r!==i){o=(i=r).slice();for(var u={name:t,value:n},a=0,l=o.length;a<l;++a)if(o[a].name===t){o[a]=u;break}a===l&&o.push(u)}s.tween=o}}function My(e,t){var n=this._id;if(e+="",arguments.length<2){for(var i=Jt(this.node(),n).tween,o=0,s=i.length,r;o<s;++o)if((r=i[o]).name===e)return r.value;return null}return this.each((t==null?Ny:Ty)(n,e,t))}function zl(e,t,n){var i=e._id;return e.each(function(){var o=bn(this,i);(o.value||(o.value={}))[t]=n.apply(this,arguments)}),function(o){return Jt(o,i).value[t]}}function W0(e,t){var n;return(typeof t=="number"?dn:t instanceof Ai?dr:(n=Ai(t))?(t=n,dr):B0)(e,t)}function Fy(e){return function(){this.removeAttribute(e)}}function Py(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Oy(e,t,n){var i,o=n+"",s;return function(){var r=this.getAttribute(e);return r===o?null:r===i?s:s=t(i=r,n)}}function Ly(e,t,n){var i,o=n+"",s;return function(){var r=this.getAttributeNS(e.space,e.local);return r===o?null:r===i?s:s=t(i=r,n)}}function zy(e,t,n){var i,o,s;return function(){var r,u=n(this),a;return u==null?void this.removeAttribute(e):(r=this.getAttribute(e),a=u+"",r===a?null:r===i&&a===o?s:(o=a,s=t(i=r,u)))}}function Ry(e,t,n){var i,o,s;return function(){var r,u=n(this),a;return u==null?void this.removeAttributeNS(e.space,e.local):(r=this.getAttributeNS(e.space,e.local),a=u+"",r===a?null:r===i&&a===o?s:(o=a,s=t(i=r,u)))}}function $y(e,t){var n=Br(e),i=n==="transform"?_y:W0;return this.attrTween(e,typeof t=="function"?(n.local?Ry:zy)(n,i,zl(this,"attr."+e,t)):t==null?(n.local?Py:Fy)(n):(n.local?Ly:Oy)(n,i,t))}function By(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function Vy(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function Hy(e,t){var n,i;function o(){var s=t.apply(this,arguments);return s!==i&&(n=(i=s)&&Vy(e,s)),n}return o._value=t,o}function Uy(e,t){var n,i;function o(){var s=t.apply(this,arguments);return s!==i&&(n=(i=s)&&By(e,s)),n}return o._value=t,o}function qy(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var i=Br(e);return this.tween(n,(i.local?Hy:Uy)(i,t))}function Gy(e,t){return function(){Ll(this,e).delay=+t.apply(this,arguments)}}function jy(e,t){return t=+t,function(){Ll(this,e).delay=t}}function Wy(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Gy:jy)(t,e)):Jt(this.node(),t).delay}function Zy(e,t){return function(){bn(this,e).duration=+t.apply(this,arguments)}}function Yy(e,t){return t=+t,function(){bn(this,e).duration=t}}function Xy(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Zy:Yy)(t,e)):Jt(this.node(),t).duration}function Ky(e,t){if(typeof t!="function")throw new Error;return function(){bn(this,e).ease=t}}function Jy(e){var t=this._id;return arguments.length?this.each(Ky(t,e)):Jt(this.node(),t).ease}function Qy(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;bn(this,e).ease=n}}function e2(e){if(typeof e!="function")throw new Error;return this.each(Qy(this._id,e))}function t2(e){typeof e!="function"&&(e=S0(e));for(var t=this._groups,n=t.length,i=new Array(n),o=0;o<n;++o)for(var s=t[o],r=s.length,u=i[o]=[],a,l=0;l<r;++l)(a=s[l])&&e.call(a,a.__data__,l,s)&&u.push(a);return new Ln(i,this._parents,this._name,this._id)}function n2(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,i=t.length,o=n.length,s=Math.min(i,o),r=new Array(i),u=0;u<s;++u)for(var a=t[u],l=n[u],c=a.length,d=r[u]=new Array(c),f,h=0;h<c;++h)(f=a[h]||l[h])&&(d[h]=f);for(;u<i;++u)r[u]=t[u];return new Ln(r,this._parents,this._name,this._id)}function i2(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function o2(e,t,n){var i,o,s=i2(t)?Ll:bn;return function(){var r=s(this,e),u=r.on;u!==i&&(o=(i=u).copy()).on(t,n),r.on=o}}function s2(e,t){var n=this._id;return arguments.length<2?Jt(this.node(),n).on.on(e):this.each(o2(n,e,t))}function r2(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function u2(){return this.on("end.remove",r2(this._id))}function a2(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Tl(e));for(var i=this._groups,o=i.length,s=new Array(o),r=0;r<o;++r)for(var u=i[r],a=u.length,l=s[r]=new Array(a),c,d,f=0;f<a;++f)(c=u[f])&&(d=e.call(c,c.__data__,f,u))&&("__data__"in c&&(d.__data__=c.__data__),l[f]=d,Hr(l[f],t,n,f,l,Jt(c,n)));return new Ln(s,this._parents,t,n)}function l2(e){var t=this._name,n=this._id;typeof e!="function"&&(e=E0(e));for(var i=this._groups,o=i.length,s=[],r=[],u=0;u<o;++u)for(var a=i[u],l=a.length,c,d=0;d<l;++d)if(c=a[d]){for(var f=e.call(c,c.__data__,d,a),h,p=Jt(c,n),_=0,b=f.length;_<b;++_)(h=f[_])&&Hr(h,t,n,_,f,p);s.push(f),r.push(c)}return new Ln(s,r,t,n)}var c2=ms.prototype.constructor;function d2(){return new c2(this._groups,this._parents)}function f2(e,t){var n,i,o;return function(){var s=oo(this,e),r=(this.style.removeProperty(e),oo(this,e));return s===r?null:s===n&&r===i?o:o=t(n=s,i=r)}}function Z0(e){return function(){this.style.removeProperty(e)}}function h2(e,t,n){var i,o=n+"",s;return function(){var r=oo(this,e);return r===o?null:r===i?s:s=t(i=r,n)}}function p2(e,t,n){var i,o,s;return function(){var r=oo(this,e),u=n(this),a=u+"";return u==null&&(a=u=(this.style.removeProperty(e),oo(this,e))),r===a?null:r===i&&a===o?s:(o=a,s=t(i=r,u))}}function m2(e,t){var n,i,o,s="style."+t,r="end."+s,u;return function(){var a=bn(this,e),l=a.on,c=a.value[s]==null?u||(u=Z0(t)):void 0;(l!==n||o!==c)&&(i=(n=l).copy()).on(r,o=c),a.on=i}}function g2(e,t,n){var i=(e+="")=="transform"?vy:W0;return t==null?this.styleTween(e,f2(e,i)).on("end.style."+e,Z0(e)):typeof t=="function"?this.styleTween(e,p2(e,i,zl(this,"style."+e,t))).each(m2(this._id,e)):this.styleTween(e,h2(e,i,t),n).on("end.style."+e,null)}function v2(e,t,n){return function(i){this.style.setProperty(e,t.call(this,i),n)}}function _2(e,t,n){var i,o;function s(){var r=t.apply(this,arguments);return r!==o&&(i=(o=r)&&v2(e,r,n)),i}return s._value=t,s}function b2(e,t,n){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(t==null)return this.tween(i,null);if(typeof t!="function")throw new Error;return this.tween(i,_2(e,t,n??""))}function y2(e){return function(){this.textContent=e}}function w2(e){return function(){var t=e(this);this.textContent=t??""}}function x2(e){return this.tween("text",typeof e=="function"?w2(zl(this,"text",e)):y2(e==null?"":e+""))}function C2(e){return function(t){this.textContent=e.call(this,t)}}function E2(e){var t,n;function i(){var o=e.apply(this,arguments);return o!==n&&(t=(n=o)&&C2(o)),t}return i._value=e,i}function S2(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,E2(e))}function k2(){for(var e=this._name,t=this._id,n=Y0(),i=this._groups,o=i.length,s=0;s<o;++s)for(var r=i[s],u=r.length,a,l=0;l<u;++l)if(a=r[l]){var c=Jt(a,t);Hr(a,e,n,l,r,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Ln(i,this._parents,e,n)}function I2(){var e,t,n=this,i=n._id,o=n.size();return new Promise(function(s,r){var u={value:r},a={value:function(){--o===0&&s()}};n.each(function(){var l=bn(this,i),c=l.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(u),t._.interrupt.push(u),t._.end.push(a)),l.on=t}),o===0&&s()})}var A2=0;function Ln(e,t,n,i){this._groups=e,this._parents=t,this._name=n,this._id=i}function Y0(){return++A2}var Cn=ms.prototype;Ln.prototype={constructor:Ln,select:a2,selectAll:l2,selectChild:Cn.selectChild,selectChildren:Cn.selectChildren,filter:t2,merge:n2,selection:d2,transition:k2,call:Cn.call,nodes:Cn.nodes,node:Cn.node,size:Cn.size,empty:Cn.empty,each:Cn.each,on:s2,attr:$y,attrTween:qy,style:g2,styleTween:b2,text:x2,textTween:S2,remove:u2,tween:My,delay:Wy,duration:Xy,ease:Jy,easeVarying:e2,end:I2,[Symbol.iterator]:Cn[Symbol.iterator]};function D2(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var N2={time:null,delay:0,duration:250,ease:D2};function T2(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function M2(e){var t,n;e instanceof Ln?(t=e._id,e=e._name):(t=Y0(),(n=N2).time=Ol(),e=e==null?null:e+"");for(var i=this._groups,o=i.length,s=0;s<o;++s)for(var r=i[s],u=r.length,a,l=0;l<u;++l)(a=r[l])&&Hr(a,e,t,l,r,n||T2(a,t));return new Ln(i,this._parents,e,t)}ms.prototype.interrupt=Dy;ms.prototype.transition=M2;const Ns=e=>()=>e;function F2(e,{sourceEvent:t,target:n,transform:i,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:o}})}function Dn(e,t,n){this.k=e,this.x=t,this.y=n}Dn.prototype={constructor:Dn,scale:function(e){return e===1?this:new Dn(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Dn(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var ro=new Dn(1,0,0);Dn.prototype;function vu(e){e.stopImmediatePropagation()}function yo(e){e.preventDefault(),e.stopImmediatePropagation()}function P2(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function O2(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function ad(){return this.__zoom||ro}function L2(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function z2(){return navigator.maxTouchPoints||"ontouchstart"in this}function R2(e,t,n){var i=e.invertX(t[0][0])-n[0][0],o=e.invertX(t[1][0])-n[1][0],s=e.invertY(t[0][1])-n[0][1],r=e.invertY(t[1][1])-n[1][1];return e.translate(o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o),r>s?(s+r)/2:Math.min(0,s)||Math.max(0,r))}function $2(){var e=P2,t=O2,n=R2,i=L2,o=z2,s=[0,1/0],r=[[-1/0,-1/0],[1/0,1/0]],u=250,a=Hs,l=$r("start","zoom","end"),c,d,f,h=500,p=150,_=0,b=10;function y(P){P.property("__zoom",ad).on("wheel.zoom",k,{passive:!1}).on("mousedown.zoom",w).on("dblclick.zoom",M).filter(o).on("touchstart.zoom",O).on("touchmove.zoom",C).on("touchend.zoom touchcancel.zoom",z).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}y.transform=function(P,q,R,W){var Z=P.selection?P.selection():P;Z.property("__zoom",ad),P!==Z?x(P,q,R,W):Z.interrupt().each(function(){E(this,arguments).event(W).start().zoom(null,typeof q=="function"?q.apply(this,arguments):q).end()})},y.scaleBy=function(P,q,R,W){y.scaleTo(P,function(){var Z=this.__zoom.k,ne=typeof q=="function"?q.apply(this,arguments):q;return Z*ne},R,W)},y.scaleTo=function(P,q,R,W){y.transform(P,function(){var Z=t.apply(this,arguments),ne=this.__zoom,oe=R==null?g(Z):typeof R=="function"?R.apply(this,arguments):R,ue=ne.invert(oe),le=typeof q=="function"?q.apply(this,arguments):q;return n(m(v(ne,le),oe,ue),Z,r)},R,W)},y.translateBy=function(P,q,R,W){y.transform(P,function(){return n(this.__zoom.translate(typeof q=="function"?q.apply(this,arguments):q,typeof R=="function"?R.apply(this,arguments):R),t.apply(this,arguments),r)},null,W)},y.translateTo=function(P,q,R,W,Z){y.transform(P,function(){var ne=t.apply(this,arguments),oe=this.__zoom,ue=W==null?g(ne):typeof W=="function"?W.apply(this,arguments):W;return n(ro.translate(ue[0],ue[1]).scale(oe.k).translate(typeof q=="function"?-q.apply(this,arguments):-q,typeof R=="function"?-R.apply(this,arguments):-R),ne,r)},W,Z)};function v(P,q){return q=Math.max(s[0],Math.min(s[1],q)),q===P.k?P:new Dn(q,P.x,P.y)}function m(P,q,R){var W=q[0]-R[0]*P.k,Z=q[1]-R[1]*P.k;return W===P.x&&Z===P.y?P:new Dn(P.k,W,Z)}function g(P){return[(+P[0][0]+ +P[1][0])/2,(+P[0][1]+ +P[1][1])/2]}function x(P,q,R,W){P.on("start.zoom",function(){E(this,arguments).event(W).start()}).on("interrupt.zoom end.zoom",function(){E(this,arguments).event(W).end()}).tween("zoom",function(){var Z=this,ne=arguments,oe=E(Z,ne).event(W),ue=t.apply(Z,ne),le=R==null?g(ue):typeof R=="function"?R.apply(Z,ne):R,H=Math.max(ue[1][0]-ue[0][0],ue[1][1]-ue[0][1]),V=Z.__zoom,U=typeof q=="function"?q.apply(Z,ne):q,K=a(V.invert(le).concat(H/V.k),U.invert(le).concat(H/U.k));return function(ae){if(ae===1)ae=U;else{var fe=K(ae),de=H/fe[2];ae=new Dn(de,le[0]-fe[0]*de,le[1]-fe[1]*de)}oe.zoom(null,ae)}})}function E(P,q,R){return!R&&P.__zooming||new D(P,q)}function D(P,q){this.that=P,this.args=q,this.active=0,this.sourceEvent=null,this.extent=t.apply(P,q),this.taps=0}D.prototype={event:function(P){return P&&(this.sourceEvent=P),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(P,q){return this.mouse&&P!=="mouse"&&(this.mouse[1]=q.invert(this.mouse[0])),this.touch0&&P!=="touch"&&(this.touch0[1]=q.invert(this.touch0[0])),this.touch1&&P!=="touch"&&(this.touch1[1]=q.invert(this.touch1[0])),this.that.__zoom=q,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(P){var q=jt(this.that).datum();l.call(P,this.that,new F2(P,{sourceEvent:this.sourceEvent,target:y,transform:this.that.__zoom,dispatch:l}),q)}};function k(P,...q){if(!e.apply(this,arguments))return;var R=E(this,q).event(P),W=this.__zoom,Z=Math.max(s[0],Math.min(s[1],W.k*Math.pow(2,i.apply(this,arguments)))),ne=ln(P);if(R.wheel)(R.mouse[0][0]!==ne[0]||R.mouse[0][1]!==ne[1])&&(R.mouse[1]=W.invert(R.mouse[0]=ne)),clearTimeout(R.wheel);else{if(W.k===Z)return;R.mouse=[ne,W.invert(ne)],Gs(this),R.start()}yo(P),R.wheel=setTimeout(oe,p),R.zoom("mouse",n(m(v(W,Z),R.mouse[0],R.mouse[1]),R.extent,r));function oe(){R.wheel=null,R.end()}}function w(P,...q){if(f||!e.apply(this,arguments))return;var R=P.currentTarget,W=E(this,q,!0).event(P),Z=jt(P.view).on("mousemove.zoom",le,!0).on("mouseup.zoom",H,!0),ne=ln(P,R),oe=P.clientX,ue=P.clientY;O0(P.view),vu(P),W.mouse=[ne,this.__zoom.invert(ne)],Gs(this),W.start();function le(V){if(yo(V),!W.moved){var U=V.clientX-oe,K=V.clientY-ue;W.moved=U*U+K*K>_}W.event(V).zoom("mouse",n(m(W.that.__zoom,W.mouse[0]=ln(V,R),W.mouse[1]),W.extent,r))}function H(V){Z.on("mousemove.zoom mouseup.zoom",null),L0(V.view,W.moved),yo(V),W.event(V).end()}}function M(P,...q){if(e.apply(this,arguments)){var R=this.__zoom,W=ln(P.changedTouches?P.changedTouches[0]:P,this),Z=R.invert(W),ne=R.k*(P.shiftKey?.5:2),oe=n(m(v(R,ne),W,Z),t.apply(this,q),r);yo(P),u>0?jt(this).transition().duration(u).call(x,oe,W,P):jt(this).call(y.transform,oe,W,P)}}function O(P,...q){if(e.apply(this,arguments)){var R=P.touches,W=R.length,Z=E(this,q,P.changedTouches.length===W).event(P),ne,oe,ue,le;for(vu(P),oe=0;oe<W;++oe)ue=R[oe],le=ln(ue,this),le=[le,this.__zoom.invert(le),ue.identifier],Z.touch0?!Z.touch1&&Z.touch0[2]!==le[2]&&(Z.touch1=le,Z.taps=0):(Z.touch0=le,ne=!0,Z.taps=1+!!c);c&&(c=clearTimeout(c)),ne&&(Z.taps<2&&(d=le[0],c=setTimeout(function(){c=null},h)),Gs(this),Z.start())}}function C(P,...q){if(this.__zooming){var R=E(this,q).event(P),W=P.changedTouches,Z=W.length,ne,oe,ue,le;for(yo(P),ne=0;ne<Z;++ne)oe=W[ne],ue=ln(oe,this),R.touch0&&R.touch0[2]===oe.identifier?R.touch0[0]=ue:R.touch1&&R.touch1[2]===oe.identifier&&(R.touch1[0]=ue);if(oe=R.that.__zoom,R.touch1){var H=R.touch0[0],V=R.touch0[1],U=R.touch1[0],K=R.touch1[1],ae=(ae=U[0]-H[0])*ae+(ae=U[1]-H[1])*ae,fe=(fe=K[0]-V[0])*fe+(fe=K[1]-V[1])*fe;oe=v(oe,Math.sqrt(ae/fe)),ue=[(H[0]+U[0])/2,(H[1]+U[1])/2],le=[(V[0]+K[0])/2,(V[1]+K[1])/2]}else if(R.touch0)ue=R.touch0[0],le=R.touch0[1];else return;R.zoom("touch",n(m(oe,ue,le),R.extent,r))}}function z(P,...q){if(this.__zooming){var R=E(this,q).event(P),W=P.changedTouches,Z=W.length,ne,oe;for(vu(P),f&&clearTimeout(f),f=setTimeout(function(){f=null},h),ne=0;ne<Z;++ne)oe=W[ne],R.touch0&&R.touch0[2]===oe.identifier?delete R.touch0:R.touch1&&R.touch1[2]===oe.identifier&&delete R.touch1;if(R.touch1&&!R.touch0&&(R.touch0=R.touch1,delete R.touch1),R.touch0)R.touch0[1]=this.__zoom.invert(R.touch0[0]);else if(R.end(),R.taps===2&&(oe=ln(oe,this),Math.hypot(d[0]-oe[0],d[1]-oe[1])<b)){var ue=jt(this).on("dblclick.zoom");ue&&ue.apply(this,arguments)}}}return y.wheelDelta=function(P){return arguments.length?(i=typeof P=="function"?P:Ns(+P),y):i},y.filter=function(P){return arguments.length?(e=typeof P=="function"?P:Ns(!!P),y):e},y.touchable=function(P){return arguments.length?(o=typeof P=="function"?P:Ns(!!P),y):o},y.extent=function(P){return arguments.length?(t=typeof P=="function"?P:Ns([[+P[0][0],+P[0][1]],[+P[1][0],+P[1][1]]]),y):t},y.scaleExtent=function(P){return arguments.length?(s[0]=+P[0],s[1]=+P[1],y):[s[0],s[1]]},y.translateExtent=function(P){return arguments.length?(r[0][0]=+P[0][0],r[1][0]=+P[1][0],r[0][1]=+P[0][1],r[1][1]=+P[1][1],y):[[r[0][0],r[0][1]],[r[1][0],r[1][1]]]},y.constrain=function(P){return arguments.length?(n=P,y):n},y.duration=function(P){return arguments.length?(u=+P,y):u},y.interpolate=function(P){return arguments.length?(a=P,y):a},y.on=function(){var P=l.on.apply(l,arguments);return P===l?y:P},y.clickDistance=function(P){return arguments.length?(_=(P=+P)*P,y):Math.sqrt(_)},y.tapDistance=function(P){return arguments.length?(b=+P,y):b},y}var re=(e=>(e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom",e))(re||{}),Rl=(e=>(e.Partial="partial",e.Full="full",e))(Rl||{}),fi=(e=>(e.Bezier="default",e.SimpleBezier="simple-bezier",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e))(fi||{}),ii=(e=>(e.Strict="strict",e.Loose="loose",e))(ii||{}),Ka=(e=>(e.Arrow="arrow",e.ArrowClosed="arrowclosed",e))(Ka||{}),Oo=(e=>(e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal",e))(Oo||{});const B2=["INPUT","SELECT","TEXTAREA"],V2=typeof document<"u"?document:null;function Ja(e){var t,n;const i=((n=(t=e.composedPath)==null?void 0:t.call(e))==null?void 0:n[0])||e.target,o=typeof(i==null?void 0:i.hasAttribute)=="function"?i.hasAttribute("contenteditable"):!1,s=typeof(i==null?void 0:i.closest)=="function"?i.closest(".nokey"):null;return B2.includes(i==null?void 0:i.nodeName)||o||!!s}function H2(e){return e.ctrlKey||e.metaKey||e.shiftKey||e.altKey}function ld(e,t,n,i){const o=t.replace("+",`
`).replace(`

`,`
+`).split(`
`).map(r=>r.trim().toLowerCase());if(o.length===1)return e.toLowerCase()===t.toLowerCase();i||n.add(e.toLowerCase());const s=o.every((r,u)=>n.has(r)&&Array.from(n.values())[u]===o[u]);return i&&n.delete(e.toLowerCase()),s}function U2(e,t){return n=>{if(!n.code&&!n.key)return!1;const i=q2(n.code,e);return Array.isArray(e)?e.some(o=>ld(n[i],o,t,n.type==="keyup")):ld(n[i],e,t,n.type==="keyup")}}function q2(e,t){return t.includes(e)?"code":"key"}function Lo(e,t){const n=me(()=>De(t==null?void 0:t.target)??V2),i=Ys(De(e)===!0);let o=!1;const s=new Set;let r=a(De(e));Ae(()=>De(e),(l,c)=>{typeof c=="boolean"&&typeof l!="boolean"&&u(),r=a(l)},{immediate:!0}),x0(["blur","contextmenu"],u),Gc((...l)=>r(...l),l=>{var c,d;const f=De(t==null?void 0:t.actInsideInputWithModifier)??!0,h=De(t==null?void 0:t.preventDefault)??!1;if(o=H2(l),(!o||o&&!f)&&Ja(l))return;const _=((d=(c=l.composedPath)==null?void 0:c.call(l))==null?void 0:d[0])||l.target,b=(_==null?void 0:_.nodeName)==="BUTTON"||(_==null?void 0:_.nodeName)==="A";!h&&(o||!b)&&l.preventDefault(),i.value=!0},{eventName:"keydown",target:n}),Gc((...l)=>r(...l),l=>{const c=De(t==null?void 0:t.actInsideInputWithModifier)??!0;if(i.value){if((!o||o&&!c)&&Ja(l))return;o=!1,i.value=!1}},{eventName:"keyup",target:n});function u(){o=!1,s.clear(),i.value=De(e)===!0}function a(l){return l===null?(u(),()=>!1):typeof l=="boolean"?(u(),i.value=l,()=>!1):Array.isArray(l)||typeof l=="string"?U2(l,s):l}return i}const X0="vue-flow__node-desc",K0="vue-flow__edge-desc",G2="vue-flow__aria-live",J0=["Enter"," ","Escape"],Wi={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};function mr(e){return{...e.computedPosition||{x:0,y:0},width:e.dimensions.width||0,height:e.dimensions.height||0}}function gr(e,t){const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),i=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*i)}function Ur(e){return{width:e.offsetWidth,height:e.offsetHeight}}function Ni(e,t=0,n=1){return Math.min(Math.max(e,t),n)}function Q0(e,t){return{x:Ni(e.x,t[0][0],t[1][0]),y:Ni(e.y,t[0][1],t[1][1])}}function cd(e){const t=e.getRootNode();return"elementFromPoint"in t?t:window.document}function oi(e){return e&&typeof e=="object"&&"id"in e&&"source"in e&&"target"in e}function Ci(e){return e&&typeof e=="object"&&"id"in e&&"position"in e&&!oi(e)}function Eo(e){return Ci(e)&&"computedPosition"in e}function Ts(e){return!Number.isNaN(e)&&Number.isFinite(e)}function j2(e){return Ts(e.width)&&Ts(e.height)&&Ts(e.x)&&Ts(e.y)}function W2(e,t,n){const i={id:e.id.toString(),type:e.type??"default",dimensions:Vi({width:0,height:0}),computedPosition:Vi({z:0,...e.position}),handleBounds:{source:[],target:[]},draggable:void 0,selectable:void 0,connectable:void 0,focusable:void 0,selected:!1,dragging:!1,resizing:!1,initialized:!1,isParent:!1,position:{x:0,y:0},data:st(e.data)?e.data:{},events:Vi(st(e.events)?e.events:{})};return Object.assign(t??i,e,{id:e.id.toString(),parentNode:n})}function ep(e,t,n){var i,o;const s={id:e.id.toString(),type:e.type??(t==null?void 0:t.type)??"default",source:e.source.toString(),target:e.target.toString(),sourceHandle:(i=e.sourceHandle)==null?void 0:i.toString(),targetHandle:(o=e.targetHandle)==null?void 0:o.toString(),updatable:e.updatable??(n==null?void 0:n.updatable),selectable:e.selectable??(n==null?void 0:n.selectable),focusable:e.focusable??(n==null?void 0:n.focusable),data:st(e.data)?e.data:{},events:Vi(st(e.events)?e.events:{}),label:e.label??"",interactionWidth:e.interactionWidth??(n==null?void 0:n.interactionWidth),...n??{}};return Object.assign(t??s,e,{id:e.id.toString()})}function tp(e,t,n,i){const o=typeof e=="string"?e:e.id,s=new Set,r=i==="source"?"target":"source";for(const u of n)u[r]===o&&s.add(u[i]);return t.filter(u=>s.has(u.id))}function Z2(...e){if(e.length===3){const[s,r,u]=e;return tp(s,r,u,"target")}const[t,n]=e,i=typeof t=="string"?t:t.id;return n.filter(s=>oi(s)&&s.source===i).map(s=>n.find(r=>Ci(r)&&r.id===s.target))}function Y2(...e){if(e.length===3){const[s,r,u]=e;return tp(s,r,u,"source")}const[t,n]=e,i=typeof t=="string"?t:t.id;return n.filter(s=>oi(s)&&s.target===i).map(s=>n.find(r=>Ci(r)&&r.id===s.source))}function np({source:e,sourceHandle:t,target:n,targetHandle:i}){return`vueflow__edge-${e}${t??""}-${n}${i??""}`}function X2(e,t){return t.some(n=>oi(n)&&n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle))}function Qa({x:e,y:t},{x:n,y:i,zoom:o}){return{x:e*o+n,y:t*o+i}}function ns({x:e,y:t},{x:n,y:i,zoom:o},s=!1,r=[1,1]){const u={x:(e-n)/o,y:(t-i)/o};return s?qr(u,r):u}function K2(e,t){return{x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}}function ip({x:e,y:t,width:n,height:i}){return{x:e,y:t,x2:e+n,y2:t+i}}function J2({x:e,y:t,x2:n,y2:i}){return{x:e,y:t,width:n-e,height:i-t}}function op(e){let t={x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY,x2:Number.NEGATIVE_INFINITY,y2:Number.NEGATIVE_INFINITY};for(let n=0;n<e.length;n++){const i=e[n];t=K2(t,ip({...i.computedPosition,...i.dimensions}))}return J2(t)}function sp(e,t,n={x:0,y:0,zoom:1},i=!1,o=!1){const s={...ns(t,n),width:t.width/n.zoom,height:t.height/n.zoom},r=[];for(const u of e){const{dimensions:a,selectable:l=!0,hidden:c=!1}=u,d=a.width??u.width??null,f=a.height??u.height??null;if(o&&!l||c)continue;const h=gr(s,mr(u)),p=d===null||f===null,_=i&&h>0,b=(d??0)*(f??0);(p||_||h>=b||u.dragging)&&r.push(u)}return r}function rp(e,t){const n=new Set;if(typeof e=="string")n.add(e);else if(e.length>=1)for(const i of e)n.add(i.id);return t.filter(i=>n.has(i.source)||n.has(i.target))}function dd(e,t,n,i,o,s=.1,r={x:0,y:0}){const u=t/(e.width*(1+s)),a=n/(e.height*(1+s)),l=Math.min(u,a),c=Ni(l,i,o),d=e.x+e.width/2,f=e.y+e.height/2,h=t/2-d*c+(r.x??0),p=n/2-f*c+(r.y??0);return{x:h,y:p,zoom:c}}function Q2(e,t){return{x:t.x+e.x,y:t.y+e.y,z:(e.z>t.z?e.z:t.z)+1}}function up(e,t){if(!e.parentNode)return!1;const n=t(e.parentNode);return n?n.selected?!0:up(n,t):!1}function is(e,t){return typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(i=>`${i}=${e[i]}`).join("&")}`}function fd(e,t,n){return e<t?Ni(Math.abs(e-t),1,t)/t:e>n?-Ni(Math.abs(e-n),1,t)/t:0}function ap(e,t,n=15,i=40){const o=fd(e.x,i,t.width-i)*n,s=fd(e.y,i,t.height-i)*n;return[o,s]}function _u(e,t){if(t){const n=e.position.x+e.dimensions.width-t.dimensions.width,i=e.position.y+e.dimensions.height-t.dimensions.height;if(n>0||i>0||e.position.x<0||e.position.y<0){let o={};if(typeof t.style=="function"?o={...t.style(t)}:t.style&&(o={...t.style}),o.width=o.width??`${t.dimensions.width}px`,o.height=o.height??`${t.dimensions.height}px`,n>0)if(typeof o.width=="string"){const s=Number(o.width.replace("px",""));o.width=`${s+n}px`}else o.width+=n;if(i>0)if(typeof o.height=="string"){const s=Number(o.height.replace("px",""));o.height=`${s+i}px`}else o.height+=i;if(e.position.x<0){const s=Math.abs(e.position.x);if(t.position.x=t.position.x-s,typeof o.width=="string"){const r=Number(o.width.replace("px",""));o.width=`${r+s}px`}else o.width+=s;e.position.x=0}if(e.position.y<0){const s=Math.abs(e.position.y);if(t.position.y=t.position.y-s,typeof o.height=="string"){const r=Number(o.height.replace("px",""));o.height=`${r+s}px`}else o.height+=s;e.position.y=0}t.dimensions.width=Number(o.width.toString().replace("px","")),t.dimensions.height=Number(o.height.toString().replace("px","")),typeof t.style=="function"?t.style=s=>{const r=t.style;return{...r(s),...o}}:t.style={...t.style,...o}}}}function hd(e,t){var n,i;const o=e.filter(r=>r.type==="add"||r.type==="remove");for(const r of o)if(r.type==="add")t.findIndex(a=>a.id===r.item.id)===-1&&t.push(r.item);else if(r.type==="remove"){const u=t.findIndex(a=>a.id===r.id);u!==-1&&t.splice(u,1)}const s=t.map(r=>r.id);for(const r of t)for(const u of e)if(u.id===r.id)switch(u.type){case"select":r.selected=u.selected;break;case"position":if(Eo(r)&&(typeof u.position<"u"&&(r.position=u.position),typeof u.dragging<"u"&&(r.dragging=u.dragging),r.expandParent&&r.parentNode)){const a=t[s.indexOf(r.parentNode)];a&&Eo(a)&&_u(r,a)}break;case"dimensions":if(Eo(r)&&(typeof u.dimensions<"u"&&(r.dimensions=u.dimensions),typeof u.updateStyle<"u"&&u.updateStyle&&(r.style={...r.style||{},width:`${(n=u.dimensions)==null?void 0:n.width}px`,height:`${(i=u.dimensions)==null?void 0:i.height}px`}),typeof u.resizing<"u"&&(r.resizing=u.resizing),r.expandParent&&r.parentNode)){const a=t[s.indexOf(r.parentNode)];a&&Eo(a)&&(!!a.dimensions.width&&!!a.dimensions.height?_u(r,a):We(()=>{_u(r,a)}))}break}return t}function Hn(e,t){return{id:e,type:"select",selected:t}}function pd(e){return{item:e,type:"add"}}function md(e){return{id:e,type:"remove"}}function gd(e,t,n,i,o){return{id:e,source:t,target:n,sourceHandle:i||null,targetHandle:o||null,type:"remove"}}function jn(e,t=new Set,n=!1){const i=[];for(const[o,s]of e){const r=t.has(o);!(s.selected===void 0&&!r)&&s.selected!==r&&(n&&(s.selected=r),i.push(Hn(s.id,r)))}return i}function pe(e){const t=new Set;let n=!1;const i=()=>t.size>0;e&&(n=!0,t.add(e));const o=u=>{t.delete(u)};return{on:u=>{e&&n&&t.delete(e),t.add(u);const a=()=>{o(u),e&&n&&t.add(e)};return Rr(a),{off:a}},off:o,trigger:u=>Promise.all(Array.from(t).map(a=>a(u))),hasListeners:i,fns:t}}function vd(e,t,n){let i=e;do{if(i&&i.matches(t))return!0;if(i===n)return!1;i=i.parentElement}while(i);return!1}function ew(e,t,n,i,o){var s,r;const u=[];for(const a of e)(a.selected||a.id===o)&&(!a.parentNode||!up(a,i))&&(a.draggable||t&&typeof a.draggable>"u")&&u.push(Vi({id:a.id,position:a.position||{x:0,y:0},distance:{x:n.x-((s=a.computedPosition)==null?void 0:s.x)||0,y:n.y-((r=a.computedPosition)==null?void 0:r.y)||0},from:a.computedPosition,extent:a.extent,parentNode:a.parentNode,dimensions:a.dimensions,expandParent:a.expandParent}));return u}function bu({id:e,dragItems:t,findNode:n}){const i=[];for(const o of t){const s=n(o.id);s&&i.push(s)}return[e?i.find(o=>o.id===e):i[0],i]}function lp(e){if(Array.isArray(e))switch(e.length){case 1:return[e[0],e[0],e[0],e[0]];case 2:return[e[0],e[1],e[0],e[1]];case 3:return[e[0],e[1],e[2],e[1]];case 4:return e;default:return[0,0,0,0]}return[e,e,e,e]}function tw(e,t,n){const[i,o,s,r]=typeof e!="string"?lp(e.padding):[0,0,0,0];return n&&typeof n.computedPosition.x<"u"&&typeof n.computedPosition.y<"u"&&typeof n.dimensions.width<"u"&&typeof n.dimensions.height<"u"?[[n.computedPosition.x+r,n.computedPosition.y+i],[n.computedPosition.x+n.dimensions.width-o,n.computedPosition.y+n.dimensions.height-s]]:!1}function nw(e,t,n,i){let o=e.extent||n;if((o==="parent"||!Array.isArray(o)&&(o==null?void 0:o.range)==="parent")&&!e.expandParent)if(e.parentNode&&i&&e.dimensions.width&&e.dimensions.height){const s=tw(o,e,i);s&&(o=s)}else t(new ct(ut.NODE_EXTENT_INVALID,e.id)),o=n;else if(Array.isArray(o)){const s=(i==null?void 0:i.computedPosition.x)||0,r=(i==null?void 0:i.computedPosition.y)||0;o=[[o[0][0]+s,o[0][1]+r],[o[1][0]+s,o[1][1]+r]]}else if(o!=="parent"&&(o!=null&&o.range)&&Array.isArray(o.range)){const[s,r,u,a]=lp(o.padding),l=(i==null?void 0:i.computedPosition.x)||0,c=(i==null?void 0:i.computedPosition.y)||0;o=[[o.range[0][0]+l+a,o.range[0][1]+c+s],[o.range[1][0]+l-r,o.range[1][1]+c-u]]}return o==="parent"?[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]]:o}function iw({width:e,height:t},n){return[n[0],[n[1][0]-(e||0),n[1][1]-(t||0)]]}function $l(e,t,n,i,o){const s=iw(e.dimensions,nw(e,n,i,o)),r=Q0(t,s);return{position:{x:r.x-((o==null?void 0:o.computedPosition.x)||0),y:r.y-((o==null?void 0:o.computedPosition.y)||0)},computedPosition:r}}function uo(e,t,n=re.Left,i=!1){const o=((t==null?void 0:t.x)??0)+e.computedPosition.x,s=((t==null?void 0:t.y)??0)+e.computedPosition.y,{width:r,height:u}=t??uw(e);if(i)return{x:o+r/2,y:s+u/2};switch((t==null?void 0:t.position)??n){case re.Top:return{x:o+r/2,y:s};case re.Right:return{x:o+r,y:s+u/2};case re.Bottom:return{x:o+r/2,y:s+u};case re.Left:return{x:o,y:s+u/2}}}function _d(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function ow({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:i,targetWidth:o,targetHeight:s,width:r,height:u,viewport:a}){const l={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+o),y2:Math.max(e.y+i,t.y+s)};l.x===l.x2&&(l.x2+=1),l.y===l.y2&&(l.y2+=1);const c=ip({x:(0-a.x)/a.zoom,y:(0-a.y)/a.zoom,width:r/a.zoom,height:u/a.zoom}),d=Math.max(0,Math.min(c.x2,l.x2)-Math.max(c.x,l.x)),f=Math.max(0,Math.min(c.y2,l.y2)-Math.max(c.y,l.y));return Math.ceil(d*f)>0}function sw(e,t,n=!1){const i=typeof e.zIndex=="number";let o=i?e.zIndex:0;const s=t(e.source),r=t(e.target);return!s||!r?0:(n&&(o=i?e.zIndex:Math.max(s.computedPosition.z||0,r.computedPosition.z||0)),o)}var ut=(e=>(e.MISSING_STYLES="MISSING_STYLES",e.MISSING_VIEWPORT_DIMENSIONS="MISSING_VIEWPORT_DIMENSIONS",e.NODE_INVALID="NODE_INVALID",e.NODE_NOT_FOUND="NODE_NOT_FOUND",e.NODE_MISSING_PARENT="NODE_MISSING_PARENT",e.NODE_TYPE_MISSING="NODE_TYPE_MISSING",e.NODE_EXTENT_INVALID="NODE_EXTENT_INVALID",e.EDGE_INVALID="EDGE_INVALID",e.EDGE_NOT_FOUND="EDGE_NOT_FOUND",e.EDGE_SOURCE_MISSING="EDGE_SOURCE_MISSING",e.EDGE_TARGET_MISSING="EDGE_TARGET_MISSING",e.EDGE_TYPE_MISSING="EDGE_TYPE_MISSING",e.EDGE_SOURCE_TARGET_SAME="EDGE_SOURCE_TARGET_SAME",e.EDGE_SOURCE_TARGET_MISSING="EDGE_SOURCE_TARGET_MISSING",e.EDGE_ORPHANED="EDGE_ORPHANED",e.USEVUEFLOW_OPTIONS="USEVUEFLOW_OPTIONS",e))(ut||{});const bd={MISSING_STYLES:()=>"It seems that you haven't loaded the necessary styles. Please import '@vue-flow/core/dist/style.css' to ensure that the graph is rendered correctly",MISSING_VIEWPORT_DIMENSIONS:()=>"The Vue Flow parent container needs a width and a height to render the graph",NODE_INVALID:e=>`Node is invalid
Node: ${e}`,NODE_NOT_FOUND:e=>`Node not found
Node: ${e}`,NODE_MISSING_PARENT:(e,t)=>`Node is missing a parent
Node: ${e}
Parent: ${t}`,NODE_TYPE_MISSING:e=>`Node type is missing
Type: ${e}`,NODE_EXTENT_INVALID:e=>`Only child nodes can use a parent extent
Node: ${e}`,EDGE_INVALID:e=>`An edge needs a source and a target
Edge: ${e}`,EDGE_SOURCE_MISSING:(e,t)=>`Edge source is missing
Edge: ${e} 
Source: ${t}`,EDGE_TARGET_MISSING:(e,t)=>`Edge target is missing
Edge: ${e} 
Target: ${t}`,EDGE_TYPE_MISSING:e=>`Edge type is missing
Type: ${e}`,EDGE_SOURCE_TARGET_SAME:(e,t,n)=>`Edge source and target are the same
Edge: ${e} 
Source: ${t} 
Target: ${n}`,EDGE_SOURCE_TARGET_MISSING:(e,t,n)=>`Edge source or target is missing
Edge: ${e} 
Source: ${t} 
Target: ${n}`,EDGE_ORPHANED:e=>`Edge was orphaned (suddenly missing source or target) and has been removed
Edge: ${e}`,EDGE_NOT_FOUND:e=>`Edge not found
Edge: ${e}`,USEVUEFLOW_OPTIONS:()=>"The options parameter is deprecated and will be removed in the next major version. Please use the id parameter instead"};class ct extends Error{constructor(t,...n){var i;super((i=bd[t])==null?void 0:i.call(bd,...n)),this.name="VueFlowError",this.code=t,this.args=n}}function Bl(e){return"clientX"in e}function rw(e){return"sourceEvent"in e}function fn(e,t){const n=Bl(e);let i,o;return n?(i=e.clientX,o=e.clientY):"touches"in e&&e.touches.length>0?(i=e.touches[0].clientX,o=e.touches[0].clientY):"changedTouches"in e&&e.changedTouches.length>0?(i=e.changedTouches[0].clientX,o=e.changedTouches[0].clientY):(i=0,o=0),{x:i-((t==null?void 0:t.left)??0),y:o-((t==null?void 0:t.top)??0)}}const vr=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function uw(e){var t,n;return{width:((t=e.dimensions)==null?void 0:t.width)??e.width??0,height:((n=e.dimensions)==null?void 0:n.height)??e.height??0}}function qr(e,t=[1,1]){return{x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}}const aw=()=>!0;function yu(e){e==null||e.classList.remove("valid","connecting","vue-flow__handle-valid","vue-flow__handle-connecting")}function lw(e,t,n){const i=[],o={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const s of t.values())gr(o,mr(s))>0&&i.push(s);return i}const cw=250;function dw(e,t,n,i){var o,s;let r=[],u=Number.POSITIVE_INFINITY;const a=lw(e,n,t+cw);for(const l of a){const c=[...((o=l.handleBounds)==null?void 0:o.source)??[],...((s=l.handleBounds)==null?void 0:s.target)??[]];for(const d of c){if(i.nodeId===d.nodeId&&i.type===d.type&&i.id===d.id)continue;const{x:f,y:h}=uo(l,d,d.position,!0),p=Math.sqrt((f-e.x)**2+(h-e.y)**2);p>t||(p<u?(r=[{...d,x:f,y:h}],u=p):p===u&&r.push({...d,x:f,y:h}))}}if(!r.length)return null;if(r.length>1){const l=i.type==="source"?"target":"source";return r.find(c=>c.type===l)??r[0]}return r[0]}function yd(e,{handle:t,connectionMode:n,fromNodeId:i,fromHandleId:o,fromType:s,doc:r,lib:u,flowId:a,isValidConnection:l=aw},c,d,f){const h=s==="target",p=t?r.querySelector(`.${u}-flow__handle[data-id="${a}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x:_,y:b}=fn(e),y=r.elementFromPoint(_,b),v=y!=null&&y.classList.contains(`${u}-flow__handle`)?y:p,m={handleDomNode:v,isValid:!1,connection:null,toHandle:null};if(v){const g=cp(void 0,v),x=v.getAttribute("data-nodeid"),E=v.getAttribute("data-handleid"),D=v.classList.contains("connectable"),k=v.classList.contains("connectableend");if(!x||!g)return m;const w={source:h?x:i,sourceHandle:h?E:o,target:h?i:x,targetHandle:h?o:E};m.connection=w;const O=D&&k&&(n===ii.Strict?h&&g==="source"||!h&&g==="target":x!==i||E!==o);m.isValid=O&&l(w,{nodes:d,edges:c,sourceNode:f(i),targetNode:f(x)}),m.toHandle=t}return m}function cp(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function fw(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function hw(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}function pw(e,t,n,i,o,s=!1){var r,u,a;const l=i.get(e);if(!l)return null;const c=o===ii.Strict?(r=l.handleBounds)==null?void 0:r[t]:[...((u=l.handleBounds)==null?void 0:u.source)??[],...((a=l.handleBounds)==null?void 0:a.target)??[]],d=(n?c==null?void 0:c.find(f=>f.id===n):c==null?void 0:c[0])??null;return d&&s?{...d,...uo(l,d,d.position,!0)}:d}const el={[re.Left]:re.Right,[re.Right]:re.Left,[re.Top]:re.Bottom,[re.Bottom]:re.Top},mw=["production","prod"];function ho(e,...t){dp()&&console.warn(`[Vue Flow]: ${e}`,...t)}function dp(){return!mw.includes("production")}function wd(e,t,n,i,o){const s=t.querySelectorAll(`.vue-flow__handle.${e}`);return s!=null&&s.length?Array.from(s).map(r=>{const u=r.getBoundingClientRect();return{id:r.getAttribute("data-handleid"),type:e,nodeId:o,position:r.getAttribute("data-handlepos"),x:(u.left-n.left)/i,y:(u.top-n.top)/i,...Ur(r)}}):null}function tl(e,t,n,i,o,s=!1,r){o.value=!1,e.selected?(s||e.selected&&t)&&(i([e]),We(()=>{r.blur()})):n([e])}function st(e){return typeof $(e)<"u"}function gw(e,t,n,i){if(!e||!e.source||!e.target)return n(new ct(ut.EDGE_INVALID,(e==null?void 0:e.id)??"[ID UNKNOWN]")),!1;let o;return oi(e)?o=e:o={...e,id:np(e)},o=ep(o,void 0,i),X2(o,t)?!1:o}function vw(e,t,n,i,o){if(!t.source||!t.target)return o(new ct(ut.EDGE_INVALID,e.id)),!1;if(!n)return o(new ct(ut.EDGE_NOT_FOUND,e.id)),!1;const{id:s,...r}=e;return{...r,id:i?np(t):s,source:t.source,target:t.target,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle}}function xd(e,t,n){const i={},o=[];for(let s=0;s<e.length;++s){const r=e[s];if(!Ci(r)){n(new ct(ut.NODE_INVALID,r==null?void 0:r.id)||`[ID UNKNOWN|INDEX ${s}]`);continue}const u=W2(r,t(r.id),r.parentNode);r.parentNode&&(i[r.parentNode]=!0),o[s]=u}for(const s of o){const r=t(s.parentNode)||o.find(u=>u.id===s.parentNode);s.parentNode&&!r&&n(new ct(ut.NODE_MISSING_PARENT,s.id,s.parentNode)),(s.parentNode||i[s.id])&&(i[s.id]&&(s.isParent=!0),r&&(r.isParent=!0))}return o}function Cd(e,t,n,i,o,s){let r=o;const u=i.get(r)||new Map;i.set(r,u.set(n,t)),r=`${o}-${e}`;const a=i.get(r)||new Map;if(i.set(r,a.set(n,t)),s){r=`${o}-${e}-${s}`;const l=i.get(r)||new Map;i.set(r,l.set(n,t))}}function wu(e,t,n){e.clear();for(const i of n){const{source:o,target:s,sourceHandle:r=null,targetHandle:u=null}=i,a={edgeId:i.id,source:o,target:s,sourceHandle:r,targetHandle:u},l=`${o}-${r}--${s}-${u}`,c=`${s}-${u}--${o}-${r}`;Cd("source",a,c,e,o,r),Cd("target",a,l,e,s,u)}}function Ed(e,t,n){if(!n)return;const i=[];for(const o of e.keys())t.has(o)||i.push(e.get(o));i.length&&n(i)}function _w(e,t){if(!e&&!t)return!0;if(!e||!t||e.size!==t.size)return!1;if(!e.size&&!t.size)return!0;for(const n of e.keys())if(!t.has(n))return!1;return!0}function Sd(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function xu(e,t,n,i,o,s,r,u){const a=[];for(const l of e){const c=oi(l)?l:gw(l,u,o,s);if(!c)continue;const d=n(c.source),f=n(c.target);if(!d||!f){o(new ct(ut.EDGE_SOURCE_TARGET_MISSING,c.id,c.source,c.target));continue}if(!d){o(new ct(ut.EDGE_SOURCE_MISSING,c.id,c.source));continue}if(!f){o(new ct(ut.EDGE_TARGET_MISSING,c.id,c.target));continue}if(t&&!t(c,{edges:u,nodes:r,sourceNode:d,targetNode:f})){o(new ct(ut.EDGE_INVALID,c.id));continue}const h=i(c.id);a.push({...ep(c,h,s),sourceNode:d,targetNode:f})}return a}const kd=Symbol("vueFlow"),fp=Symbol("nodeId"),hp=Symbol("nodeRef"),bw=Symbol("edgeId"),yw=Symbol("edgeRef"),Gr=Symbol("slots");function pp(e){const{vueFlowRef:t,snapToGrid:n,snapGrid:i,noDragClassName:o,nodes:s,nodeExtent:r,nodeDragThreshold:u,viewport:a,autoPanOnNodeDrag:l,autoPanSpeed:c,nodesDraggable:d,panBy:f,findNode:h,multiSelectionActive:p,nodesSelectionActive:_,selectNodesOnDrag:b,removeSelectedElements:y,addSelectedNodes:v,updateNodePositions:m,emits:g}=Ne(),{onStart:x,onDrag:E,onStop:D,onClick:k,el:w,disabled:M,id:O,selectable:C,dragHandle:z}=e,P=Ys(!1);let q=[],R,W=null,Z={x:void 0,y:void 0},ne={x:0,y:0},oe=null,ue=!1,le=0,H=!1;const V=Cw(),U=({x:ge,y:F})=>{Z={x:ge,y:F};let L=!1;if(q=q.map(S=>{const I={x:ge-S.distance.x,y:F-S.distance.y},{computedPosition:N}=$l(S,n.value?qr(I,i.value):I,g.error,r.value,S.parentNode?h(S.parentNode):void 0);return L=L||S.position.x!==N.x||S.position.y!==N.y,S.position=N,S}),!!L&&(m(q,!0,!0),P.value=!0,oe)){const[S,I]=bu({id:O,dragItems:q,findNode:h});E({event:oe,node:S,nodes:I})}},K=()=>{if(!W)return;const[ge,F]=ap(ne,W,c.value);if(ge!==0||F!==0){const L={x:(Z.x??0)-ge/a.value.zoom,y:(Z.y??0)-F/a.value.zoom};f({x:ge,y:F})&&U(L)}le=requestAnimationFrame(K)},ae=(ge,F)=>{ue=!0;const L=h(O);!b.value&&!p.value&&L&&(L.selected||y()),L&&De(C)&&b.value&&tl(L,p.value,v,y,_,!1,F);const S=V(ge.sourceEvent);if(Z=S,q=ew(s.value,d.value,S,h,O),q.length){const[I,N]=bu({id:O,dragItems:q,findNode:h});x({event:ge.sourceEvent,node:I,nodes:N})}},fe=(ge,F)=>{var L;ge.sourceEvent.type==="touchmove"&&ge.sourceEvent.touches.length>1||(u.value===0&&ae(ge,F),Z=V(ge.sourceEvent),W=((L=t.value)==null?void 0:L.getBoundingClientRect())||null,ne=fn(ge.sourceEvent,W))},de=(ge,F)=>{const L=V(ge.sourceEvent);if(!H&&ue&&l.value&&(H=!0,K()),!ue){const S=L.xSnapped-(Z.x??0),I=L.ySnapped-(Z.y??0);Math.sqrt(S*S+I*I)>u.value&&ae(ge,F)}(Z.x!==L.xSnapped||Z.y!==L.ySnapped)&&q.length&&ue&&(oe=ge.sourceEvent,ne=fn(ge.sourceEvent,W),U(L))},ve=ge=>{let F=!1;if(!ue&&!P.value&&!p.value){const L=ge.sourceEvent,S=V(L),I=S.xSnapped-(Z.x??0),N=S.ySnapped-(Z.y??0),T=Math.sqrt(I*I+N*N);T!==0&&T<=u.value&&(k==null||k(L),F=!0)}if(q.length&&!F){m(q,!1,!1);const[L,S]=bu({id:O,dragItems:q,findNode:h});D({event:ge.sourceEvent,node:L,nodes:S})}q=[],P.value=!1,H=!1,ue=!1,Z={x:void 0,y:void 0},cancelAnimationFrame(le)};return Ae([()=>De(M),w],([ge,F],L,S)=>{if(F){const I=jt(F);ge||(R=jb().on("start",N=>fe(N,F)).on("drag",N=>de(N,F)).on("end",N=>ve(N)).filter(N=>{const T=N.target,B=De(z);return!N.button&&(!o.value||!vd(T,`.${o.value}`,F)&&(!B||vd(T,B,F)))}),I.call(R)),S(()=>{I.on(".drag",null),R&&(R.on("start",null),R.on("drag",null),R.on("end",null))})}}),P}function ww(){return{doubleClick:pe(),click:pe(),mouseEnter:pe(),mouseMove:pe(),mouseLeave:pe(),contextMenu:pe(),updateStart:pe(),update:pe(),updateEnd:pe()}}function xw(e,t){const n=ww();return n.doubleClick.on(i=>{var o,s;t.edgeDoubleClick(i),(s=(o=e.events)==null?void 0:o.doubleClick)==null||s.call(o,i)}),n.click.on(i=>{var o,s;t.edgeClick(i),(s=(o=e.events)==null?void 0:o.click)==null||s.call(o,i)}),n.mouseEnter.on(i=>{var o,s;t.edgeMouseEnter(i),(s=(o=e.events)==null?void 0:o.mouseEnter)==null||s.call(o,i)}),n.mouseMove.on(i=>{var o,s;t.edgeMouseMove(i),(s=(o=e.events)==null?void 0:o.mouseMove)==null||s.call(o,i)}),n.mouseLeave.on(i=>{var o,s;t.edgeMouseLeave(i),(s=(o=e.events)==null?void 0:o.mouseLeave)==null||s.call(o,i)}),n.contextMenu.on(i=>{var o,s;t.edgeContextMenu(i),(s=(o=e.events)==null?void 0:o.contextMenu)==null||s.call(o,i)}),n.updateStart.on(i=>{var o,s;t.edgeUpdateStart(i),(s=(o=e.events)==null?void 0:o.updateStart)==null||s.call(o,i)}),n.update.on(i=>{var o,s;t.edgeUpdate(i),(s=(o=e.events)==null?void 0:o.update)==null||s.call(o,i)}),n.updateEnd.on(i=>{var o,s;t.edgeUpdateEnd(i),(s=(o=e.events)==null?void 0:o.updateEnd)==null||s.call(o,i)}),Object.entries(n).reduce((i,[o,s])=>(i.emit[o]=s.trigger,i.on[o]=s.on,i),{emit:{},on:{}})}function Cw(){const{viewport:e,snapGrid:t,snapToGrid:n,vueFlowRef:i}=Ne();return o=>{var s;const r=((s=i.value)==null?void 0:s.getBoundingClientRect())??{left:0,top:0},u=rw(o)?o.sourceEvent:o,{x:a,y:l}=fn(u,r),c=ns({x:a,y:l},e.value),{x:d,y:f}=n.value?qr(c,t.value):c;return{xSnapped:d,ySnapped:f,...c}}}function Ms(){return!0}function mp({handleId:e,nodeId:t,type:n,isValidConnection:i,edgeUpdaterType:o,onEdgeUpdate:s,onEdgeUpdateEnd:r}){const{id:u,vueFlowRef:a,connectionMode:l,connectionRadius:c,connectOnClick:d,connectionClickStartHandle:f,nodesConnectable:h,autoPanOnConnect:p,autoPanSpeed:_,findNode:b,panBy:y,startConnection:v,updateConnection:m,endConnection:g,emits:x,viewport:E,edges:D,nodes:k,isValidConnection:w,nodeLookup:M}=Ne();let O=null,C=!1,z=null;function P(R){var W;const Z=De(n)==="target",ne=Bl(R),oe=cd(R.target);if(ne&&R.button===0||!ne){let ue=function(ee){S=fn(ee,ge),U=dw(ns(S,E.value,!1,[1,1]),c.value,M.value,T),I||(N(),I=!0);const J=yd(ee,{handle:U,connectionMode:l.value,fromNodeId:De(t),fromHandleId:De(e),fromType:Z?"target":"source",isValidConnection:V,doc:oe,lib:"vue",flowId:u,nodeLookup:M.value},D.value,k.value,b);z=J.handleDomNode,O=J.connection,C=hw(!!U,J.isValid);const se={...G,isValid:C,to:J.toHandle&&C?Qa({x:J.toHandle.x,y:J.toHandle.y},E.value):S,toHandle:J.toHandle,toPosition:C&&J.toHandle?J.toHandle.position:el[T.position],toNode:J.toHandle?M.value.get(J.toHandle.nodeId):null};if(!(C&&U&&(G!=null&&G.toHandle)&&se.toHandle&&G.toHandle.type===se.toHandle.type&&G.toHandle.nodeId===se.toHandle.nodeId&&G.toHandle.id===se.toHandle.id&&G.to.x===se.to.x&&G.to.y===se.to.y)){if(m(U&&C?Qa({x:U.x,y:U.y},E.value):S,J.toHandle,fw(!!U,C)),G=se,!U&&!C&&!z)return yu(L);O&&O.source!==O.target&&z&&(yu(L),L=z,z.classList.add("connecting","vue-flow__handle-connecting"),z.classList.toggle("valid",!!C),z.classList.toggle("vue-flow__handle-valid",!!C))}},le=function(ee){(U||z)&&O&&C&&(s?s(ee,O):x.connect(O)),x.connectEnd(ee),o&&(r==null||r(ee)),yu(L),cancelAnimationFrame(K),g(ee),I=!1,C=!1,O=null,z=null,oe.removeEventListener("mousemove",ue),oe.removeEventListener("mouseup",le),oe.removeEventListener("touchmove",ue),oe.removeEventListener("touchend",le)};const H=b(De(t));let V=De(i)||w.value||Ms;!V&&H&&(V=(Z?H.isValidSourcePos:H.isValidTargetPos)||Ms);let U,K=0;const{x:ae,y:fe}=fn(R),de=oe==null?void 0:oe.elementFromPoint(ae,fe),ve=cp(De(o),de),ge=(W=a.value)==null?void 0:W.getBoundingClientRect();if(!ge||!ve)return;const F=pw(De(t),ve,De(e),M.value,l.value);if(!F)return;let L,S=fn(R,ge),I=!1;const N=()=>{if(!p.value)return;const[ee,J]=ap(S,ge,_.value);y({x:ee,y:J}),K=requestAnimationFrame(N)},T={...F,nodeId:De(t),type:ve,position:F.position},B=M.value.get(De(t)),j={inProgress:!0,isValid:null,from:uo(B,T,re.Left,!0),fromHandle:T,fromPosition:T.position,fromNode:B,to:S,toHandle:null,toPosition:el[T.position],toNode:null};v({nodeId:De(t),id:De(e),type:ve,position:(de==null?void 0:de.getAttribute("data-handlepos"))||re.Top,...S},{x:ae-ge.left,y:fe-ge.top}),x.connectStart({event:R,nodeId:De(t),handleId:De(e),handleType:ve});let G=j;oe.addEventListener("mousemove",ue),oe.addEventListener("mouseup",le),oe.addEventListener("touchmove",ue),oe.addEventListener("touchend",le)}}function q(R){var W,Z;if(!d.value)return;const ne=De(n)==="target";if(!f.value){x.clickConnectStart({event:R,nodeId:De(t),handleId:De(e)}),v({nodeId:De(t),type:De(n),id:De(e),position:re.Top,...fn(R)},void 0,!0);return}let oe=De(i)||w.value||Ms;const ue=b(De(t));if(!oe&&ue&&(oe=(ne?ue.isValidSourcePos:ue.isValidTargetPos)||Ms),ue&&(typeof ue.connectable>"u"?h.value:ue.connectable)===!1)return;const le=cd(R.target),H=yd(R,{handle:{nodeId:De(t),id:De(e),type:De(n),position:re.Top,...fn(R)},connectionMode:l.value,fromNodeId:f.value.nodeId,fromHandleId:f.value.id??null,fromType:f.value.type,isValidConnection:oe,doc:le,lib:"vue",flowId:u,nodeLookup:M.value},D.value,k.value,b),V=((W=H.connection)==null?void 0:W.source)===((Z=H.connection)==null?void 0:Z.target);H.isValid&&H.connection&&!V&&x.connect(H.connection),x.clickConnectEnd(R),g(R,!0)}return{handlePointerDown:P,handleClick:q}}function Qt(){return Ft(fp,"")}function Vl(e){const t=e??Qt()??"",n=Ft(hp,ce(null)),{findNode:i,edges:o,emits:s}=Ne(),r=i(t);return r||s.error(new ct(ut.NODE_NOT_FOUND,t)),{id:t,nodeEl:n,node:r,parentNode:me(()=>i(r.parentNode)),connectedEdges:me(()=>rp([r],o.value))}}function Ew(){return{doubleClick:pe(),click:pe(),mouseEnter:pe(),mouseMove:pe(),mouseLeave:pe(),contextMenu:pe(),dragStart:pe(),drag:pe(),dragStop:pe()}}function Sw(e,t){const n=Ew();return n.doubleClick.on(i=>{var o,s;t.nodeDoubleClick(i),(s=(o=e.events)==null?void 0:o.doubleClick)==null||s.call(o,i)}),n.click.on(i=>{var o,s;t.nodeClick(i),(s=(o=e.events)==null?void 0:o.click)==null||s.call(o,i)}),n.mouseEnter.on(i=>{var o,s;t.nodeMouseEnter(i),(s=(o=e.events)==null?void 0:o.mouseEnter)==null||s.call(o,i)}),n.mouseMove.on(i=>{var o,s;t.nodeMouseMove(i),(s=(o=e.events)==null?void 0:o.mouseMove)==null||s.call(o,i)}),n.mouseLeave.on(i=>{var o,s;t.nodeMouseLeave(i),(s=(o=e.events)==null?void 0:o.mouseLeave)==null||s.call(o,i)}),n.contextMenu.on(i=>{var o,s;t.nodeContextMenu(i),(s=(o=e.events)==null?void 0:o.contextMenu)==null||s.call(o,i)}),n.dragStart.on(i=>{var o,s;t.nodeDragStart(i),(s=(o=e.events)==null?void 0:o.dragStart)==null||s.call(o,i)}),n.drag.on(i=>{var o,s;t.nodeDrag(i),(s=(o=e.events)==null?void 0:o.drag)==null||s.call(o,i)}),n.dragStop.on(i=>{var o,s;t.nodeDragStop(i),(s=(o=e.events)==null?void 0:o.dragStop)==null||s.call(o,i)}),Object.entries(n).reduce((i,[o,s])=>(i.emit[o]=s.trigger,i.on[o]=s.on,i),{emit:{},on:{}})}function gp(){const{getSelectedNodes:e,nodeExtent:t,updateNodePositions:n,findNode:i,snapGrid:o,snapToGrid:s,nodesDraggable:r,emits:u}=Ne();return(a,l=!1)=>{const c=s.value?o.value[0]:5,d=s.value?o.value[1]:5,f=l?4:1,h=a.x*c*f,p=a.y*d*f,_=[];for(const b of e.value)if(b.draggable||r&&typeof b.draggable>"u"){const y={x:b.computedPosition.x+h,y:b.computedPosition.y+p},{computedPosition:v}=$l(b,y,u.error,t.value,b.parentNode?i(b.parentNode):void 0);_.push({id:b.id,position:v,from:b.position,distance:{x:a.x,y:a.y},dimensions:b.dimensions})}n(_,!0,!1)}}const Cu=.1,kw=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2;function Bn(){return ho("Viewport not initialized yet."),Promise.resolve(!1)}const Iw={zoomIn:Bn,zoomOut:Bn,zoomTo:Bn,fitView:Bn,setCenter:Bn,fitBounds:Bn,project:e=>e,screenToFlowCoordinate:e=>e,flowToScreenCoordinate:e=>e,setViewport:Bn,setTransform:Bn,getViewport:()=>({x:0,y:0,zoom:1}),getTransform:()=>({x:0,y:0,zoom:1}),viewportInitialized:!1};function Aw(e){function t(i,o){return new Promise(s=>{e.d3Selection&&e.d3Zoom?e.d3Zoom.interpolate((o==null?void 0:o.interpolate)==="linear"?Po:Hs).scaleBy(Eu(e.d3Selection,o==null?void 0:o.duration,o==null?void 0:o.ease,()=>{s(!0)}),i):s(!1)})}function n(i,o,s,r){return new Promise(u=>{var a;const{x:l,y:c}=Q0({x:-i,y:-o},e.translateExtent),d=ro.translate(-l,-c).scale(s);e.d3Selection&&e.d3Zoom?(a=e.d3Zoom)==null||a.interpolate((r==null?void 0:r.interpolate)==="linear"?Po:Hs).transform(Eu(e.d3Selection,r==null?void 0:r.duration,r==null?void 0:r.ease,()=>{u(!0)}),d):u(!1)})}return me(()=>e.d3Zoom&&e.d3Selection&&e.dimensions.width&&e.dimensions.height?{viewportInitialized:!0,zoomIn:o=>t(1.2,o),zoomOut:o=>t(1/1.2,o),zoomTo:(o,s)=>new Promise(r=>{e.d3Selection&&e.d3Zoom?e.d3Zoom.interpolate((s==null?void 0:s.interpolate)==="linear"?Po:Hs).scaleTo(Eu(e.d3Selection,s==null?void 0:s.duration,s==null?void 0:s.ease,()=>{r(!0)}),o):r(!1)}),setViewport:(o,s)=>n(o.x,o.y,o.zoom,s),setTransform:(o,s)=>n(o.x,o.y,o.zoom,s),getViewport:()=>({x:e.viewport.x,y:e.viewport.y,zoom:e.viewport.zoom}),getTransform:()=>({x:e.viewport.x,y:e.viewport.y,zoom:e.viewport.zoom}),fitView:(o={padding:Cu,includeHiddenNodes:!1,duration:0})=>{var s,r;const u=[];for(const f of e.nodes)f.dimensions.width&&f.dimensions.height&&((o==null?void 0:o.includeHiddenNodes)||!f.hidden)&&(!((s=o.nodes)!=null&&s.length)||(r=o.nodes)!=null&&r.length&&o.nodes.includes(f.id))&&u.push(f);if(!u.length)return Promise.resolve(!1);const a=op(u),{x:l,y:c,zoom:d}=dd(a,e.dimensions.width,e.dimensions.height,o.minZoom??e.minZoom,o.maxZoom??e.maxZoom,o.padding??Cu,o.offset);return n(l,c,d,o)},setCenter:(o,s,r)=>{const u=typeof(r==null?void 0:r.zoom)<"u"?r.zoom:e.maxZoom,a=e.dimensions.width/2-o*u,l=e.dimensions.height/2-s*u;return n(a,l,u,r)},fitBounds:(o,s={padding:Cu})=>{const{x:r,y:u,zoom:a}=dd(o,e.dimensions.width,e.dimensions.height,e.minZoom,e.maxZoom,s.padding);return n(r,u,a,s)},project:o=>ns(o,e.viewport,e.snapToGrid,e.snapGrid),screenToFlowCoordinate:o=>{if(e.vueFlowRef){const{x:s,y:r}=e.vueFlowRef.getBoundingClientRect(),u={x:o.x-s,y:o.y-r};return ns(u,e.viewport,e.snapToGrid,e.snapGrid)}return{x:0,y:0}},flowToScreenCoordinate:o=>{if(e.vueFlowRef){const{x:s,y:r}=e.vueFlowRef.getBoundingClientRect(),u={x:o.x+s,y:o.y+r};return Qa(u,e.viewport)}return{x:0,y:0}}}:Iw)}function Eu(e,t=0,n=kw,i=()=>{}){const o=typeof t=="number"&&t>0;return o||i(),o?e.transition().duration(t).ease(n).on("end",i):e}function Dw(e,t,n){const i=hl(!0);return i.run(()=>{const o=()=>{i.run(()=>{let _,b,y=!!(n.nodes.value.length||n.edges.value.length);_=Pi([e.modelValue,()=>{var v,m;return(m=(v=e.modelValue)==null?void 0:v.value)==null?void 0:m.length}],([v])=>{v&&Array.isArray(v)&&(b==null||b.pause(),n.setElements(v),!b&&!y&&v.length?y=!0:b==null||b.resume())}),b=Pi([n.nodes,n.edges,()=>n.edges.value.length,()=>n.nodes.value.length],([v,m])=>{var g;(g=e.modelValue)!=null&&g.value&&Array.isArray(e.modelValue.value)&&(_==null||_.pause(),e.modelValue.value=[...v,...m],We(()=>{_==null||_.resume()}))},{immediate:y}),zs(()=>{_==null||_.stop(),b==null||b.stop()})})},s=()=>{i.run(()=>{let _,b,y=!!n.nodes.value.length;_=Pi([e.nodes,()=>{var v,m;return(m=(v=e.nodes)==null?void 0:v.value)==null?void 0:m.length}],([v])=>{v&&Array.isArray(v)&&(b==null||b.pause(),n.setNodes(v),!b&&!y&&v.length?y=!0:b==null||b.resume())}),b=Pi([n.nodes,()=>n.nodes.value.length],([v])=>{var m;(m=e.nodes)!=null&&m.value&&Array.isArray(e.nodes.value)&&(_==null||_.pause(),e.nodes.value=[...v],We(()=>{_==null||_.resume()}))},{immediate:y}),zs(()=>{_==null||_.stop(),b==null||b.stop()})})},r=()=>{i.run(()=>{let _,b,y=!!n.edges.value.length;_=Pi([e.edges,()=>{var v,m;return(m=(v=e.edges)==null?void 0:v.value)==null?void 0:m.length}],([v])=>{v&&Array.isArray(v)&&(b==null||b.pause(),n.setEdges(v),!b&&!y&&v.length?y=!0:b==null||b.resume())}),b=Pi([n.edges,()=>n.edges.value.length],([v])=>{var m;(m=e.edges)!=null&&m.value&&Array.isArray(e.edges.value)&&(_==null||_.pause(),e.edges.value=[...v],We(()=>{_==null||_.resume()}))},{immediate:y}),zs(()=>{_==null||_.stop(),b==null||b.stop()})})},u=()=>{i.run(()=>{Ae(()=>t.maxZoom,()=>{t.maxZoom&&st(t.maxZoom)&&n.setMaxZoom(t.maxZoom)},{immediate:!0})})},a=()=>{i.run(()=>{Ae(()=>t.minZoom,()=>{t.minZoom&&st(t.minZoom)&&n.setMinZoom(t.minZoom)},{immediate:!0})})},l=()=>{i.run(()=>{Ae(()=>t.translateExtent,()=>{t.translateExtent&&st(t.translateExtent)&&n.setTranslateExtent(t.translateExtent)},{immediate:!0})})},c=()=>{i.run(()=>{Ae(()=>t.nodeExtent,()=>{t.nodeExtent&&st(t.nodeExtent)&&n.setNodeExtent(t.nodeExtent)},{immediate:!0})})},d=()=>{i.run(()=>{Ae(()=>t.applyDefault,()=>{st(t.applyDefault)&&(n.applyDefault.value=t.applyDefault)},{immediate:!0})})},f=()=>{i.run(()=>{const _=async b=>{let y=b;typeof t.autoConnect=="function"&&(y=await t.autoConnect(b)),y!==!1&&n.addEdges([y])};Ae(()=>t.autoConnect,()=>{st(t.autoConnect)&&(n.autoConnect.value=t.autoConnect)},{immediate:!0}),Ae(n.autoConnect,(b,y,v)=>{b?n.onConnect(_):n.hooks.value.connect.off(_),v(()=>{n.hooks.value.connect.off(_)})},{immediate:!0})})},h=()=>{const _=["id","modelValue","translateExtent","nodeExtent","edges","nodes","maxZoom","minZoom","applyDefault","autoConnect"];for(const b of Object.keys(t)){const y=b;if(!_.includes(y)){const v=Ke(()=>t[y]),m=n[y];Ie(m)&&i.run(()=>{Ae(v,g=>{st(g)&&(m.value=g)},{immediate:!0})})}}};(()=>{o(),s(),r(),a(),u(),l(),c(),d(),f(),h()})()}),()=>i.stop()}function Nw(){return{edgesChange:pe(),nodesChange:pe(),nodeDoubleClick:pe(),nodeClick:pe(),nodeMouseEnter:pe(),nodeMouseMove:pe(),nodeMouseLeave:pe(),nodeContextMenu:pe(),nodeDragStart:pe(),nodeDrag:pe(),nodeDragStop:pe(),nodesInitialized:pe(),miniMapNodeClick:pe(),miniMapNodeDoubleClick:pe(),miniMapNodeMouseEnter:pe(),miniMapNodeMouseMove:pe(),miniMapNodeMouseLeave:pe(),connect:pe(),connectStart:pe(),connectEnd:pe(),clickConnectStart:pe(),clickConnectEnd:pe(),paneReady:pe(),init:pe(),move:pe(),moveStart:pe(),moveEnd:pe(),selectionDragStart:pe(),selectionDrag:pe(),selectionDragStop:pe(),selectionContextMenu:pe(),selectionStart:pe(),selectionEnd:pe(),viewportChangeStart:pe(),viewportChange:pe(),viewportChangeEnd:pe(),paneScroll:pe(),paneClick:pe(),paneContextMenu:pe(),paneMouseEnter:pe(),paneMouseMove:pe(),paneMouseLeave:pe(),edgeContextMenu:pe(),edgeMouseEnter:pe(),edgeMouseMove:pe(),edgeMouseLeave:pe(),edgeDoubleClick:pe(),edgeClick:pe(),edgeUpdateStart:pe(),edgeUpdate:pe(),edgeUpdateEnd:pe(),updateNodeInternals:pe(),error:pe(e=>ho(e.message))}}function Tw(e,t){Nh(()=>{for(const[n,i]of Object.entries(t.value)){const o=s=>{e(n,s)};i.fns.add(o),Rr(()=>{i.off(o)})}})}function vp(){return{vueFlowRef:null,viewportRef:null,nodes:[],edges:[],connectionLookup:new Map,nodeTypes:{},edgeTypes:{},initialized:!1,dimensions:{width:0,height:0},viewport:{x:0,y:0,zoom:1},d3Zoom:null,d3Selection:null,d3ZoomHandler:null,minZoom:.5,maxZoom:2,translateExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],nodeExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],selectionMode:Rl.Full,paneDragging:!1,preventScrolling:!0,zoomOnScroll:!0,zoomOnPinch:!0,zoomOnDoubleClick:!0,panOnScroll:!1,panOnScrollSpeed:.5,panOnScrollMode:Oo.Free,paneClickDistance:0,panOnDrag:!0,edgeUpdaterRadius:10,onlyRenderVisibleElements:!1,defaultViewport:{x:0,y:0,zoom:1},nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,defaultMarkerColor:"#b1b1b7",connectionLineStyle:{},connectionLineType:null,connectionLineOptions:{type:fi.Bezier,style:{}},connectionMode:ii.Loose,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectionPosition:{x:Number.NaN,y:Number.NaN},connectionRadius:20,connectOnClick:!0,connectionStatus:null,isValidConnection:null,snapGrid:[15,15],snapToGrid:!1,edgesUpdatable:!1,edgesFocusable:!0,nodesFocusable:!0,nodesConnectable:!0,nodesDraggable:!0,nodeDragThreshold:1,elementsSelectable:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,selectionKeyCode:"Shift",multiSelectionKeyCode:vr()?"Meta":"Control",zoomActivationKeyCode:vr()?"Meta":"Control",deleteKeyCode:"Backspace",panActivationKeyCode:"Space",hooks:Nw(),applyDefault:!0,autoConnect:!1,fitViewOnInit:!1,fitViewOnInitDone:!1,noDragClassName:"nodrag",noWheelClassName:"nowheel",noPanClassName:"nopan",defaultEdgeOptions:void 0,elevateEdgesOnSelect:!1,elevateNodesOnSelect:!0,autoPanOnNodeDrag:!0,autoPanOnConnect:!0,autoPanSpeed:15,disableKeyboardA11y:!1,ariaLiveMessage:""}}const Mw=["id","vueFlowRef","viewportRef","initialized","modelValue","nodes","edges","maxZoom","minZoom","translateExtent","hooks","defaultEdgeOptions"];function Fw(e,t,n){const i=Aw(e),o=S=>{const I=S??[];e.hooks.updateNodeInternals.trigger(I)},s=S=>Y2(S,e.nodes,e.edges),r=S=>Z2(S,e.nodes,e.edges),u=S=>rp(S,e.edges),a=({id:S,type:I,nodeId:N})=>{var T;return Array.from(((T=e.connectionLookup.get(`${N}-${I}-${S??null}`))==null?void 0:T.values())??[])},l=S=>{if(S)return t.value.get(S)},c=S=>{if(S)return n.value.get(S)},d=(S,I,N)=>{var T,B;const Y=[];for(const j of S){const G={id:j.id,type:"position",dragging:N,from:j.from};if(I&&(G.position=j.position,j.parentNode)){const ee=l(j.parentNode);G.position={x:G.position.x-(((T=ee==null?void 0:ee.computedPosition)==null?void 0:T.x)??0),y:G.position.y-(((B=ee==null?void 0:ee.computedPosition)==null?void 0:B.y)??0)}}Y.push(G)}Y!=null&&Y.length&&e.hooks.nodesChange.trigger(Y)},f=S=>{if(!e.vueFlowRef)return;const I=e.vueFlowRef.querySelector(".vue-flow__transformationpane");if(!I)return;const N=window.getComputedStyle(I),{m22:T}=new window.DOMMatrixReadOnly(N.transform),B=[];for(const Y of S){const j=Y,G=l(j.id);if(G){const ee=Ur(j.nodeElement);if(!!(ee.width&&ee.height&&(G.dimensions.width!==ee.width||G.dimensions.height!==ee.height||j.forceUpdate))){const se=j.nodeElement.getBoundingClientRect();G.dimensions=ee,G.handleBounds.source=wd("source",j.nodeElement,se,T,G.id),G.handleBounds.target=wd("target",j.nodeElement,se,T,G.id),B.push({id:G.id,type:"dimensions",dimensions:ee})}}}!e.fitViewOnInitDone&&e.fitViewOnInit&&i.value.fitView().then(()=>{e.fitViewOnInitDone=!0}),B.length&&e.hooks.nodesChange.trigger(B)},h=(S,I)=>{const N=new Set,T=new Set;for(const j of S)Ci(j)?N.add(j.id):oi(j)&&T.add(j.id);const B=jn(t.value,N,!0),Y=jn(n.value,T);if(e.multiSelectionActive){for(const j of N)B.push(Hn(j,I));for(const j of T)Y.push(Hn(j,I))}B.length&&e.hooks.nodesChange.trigger(B),Y.length&&e.hooks.edgesChange.trigger(Y)},p=S=>{if(e.multiSelectionActive){const I=S.map(N=>Hn(N.id,!0));e.hooks.nodesChange.trigger(I);return}e.hooks.nodesChange.trigger(jn(t.value,new Set(S.map(I=>I.id)),!0)),e.hooks.edgesChange.trigger(jn(n.value))},_=S=>{if(e.multiSelectionActive){const I=S.map(N=>Hn(N.id,!0));e.hooks.edgesChange.trigger(I);return}e.hooks.edgesChange.trigger(jn(n.value,new Set(S.map(I=>I.id)))),e.hooks.nodesChange.trigger(jn(t.value,new Set,!0))},b=S=>{h(S,!0)},y=S=>{const N=(S||e.nodes).map(T=>(T.selected=!1,Hn(T.id,!1)));e.hooks.nodesChange.trigger(N)},v=S=>{const N=(S||e.edges).map(T=>(T.selected=!1,Hn(T.id,!1)));e.hooks.edgesChange.trigger(N)},m=S=>{if(!S||!S.length)return h([],!1);const I=S.reduce((N,T)=>{const B=Hn(T.id,!1);return Ci(T)?N.nodes.push(B):N.edges.push(B),N},{nodes:[],edges:[]});I.nodes.length&&e.hooks.nodesChange.trigger(I.nodes),I.edges.length&&e.hooks.edgesChange.trigger(I.edges)},g=S=>{var I;(I=e.d3Zoom)==null||I.scaleExtent([S,e.maxZoom]),e.minZoom=S},x=S=>{var I;(I=e.d3Zoom)==null||I.scaleExtent([e.minZoom,S]),e.maxZoom=S},E=S=>{var I;(I=e.d3Zoom)==null||I.translateExtent(S),e.translateExtent=S},D=S=>{e.nodeExtent=S,o()},k=S=>{var I;(I=e.d3Zoom)==null||I.clickDistance(S)},w=S=>{e.nodesDraggable=S,e.nodesConnectable=S,e.elementsSelectable=S},M=S=>{const I=S instanceof Function?S(e.nodes):S;!e.initialized&&!I.length||(e.nodes=xd(I,l,e.hooks.error.trigger))},O=S=>{const I=S instanceof Function?S(e.edges):S;if(!e.initialized&&!I.length)return;const N=xu(I,e.isValidConnection,l,c,e.hooks.error.trigger,e.defaultEdgeOptions,e.nodes,e.edges);wu(e.connectionLookup,n.value,N),e.edges=N},C=S=>{const I=S instanceof Function?S([...e.nodes,...e.edges]):S;!e.initialized&&!I.length||(M(I.filter(Ci)),O(I.filter(oi)))},z=S=>{let I=S instanceof Function?S(e.nodes):S;I=Array.isArray(I)?I:[I];const N=xd(I,l,e.hooks.error.trigger),T=[];for(const B of N)T.push(pd(B));T.length&&e.hooks.nodesChange.trigger(T)},P=S=>{let I=S instanceof Function?S(e.edges):S;I=Array.isArray(I)?I:[I];const N=xu(I,e.isValidConnection,l,c,e.hooks.error.trigger,e.defaultEdgeOptions,e.nodes,e.edges),T=[];for(const B of N)T.push(pd(B));T.length&&e.hooks.edgesChange.trigger(T)},q=(S,I=!0,N=!1)=>{const T=S instanceof Function?S(e.nodes):S,B=Array.isArray(T)?T:[T],Y=[],j=[];function G(J){const se=u(J);for(const he of se)(!st(he.deletable)||he.deletable)&&j.push(gd(he.id,he.source,he.target,he.sourceHandle,he.targetHandle))}function ee(J){const se=[];for(const he of e.nodes)he.parentNode===J&&se.push(he);if(se.length){for(const he of se)Y.push(md(he.id));I&&G(se);for(const he of se)ee(he.id)}}for(const J of B){const se=typeof J=="string"?l(J):J;se&&(st(se.deletable)&&!se.deletable||(Y.push(md(se.id)),I&&G([se]),N&&ee(se.id)))}j.length&&e.hooks.edgesChange.trigger(j),Y.length&&e.hooks.nodesChange.trigger(Y)},R=S=>{const I=S instanceof Function?S(e.edges):S,N=Array.isArray(I)?I:[I],T=[];for(const B of N){const Y=typeof B=="string"?c(B):B;Y&&(st(Y.deletable)&&!Y.deletable||T.push(gd(typeof B=="string"?B:B.id,Y.source,Y.target,Y.sourceHandle,Y.targetHandle)))}e.hooks.edgesChange.trigger(T)},W=(S,I,N=!0)=>{const T=c(S.id);if(!T)return!1;const B=e.edges.indexOf(T),Y=vw(S,I,T,N,e.hooks.error.trigger);if(Y){const[j]=xu([Y],e.isValidConnection,l,c,e.hooks.error.trigger,e.defaultEdgeOptions,e.nodes,e.edges);return e.edges=e.edges.map((G,ee)=>ee===B?j:G),wu(e.connectionLookup,n.value,[j]),j}return!1},Z=(S,I,N={replace:!1})=>{const T=c(S);if(!T)return;const B=typeof I=="function"?I(T):I;T.data=N.replace?B:{...T.data,...B}},ne=S=>hd(S,e.nodes),oe=S=>{const I=hd(S,e.edges);return wu(e.connectionLookup,n.value,I),I},ue=(S,I,N={replace:!1})=>{const T=l(S);if(!T)return;const B=typeof I=="function"?I(T):I;N.replace?e.nodes.splice(e.nodes.indexOf(T),1,B):Object.assign(T,B)},le=(S,I,N={replace:!1})=>{const T=l(S);if(!T)return;const B=typeof I=="function"?I(T):I;T.data=N.replace?B:{...T.data,...B}},H=(S,I,N=!1)=>{N?e.connectionClickStartHandle=S:e.connectionStartHandle=S,e.connectionEndHandle=null,e.connectionStatus=null,I&&(e.connectionPosition=I)},V=(S,I=null,N=null)=>{e.connectionStartHandle&&(e.connectionPosition=S,e.connectionEndHandle=I,e.connectionStatus=N)},U=(S,I)=>{e.connectionPosition={x:Number.NaN,y:Number.NaN},e.connectionEndHandle=null,e.connectionStatus=null,I?e.connectionClickStartHandle=null:e.connectionStartHandle=null},K=S=>{const I=j2(S),N=I?null:Eo(S)?S:l(S.id);return!I&&!N?[null,null,I]:[I?S:mr(N),N,I]},ae=(S,I=!0,N=e.nodes)=>{const[T,B,Y]=K(S);if(!T)return[];const j=[];for(const G of N||e.nodes){if(!Y&&(G.id===B.id||!G.computedPosition))continue;const ee=mr(G),J=gr(ee,T);(I&&J>0||J>=Number(T.width)*Number(T.height))&&j.push(G)}return j},fe=(S,I,N=!0)=>{const[T]=K(S);if(!T)return!1;const B=gr(T,I);return N&&B>0||B>=Number(T.width)*Number(T.height)},de=S=>{const{viewport:I,dimensions:N,d3Zoom:T,d3Selection:B,translateExtent:Y}=e;if(!T||!B||!S.x&&!S.y)return!1;const j=ro.translate(I.x+S.x,I.y+S.y).scale(I.zoom),G=[[0,0],[N.width,N.height]],ee=T.constrain()(j,G,Y),J=e.viewport.x!==ee.x||e.viewport.y!==ee.y||e.viewport.zoom!==ee.k;return T.transform(B,ee),J},ve=S=>{const I=S instanceof Function?S(e):S,N=["d3Zoom","d3Selection","d3ZoomHandler","viewportRef","vueFlowRef","dimensions","hooks"];st(I.defaultEdgeOptions)&&(e.defaultEdgeOptions=I.defaultEdgeOptions);const T=I.modelValue||I.nodes||I.edges?[]:void 0;T&&(I.modelValue&&T.push(...I.modelValue),I.nodes&&T.push(...I.nodes),I.edges&&T.push(...I.edges),C(T));const B=()=>{st(I.maxZoom)&&x(I.maxZoom),st(I.minZoom)&&g(I.minZoom),st(I.translateExtent)&&E(I.translateExtent)};for(const Y of Object.keys(I)){const j=Y,G=I[j];![...Mw,...N].includes(j)&&st(G)&&(e[j]=G)}Ha(()=>e.d3Zoom).not.toBeNull().then(B),e.initialized||(e.initialized=!0)};return{updateNodePositions:d,updateNodeDimensions:f,setElements:C,setNodes:M,setEdges:O,addNodes:z,addEdges:P,removeNodes:q,removeEdges:R,findNode:l,findEdge:c,updateEdge:W,updateEdgeData:Z,updateNode:ue,updateNodeData:le,applyEdgeChanges:oe,applyNodeChanges:ne,addSelectedElements:b,addSelectedNodes:p,addSelectedEdges:_,setMinZoom:g,setMaxZoom:x,setTranslateExtent:E,setNodeExtent:D,setPaneClickDistance:k,removeSelectedElements:m,removeSelectedNodes:y,removeSelectedEdges:v,startConnection:H,updateConnection:V,endConnection:U,setInteractive:w,setState:ve,getIntersectingNodes:ae,getIncomers:s,getOutgoers:r,getConnectedEdges:u,getHandleConnections:a,isNodeIntersecting:fe,panBy:de,fitView:S=>i.value.fitView(S),zoomIn:S=>i.value.zoomIn(S),zoomOut:S=>i.value.zoomOut(S),zoomTo:(S,I)=>i.value.zoomTo(S,I),setViewport:(S,I)=>i.value.setViewport(S,I),setTransform:(S,I)=>i.value.setTransform(S,I),getViewport:()=>i.value.getViewport(),getTransform:()=>i.value.getTransform(),setCenter:(S,I,N)=>i.value.setCenter(S,I,N),fitBounds:(S,I)=>i.value.fitBounds(S,I),project:S=>i.value.project(S),screenToFlowCoordinate:S=>i.value.screenToFlowCoordinate(S),flowToScreenCoordinate:S=>i.value.flowToScreenCoordinate(S),toObject:()=>{const S=[],I=[];for(const N of e.nodes){const{computedPosition:T,handleBounds:B,selected:Y,dimensions:j,isParent:G,resizing:ee,dragging:J,events:se,...he}=N;S.push(he)}for(const N of e.edges){const{selected:T,sourceNode:B,targetNode:Y,events:j,...G}=N;I.push(G)}return JSON.parse(JSON.stringify({nodes:S,edges:I,position:[e.viewport.x,e.viewport.y],zoom:e.viewport.zoom,viewport:e.viewport}))},fromObject:S=>new Promise(I=>{const{nodes:N,edges:T,position:B,zoom:Y,viewport:j}=S;if(N&&M(N),T&&O(T),j!=null&&j.x&&(j!=null&&j.y)||B){const G=(j==null?void 0:j.x)||B[0],ee=(j==null?void 0:j.y)||B[1],J=(j==null?void 0:j.zoom)||Y||e.viewport.zoom;return Ha(()=>i.value.viewportInitialized).toBe(!0).then(()=>{i.value.setViewport({x:G,y:ee,zoom:J}).then(()=>{I(!0)})})}else I(!0)}),updateNodeInternals:o,viewportHelper:i,$reset:()=>{const S=vp();if(e.edges=[],e.nodes=[],e.d3Zoom&&e.d3Selection){const I=ro.translate(S.defaultViewport.x??0,S.defaultViewport.y??0).scale(Ni(S.defaultViewport.zoom??1,S.minZoom,S.maxZoom)),N=e.viewportRef.getBoundingClientRect(),T=[[0,0],[N.width,N.height]],B=e.d3Zoom.constrain()(I,T,S.translateExtent);e.d3Zoom.transform(e.d3Selection,B)}ve(S)},$destroy:()=>{}}}const Pw=["data-id","data-handleid","data-nodeid","data-handlepos"],Ow={name:"Handle",compatConfig:{MODE:3}},Je=be({...Ow,props:{id:{default:null},type:{},position:{default:()=>re.Top},isValidConnection:{type:Function},connectable:{type:[Boolean,Number,String,Function],default:void 0},connectableStart:{type:Boolean,default:!0},connectableEnd:{type:Boolean,default:!0}},setup(e,{expose:t}){const n=Og(e,["position","connectable","connectableStart","connectableEnd","id"]),i=Ke(()=>n.type??"source"),o=Ke(()=>n.isValidConnection??null),{id:s,connectionStartHandle:r,connectionClickStartHandle:u,connectionEndHandle:a,vueFlowRef:l,nodesConnectable:c,noDragClassName:d,noPanClassName:f}=Ne(),{id:h,node:p,nodeEl:_,connectedEdges:b}=Vl(),y=ce(),v=Ke(()=>typeof e.connectableStart<"u"?e.connectableStart:!0),m=Ke(()=>typeof e.connectableEnd<"u"?e.connectableEnd:!0),g=Ke(()=>{var O,C,z,P,q,R;return((O=r.value)==null?void 0:O.nodeId)===h&&((C=r.value)==null?void 0:C.id)===e.id&&((z=r.value)==null?void 0:z.type)===i.value||((P=a.value)==null?void 0:P.nodeId)===h&&((q=a.value)==null?void 0:q.id)===e.id&&((R=a.value)==null?void 0:R.type)===i.value}),x=Ke(()=>{var O,C,z;return((O=u.value)==null?void 0:O.nodeId)===h&&((C=u.value)==null?void 0:C.id)===e.id&&((z=u.value)==null?void 0:z.type)===i.value}),{handlePointerDown:E,handleClick:D}=mp({nodeId:h,handleId:e.id,isValidConnection:o,type:i}),k=me(()=>typeof e.connectable=="string"&&e.connectable==="single"?!b.value.some(O=>{const C=O[`${i.value}Handle`];return O[i.value]!==h?!1:C?C===e.id:!0}):typeof e.connectable=="number"?b.value.filter(O=>{const C=O[`${i.value}Handle`];return O[i.value]!==h?!1:C?C===e.id:!0}).length<e.connectable:typeof e.connectable=="function"?e.connectable(p,b.value):st(e.connectable)?e.connectable:c.value);it(()=>{var O;if(!p.dimensions.width||!p.dimensions.height)return;const C=(O=p.handleBounds[i.value])==null?void 0:O.find(ne=>ne.id===e.id);if(!l.value||C)return;const z=l.value.querySelector(".vue-flow__transformationpane");if(!_.value||!y.value||!z||!e.id)return;const P=_.value.getBoundingClientRect(),q=y.value.getBoundingClientRect(),R=window.getComputedStyle(z),{m22:W}=new window.DOMMatrixReadOnly(R.transform),Z={id:e.id,position:e.position,x:(q.left-P.left)/W,y:(q.top-P.top)/W,type:i.value,nodeId:h,...Ur(y.value)};p.handleBounds[i.value]=[...p.handleBounds[i.value]??[],Z]});function w(O){const C=Bl(O);k.value&&v.value&&(C&&O.button===0||!C)&&E(O)}function M(O){!h||!u.value&&!v.value||k.value&&D(O)}return t({handleClick:D,handlePointerDown:E,onClick:M,onPointerDown:w}),(O,C)=>(X(),Q("div",{ref_key:"handle",ref:y,"data-id":`${$(s)}-${$(h)}-${e.id}-${i.value}`,"data-handleid":e.id,"data-nodeid":$(h),"data-handlepos":O.position,class:Ue(["vue-flow__handle",[`vue-flow__handle-${O.position}`,`vue-flow__handle-${e.id}`,$(d),$(f),i.value,{connectable:k.value,connecting:x.value,connectablestart:v.value,connectableend:m.value,connectionindicator:k.value&&(v.value&&!g.value||m.value&&g.value)}]]),onMousedown:w,onTouchstartPassive:w,onClick:M},[It(O.$slots,"default",{id:O.id})],42,Pw))}}),jr=function({sourcePosition:e=re.Bottom,targetPosition:t=re.Top,label:n,connectable:i=!0,isValidTargetPos:o,isValidSourcePos:s,data:r}){const u=r.label??n;return[Ve(Je,{type:"target",position:t,connectable:i,isValidConnection:o}),typeof u!="string"&&u?Ve(u):Ve(Se,[u]),Ve(Je,{type:"source",position:e,connectable:i,isValidConnection:s})]};jr.props=["sourcePosition","targetPosition","label","isValidTargetPos","isValidSourcePos","connectable","data"];jr.inheritAttrs=!1;jr.compatConfig={MODE:3};const Lw=jr,Wr=function({targetPosition:e=re.Top,label:t,connectable:n=!0,isValidTargetPos:i,data:o}){const s=o.label??t;return[Ve(Je,{type:"target",position:e,connectable:n,isValidConnection:i}),typeof s!="string"&&s?Ve(s):Ve(Se,[s])]};Wr.props=["targetPosition","label","isValidTargetPos","connectable","data"];Wr.inheritAttrs=!1;Wr.compatConfig={MODE:3};const zw=Wr,Zr=function({sourcePosition:e=re.Bottom,label:t,connectable:n=!0,isValidSourcePos:i,data:o}){const s=o.label??t;return[typeof s!="string"&&s?Ve(s):Ve(Se,[s]),Ve(Je,{type:"source",position:e,connectable:n,isValidConnection:i})]};Zr.props=["sourcePosition","label","isValidSourcePos","connectable","data"];Zr.inheritAttrs=!1;Zr.compatConfig={MODE:3};const Rw=Zr,$w=["transform"],Bw=["width","height","x","y","rx","ry"],Vw=["y"],Hw={name:"EdgeText",compatConfig:{MODE:3}},Uw=be({...Hw,props:{x:{},y:{},label:{},labelStyle:{default:()=>({})},labelShowBg:{type:Boolean,default:!0},labelBgStyle:{default:()=>({})},labelBgPadding:{default:()=>[2,4]},labelBgBorderRadius:{default:2}},setup(e){const t=ce({x:0,y:0,width:0,height:0}),n=ce(null),i=me(()=>`translate(${e.x-t.value.width/2} ${e.y-t.value.height/2})`);it(o),Ae([()=>e.x,()=>e.y,n,()=>e.label],o);function o(){if(!n.value)return;const s=n.value.getBBox();(s.width!==t.value.width||s.height!==t.value.height)&&(t.value=s)}return(s,r)=>(X(),Q("g",{transform:i.value,class:"vue-flow__edge-textwrapper"},[s.labelShowBg?(X(),Q("rect",{key:0,class:"vue-flow__edge-textbg",width:`${t.value.width+2*s.labelBgPadding[0]}px`,height:`${t.value.height+2*s.labelBgPadding[1]}px`,x:-s.labelBgPadding[0],y:-s.labelBgPadding[1],style:wt(s.labelBgStyle),rx:s.labelBgBorderRadius,ry:s.labelBgBorderRadius},null,12,Bw)):Oe("",!0),A("text",Or(s.$attrs,{ref_key:"el",ref:n,class:"vue-flow__edge-text",y:t.value.height/2,dy:"0.3em",style:s.labelStyle}),[It(s.$slots,"default",{},()=>[typeof s.label!="string"?(X(),tt(Ph(s.label),{key:0})):(X(),Q(Se,{key:1},[ot(we(s.label),1)],64))])],16,Vw)],8,$w))}}),qw=["id","d","marker-end","marker-start"],Gw=["d","stroke-width"],jw={name:"BaseEdge",inheritAttrs:!1,compatConfig:{MODE:3}},Yr=be({...jw,props:{id:{},labelX:{},labelY:{},path:{},label:{},markerStart:{},markerEnd:{},interactionWidth:{default:20},labelStyle:{},labelShowBg:{type:Boolean},labelBgStyle:{},labelBgPadding:{},labelBgBorderRadius:{}},setup(e,{expose:t}){const n=ce(null),i=ce(null),o=ce(null),s=Pg();return t({pathEl:n,interactionEl:i,labelEl:o}),(r,u)=>(X(),Q(Se,null,[A("path",Or($(s),{id:r.id,ref_key:"pathEl",ref:n,d:r.path,class:"vue-flow__edge-path","marker-end":r.markerEnd,"marker-start":r.markerStart}),null,16,qw),r.interactionWidth?(X(),Q("path",{key:0,ref_key:"interactionEl",ref:i,fill:"none",d:r.path,"stroke-width":r.interactionWidth,"stroke-opacity":0,class:"vue-flow__edge-interaction"},null,8,Gw)):Oe("",!0),r.label&&r.labelX&&r.labelY?(X(),tt(Uw,{key:1,ref_key:"labelEl",ref:o,x:r.labelX,y:r.labelY,label:r.label,"label-show-bg":r.labelShowBg,"label-bg-style":r.labelBgStyle,"label-bg-padding":r.labelBgPadding,"label-bg-border-radius":r.labelBgBorderRadius,"label-style":r.labelStyle},null,8,["x","y","label","label-show-bg","label-bg-style","label-bg-padding","label-bg-border-radius","label-style"])):Oe("",!0)],64))}});function _p({sourceX:e,sourceY:t,targetX:n,targetY:i}){const o=Math.abs(n-e)/2,s=n<e?n+o:n-o,r=Math.abs(i-t)/2,u=i<t?i+r:i-r;return[s,u,o,r]}function bp({sourceX:e,sourceY:t,targetX:n,targetY:i,sourceControlX:o,sourceControlY:s,targetControlX:r,targetControlY:u}){const a=e*.125+o*.375+r*.375+n*.125,l=t*.125+s*.375+u*.375+i*.125,c=Math.abs(a-e),d=Math.abs(l-t);return[a,l,c,d]}function Fs(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Id({pos:e,x1:t,y1:n,x2:i,y2:o,c:s}){let r,u;switch(e){case re.Left:r=t-Fs(t-i,s),u=n;break;case re.Right:r=t+Fs(i-t,s),u=n;break;case re.Top:r=t,u=n-Fs(n-o,s);break;case re.Bottom:r=t,u=n+Fs(o-n,s);break}return[r,u]}function yp(e){const{sourceX:t,sourceY:n,sourcePosition:i=re.Bottom,targetX:o,targetY:s,targetPosition:r=re.Top,curvature:u=.25}=e,[a,l]=Id({pos:i,x1:t,y1:n,x2:o,y2:s,c:u}),[c,d]=Id({pos:r,x1:o,y1:s,x2:t,y2:n,c:u}),[f,h,p,_]=bp({sourceX:t,sourceY:n,targetX:o,targetY:s,sourceControlX:a,sourceControlY:l,targetControlX:c,targetControlY:d});return[`M${t},${n} C${a},${l} ${c},${d} ${o},${s}`,f,h,p,_]}function Ad({pos:e,x1:t,y1:n,x2:i,y2:o}){let s,r;switch(e){case re.Left:case re.Right:s=.5*(t+i),r=n;break;case re.Top:case re.Bottom:s=t,r=.5*(n+o);break}return[s,r]}function wp(e){const{sourceX:t,sourceY:n,sourcePosition:i=re.Bottom,targetX:o,targetY:s,targetPosition:r=re.Top}=e,[u,a]=Ad({pos:i,x1:t,y1:n,x2:o,y2:s}),[l,c]=Ad({pos:r,x1:o,y1:s,x2:t,y2:n}),[d,f,h,p]=bp({sourceX:t,sourceY:n,targetX:o,targetY:s,sourceControlX:u,sourceControlY:a,targetControlX:l,targetControlY:c});return[`M${t},${n} C${u},${a} ${l},${c} ${o},${s}`,d,f,h,p]}const Dd={[re.Left]:{x:-1,y:0},[re.Right]:{x:1,y:0},[re.Top]:{x:0,y:-1},[re.Bottom]:{x:0,y:1}};function Ww({source:e,sourcePosition:t=re.Bottom,target:n}){return t===re.Left||t===re.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1}}function Nd(e,t){return Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2)}function Zw({source:e,sourcePosition:t=re.Bottom,target:n,targetPosition:i=re.Top,center:o,offset:s}){const r=Dd[t],u=Dd[i],a={x:e.x+r.x*s,y:e.y+r.y*s},l={x:n.x+u.x*s,y:n.y+u.y*s},c=Ww({source:a,sourcePosition:t,target:l}),d=c.x!==0?"x":"y",f=c[d];let h,p,_;const b={x:0,y:0},y={x:0,y:0},[v,m,g,x]=_p({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(r[d]*u[d]===-1){p=o.x??v,_=o.y??m;const D=[{x:p,y:a.y},{x:p,y:l.y}],k=[{x:a.x,y:_},{x:l.x,y:_}];r[d]===f?h=d==="x"?D:k:h=d==="x"?k:D}else{const D=[{x:a.x,y:l.y}],k=[{x:l.x,y:a.y}];if(d==="x"?h=r.x===f?k:D:h=r.y===f?D:k,t===i){const z=Math.abs(e[d]-n[d]);if(z<=s){const P=Math.min(s-1,s-z);r[d]===f?b[d]=(a[d]>e[d]?-1:1)*P:y[d]=(l[d]>n[d]?-1:1)*P}}if(t!==i){const z=d==="x"?"y":"x",P=r[d]===u[z],q=a[z]>l[z],R=a[z]<l[z];(r[d]===1&&(!P&&q||P&&R)||r[d]!==1&&(!P&&R||P&&q))&&(h=d==="x"?D:k)}const w={x:a.x+b.x,y:a.y+b.y},M={x:l.x+y.x,y:l.y+y.y},O=Math.max(Math.abs(w.x-h[0].x),Math.abs(M.x-h[0].x)),C=Math.max(Math.abs(w.y-h[0].y),Math.abs(M.y-h[0].y));O>=C?(p=(w.x+M.x)/2,_=h[0].y):(p=h[0].x,_=(w.y+M.y)/2)}return[[e,{x:a.x+b.x,y:a.y+b.y},...h,{x:l.x+y.x,y:l.y+y.y},n],p,_,g,x]}function Yw(e,t,n,i){const o=Math.min(Nd(e,t)/2,Nd(t,n)/2,i),{x:s,y:r}=t;if(e.x===s&&s===n.x||e.y===r&&r===n.y)return`L${s} ${r}`;if(e.y===r){const l=e.x<n.x?-1:1,c=e.y<n.y?1:-1;return`L ${s+o*l},${r}Q ${s},${r} ${s},${r+o*c}`}const u=e.x<n.x?1:-1,a=e.y<n.y?-1:1;return`L ${s},${r+o*a}Q ${s},${r} ${s+o*u},${r}`}function nl(e){const{sourceX:t,sourceY:n,sourcePosition:i=re.Bottom,targetX:o,targetY:s,targetPosition:r=re.Top,borderRadius:u=5,centerX:a,centerY:l,offset:c=20}=e,[d,f,h,p,_]=Zw({source:{x:t,y:n},sourcePosition:i,target:{x:o,y:s},targetPosition:r,center:{x:a,y:l},offset:c});return[d.reduce((y,v,m)=>{let g;return m>0&&m<d.length-1?g=Yw(d[m-1],v,d[m+1],u):g=`${m===0?"M":"L"}${v.x} ${v.y}`,y+=g,y},""),f,h,p,_]}function Xw(e){const{sourceX:t,sourceY:n,targetX:i,targetY:o}=e,[s,r,u,a]=_p({sourceX:t,sourceY:n,targetX:i,targetY:o});return[`M ${t},${n}L ${i},${o}`,s,r,u,a]}const Kw=be({name:"StraightEdge",props:["label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{const[n,i,o]=Xw(e);return Ve(Yr,{path:n,labelX:i,labelY:o,...t,...e})}}}),Jw=Kw,Qw=be({name:"SmoothStepEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","borderRadius","markerEnd","markerStart","interactionWidth","offset"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{const[n,i,o]=nl({...e,sourcePosition:e.sourcePosition??re.Bottom,targetPosition:e.targetPosition??re.Top});return Ve(Yr,{path:n,labelX:i,labelY:o,...t,...e})}}}),xp=Qw,e3=be({name:"StepEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],setup(e,{attrs:t}){return()=>Ve(xp,{...e,...t,borderRadius:0})}}),t3=e3,n3=be({name:"BezierEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","curvature","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{const[n,i,o]=yp({...e,sourcePosition:e.sourcePosition??re.Bottom,targetPosition:e.targetPosition??re.Top});return Ve(Yr,{path:n,labelX:i,labelY:o,...t,...e})}}}),i3=n3,o3=be({name:"SimpleBezierEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{const[n,i,o]=wp({...e,sourcePosition:e.sourcePosition??re.Bottom,targetPosition:e.targetPosition??re.Top});return Ve(Yr,{path:n,labelX:i,labelY:o,...t,...e})}}}),s3=o3,r3={input:Rw,default:Lw,output:zw},u3={default:i3,straight:Jw,step:t3,smoothstep:xp,simplebezier:s3};function a3(e,t,n){const i=me(()=>_=>t.value.get(_)),o=me(()=>_=>n.value.get(_)),s=me(()=>{const _={...u3,...e.edgeTypes},b=Object.keys(_);for(const y of e.edges)y.type&&!b.includes(y.type)&&(_[y.type]=y.type);return _}),r=me(()=>{const _={...r3,...e.nodeTypes},b=Object.keys(_);for(const y of e.nodes)y.type&&!b.includes(y.type)&&(_[y.type]=y.type);return _}),u=me(()=>e.onlyRenderVisibleElements?sp(e.nodes,{x:0,y:0,width:e.dimensions.width,height:e.dimensions.height},e.viewport,!0):e.nodes),a=me(()=>{if(e.onlyRenderVisibleElements){const _=[];for(const b of e.edges){const y=t.value.get(b.source),v=t.value.get(b.target);ow({sourcePos:y.computedPosition||{x:0,y:0},targetPos:v.computedPosition||{x:0,y:0},sourceWidth:y.dimensions.width,sourceHeight:y.dimensions.height,targetWidth:v.dimensions.width,targetHeight:v.dimensions.height,width:e.dimensions.width,height:e.dimensions.height,viewport:e.viewport})&&_.push(b)}return _}return e.edges}),l=me(()=>[...u.value,...a.value]),c=me(()=>{const _=[];for(const b of e.nodes)b.selected&&_.push(b);return _}),d=me(()=>{const _=[];for(const b of e.edges)b.selected&&_.push(b);return _}),f=me(()=>[...c.value,...d.value]),h=me(()=>{const _=[];for(const b of e.nodes)b.dimensions.width&&b.dimensions.height&&b.handleBounds!==void 0&&_.push(b);return _}),p=me(()=>u.value.length>0&&h.value.length===u.value.length);return{getNode:i,getEdge:o,getElements:l,getEdgeTypes:s,getNodeTypes:r,getEdges:a,getNodes:u,getSelectedElements:f,getSelectedNodes:c,getSelectedEdges:d,getNodesInitialized:h,areNodesInitialized:p}}class hi{constructor(){this.currentId=0,this.flows=new Map}static getInstance(){var t;const n=(t=Rn())==null?void 0:t.appContext.app,i=(n==null?void 0:n.config.globalProperties.$vueFlowStorage)??hi.instance;return hi.instance=i??new hi,n&&(n.config.globalProperties.$vueFlowStorage=hi.instance),hi.instance}set(t,n){return this.flows.set(t,n)}get(t){return this.flows.get(t)}remove(t){return this.flows.delete(t)}create(t,n){const i=vp(),o=ds(i),s={};for(const[f,h]of Object.entries(o.hooks)){const p=`on${f.charAt(0).toUpperCase()+f.slice(1)}`;s[p]=h.on}const r={};for(const[f,h]of Object.entries(o.hooks))r[f]=h.trigger;const u=me(()=>{const f=new Map;for(const h of o.nodes)f.set(h.id,h);return f}),a=me(()=>{const f=new Map;for(const h of o.edges)f.set(h.id,h);return f}),l=a3(o,u,a),c=Fw(o,u,a);c.setState({...o,...n});const d={...s,...l,...c,...t_(o),nodeLookup:u,edgeLookup:a,emits:r,id:t,vueFlowVersion:"1.45.0",$destroy:()=>{this.remove(t)}};return this.set(t,d),d}getId(){return`vue-flow-${this.currentId++}`}}function Ne(e){const t=hi.getInstance(),n=pl(),i=typeof e=="object",o=i?e:{id:e},s=o.id,r=s??(n==null?void 0:n.vueFlowId);let u;if(n){const a=Ft(kd,null);typeof a<"u"&&a!==null&&(!r||a.id===r)&&(u=a)}if(u||r&&(u=t.get(r)),!u||r&&u.id!==r){const a=s??t.getId(),l=t.create(a,o);u=l,(n??hl(!0)).run(()=>{Ae(l.applyDefault,(d,f,h)=>{const p=b=>{l.applyNodeChanges(b)},_=b=>{l.applyEdgeChanges(b)};d?(l.onNodesChange(p),l.onEdgesChange(_)):(l.hooks.value.nodesChange.off(p),l.hooks.value.edgesChange.off(_)),h(()=>{l.hooks.value.nodesChange.off(p),l.hooks.value.edgesChange.off(_)})},{immediate:!0}),Rr(()=>{if(u){const d=t.get(u.id);d?d.$destroy():ho(`No store instance found for id ${u.id} in storage.`)}})})}else i&&u.setState(o);if(n&&(vn(kd,u),n.vueFlowId=u.id),i){const a=Rn();(a==null?void 0:a.type.name)!=="VueFlow"&&u.emits.error(new ct(ut.USEVUEFLOW_OPTIONS))}return u}function l3(e){const{emits:t,dimensions:n}=Ne();let i;it(()=>{const o=e.value,s=()=>{if(!o)return;const r=Ur(o);(r.width===0||r.height===0)&&t.error(new ct(ut.MISSING_VIEWPORT_DIMENSIONS)),n.value={width:r.width||500,height:r.height||500}};s(),window.addEventListener("resize",s),o&&(i=new ResizeObserver(()=>s()),i.observe(o)),fo(()=>{window.removeEventListener("resize",s),i&&o&&i.unobserve(o)})})}const c3={name:"UserSelection",compatConfig:{MODE:3}},d3=be({...c3,props:{userSelectionRect:{}},setup(e){return(t,n)=>(X(),Q("div",{class:"vue-flow__selection vue-flow__container",style:wt({width:`${t.userSelectionRect.width}px`,height:`${t.userSelectionRect.height}px`,transform:`translate(${t.userSelectionRect.x}px, ${t.userSelectionRect.y}px)`})},null,4))}}),f3=["tabIndex"],h3={name:"NodesSelection",compatConfig:{MODE:3}},p3=be({...h3,setup(e){const{emits:t,viewport:n,getSelectedNodes:i,noPanClassName:o,disableKeyboardA11y:s,userSelectionActive:r}=Ne(),u=gp(),a=ce(null),l=pp({el:a,onStart(p){t.selectionDragStart(p)},onDrag(p){t.selectionDrag(p)},onStop(p){t.selectionDragStop(p)}});it(()=>{var p;s.value||(p=a.value)==null||p.focus({preventScroll:!0})});const c=me(()=>op(i.value)),d=me(()=>({width:`${c.value.width}px`,height:`${c.value.height}px`,top:`${c.value.y}px`,left:`${c.value.x}px`}));function f(p){t.selectionContextMenu({event:p,nodes:i.value})}function h(p){s||Wi[p.key]&&(p.preventDefault(),u({x:Wi[p.key].x,y:Wi[p.key].y},p.shiftKey))}return(p,_)=>!$(r)&&c.value.width&&c.value.height?(X(),Q("div",{key:0,class:Ue(["vue-flow__nodesselection vue-flow__container",$(o)]),style:wt({transform:`translate(${$(n).x}px,${$(n).y}px) scale(${$(n).zoom})`})},[A("div",{ref_key:"el",ref:a,class:Ue([{dragging:$(l)},"vue-flow__nodesselection-rect"]),style:wt(d.value),tabIndex:$(s)?void 0:-1,onContextmenu:f,onKeydown:h},null,46,f3)],6)):Oe("",!0)}});function m3(e,t){return{x:e.clientX-t.left,y:e.clientY-t.top}}const g3={name:"Pane",compatConfig:{MODE:3}},v3=be({...g3,props:{isSelecting:{type:Boolean},selectionKeyPressed:{type:Boolean}},setup(e){const{vueFlowRef:t,nodes:n,viewport:i,emits:o,userSelectionActive:s,removeSelectedElements:r,userSelectionRect:u,elementsSelectable:a,nodesSelectionActive:l,getSelectedEdges:c,getSelectedNodes:d,removeNodes:f,removeEdges:h,selectionMode:p,deleteKeyCode:_,multiSelectionKeyCode:b,multiSelectionActive:y,edgeLookup:v,nodeLookup:m,connectionLookup:g,defaultEdgeOptions:x,connectionStartHandle:E}=Ne(),D=ce(null),k=ce(new Set),w=ce(new Set),M=ce(),O=Ke(()=>a.value&&(e.isSelecting||s.value)),C=Ke(()=>E.value!==null);let z=!1,P=!1;const q=Lo(_,{actInsideInputWithModifier:!1}),R=Lo(b);Ae(q,V=>{V&&(f(d.value),h(c.value),l.value=!1)}),Ae(R,V=>{y.value=V});function W(V,U){return K=>{K.target===U&&(V==null||V(K))}}function Z(V){if(z||C.value){z=!1;return}o.paneClick(V),r(),l.value=!1}function ne(V){V.preventDefault(),V.stopPropagation(),o.paneContextMenu(V)}function oe(V){o.paneScroll(V)}function ue(V){var U,K,ae;if(M.value=(U=t.value)==null?void 0:U.getBoundingClientRect(),!a.value||!e.isSelecting||V.button!==0||V.target!==D.value||!M.value)return;(ae=(K=V.target)==null?void 0:K.setPointerCapture)==null||ae.call(K,V.pointerId);const{x:fe,y:de}=m3(V,M.value);P=!0,z=!1,r(),u.value={width:0,height:0,startX:fe,startY:de,x:fe,y:de},o.selectionStart(V)}function le(V){var U;if(!M.value||!u.value)return;z=!0;const{x:K,y:ae}=fn(V,M.value),{startX:fe=0,startY:de=0}=u.value,ve={startX:fe,startY:de,x:K<fe?K:fe,y:ae<de?ae:de,width:Math.abs(K-fe),height:Math.abs(ae-de)},ge=k.value,F=w.value;k.value=new Set(sp(n.value,ve,i.value,p.value===Rl.Partial,!0).map(S=>S.id)),w.value=new Set;const L=((U=x.value)==null?void 0:U.selectable)??!0;for(const S of k.value){const I=g.value.get(S);if(I)for(const{edgeId:N}of I.values()){const T=v.value.get(N);T&&(T.selectable??L)&&w.value.add(N)}}if(!Sd(ge,k.value)){const S=jn(m.value,k.value,!0);o.nodesChange(S)}if(!Sd(F,w.value)){const S=jn(v.value,w.value);o.edgesChange(S)}u.value=ve,s.value=!0,l.value=!1}function H(V){var U;V.button!==0||!P||((U=V.target)==null||U.releasePointerCapture(V.pointerId),!s.value&&u.value&&V.target===D.value&&Z(V),s.value=!1,u.value=null,l.value=k.value.size>0,o.selectionEnd(V),e.selectionKeyPressed&&(z=!1),P=!1)}return(V,U)=>(X(),Q("div",{ref_key:"container",ref:D,class:Ue(["vue-flow__pane vue-flow__container",{selection:V.isSelecting}]),onClick:U[0]||(U[0]=K=>O.value?void 0:W(Z,D.value)(K)),onContextmenu:U[1]||(U[1]=K=>W(ne,D.value)(K)),onWheelPassive:U[2]||(U[2]=K=>W(oe,D.value)(K)),onPointerenter:U[3]||(U[3]=K=>O.value?void 0:$(o).paneMouseEnter(K)),onPointerdown:U[4]||(U[4]=K=>O.value?ue(K):$(o).paneMouseMove(K)),onPointermove:U[5]||(U[5]=K=>O.value?le(K):$(o).paneMouseMove(K)),onPointerup:U[6]||(U[6]=K=>O.value?H(K):void 0),onPointerleave:U[7]||(U[7]=K=>$(o).paneMouseLeave(K))},[It(V.$slots,"default"),$(s)&&$(u)?(X(),tt(d3,{key:0,"user-selection-rect":$(u)},null,8,["user-selection-rect"])):Oe("",!0),$(l)&&$(d).length?(X(),tt(p3,{key:1})):Oe("",!0)],34))}}),_3={name:"Transform",compatConfig:{MODE:3}},b3=be({..._3,setup(e){const{viewport:t,fitViewOnInit:n,fitViewOnInitDone:i}=Ne(),o=me(()=>n.value?!i.value:!1),s=me(()=>`translate(${t.value.x}px,${t.value.y}px) scale(${t.value.zoom})`);return(r,u)=>(X(),Q("div",{class:"vue-flow__transformationpane vue-flow__container",style:wt({transform:s.value,opacity:o.value?0:void 0})},[It(r.$slots,"default")],4))}}),y3={name:"Viewport",compatConfig:{MODE:3}},w3=be({...y3,setup(e){const{minZoom:t,maxZoom:n,defaultViewport:i,translateExtent:o,zoomActivationKeyCode:s,selectionKeyCode:r,panActivationKeyCode:u,panOnScroll:a,panOnScrollMode:l,panOnScrollSpeed:c,panOnDrag:d,zoomOnDoubleClick:f,zoomOnPinch:h,zoomOnScroll:p,preventScrolling:_,noWheelClassName:b,noPanClassName:y,emits:v,connectionStartHandle:m,userSelectionActive:g,paneDragging:x,d3Zoom:E,d3Selection:D,d3ZoomHandler:k,viewport:w,viewportRef:M,paneClickDistance:O}=Ne();l3(M);const C=Ys(!1),z=Ys(!1);let P=null,q=!1,R=0,W={x:0,y:0,zoom:0};const Z=Lo(u),ne=Lo(r),oe=Lo(s),ue=Ke(()=>(!ne.value||ne.value&&r.value===!0)&&(Z.value||d.value)),le=Ke(()=>Z.value||a.value),H=Ke(()=>ne.value||r.value===!0&&ue.value!==!0);it(()=>{if(!M.value){ho("Viewport element is missing");return}const de=M.value,ve=de.getBoundingClientRect(),ge=$2().clickDistance(O.value).scaleExtent([t.value,n.value]).translateExtent(o.value),F=jt(de).call(ge),L=F.on("wheel.zoom"),S=ro.translate(i.value.x??0,i.value.y??0).scale(Ni(i.value.zoom??1,t.value,n.value)),I=[[0,0],[ve.width,ve.height]],N=ge.constrain()(S,I,o.value);ge.transform(F,N),ge.wheelDelta(U),E.value=ge,D.value=F,k.value=L,w.value={x:N.x,y:N.y,zoom:N.k},ge.on("start",T=>{var B;if(!T.sourceEvent)return null;R=T.sourceEvent.button,C.value=!0;const Y=ae(T.transform);((B=T.sourceEvent)==null?void 0:B.type)==="mousedown"&&(x.value=!0),W=Y,v.viewportChangeStart(Y),v.moveStart({event:T,flowTransform:Y})}),ge.on("end",T=>{if(!T.sourceEvent)return null;if(C.value=!1,x.value=!1,V(ue.value,R??0)&&!q&&v.paneContextMenu(T.sourceEvent),q=!1,K(W,T.transform)){const B=ae(T.transform);W=B,v.viewportChangeEnd(B),v.moveEnd({event:T,flowTransform:B})}}),ge.filter(T=>{var B;const Y=oe.value||p.value,j=h.value&&T.ctrlKey,G=T.button;if(G===1&&T.type==="mousedown"&&(fe(T,"vue-flow__node")||fe(T,"vue-flow__edge")))return!0;if(!ue.value&&!Y&&!le.value&&!f.value&&!h.value||g.value||!f.value&&T.type==="dblclick"||fe(T,b.value)&&T.type==="wheel"||fe(T,y.value)&&(T.type!=="wheel"||le.value&&T.type==="wheel"&&!oe.value)||!h.value&&T.ctrlKey&&T.type==="wheel"||!Y&&!le.value&&!j&&T.type==="wheel")return!1;if(!h&&T.type==="touchstart"&&((B=T.touches)==null?void 0:B.length)>1)return T.preventDefault(),!1;if(!ue.value&&(T.type==="mousedown"||T.type==="touchstart")||r.value===!0&&Array.isArray(d.value)&&d.value.includes(0)&&G===0||Array.isArray(d.value)&&!d.value.includes(G)&&(T.type==="mousedown"||T.type==="touchstart"))return!1;const ee=Array.isArray(d.value)&&d.value.includes(G)||r.value===!0&&Array.isArray(d.value)&&!d.value.includes(0)||!G||G<=1;return(!T.ctrlKey||Z.value||T.type==="wheel")&&ee}),Ae([g,ue],()=>{g.value&&!C.value?ge.on("zoom",null):g.value||ge.on("zoom",T=>{w.value={x:T.transform.x,y:T.transform.y,zoom:T.transform.k};const B=ae(T.transform);q=V(ue.value,R??0),v.viewportChange(B),v.move({event:T,flowTransform:B})})},{immediate:!0}),Ae([g,le,l,oe,h,_,b],()=>{le.value&&!oe.value&&!g.value?F.on("wheel.zoom",T=>{if(fe(T,b.value))return!1;const B=oe.value||p.value,Y=h.value&&T.ctrlKey;if(!(!_.value||le.value||B||Y))return!1;T.preventDefault(),T.stopImmediatePropagation();const G=F.property("__zoom").k||1,ee=vr();if(!Z.value&&T.ctrlKey&&h.value&&ee){const Le=ln(T),Re=U(T),vt=G*2**Re;ge.scaleTo(F,vt,Le,T);return}const J=T.deltaMode===1?20:1;let se=l.value===Oo.Vertical?0:T.deltaX*J,he=l.value===Oo.Horizontal?0:T.deltaY*J;!ee&&T.shiftKey&&l.value!==Oo.Vertical&&!se&&he&&(se=he,he=0),ge.translateBy(F,-(se/G)*c.value,-(he/G)*c.value);const ke=ae(F.property("__zoom"));P&&clearTimeout(P),z.value?(v.move({event:T,flowTransform:ke}),v.viewportChange(ke),P=setTimeout(()=>{v.moveEnd({event:T,flowTransform:ke}),v.viewportChangeEnd(ke),z.value=!1},150)):(z.value=!0,v.moveStart({event:T,flowTransform:ke}),v.viewportChangeStart(ke))},{passive:!1}):typeof L<"u"&&F.on("wheel.zoom",function(T,B){const Y=!_.value&&T.type==="wheel"&&!T.ctrlKey,j=oe.value||p.value,G=h.value&&T.ctrlKey;if(!j&&!a.value&&!G&&T.type==="wheel"||Y||fe(T,b.value))return null;T.preventDefault(),L.call(this,T,B)},{passive:!1})},{immediate:!0})});function V(de,ve){return ve===2&&Array.isArray(de)&&de.includes(2)}function U(de){const ve=de.ctrlKey&&vr()?10:1;return-de.deltaY*(de.deltaMode===1?.05:de.deltaMode?1:.002)*ve}function K(de,ve){return de.x!==ve.x&&!Number.isNaN(ve.x)||de.y!==ve.y&&!Number.isNaN(ve.y)||de.zoom!==ve.k&&!Number.isNaN(ve.k)}function ae(de){return{x:de.x,y:de.y,zoom:de.k}}function fe(de,ve){return de.target.closest(`.${ve}`)}return(de,ve)=>(X(),Q("div",{ref_key:"viewportRef",ref:M,class:"vue-flow__viewport vue-flow__container"},[te(v3,{"is-selecting":H.value,"selection-key-pressed":$(ne),class:Ue({connecting:!!$(m),dragging:$(x),draggable:$(d)===!0||Array.isArray($(d))&&$(d).includes(0)})},{default:Ce(()=>[te(b3,null,{default:Ce(()=>[It(de.$slots,"default")]),_:3})]),_:3},8,["is-selecting","selection-key-pressed","class"])],512))}}),x3=["id"],C3=["id"],E3=["id"],S3={name:"A11yDescriptions",compatConfig:{MODE:3}},k3=be({...S3,setup(e){const{id:t,disableKeyboardA11y:n,ariaLiveMessage:i}=Ne();return(o,s)=>(X(),Q(Se,null,[A("div",{id:`${$(X0)}-${$(t)}`,style:{display:"none"}}," Press enter or space to select a node. "+we($(n)?"":"You can then use the arrow keys to move the node around.")+" You can then use the arrow keys to move the node around, press delete to remove it and press escape to cancel. ",9,x3),A("div",{id:`${$(K0)}-${$(t)}`,style:{display:"none"}}," Press enter or space to select an edge. You can then press delete to remove it or press escape to cancel. ",8,C3),$(n)?Oe("",!0):(X(),Q("div",{key:0,id:`${$(G2)}-${$(t)}`,"aria-live":"assertive","aria-atomic":"true",style:{position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)","clip-path":"inset(100%)"}},we($(i)),9,E3))],64))}});function I3(){const e=Ne();Ae(()=>e.viewportHelper.value.viewportInitialized,t=>{t&&setTimeout(()=>{e.emits.init(e),e.emits.paneReady(e)},1)})}function A3(e,t,n){return n===re.Left?e-t:n===re.Right?e+t:e}function D3(e,t,n){return n===re.Top?e-t:n===re.Bottom?e+t:e}const Hl=function({radius:e=10,centerX:t=0,centerY:n=0,position:i=re.Top,type:o}){return Ve("circle",{class:`vue-flow__edgeupdater vue-flow__edgeupdater-${o}`,cx:A3(t,e,i),cy:D3(n,e,i),r:e,stroke:"transparent",fill:"transparent"})};Hl.props=["radius","centerX","centerY","position","type"];Hl.compatConfig={MODE:3};const Td=Hl,N3=be({name:"Edge",compatConfig:{MODE:3},props:["id"],setup(e){const{id:t,addSelectedEdges:n,connectionMode:i,edgeUpdaterRadius:o,emits:s,nodesSelectionActive:r,noPanClassName:u,getEdgeTypes:a,removeSelectedEdges:l,findEdge:c,findNode:d,isValidConnection:f,multiSelectionActive:h,disableKeyboardA11y:p,elementsSelectable:_,edgesUpdatable:b,edgesFocusable:y,hooks:v}=Ne(),m=me(()=>c(e.id)),{emit:g,on:x}=xw(m.value,s),E=Ft(Gr),D=Rn(),k=ce(!1),w=ce(!1),M=ce(""),O=ce(null),C=ce("source"),z=ce(null),P=Ke(()=>typeof m.value.selectable>"u"?_.value:m.value.selectable),q=Ke(()=>typeof m.value.updatable>"u"?b.value:m.value.updatable),R=Ke(()=>typeof m.value.focusable>"u"?y.value:m.value.focusable);vn(bw,e.id),vn(yw,z);const W=me(()=>m.value.class instanceof Function?m.value.class(m.value):m.value.class),Z=me(()=>m.value.style instanceof Function?m.value.style(m.value):m.value.style),ne=me(()=>{const I=m.value.type||"default",N=E==null?void 0:E[`edge-${I}`];if(N)return N;let T=m.value.template??a.value[I];if(typeof T=="string"&&D){const B=Object.keys(D.appContext.components);B&&B.includes(I)&&(T=hs(I,!1))}return T&&typeof T!="string"?T:(s.error(new ct(ut.EDGE_TYPE_MISSING,T)),!1)}),{handlePointerDown:oe}=mp({nodeId:M,handleId:O,type:C,isValidConnection:f,edgeUpdaterType:C,onEdgeUpdate:H,onEdgeUpdateEnd:V});return()=>{const I=d(m.value.source),N=d(m.value.target),T="pathOptions"in m.value?m.value.pathOptions:{};if(!I&&!N)return s.error(new ct(ut.EDGE_SOURCE_TARGET_MISSING,m.value.id,m.value.source,m.value.target)),null;if(!I)return s.error(new ct(ut.EDGE_SOURCE_MISSING,m.value.id,m.value.source)),null;if(!N)return s.error(new ct(ut.EDGE_TARGET_MISSING,m.value.id,m.value.target)),null;if(!m.value||m.value.hidden||I.hidden||N.hidden)return null;let B;i.value===ii.Strict?B=I.handleBounds.source:B=[...I.handleBounds.source||[],...I.handleBounds.target||[]];const Y=_d(B,m.value.sourceHandle);let j;i.value===ii.Strict?j=N.handleBounds.target:j=[...N.handleBounds.target||[],...N.handleBounds.source||[]];const G=_d(j,m.value.targetHandle),ee=(Y==null?void 0:Y.position)||re.Bottom,J=(G==null?void 0:G.position)||re.Top,{x:se,y:he}=uo(I,Y,ee),{x:ke,y:Le}=uo(N,G,J);return m.value.sourceX=se,m.value.sourceY=he,m.value.targetX=ke,m.value.targetY=Le,Ve("g",{ref:z,key:e.id,"data-id":e.id,class:["vue-flow__edge",`vue-flow__edge-${ne.value===!1?"default":m.value.type||"default"}`,u.value,W.value,{updating:k.value,selected:m.value.selected,animated:m.value.animated,inactive:!P.value&&!v.value.edgeClick.hasListeners()}],tabIndex:R.value?0:void 0,"aria-label":m.value.ariaLabel===null?void 0:m.value.ariaLabel??`Edge from ${m.value.source} to ${m.value.target}`,"aria-describedby":R.value?`${K0}-${t}`:void 0,"aria-roledescription":"edge",role:R.value?"group":"img",...m.value.domAttributes,onClick:K,onContextmenu:ae,onDblclick:fe,onMouseenter:de,onMousemove:ve,onMouseleave:ge,onKeyDown:R.value?S:void 0},[w.value?null:Ve(ne.value===!1?a.value.default:ne.value,{id:e.id,sourceNode:I,targetNode:N,source:m.value.source,target:m.value.target,type:m.value.type,updatable:q.value,selected:m.value.selected,animated:m.value.animated,label:m.value.label,labelStyle:m.value.labelStyle,labelShowBg:m.value.labelShowBg,labelBgStyle:m.value.labelBgStyle,labelBgPadding:m.value.labelBgPadding,labelBgBorderRadius:m.value.labelBgBorderRadius,data:m.value.data,events:{...m.value.events,...x},style:Z.value,markerStart:`url('#${is(m.value.markerStart,t)}')`,markerEnd:`url('#${is(m.value.markerEnd,t)}')`,sourcePosition:ee,targetPosition:J,sourceX:se,sourceY:he,targetX:ke,targetY:Le,sourceHandleId:m.value.sourceHandle,targetHandleId:m.value.targetHandle,interactionWidth:m.value.interactionWidth,...T}),[q.value==="source"||q.value===!0?[Ve("g",{onMousedown:F,onMouseenter:ue,onMouseout:le},Ve(Td,{position:ee,centerX:se,centerY:he,radius:o.value,type:"source","data-type":"source"}))]:null,q.value==="target"||q.value===!0?[Ve("g",{onMousedown:L,onMouseenter:ue,onMouseout:le},Ve(Td,{position:J,centerX:ke,centerY:Le,radius:o.value,type:"target","data-type":"target"}))]:null]])};function ue(){k.value=!0}function le(){k.value=!1}function H(I,N){g.update({event:I,edge:m.value,connection:N})}function V(I){g.updateEnd({event:I,edge:m.value}),w.value=!1}function U(I,N){I.button===0&&(w.value=!0,M.value=N?m.value.target:m.value.source,O.value=(N?m.value.targetHandle:m.value.sourceHandle)??null,C.value=N?"target":"source",g.updateStart({event:I,edge:m.value}),oe(I))}function K(I){var N;const T={event:I,edge:m.value};P.value&&(r.value=!1,m.value.selected&&h.value?(l([m.value]),(N=z.value)==null||N.blur()):n([m.value])),g.click(T)}function ae(I){g.contextMenu({event:I,edge:m.value})}function fe(I){g.doubleClick({event:I,edge:m.value})}function de(I){g.mouseEnter({event:I,edge:m.value})}function ve(I){g.mouseMove({event:I,edge:m.value})}function ge(I){g.mouseLeave({event:I,edge:m.value})}function F(I){U(I,!0)}function L(I){U(I,!1)}function S(I){var N;!p.value&&J0.includes(I.key)&&P.value&&(I.key==="Escape"?((N=z.value)==null||N.blur(),l([c(e.id)])):n([c(e.id)]))}}}),T3=N3,M3=be({name:"ConnectionLine",compatConfig:{MODE:3},setup(){var e;const{id:t,connectionMode:n,connectionStartHandle:i,connectionEndHandle:o,connectionPosition:s,connectionLineType:r,connectionLineStyle:u,connectionLineOptions:a,connectionStatus:l,viewport:c,findNode:d}=Ne(),f=(e=Ft(Gr))==null?void 0:e["connection-line"],h=me(()=>{var v;return d((v=i.value)==null?void 0:v.nodeId)}),p=me(()=>{var v;return d((v=o.value)==null?void 0:v.nodeId)??null}),_=me(()=>({x:(s.value.x-c.value.x)/c.value.zoom,y:(s.value.y-c.value.y)/c.value.zoom})),b=me(()=>a.value.markerStart?`url(#${is(a.value.markerStart,t)})`:""),y=me(()=>a.value.markerEnd?`url(#${is(a.value.markerEnd,t)})`:"");return()=>{var v,m,g;if(!h.value||!i.value)return null;const x=i.value.id,E=i.value.type,D=h.value.handleBounds;let k=(D==null?void 0:D[E])??[];if(n.value===ii.Loose){const Z=(D==null?void 0:D[E==="source"?"target":"source"])??[];k=[...k,...Z]}if(!k)return null;const w=(x?k.find(Z=>Z.id===x):k[0])??null,M=(w==null?void 0:w.position)??re.Top,{x:O,y:C}=uo(h.value,w,M);let z=null;p.value&&(n.value===ii.Strict?z=((v=p.value.handleBounds[E==="source"?"target":"source"])==null?void 0:v.find(Z=>{var ne;return Z.id===((ne=o.value)==null?void 0:ne.id)}))||null:z=((m=[...p.value.handleBounds.source??[],...p.value.handleBounds.target??[]])==null?void 0:m.find(Z=>{var ne;return Z.id===((ne=o.value)==null?void 0:ne.id)}))||null);const P=((g=o.value)==null?void 0:g.position)??(M?el[M]:null);if(!M||!P)return null;const q=r.value??a.value.type??fi.Bezier;let R="";const W={sourceX:O,sourceY:C,sourcePosition:M,targetX:_.value.x,targetY:_.value.y,targetPosition:P};return q===fi.Bezier?[R]=yp(W):q===fi.Step?[R]=nl({...W,borderRadius:0}):q===fi.SmoothStep?[R]=nl(W):q===fi.SimpleBezier?[R]=wp(W):R=`M${O},${C} ${_.value.x},${_.value.y}`,Ve("svg",{class:"vue-flow__edges vue-flow__connectionline vue-flow__container"},Ve("g",{class:"vue-flow__connection"},f?Ve(f,{sourceX:O,sourceY:C,sourcePosition:M,targetX:_.value.x,targetY:_.value.y,targetPosition:P,sourceNode:h.value,sourceHandle:w,targetNode:p.value,targetHandle:z,markerEnd:y.value,markerStart:b.value,connectionStatus:l.value}):Ve("path",{d:R,class:[a.value.class,l,"vue-flow__connection-path"],style:{...u.value,...a.value.style},"marker-end":y.value,"marker-start":b.value})))}}}),F3=M3,P3=["id","markerWidth","markerHeight","markerUnits","orient"],O3={name:"MarkerType",compatConfig:{MODE:3}},L3=be({...O3,props:{id:{},type:{},color:{default:"none"},width:{default:12.5},height:{default:12.5},markerUnits:{default:"strokeWidth"},orient:{default:"auto-start-reverse"},strokeWidth:{default:1}},setup(e){return(t,n)=>(X(),Q("marker",{id:t.id,class:"vue-flow__arrowhead",viewBox:"-10 -10 20 20",refX:"0",refY:"0",markerWidth:`${t.width}`,markerHeight:`${t.height}`,markerUnits:t.markerUnits,orient:t.orient},[t.type===$(Ka).ArrowClosed?(X(),Q("polyline",{key:0,style:wt({stroke:t.color,fill:t.color,strokeWidth:t.strokeWidth}),"stroke-linecap":"round","stroke-linejoin":"round",points:"-5,-4 0,0 -5,4 -5,-4"},null,4)):Oe("",!0),t.type===$(Ka).Arrow?(X(),Q("polyline",{key:1,style:wt({stroke:t.color,strokeWidth:t.strokeWidth}),"stroke-linecap":"round","stroke-linejoin":"round",fill:"none",points:"-5,-4 0,0 -5,4"},null,4)):Oe("",!0)],8,P3))}}),z3={class:"vue-flow__marker vue-flow__container","aria-hidden":"true"},R3={name:"MarkerDefinitions",compatConfig:{MODE:3}},$3=be({...R3,setup(e){const{id:t,edges:n,connectionLineOptions:i,defaultMarkerColor:o}=Ne(),s=me(()=>{const r=new Set,u=[],a=l=>{if(l){const c=is(l,t);r.has(c)||(typeof l=="object"?u.push({...l,id:c,color:l.color||o.value}):u.push({id:c,color:o.value,type:l}),r.add(c))}};for(const l of[i.value.markerEnd,i.value.markerStart])a(l);for(const l of n.value)for(const c of[l.markerStart,l.markerEnd])a(c);return u.sort((l,c)=>l.id.localeCompare(c.id))});return(r,u)=>(X(),Q("svg",z3,[A("defs",null,[(X(!0),Q(Se,null,rt(s.value,a=>(X(),tt(L3,{id:a.id,key:a.id,type:a.type,color:a.color,width:a.width,height:a.height,markerUnits:a.markerUnits,"stroke-width":a.strokeWidth,orient:a.orient},null,8,["id","type","color","width","height","markerUnits","stroke-width","orient"]))),128))])]))}}),B3={name:"Edges",compatConfig:{MODE:3}},V3=be({...B3,setup(e){const{findNode:t,getEdges:n,elevateEdgesOnSelect:i}=Ne();return(o,s)=>(X(),Q(Se,null,[te($3),(X(!0),Q(Se,null,rt($(n),r=>(X(),Q("svg",{key:r.id,class:"vue-flow__edges vue-flow__container",style:wt({zIndex:$(sw)(r,$(t),$(i))})},[te($(T3),{id:r.id},null,8,["id"])],4))),128)),te($(F3))],64))}}),H3=be({name:"Node",compatConfig:{MODE:3},props:["id","resizeObserver"],setup(e){const{id:t,noPanClassName:n,selectNodesOnDrag:i,nodesSelectionActive:o,multiSelectionActive:s,emits:r,removeSelectedNodes:u,addSelectedNodes:a,updateNodeDimensions:l,onUpdateNodeInternals:c,getNodeTypes:d,nodeExtent:f,elevateNodesOnSelect:h,disableKeyboardA11y:p,ariaLiveMessage:_,snapToGrid:b,snapGrid:y,nodeDragThreshold:v,nodesDraggable:m,elementsSelectable:g,nodesConnectable:x,nodesFocusable:E,hooks:D}=Ne(),k=ce(null);vn(hp,k),vn(fp,e.id);const w=Ft(Gr),M=Rn(),O=gp(),{node:C,parentNode:z}=Vl(e.id),{emit:P,on:q}=Sw(C,r),R=Ke(()=>typeof C.draggable>"u"?m.value:C.draggable),W=Ke(()=>typeof C.selectable>"u"?g.value:C.selectable),Z=Ke(()=>typeof C.connectable>"u"?x.value:C.connectable),ne=Ke(()=>typeof C.focusable>"u"?E.value:C.focusable),oe=me(()=>W.value||R.value||D.value.nodeClick.hasListeners()||D.value.nodeDoubleClick.hasListeners()||D.value.nodeMouseEnter.hasListeners()||D.value.nodeMouseMove.hasListeners()||D.value.nodeMouseLeave.hasListeners()),ue=Ke(()=>!!C.dimensions.width&&!!C.dimensions.height),le=me(()=>{const N=C.type||"default",T=w==null?void 0:w[`node-${N}`];if(T)return T;let B=C.template||d.value[N];if(typeof B=="string"&&M){const Y=Object.keys(M.appContext.components);Y&&Y.includes(N)&&(B=hs(N,!1))}return B&&typeof B!="string"?B:(r.error(new ct(ut.NODE_TYPE_MISSING,B)),!1)}),H=pp({id:e.id,el:k,disabled:()=>!R.value,selectable:W,dragHandle:()=>C.dragHandle,onStart(N){P.dragStart(N)},onDrag(N){P.drag(N)},onStop(N){P.dragStop(N)},onClick(N){S(N)}}),V=me(()=>C.class instanceof Function?C.class(C):C.class),U=me(()=>{const N=(C.style instanceof Function?C.style(C):C.style)||{},T=C.width instanceof Function?C.width(C):C.width,B=C.height instanceof Function?C.height(C):C.height;return!N.width&&T&&(N.width=typeof T=="string"?T:`${T}px`),!N.height&&B&&(N.height=typeof B=="string"?B:`${B}px`),N}),K=Ke(()=>Number(C.zIndex??U.value.zIndex??0));return c(N=>{(N.includes(e.id)||!N.length)&&fe()}),it(()=>{Ae(()=>C.hidden,(N=!1,T,B)=>{!N&&k.value&&(e.resizeObserver.observe(k.value),B(()=>{k.value&&e.resizeObserver.unobserve(k.value)}))},{immediate:!0,flush:"post"})}),Ae([()=>C.type,()=>C.sourcePosition,()=>C.targetPosition],()=>{We(()=>{l([{id:e.id,nodeElement:k.value,forceUpdate:!0}])})}),Ae([()=>C.position.x,()=>C.position.y,()=>{var N;return(N=z.value)==null?void 0:N.computedPosition.x},()=>{var N;return(N=z.value)==null?void 0:N.computedPosition.y},()=>{var N;return(N=z.value)==null?void 0:N.computedPosition.z},K,()=>C.selected,()=>C.dimensions.height,()=>C.dimensions.width,()=>{var N;return(N=z.value)==null?void 0:N.dimensions.height},()=>{var N;return(N=z.value)==null?void 0:N.dimensions.width}],([N,T,B,Y,j,G])=>{const ee={x:N,y:T,z:G+(h.value&&C.selected?1e3:0)};typeof B<"u"&&typeof Y<"u"?C.computedPosition=Q2({x:B,y:Y,z:j},ee):C.computedPosition=ee},{flush:"post",immediate:!0}),Ae([()=>C.extent,f],([N,T],[B,Y])=>{(N!==B||T!==Y)&&ae()}),C.extent==="parent"||typeof C.extent=="object"&&"range"in C.extent&&C.extent.range==="parent"?Ha(()=>ue).toBe(!0).then(ae):ae(),()=>C.hidden?null:Ve("div",{ref:k,"data-id":C.id,class:["vue-flow__node",`vue-flow__node-${le.value===!1?"default":C.type||"default"}`,{[n.value]:R.value,dragging:H==null?void 0:H.value,draggable:R.value,selected:C.selected,selectable:W.value,parent:C.isParent},V.value],style:{visibility:ue.value?"visible":"hidden",zIndex:C.computedPosition.z??K.value,transform:`translate(${C.computedPosition.x}px,${C.computedPosition.y}px)`,pointerEvents:oe.value?"all":"none",...U.value},tabIndex:ne.value?0:void 0,role:ne.value?"group":void 0,"aria-describedby":p.value?void 0:`${X0}-${t}`,"aria-label":C.ariaLabel,"aria-roledescription":"node",...C.domAttributes,onMouseenter:de,onMousemove:ve,onMouseleave:ge,onContextmenu:F,onClick:S,onDblclick:L,onKeydown:I},[Ve(le.value===!1?d.value.default:le.value,{id:C.id,type:C.type,data:C.data,events:{...C.events,...q},selected:C.selected,resizing:C.resizing,dragging:H.value,connectable:Z.value,position:C.computedPosition,dimensions:C.dimensions,isValidTargetPos:C.isValidTargetPos,isValidSourcePos:C.isValidSourcePos,parent:C.parentNode,parentNodeId:C.parentNode,zIndex:C.computedPosition.z??K.value,targetPosition:C.targetPosition,sourcePosition:C.sourcePosition,label:C.label,dragHandle:C.dragHandle,onUpdateNodeInternals:fe})]);function ae(){const N=C.computedPosition,{computedPosition:T,position:B}=$l(C,b.value?qr(N,y.value):N,r.error,f.value,z.value);(C.computedPosition.x!==T.x||C.computedPosition.y!==T.y)&&(C.computedPosition={...C.computedPosition,...T}),(C.position.x!==B.x||C.position.y!==B.y)&&(C.position=B)}function fe(){k.value&&l([{id:e.id,nodeElement:k.value,forceUpdate:!0}])}function de(N){H!=null&&H.value||P.mouseEnter({event:N,node:C})}function ve(N){H!=null&&H.value||P.mouseMove({event:N,node:C})}function ge(N){H!=null&&H.value||P.mouseLeave({event:N,node:C})}function F(N){return P.contextMenu({event:N,node:C})}function L(N){return P.doubleClick({event:N,node:C})}function S(N){W.value&&(!i.value||!R.value||v.value>0)&&tl(C,s.value,a,u,o,!1,k.value),P.click({event:N,node:C})}function I(N){if(!(Ja(N)||p.value))if(J0.includes(N.key)&&W.value){const T=N.key==="Escape";tl(C,s.value,a,u,o,T,k.value)}else R.value&&C.selected&&Wi[N.key]&&(N.preventDefault(),_.value=`Moved selected node ${N.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~C.position.x}, y: ${~~C.position.y}`,O({x:Wi[N.key].x,y:Wi[N.key].y},N.shiftKey))}}}),U3=H3;function q3(e={includeHiddenNodes:!1}){const{nodes:t}=Ne();return me(()=>{if(t.value.length===0)return!1;for(const n of t.value)if((e.includeHiddenNodes||!n.hidden)&&((n==null?void 0:n.handleBounds)===void 0||n.dimensions.width===0||n.dimensions.height===0))return!1;return!0})}const G3={class:"vue-flow__nodes vue-flow__container"},j3={name:"Nodes",compatConfig:{MODE:3}},W3=be({...j3,setup(e){const{getNodes:t,updateNodeDimensions:n,emits:i}=Ne(),o=q3(),s=ce();return Ae(o,r=>{r&&We(()=>{i.nodesInitialized(t.value)})},{immediate:!0}),it(()=>{s.value=new ResizeObserver(r=>{const u=r.map(a=>({id:a.target.getAttribute("data-id"),nodeElement:a.target,forceUpdate:!0}));We(()=>n(u))})}),fo(()=>{var r;return(r=s.value)==null?void 0:r.disconnect()}),(r,u)=>(X(),Q("div",G3,[s.value?(X(!0),Q(Se,{key:0},rt($(t),(a,l,c,d)=>{const f=[a.id];if(d&&d.key===a.id&&y1(d,f))return d;const h=(X(),tt($(U3),{id:a.id,key:a.id,"resize-observer":s.value},null,8,["id","resize-observer"]));return h.memo=f,h},u,0),128)):Oe("",!0)]))}});function Z3(){const{emits:e}=Ne();it(()=>{if(dp()){const t=document.querySelector(".vue-flow__pane");t&&window.getComputedStyle(t).zIndex!=="1"&&e.error(new ct(ut.MISSING_STYLES))}})}const Y3=A("div",{class:"vue-flow__edge-labels"},null,-1),X3={name:"VueFlow",compatConfig:{MODE:3}},K3=be({...X3,props:{id:{},modelValue:{},nodes:{},edges:{},edgeTypes:{},nodeTypes:{},connectionMode:{},connectionLineType:{},connectionLineStyle:{default:void 0},connectionLineOptions:{default:void 0},connectionRadius:{},isValidConnection:{type:[Function,null],default:void 0},deleteKeyCode:{default:void 0},selectionKeyCode:{type:[Boolean,null],default:void 0},multiSelectionKeyCode:{default:void 0},zoomActivationKeyCode:{default:void 0},panActivationKeyCode:{default:void 0},snapToGrid:{type:Boolean,default:void 0},snapGrid:{},onlyRenderVisibleElements:{type:Boolean,default:void 0},edgesUpdatable:{type:[Boolean,String],default:void 0},nodesDraggable:{type:Boolean,default:void 0},nodesConnectable:{type:Boolean,default:void 0},nodeDragThreshold:{},elementsSelectable:{type:Boolean,default:void 0},selectNodesOnDrag:{type:Boolean,default:void 0},panOnDrag:{type:[Boolean,Array],default:void 0},minZoom:{},maxZoom:{},defaultViewport:{},translateExtent:{},nodeExtent:{},defaultMarkerColor:{},zoomOnScroll:{type:Boolean,default:void 0},zoomOnPinch:{type:Boolean,default:void 0},panOnScroll:{type:Boolean,default:void 0},panOnScrollSpeed:{},panOnScrollMode:{},paneClickDistance:{},zoomOnDoubleClick:{type:Boolean,default:void 0},preventScrolling:{type:Boolean,default:void 0},selectionMode:{},edgeUpdaterRadius:{},fitViewOnInit:{type:Boolean,default:void 0},connectOnClick:{type:Boolean,default:void 0},applyDefault:{type:Boolean,default:void 0},autoConnect:{type:[Boolean,Function],default:void 0},noDragClassName:{},noWheelClassName:{},noPanClassName:{},defaultEdgeOptions:{},elevateEdgesOnSelect:{type:Boolean,default:void 0},elevateNodesOnSelect:{type:Boolean,default:void 0},disableKeyboardA11y:{type:Boolean,default:void 0},edgesFocusable:{type:Boolean,default:void 0},nodesFocusable:{type:Boolean,default:void 0},autoPanOnConnect:{type:Boolean,default:void 0},autoPanOnNodeDrag:{type:Boolean,default:void 0},autoPanSpeed:{}},emits:["nodesChange","edgesChange","nodesInitialized","paneReady","init","updateNodeInternals","error","connect","connectStart","connectEnd","clickConnectStart","clickConnectEnd","moveStart","move","moveEnd","selectionDragStart","selectionDrag","selectionDragStop","selectionContextMenu","selectionStart","selectionEnd","viewportChangeStart","viewportChange","viewportChangeEnd","paneScroll","paneClick","paneContextMenu","paneMouseEnter","paneMouseMove","paneMouseLeave","edgeUpdate","edgeContextMenu","edgeMouseEnter","edgeMouseMove","edgeMouseLeave","edgeDoubleClick","edgeClick","edgeUpdateStart","edgeUpdateEnd","nodeContextMenu","nodeMouseEnter","nodeMouseMove","nodeMouseLeave","nodeDoubleClick","nodeClick","nodeDragStart","nodeDrag","nodeDragStop","miniMapNodeClick","miniMapNodeDoubleClick","miniMapNodeMouseEnter","miniMapNodeMouseMove","miniMapNodeMouseLeave","update:modelValue","update:nodes","update:edges"],setup(e,{expose:t,emit:n}){const i=e,o=Fg(),s=hu(i,"modelValue",n),r=hu(i,"nodes",n),u=hu(i,"edges",n),a=Ne(i),l=Dw({modelValue:s,nodes:r,edges:u},i,a);return Tw(n,a.hooks),I3(),Z3(),vn(Gr,o),Si(()=>{l()}),t(a),(c,d)=>(X(),Q("div",{ref:$(a).vueFlowRef,class:"vue-flow"},[te(w3,null,{default:Ce(()=>[te(V3),Y3,te(W3),It(c.$slots,"zoom-pane")]),_:3}),It(c.$slots,"default"),te(k3)],512))}}),J3={name:"Panel",compatConfig:{MODE:3}},Q3=be({...J3,props:{position:{}},setup(e){const t=e,{userSelectionActive:n}=Ne(),i=me(()=>`${t.position}`.split("-"));return(o,s)=>(X(),Q("div",{class:Ue(["vue-flow__panel",i.value]),style:wt({pointerEvents:$(n)?"none":"all"})},[It(o.$slots,"default")],6))}});function _r(e={}){const{handleType:t,handleId:n,nodeId:i,onConnect:o,onDisconnect:s}=e,{connectionLookup:r}=Ne(),u=Qt(),a=ce(null),l=ce(),c=me(()=>{const d=De(i)??u,f=De(t),h=De(n);let p="";return f&&(p=h?`-${f}-${h}`:`-${f}`),`${d}${p}`});return Ae(()=>r.value.get(c.value),d=>{_w(l.value,d)||(l.value=d)},{immediate:!0}),Ae([l,()=>typeof o<"u",()=>typeof s<"u"],([d=new Map])=>{a.value&&a.value!==d&&(Ed(a.value,d,s),Ed(d,a.value,o)),a.value=d},{immediate:!0}),me(()=>l.value?Array.from(l.value.values()):[])}function zo(e){const{findNode:t}=Ne();return me({get(){const n=De(e);if(!Array.isArray(n)){const o=t(n);return o?{id:o.id,type:o.type,data:o.data}:null}const i=[];for(const o of n){const s=t(o);s&&i.push({id:s.id,type:s.type,data:s.data})}return i},set(){ho("You are trying to set node data via useNodesData. This is not supported.")}})}function ex(e){const{findEdge:t}=Ne();return me({get(){const n=De(e);if(!Array.isArray(n)){const o=t(n);return o?{id:o.id,type:o.type,data:o.data??null}:null}const i=[];for(const o of n){const s=t(o);s&&i.push({id:s.id,type:s.type,data:s.data??null})}return i},set(){ho("You are trying to set edge data via useEdgesData. This is not supported.")}})}function tx(e){let t=!1,n;const i=hl(!0);return(...o)=>(t||(n=i.run(()=>e(...o)),t=!0),n)}typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const os=tx(()=>{const e=ce([]),t=ce(null),n=ce(null);return{selected:e,selected2:t,nfNodes:n}});var Md=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Cp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Su,Fd;function Ul(){if(Fd)return Su;Fd=1;var e="\0",t="\0",n="";class i{constructor(c){Me(this,"_isDirected",!0);Me(this,"_isMultigraph",!1);Me(this,"_isCompound",!1);Me(this,"_label");Me(this,"_defaultNodeLabelFn",()=>{});Me(this,"_defaultEdgeLabelFn",()=>{});Me(this,"_nodes",{});Me(this,"_in",{});Me(this,"_preds",{});Me(this,"_out",{});Me(this,"_sucs",{});Me(this,"_edgeObjs",{});Me(this,"_edgeLabels",{});Me(this,"_nodeCount",0);Me(this,"_edgeCount",0);Me(this,"_parent");Me(this,"_children");c&&(this._isDirected=Object.hasOwn(c,"directed")?c.directed:!0,this._isMultigraph=Object.hasOwn(c,"multigraph")?c.multigraph:!1,this._isCompound=Object.hasOwn(c,"compound")?c.compound:!1),this._isCompound&&(this._parent={},this._children={},this._children[t]={})}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(c){return this._label=c,this}graph(){return this._label}setDefaultNodeLabel(c){return this._defaultNodeLabelFn=c,typeof c!="function"&&(this._defaultNodeLabelFn=()=>c),this}nodeCount(){return this._nodeCount}nodes(){return Object.keys(this._nodes)}sources(){var c=this;return this.nodes().filter(d=>Object.keys(c._in[d]).length===0)}sinks(){var c=this;return this.nodes().filter(d=>Object.keys(c._out[d]).length===0)}setNodes(c,d){var f=arguments,h=this;return c.forEach(function(p){f.length>1?h.setNode(p,d):h.setNode(p)}),this}setNode(c,d){return Object.hasOwn(this._nodes,c)?(arguments.length>1&&(this._nodes[c]=d),this):(this._nodes[c]=arguments.length>1?d:this._defaultNodeLabelFn(c),this._isCompound&&(this._parent[c]=t,this._children[c]={},this._children[t][c]=!0),this._in[c]={},this._preds[c]={},this._out[c]={},this._sucs[c]={},++this._nodeCount,this)}node(c){return this._nodes[c]}hasNode(c){return Object.hasOwn(this._nodes,c)}removeNode(c){var d=this;if(Object.hasOwn(this._nodes,c)){var f=h=>d.removeEdge(d._edgeObjs[h]);delete this._nodes[c],this._isCompound&&(this._removeFromParentsChildList(c),delete this._parent[c],this.children(c).forEach(function(h){d.setParent(h)}),delete this._children[c]),Object.keys(this._in[c]).forEach(f),delete this._in[c],delete this._preds[c],Object.keys(this._out[c]).forEach(f),delete this._out[c],delete this._sucs[c],--this._nodeCount}return this}setParent(c,d){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(d===void 0)d=t;else{d+="";for(var f=d;f!==void 0;f=this.parent(f))if(f===c)throw new Error("Setting "+d+" as parent of "+c+" would create a cycle");this.setNode(d)}return this.setNode(c),this._removeFromParentsChildList(c),this._parent[c]=d,this._children[d][c]=!0,this}_removeFromParentsChildList(c){delete this._children[this._parent[c]][c]}parent(c){if(this._isCompound){var d=this._parent[c];if(d!==t)return d}}children(c=t){if(this._isCompound){var d=this._children[c];if(d)return Object.keys(d)}else{if(c===t)return this.nodes();if(this.hasNode(c))return[]}}predecessors(c){var d=this._preds[c];if(d)return Object.keys(d)}successors(c){var d=this._sucs[c];if(d)return Object.keys(d)}neighbors(c){var d=this.predecessors(c);if(d){const h=new Set(d);for(var f of this.successors(c))h.add(f);return Array.from(h.values())}}isLeaf(c){var d;return this.isDirected()?d=this.successors(c):d=this.neighbors(c),d.length===0}filterNodes(c){var d=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});d.setGraph(this.graph());var f=this;Object.entries(this._nodes).forEach(function([_,b]){c(_)&&d.setNode(_,b)}),Object.values(this._edgeObjs).forEach(function(_){d.hasNode(_.v)&&d.hasNode(_.w)&&d.setEdge(_,f.edge(_))});var h={};function p(_){var b=f.parent(_);return b===void 0||d.hasNode(b)?(h[_]=b,b):b in h?h[b]:p(b)}return this._isCompound&&d.nodes().forEach(_=>d.setParent(_,p(_))),d}setDefaultEdgeLabel(c){return this._defaultEdgeLabelFn=c,typeof c!="function"&&(this._defaultEdgeLabelFn=()=>c),this}edgeCount(){return this._edgeCount}edges(){return Object.values(this._edgeObjs)}setPath(c,d){var f=this,h=arguments;return c.reduce(function(p,_){return h.length>1?f.setEdge(p,_,d):f.setEdge(p,_),_}),this}setEdge(){var c,d,f,h,p=!1,_=arguments[0];typeof _=="object"&&_!==null&&"v"in _?(c=_.v,d=_.w,f=_.name,arguments.length===2&&(h=arguments[1],p=!0)):(c=_,d=arguments[1],f=arguments[3],arguments.length>2&&(h=arguments[2],p=!0)),c=""+c,d=""+d,f!==void 0&&(f=""+f);var b=r(this._isDirected,c,d,f);if(Object.hasOwn(this._edgeLabels,b))return p&&(this._edgeLabels[b]=h),this;if(f!==void 0&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(c),this.setNode(d),this._edgeLabels[b]=p?h:this._defaultEdgeLabelFn(c,d,f);var y=u(this._isDirected,c,d,f);return c=y.v,d=y.w,Object.freeze(y),this._edgeObjs[b]=y,o(this._preds[d],c),o(this._sucs[c],d),this._in[d][b]=y,this._out[c][b]=y,this._edgeCount++,this}edge(c,d,f){var h=arguments.length===1?a(this._isDirected,arguments[0]):r(this._isDirected,c,d,f);return this._edgeLabels[h]}edgeAsObj(){const c=this.edge(...arguments);return typeof c!="object"?{label:c}:c}hasEdge(c,d,f){var h=arguments.length===1?a(this._isDirected,arguments[0]):r(this._isDirected,c,d,f);return Object.hasOwn(this._edgeLabels,h)}removeEdge(c,d,f){var h=arguments.length===1?a(this._isDirected,arguments[0]):r(this._isDirected,c,d,f),p=this._edgeObjs[h];return p&&(c=p.v,d=p.w,delete this._edgeLabels[h],delete this._edgeObjs[h],s(this._preds[d],c),s(this._sucs[c],d),delete this._in[d][h],delete this._out[c][h],this._edgeCount--),this}inEdges(c,d){var f=this._in[c];if(f){var h=Object.values(f);return d?h.filter(p=>p.v===d):h}}outEdges(c,d){var f=this._out[c];if(f){var h=Object.values(f);return d?h.filter(p=>p.w===d):h}}nodeEdges(c,d){var f=this.inEdges(c,d);if(f)return f.concat(this.outEdges(c,d))}}function o(l,c){l[c]?l[c]++:l[c]=1}function s(l,c){--l[c]||delete l[c]}function r(l,c,d,f){var h=""+c,p=""+d;if(!l&&h>p){var _=h;h=p,p=_}return h+n+p+n+(f===void 0?e:f)}function u(l,c,d,f){var h=""+c,p=""+d;if(!l&&h>p){var _=h;h=p,p=_}var b={v:h,w:p};return f&&(b.name=f),b}function a(l,c){return r(l,c.v,c.w,c.name)}return Su=i,Su}var ku,Pd;function nx(){return Pd||(Pd=1,ku="2.2.4"),ku}var Iu,Od;function ix(){return Od||(Od=1,Iu={Graph:Ul(),version:nx()}),Iu}var Au,Ld;function ox(){if(Ld)return Au;Ld=1;var e=Ul();Au={write:t,read:o};function t(s){var r={options:{directed:s.isDirected(),multigraph:s.isMultigraph(),compound:s.isCompound()},nodes:n(s),edges:i(s)};return s.graph()!==void 0&&(r.value=structuredClone(s.graph())),r}function n(s){return s.nodes().map(function(r){var u=s.node(r),a=s.parent(r),l={v:r};return u!==void 0&&(l.value=u),a!==void 0&&(l.parent=a),l})}function i(s){return s.edges().map(function(r){var u=s.edge(r),a={v:r.v,w:r.w};return r.name!==void 0&&(a.name=r.name),u!==void 0&&(a.value=u),a})}function o(s){var r=new e(s.options).setGraph(s.value);return s.nodes.forEach(function(u){r.setNode(u.v,u.value),u.parent&&r.setParent(u.v,u.parent)}),s.edges.forEach(function(u){r.setEdge({v:u.v,w:u.w,name:u.name},u.value)}),r}return Au}var Du,zd;function sx(){if(zd)return Du;zd=1,Du=e;function e(t){var n={},i=[],o;function s(r){Object.hasOwn(n,r)||(n[r]=!0,o.push(r),t.successors(r).forEach(s),t.predecessors(r).forEach(s))}return t.nodes().forEach(function(r){o=[],s(r),o.length&&i.push(o)}),i}return Du}var Nu,Rd;function Ep(){if(Rd)return Nu;Rd=1;class e{constructor(){Me(this,"_arr",[]);Me(this,"_keyIndices",{})}size(){return this._arr.length}keys(){return this._arr.map(function(n){return n.key})}has(n){return Object.hasOwn(this._keyIndices,n)}priority(n){var i=this._keyIndices[n];if(i!==void 0)return this._arr[i].priority}min(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key}add(n,i){var o=this._keyIndices;if(n=String(n),!Object.hasOwn(o,n)){var s=this._arr,r=s.length;return o[n]=r,s.push({key:n,priority:i}),this._decrease(r),!0}return!1}removeMin(){this._swap(0,this._arr.length-1);var n=this._arr.pop();return delete this._keyIndices[n.key],this._heapify(0),n.key}decrease(n,i){var o=this._keyIndices[n];if(i>this._arr[o].priority)throw new Error("New priority is greater than current priority. Key: "+n+" Old: "+this._arr[o].priority+" New: "+i);this._arr[o].priority=i,this._decrease(o)}_heapify(n){var i=this._arr,o=2*n,s=o+1,r=n;o<i.length&&(r=i[o].priority<i[r].priority?o:r,s<i.length&&(r=i[s].priority<i[r].priority?s:r),r!==n&&(this._swap(n,r),this._heapify(r)))}_decrease(n){for(var i=this._arr,o=i[n].priority,s;n!==0&&(s=n>>1,!(i[s].priority<o));)this._swap(n,s),n=s}_swap(n,i){var o=this._arr,s=this._keyIndices,r=o[n],u=o[i];o[n]=u,o[i]=r,s[u.key]=n,s[r.key]=i}}return Nu=e,Nu}var Tu,$d;function Sp(){if($d)return Tu;$d=1;var e=Ep();Tu=n;var t=()=>1;function n(o,s,r,u){return i(o,String(s),r||t,u||function(a){return o.outEdges(a)})}function i(o,s,r,u){var a={},l=new e,c,d,f=function(h){var p=h.v!==c?h.v:h.w,_=a[p],b=r(h),y=d.distance+b;if(b<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+h+" Weight: "+b);y<_.distance&&(_.distance=y,_.predecessor=c,l.decrease(p,y))};for(o.nodes().forEach(function(h){var p=h===s?0:Number.POSITIVE_INFINITY;a[h]={distance:p},l.add(h,p)});l.size()>0&&(c=l.removeMin(),d=a[c],d.distance!==Number.POSITIVE_INFINITY);)u(c).forEach(f);return a}return Tu}var Mu,Bd;function rx(){if(Bd)return Mu;Bd=1;var e=Sp();Mu=t;function t(n,i,o){return n.nodes().reduce(function(s,r){return s[r]=e(n,r,i,o),s},{})}return Mu}var Fu,Vd;function kp(){if(Vd)return Fu;Vd=1,Fu=e;function e(t){var n=0,i=[],o={},s=[];function r(u){var a=o[u]={onStack:!0,lowlink:n,index:n++};if(i.push(u),t.successors(u).forEach(function(d){Object.hasOwn(o,d)?o[d].onStack&&(a.lowlink=Math.min(a.lowlink,o[d].index)):(r(d),a.lowlink=Math.min(a.lowlink,o[d].lowlink))}),a.lowlink===a.index){var l=[],c;do c=i.pop(),o[c].onStack=!1,l.push(c);while(u!==c);s.push(l)}}return t.nodes().forEach(function(u){Object.hasOwn(o,u)||r(u)}),s}return Fu}var Pu,Hd;function ux(){if(Hd)return Pu;Hd=1;var e=kp();Pu=t;function t(n){return e(n).filter(function(i){return i.length>1||i.length===1&&n.hasEdge(i[0],i[0])})}return Pu}var Ou,Ud;function ax(){if(Ud)return Ou;Ud=1,Ou=t;var e=()=>1;function t(i,o,s){return n(i,o||e,s||function(r){return i.outEdges(r)})}function n(i,o,s){var r={},u=i.nodes();return u.forEach(function(a){r[a]={},r[a][a]={distance:0},u.forEach(function(l){a!==l&&(r[a][l]={distance:Number.POSITIVE_INFINITY})}),s(a).forEach(function(l){var c=l.v===a?l.w:l.v,d=o(l);r[a][c]={distance:d,predecessor:a}})}),u.forEach(function(a){var l=r[a];u.forEach(function(c){var d=r[c];u.forEach(function(f){var h=d[a],p=l[f],_=d[f],b=h.distance+p.distance;b<_.distance&&(_.distance=b,_.predecessor=p.predecessor)})})}),r}return Ou}var Lu,qd;function Ip(){if(qd)return Lu;qd=1;function e(n){var i={},o={},s=[];function r(u){if(Object.hasOwn(o,u))throw new t;Object.hasOwn(i,u)||(o[u]=!0,i[u]=!0,n.predecessors(u).forEach(r),delete o[u],s.push(u))}if(n.sinks().forEach(r),Object.keys(i).length!==n.nodeCount())throw new t;return s}class t extends Error{constructor(){super(...arguments)}}return Lu=e,e.CycleException=t,Lu}var zu,Gd;function lx(){if(Gd)return zu;Gd=1;var e=Ip();zu=t;function t(n){try{e(n)}catch(i){if(i instanceof e.CycleException)return!1;throw i}return!0}return zu}var Ru,jd;function Ap(){if(jd)return Ru;jd=1,Ru=e;function e(o,s,r){Array.isArray(s)||(s=[s]);var u=o.isDirected()?d=>o.successors(d):d=>o.neighbors(d),a=r==="post"?t:n,l=[],c={};return s.forEach(d=>{if(!o.hasNode(d))throw new Error("Graph does not have node: "+d);a(d,u,c,l)}),l}function t(o,s,r,u){for(var a=[[o,!1]];a.length>0;){var l=a.pop();l[1]?u.push(l[0]):Object.hasOwn(r,l[0])||(r[l[0]]=!0,a.push([l[0],!0]),i(s(l[0]),c=>a.push([c,!1])))}}function n(o,s,r,u){for(var a=[o];a.length>0;){var l=a.pop();Object.hasOwn(r,l)||(r[l]=!0,u.push(l),i(s(l),c=>a.push(c)))}}function i(o,s){for(var r=o.length;r--;)s(o[r],r,o);return o}return Ru}var $u,Wd;function cx(){if(Wd)return $u;Wd=1;var e=Ap();$u=t;function t(n,i){return e(n,i,"post")}return $u}var Bu,Zd;function dx(){if(Zd)return Bu;Zd=1;var e=Ap();Bu=t;function t(n,i){return e(n,i,"pre")}return Bu}var Vu,Yd;function fx(){if(Yd)return Vu;Yd=1;var e=Ul(),t=Ep();Vu=n;function n(i,o){var s=new e,r={},u=new t,a;function l(d){var f=d.v===a?d.w:d.v,h=u.priority(f);if(h!==void 0){var p=o(d);p<h&&(r[f]=a,u.decrease(f,p))}}if(i.nodeCount()===0)return s;i.nodes().forEach(function(d){u.add(d,Number.POSITIVE_INFINITY),s.setNode(d)}),u.decrease(i.nodes()[0],0);for(var c=!1;u.size()>0;){if(a=u.removeMin(),Object.hasOwn(r,a))s.setEdge(a,r[a]);else{if(c)throw new Error("Input graph is not connected: "+i);c=!0}i.nodeEdges(a).forEach(l)}return s}return Vu}var Hu,Xd;function hx(){return Xd||(Xd=1,Hu={components:sx(),dijkstra:Sp(),dijkstraAll:rx(),findCycles:ux(),floydWarshall:ax(),isAcyclic:lx(),postorder:cx(),preorder:dx(),prim:fx(),tarjan:kp(),topsort:Ip()}),Hu}var Uu,Kd;function Kt(){if(Kd)return Uu;Kd=1;var e=ix();return Uu={Graph:e.Graph,json:ox(),alg:hx(),version:e.version},Uu}var qu,Jd;function px(){if(Jd)return qu;Jd=1;class e{constructor(){let o={};o._next=o._prev=o,this._sentinel=o}dequeue(){let o=this._sentinel,s=o._prev;if(s!==o)return t(s),s}enqueue(o){let s=this._sentinel;o._prev&&o._next&&t(o),o._next=s._next,s._next._prev=o,s._next=o,o._prev=s}toString(){let o=[],s=this._sentinel,r=s._prev;for(;r!==s;)o.push(JSON.stringify(r,n)),r=r._prev;return"["+o.join(", ")+"]"}}function t(i){i._prev._next=i._next,i._next._prev=i._prev,delete i._next,delete i._prev}function n(i,o){if(i!=="_next"&&i!=="_prev")return o}return qu=e,qu}var Gu,Qd;function mx(){if(Qd)return Gu;Qd=1;let e=Kt().Graph,t=px();Gu=i;let n=()=>1;function i(l,c){if(l.nodeCount()<=1)return[];let d=r(l,c||n);return o(d.graph,d.buckets,d.zeroIdx).flatMap(h=>l.outEdges(h.v,h.w))}function o(l,c,d){let f=[],h=c[c.length-1],p=c[0],_;for(;l.nodeCount();){for(;_=p.dequeue();)s(l,c,d,_);for(;_=h.dequeue();)s(l,c,d,_);if(l.nodeCount()){for(let b=c.length-2;b>0;--b)if(_=c[b].dequeue(),_){f=f.concat(s(l,c,d,_,!0));break}}}return f}function s(l,c,d,f,h){let p=h?[]:void 0;return l.inEdges(f.v).forEach(_=>{let b=l.edge(_),y=l.node(_.v);h&&p.push({v:_.v,w:_.w}),y.out-=b,u(c,d,y)}),l.outEdges(f.v).forEach(_=>{let b=l.edge(_),y=_.w,v=l.node(y);v.in-=b,u(c,d,v)}),l.removeNode(f.v),p}function r(l,c){let d=new e,f=0,h=0;l.nodes().forEach(b=>{d.setNode(b,{v:b,in:0,out:0})}),l.edges().forEach(b=>{let y=d.edge(b.v,b.w)||0,v=c(b),m=y+v;d.setEdge(b.v,b.w,m),h=Math.max(h,d.node(b.v).out+=v),f=Math.max(f,d.node(b.w).in+=v)});let p=a(h+f+3).map(()=>new t),_=f+1;return d.nodes().forEach(b=>{u(p,_,d.node(b))}),{graph:d,buckets:p,zeroIdx:_}}function u(l,c,d){d.out?d.in?l[d.out-d.in+c].enqueue(d):l[l.length-1].enqueue(d):l[0].enqueue(d)}function a(l){const c=[];for(let d=0;d<l;d++)c.push(d);return c}return Gu}var ju,ef;function at(){if(ef)return ju;ef=1;let e=Kt().Graph;ju={addBorderNode:c,addDummyNode:t,applyWithChunking:h,asNonCompoundGraph:i,buildLayerMatrix:u,intersectRect:r,mapValues:E,maxRank:p,normalizeRanks:a,notime:y,partition:_,pick:x,predecessorWeights:s,range:g,removeEmptyRanks:l,simplify:n,successorWeights:o,time:b,uniqueId:m,zipObject:D};function t(k,w,M,O){for(var C=O;k.hasNode(C);)C=m(O);return M.dummy=w,k.setNode(C,M),C}function n(k){let w=new e().setGraph(k.graph());return k.nodes().forEach(M=>w.setNode(M,k.node(M))),k.edges().forEach(M=>{let O=w.edge(M.v,M.w)||{weight:0,minlen:1},C=k.edge(M);w.setEdge(M.v,M.w,{weight:O.weight+C.weight,minlen:Math.max(O.minlen,C.minlen)})}),w}function i(k){let w=new e({multigraph:k.isMultigraph()}).setGraph(k.graph());return k.nodes().forEach(M=>{k.children(M).length||w.setNode(M,k.node(M))}),k.edges().forEach(M=>{w.setEdge(M,k.edge(M))}),w}function o(k){let w=k.nodes().map(M=>{let O={};return k.outEdges(M).forEach(C=>{O[C.w]=(O[C.w]||0)+k.edge(C).weight}),O});return D(k.nodes(),w)}function s(k){let w=k.nodes().map(M=>{let O={};return k.inEdges(M).forEach(C=>{O[C.v]=(O[C.v]||0)+k.edge(C).weight}),O});return D(k.nodes(),w)}function r(k,w){let M=k.x,O=k.y,C=w.x-M,z=w.y-O,P=k.width/2,q=k.height/2;if(!C&&!z)throw new Error("Not possible to find intersection inside of the rectangle");let R,W;return Math.abs(z)*P>Math.abs(C)*q?(z<0&&(q=-q),R=q*C/z,W=q):(C<0&&(P=-P),R=P,W=P*z/C),{x:M+R,y:O+W}}function u(k){let w=g(p(k)+1).map(()=>[]);return k.nodes().forEach(M=>{let O=k.node(M),C=O.rank;C!==void 0&&(w[C][O.order]=M)}),w}function a(k){let w=k.nodes().map(O=>{let C=k.node(O).rank;return C===void 0?Number.MAX_VALUE:C}),M=h(Math.min,w);k.nodes().forEach(O=>{let C=k.node(O);Object.hasOwn(C,"rank")&&(C.rank-=M)})}function l(k){let w=k.nodes().map(P=>k.node(P).rank),M=h(Math.min,w),O=[];k.nodes().forEach(P=>{let q=k.node(P).rank-M;O[q]||(O[q]=[]),O[q].push(P)});let C=0,z=k.graph().nodeRankFactor;Array.from(O).forEach((P,q)=>{P===void 0&&q%z!==0?--C:P!==void 0&&C&&P.forEach(R=>k.node(R).rank+=C)})}function c(k,w,M,O){let C={width:0,height:0};return arguments.length>=4&&(C.rank=M,C.order=O),t(k,"border",C,w)}function d(k,w=f){const M=[];for(let O=0;O<k.length;O+=w){const C=k.slice(O,O+w);M.push(C)}return M}const f=65535;function h(k,w){if(w.length>f){const M=d(w);return k.apply(null,M.map(O=>k.apply(null,O)))}else return k.apply(null,w)}function p(k){const M=k.nodes().map(O=>{let C=k.node(O).rank;return C===void 0?Number.MIN_VALUE:C});return h(Math.max,M)}function _(k,w){let M={lhs:[],rhs:[]};return k.forEach(O=>{w(O)?M.lhs.push(O):M.rhs.push(O)}),M}function b(k,w){let M=Date.now();try{return w()}finally{console.log(k+" time: "+(Date.now()-M)+"ms")}}function y(k,w){return w()}let v=0;function m(k){var w=++v;return k+(""+w)}function g(k,w,M=1){w==null&&(w=k,k=0);let O=z=>z<w;M<0&&(O=z=>w<z);const C=[];for(let z=k;O(z);z+=M)C.push(z);return C}function x(k,w){const M={};for(const O of w)k[O]!==void 0&&(M[O]=k[O]);return M}function E(k,w){let M=w;return typeof w=="string"&&(M=O=>O[w]),Object.entries(k).reduce((O,[C,z])=>(O[C]=M(z,C),O),{})}function D(k,w){return k.reduce((M,O,C)=>(M[O]=w[C],M),{})}return ju}var Wu,tf;function gx(){if(tf)return Wu;tf=1;let e=mx(),t=at().uniqueId;Wu={run:n,undo:o};function n(s){(s.graph().acyclicer==="greedy"?e(s,u(s)):i(s)).forEach(a=>{let l=s.edge(a);s.removeEdge(a),l.forwardName=a.name,l.reversed=!0,s.setEdge(a.w,a.v,l,t("rev"))});function u(a){return l=>a.edge(l).weight}}function i(s){let r=[],u={},a={};function l(c){Object.hasOwn(a,c)||(a[c]=!0,u[c]=!0,s.outEdges(c).forEach(d=>{Object.hasOwn(u,d.w)?r.push(d):l(d.w)}),delete u[c])}return s.nodes().forEach(l),r}function o(s){s.edges().forEach(r=>{let u=s.edge(r);if(u.reversed){s.removeEdge(r);let a=u.forwardName;delete u.reversed,delete u.forwardName,s.setEdge(r.w,r.v,u,a)}})}return Wu}var Zu,nf;function vx(){if(nf)return Zu;nf=1;let e=at();Zu={run:t,undo:i};function t(o){o.graph().dummyChains=[],o.edges().forEach(s=>n(o,s))}function n(o,s){let r=s.v,u=o.node(r).rank,a=s.w,l=o.node(a).rank,c=s.name,d=o.edge(s),f=d.labelRank;if(l===u+1)return;o.removeEdge(s);let h,p,_;for(_=0,++u;u<l;++_,++u)d.points=[],p={width:0,height:0,edgeLabel:d,edgeObj:s,rank:u},h=e.addDummyNode(o,"edge",p,"_d"),u===f&&(p.width=d.width,p.height=d.height,p.dummy="edge-label",p.labelpos=d.labelpos),o.setEdge(r,h,{weight:d.weight},c),_===0&&o.graph().dummyChains.push(h),r=h;o.setEdge(r,a,{weight:d.weight},c)}function i(o){o.graph().dummyChains.forEach(s=>{let r=o.node(s),u=r.edgeLabel,a;for(o.setEdge(r.edgeObj,u);r.dummy;)a=o.successors(s)[0],o.removeNode(s),u.points.push({x:r.x,y:r.y}),r.dummy==="edge-label"&&(u.x=r.x,u.y=r.y,u.width=r.width,u.height=r.height),s=a,r=o.node(s)})}return Zu}var Yu,of;function br(){if(of)return Yu;of=1;const{applyWithChunking:e}=at();Yu={longestPath:t,slack:n};function t(i){var o={};function s(r){var u=i.node(r);if(Object.hasOwn(o,r))return u.rank;o[r]=!0;let a=i.outEdges(r).map(c=>c==null?Number.POSITIVE_INFINITY:s(c.w)-i.edge(c).minlen);var l=e(Math.min,a);return l===Number.POSITIVE_INFINITY&&(l=0),u.rank=l}i.sources().forEach(s)}function n(i,o){return i.node(o.w).rank-i.node(o.v).rank-i.edge(o).minlen}return Yu}var Xu,sf;function Dp(){if(sf)return Xu;sf=1;var e=Kt().Graph,t=br().slack;Xu=n;function n(r){var u=new e({directed:!1}),a=r.nodes()[0],l=r.nodeCount();u.setNode(a,{});for(var c,d;i(u,r)<l;)c=o(u,r),d=u.hasNode(c.v)?t(r,c):-t(r,c),s(u,r,d);return u}function i(r,u){function a(l){u.nodeEdges(l).forEach(c=>{var d=c.v,f=l===d?c.w:d;!r.hasNode(f)&&!t(u,c)&&(r.setNode(f,{}),r.setEdge(l,f,{}),a(f))})}return r.nodes().forEach(a),r.nodeCount()}function o(r,u){return u.edges().reduce((l,c)=>{let d=Number.POSITIVE_INFINITY;return r.hasNode(c.v)!==r.hasNode(c.w)&&(d=t(u,c)),d<l[0]?[d,c]:l},[Number.POSITIVE_INFINITY,null])[1]}function s(r,u,a){r.nodes().forEach(l=>u.node(l).rank+=a)}return Xu}var Ku,rf;function _x(){if(rf)return Ku;rf=1;var e=Dp(),t=br().slack,n=br().longestPath,i=Kt().alg.preorder,o=Kt().alg.postorder,s=at().simplify;Ku=r,r.initLowLimValues=c,r.initCutValues=u,r.calcCutValue=l,r.leaveEdge=f,r.enterEdge=h,r.exchangeEdges=p;function r(v){v=s(v),n(v);var m=e(v);c(m),u(m,v);for(var g,x;g=f(m);)x=h(m,v,g),p(m,v,g,x)}function u(v,m){var g=o(v,v.nodes());g=g.slice(0,g.length-1),g.forEach(x=>a(v,m,x))}function a(v,m,g){var x=v.node(g),E=x.parent;v.edge(g,E).cutvalue=l(v,m,g)}function l(v,m,g){var x=v.node(g),E=x.parent,D=!0,k=m.edge(g,E),w=0;return k||(D=!1,k=m.edge(E,g)),w=k.weight,m.nodeEdges(g).forEach(M=>{var O=M.v===g,C=O?M.w:M.v;if(C!==E){var z=O===D,P=m.edge(M).weight;if(w+=z?P:-P,b(v,g,C)){var q=v.edge(g,C).cutvalue;w+=z?-q:q}}}),w}function c(v,m){arguments.length<2&&(m=v.nodes()[0]),d(v,{},1,m)}function d(v,m,g,x,E){var D=g,k=v.node(x);return m[x]=!0,v.neighbors(x).forEach(w=>{Object.hasOwn(m,w)||(g=d(v,m,g,w,x))}),k.low=D,k.lim=g++,E?k.parent=E:delete k.parent,g}function f(v){return v.edges().find(m=>v.edge(m).cutvalue<0)}function h(v,m,g){var x=g.v,E=g.w;m.hasEdge(x,E)||(x=g.w,E=g.v);var D=v.node(x),k=v.node(E),w=D,M=!1;D.lim>k.lim&&(w=k,M=!0);var O=m.edges().filter(C=>M===y(v,v.node(C.v),w)&&M!==y(v,v.node(C.w),w));return O.reduce((C,z)=>t(m,z)<t(m,C)?z:C)}function p(v,m,g,x){var E=g.v,D=g.w;v.removeEdge(E,D),v.setEdge(x.v,x.w,{}),c(v),u(v,m),_(v,m)}function _(v,m){var g=v.nodes().find(E=>!m.node(E).parent),x=i(v,g);x=x.slice(1),x.forEach(E=>{var D=v.node(E).parent,k=m.edge(E,D),w=!1;k||(k=m.edge(D,E),w=!0),m.node(E).rank=m.node(D).rank+(w?k.minlen:-k.minlen)})}function b(v,m,g){return v.hasEdge(m,g)}function y(v,m,g){return g.low<=m.lim&&m.lim<=g.lim}return Ku}var Ju,uf;function bx(){if(uf)return Ju;uf=1;var e=br(),t=e.longestPath,n=Dp(),i=_x();Ju=o;function o(a){var l=a.graph().ranker;if(l instanceof Function)return l(a);switch(a.graph().ranker){case"network-simplex":u(a);break;case"tight-tree":r(a);break;case"longest-path":s(a);break;case"none":break;default:u(a)}}var s=t;function r(a){t(a),n(a)}function u(a){i(a)}return Ju}var Qu,af;function yx(){if(af)return Qu;af=1,Qu=e;function e(i){let o=n(i);i.graph().dummyChains.forEach(s=>{let r=i.node(s),u=r.edgeObj,a=t(i,o,u.v,u.w),l=a.path,c=a.lca,d=0,f=l[d],h=!0;for(;s!==u.w;){if(r=i.node(s),h){for(;(f=l[d])!==c&&i.node(f).maxRank<r.rank;)d++;f===c&&(h=!1)}if(!h){for(;d<l.length-1&&i.node(f=l[d+1]).minRank<=r.rank;)d++;f=l[d]}i.setParent(s,f),s=i.successors(s)[0]}})}function t(i,o,s,r){let u=[],a=[],l=Math.min(o[s].low,o[r].low),c=Math.max(o[s].lim,o[r].lim),d,f;d=s;do d=i.parent(d),u.push(d);while(d&&(o[d].low>l||c>o[d].lim));for(f=d,d=r;(d=i.parent(d))!==f;)a.push(d);return{path:u.concat(a.reverse()),lca:f}}function n(i){let o={},s=0;function r(u){let a=s;i.children(u).forEach(r),o[u]={low:a,lim:s++}}return i.children().forEach(r),o}return Qu}var ea,lf;function wx(){if(lf)return ea;lf=1;let e=at();ea={run:t,cleanup:s};function t(r){let u=e.addDummyNode(r,"root",{},"_root"),a=i(r),l=Object.values(a),c=e.applyWithChunking(Math.max,l)-1,d=2*c+1;r.graph().nestingRoot=u,r.edges().forEach(h=>r.edge(h).minlen*=d);let f=o(r)+1;r.children().forEach(h=>n(r,u,d,f,c,a,h)),r.graph().nodeRankFactor=d}function n(r,u,a,l,c,d,f){let h=r.children(f);if(!h.length){f!==u&&r.setEdge(u,f,{weight:0,minlen:a});return}let p=e.addBorderNode(r,"_bt"),_=e.addBorderNode(r,"_bb"),b=r.node(f);r.setParent(p,f),b.borderTop=p,r.setParent(_,f),b.borderBottom=_,h.forEach(y=>{n(r,u,a,l,c,d,y);let v=r.node(y),m=v.borderTop?v.borderTop:y,g=v.borderBottom?v.borderBottom:y,x=v.borderTop?l:2*l,E=m!==g?1:c-d[f]+1;r.setEdge(p,m,{weight:x,minlen:E,nestingEdge:!0}),r.setEdge(g,_,{weight:x,minlen:E,nestingEdge:!0})}),r.parent(f)||r.setEdge(u,p,{weight:0,minlen:c+d[f]})}function i(r){var u={};function a(l,c){var d=r.children(l);d&&d.length&&d.forEach(f=>a(f,c+1)),u[l]=c}return r.children().forEach(l=>a(l,1)),u}function o(r){return r.edges().reduce((u,a)=>u+r.edge(a).weight,0)}function s(r){var u=r.graph();r.removeNode(u.nestingRoot),delete u.nestingRoot,r.edges().forEach(a=>{var l=r.edge(a);l.nestingEdge&&r.removeEdge(a)})}return ea}var ta,cf;function xx(){if(cf)return ta;cf=1;let e=at();ta=t;function t(i){function o(s){let r=i.children(s),u=i.node(s);if(r.length&&r.forEach(o),Object.hasOwn(u,"minRank")){u.borderLeft=[],u.borderRight=[];for(let a=u.minRank,l=u.maxRank+1;a<l;++a)n(i,"borderLeft","_bl",s,u,a),n(i,"borderRight","_br",s,u,a)}}i.children().forEach(o)}function n(i,o,s,r,u,a){let l={width:0,height:0,rank:a,borderType:o},c=u[o][a-1],d=e.addDummyNode(i,"border",l,s);u[o][a]=d,i.setParent(d,r),c&&i.setEdge(c,d,{weight:1})}return ta}var na,df;function Cx(){if(df)return na;df=1,na={adjust:e,undo:t};function e(a){let l=a.graph().rankdir.toLowerCase();(l==="lr"||l==="rl")&&n(a)}function t(a){let l=a.graph().rankdir.toLowerCase();(l==="bt"||l==="rl")&&o(a),(l==="lr"||l==="rl")&&(r(a),n(a))}function n(a){a.nodes().forEach(l=>i(a.node(l))),a.edges().forEach(l=>i(a.edge(l)))}function i(a){let l=a.width;a.width=a.height,a.height=l}function o(a){a.nodes().forEach(l=>s(a.node(l))),a.edges().forEach(l=>{let c=a.edge(l);c.points.forEach(s),Object.hasOwn(c,"y")&&s(c)})}function s(a){a.y=-a.y}function r(a){a.nodes().forEach(l=>u(a.node(l))),a.edges().forEach(l=>{let c=a.edge(l);c.points.forEach(u),Object.hasOwn(c,"x")&&u(c)})}function u(a){let l=a.x;a.x=a.y,a.y=l}return na}var ia,ff;function Ex(){if(ff)return ia;ff=1;let e=at();ia=t;function t(n){let i={},o=n.nodes().filter(c=>!n.children(c).length),s=o.map(c=>n.node(c).rank),r=e.applyWithChunking(Math.max,s),u=e.range(r+1).map(()=>[]);function a(c){if(i[c])return;i[c]=!0;let d=n.node(c);u[d.rank].push(c),n.successors(c).forEach(a)}return o.sort((c,d)=>n.node(c).rank-n.node(d).rank).forEach(a),u}return ia}var oa,hf;function Sx(){if(hf)return oa;hf=1;let e=at().zipObject;oa=t;function t(i,o){let s=0;for(let r=1;r<o.length;++r)s+=n(i,o[r-1],o[r]);return s}function n(i,o,s){let r=e(s,s.map((f,h)=>h)),u=o.flatMap(f=>i.outEdges(f).map(h=>({pos:r[h.w],weight:i.edge(h).weight})).sort((h,p)=>h.pos-p.pos)),a=1;for(;a<s.length;)a<<=1;let l=2*a-1;a-=1;let c=new Array(l).fill(0),d=0;return u.forEach(f=>{let h=f.pos+a;c[h]+=f.weight;let p=0;for(;h>0;)h%2&&(p+=c[h+1]),h=h-1>>1,c[h]+=f.weight;d+=f.weight*p}),d}return oa}var sa,pf;function kx(){if(pf)return sa;pf=1,sa=e;function e(t,n=[]){return n.map(i=>{let o=t.inEdges(i);if(o.length){let s=o.reduce((r,u)=>{let a=t.edge(u),l=t.node(u.v);return{sum:r.sum+a.weight*l.order,weight:r.weight+a.weight}},{sum:0,weight:0});return{v:i,barycenter:s.sum/s.weight,weight:s.weight}}else return{v:i}})}return sa}var ra,mf;function Ix(){if(mf)return ra;mf=1;let e=at();ra=t;function t(o,s){let r={};o.forEach((a,l)=>{let c=r[a.v]={indegree:0,in:[],out:[],vs:[a.v],i:l};a.barycenter!==void 0&&(c.barycenter=a.barycenter,c.weight=a.weight)}),s.edges().forEach(a=>{let l=r[a.v],c=r[a.w];l!==void 0&&c!==void 0&&(c.indegree++,l.out.push(r[a.w]))});let u=Object.values(r).filter(a=>!a.indegree);return n(u)}function n(o){let s=[];function r(a){return l=>{l.merged||(l.barycenter===void 0||a.barycenter===void 0||l.barycenter>=a.barycenter)&&i(a,l)}}function u(a){return l=>{l.in.push(a),--l.indegree===0&&o.push(l)}}for(;o.length;){let a=o.pop();s.push(a),a.in.reverse().forEach(r(a)),a.out.forEach(u(a))}return s.filter(a=>!a.merged).map(a=>e.pick(a,["vs","i","barycenter","weight"]))}function i(o,s){let r=0,u=0;o.weight&&(r+=o.barycenter*o.weight,u+=o.weight),s.weight&&(r+=s.barycenter*s.weight,u+=s.weight),o.vs=s.vs.concat(o.vs),o.barycenter=r/u,o.weight=u,o.i=Math.min(s.i,o.i),s.merged=!0}return ra}var ua,gf;function Ax(){if(gf)return ua;gf=1;let e=at();ua=t;function t(o,s){let r=e.partition(o,p=>Object.hasOwn(p,"barycenter")),u=r.lhs,a=r.rhs.sort((p,_)=>_.i-p.i),l=[],c=0,d=0,f=0;u.sort(i(!!s)),f=n(l,a,f),u.forEach(p=>{f+=p.vs.length,l.push(p.vs),c+=p.barycenter*p.weight,d+=p.weight,f=n(l,a,f)});let h={vs:l.flat(!0)};return d&&(h.barycenter=c/d,h.weight=d),h}function n(o,s,r){let u;for(;s.length&&(u=s[s.length-1]).i<=r;)s.pop(),o.push(u.vs),r++;return r}function i(o){return(s,r)=>s.barycenter<r.barycenter?-1:s.barycenter>r.barycenter?1:o?r.i-s.i:s.i-r.i}return ua}var aa,vf;function Dx(){if(vf)return aa;vf=1;let e=kx(),t=Ix(),n=Ax();aa=i;function i(r,u,a,l){let c=r.children(u),d=r.node(u),f=d?d.borderLeft:void 0,h=d?d.borderRight:void 0,p={};f&&(c=c.filter(v=>v!==f&&v!==h));let _=e(r,c);_.forEach(v=>{if(r.children(v.v).length){let m=i(r,v.v,a,l);p[v.v]=m,Object.hasOwn(m,"barycenter")&&s(v,m)}});let b=t(_,a);o(b,p);let y=n(b,l);if(f&&(y.vs=[f,y.vs,h].flat(!0),r.predecessors(f).length)){let v=r.node(r.predecessors(f)[0]),m=r.node(r.predecessors(h)[0]);Object.hasOwn(y,"barycenter")||(y.barycenter=0,y.weight=0),y.barycenter=(y.barycenter*y.weight+v.order+m.order)/(y.weight+2),y.weight+=2}return y}function o(r,u){r.forEach(a=>{a.vs=a.vs.flatMap(l=>u[l]?u[l].vs:l)})}function s(r,u){r.barycenter!==void 0?(r.barycenter=(r.barycenter*r.weight+u.barycenter*u.weight)/(r.weight+u.weight),r.weight+=u.weight):(r.barycenter=u.barycenter,r.weight=u.weight)}return aa}var la,_f;function Nx(){if(_f)return la;_f=1;let e=Kt().Graph,t=at();la=n;function n(o,s,r){let u=i(o),a=new e({compound:!0}).setGraph({root:u}).setDefaultNodeLabel(l=>o.node(l));return o.nodes().forEach(l=>{let c=o.node(l),d=o.parent(l);(c.rank===s||c.minRank<=s&&s<=c.maxRank)&&(a.setNode(l),a.setParent(l,d||u),o[r](l).forEach(f=>{let h=f.v===l?f.w:f.v,p=a.edge(h,l),_=p!==void 0?p.weight:0;a.setEdge(h,l,{weight:o.edge(f).weight+_})}),Object.hasOwn(c,"minRank")&&a.setNode(l,{borderLeft:c.borderLeft[s],borderRight:c.borderRight[s]}))}),a}function i(o){for(var s;o.hasNode(s=t.uniqueId("_root")););return s}return la}var ca,bf;function Tx(){if(bf)return ca;bf=1,ca=e;function e(t,n,i){let o={},s;i.forEach(r=>{let u=t.parent(r),a,l;for(;u;){if(a=t.parent(u),a?(l=o[a],o[a]=u):(l=s,s=u),l&&l!==u){n.setEdge(l,u);return}u=a}})}return ca}var da,yf;function Mx(){if(yf)return da;yf=1;let e=Ex(),t=Sx(),n=Dx(),i=Nx(),o=Tx(),s=Kt().Graph,r=at();da=u;function u(d,f){if(f&&typeof f.customOrder=="function"){f.customOrder(d,u);return}let h=r.maxRank(d),p=a(d,r.range(1,h+1),"inEdges"),_=a(d,r.range(h-1,-1,-1),"outEdges"),b=e(d);if(c(d,b),f&&f.disableOptimalOrderHeuristic)return;let y=Number.POSITIVE_INFINITY,v;for(let m=0,g=0;g<4;++m,++g){l(m%2?p:_,m%4>=2),b=r.buildLayerMatrix(d);let x=t(d,b);x<y&&(g=0,v=Object.assign({},b),y=x)}c(d,v)}function a(d,f,h){return f.map(function(p){return i(d,p,h)})}function l(d,f){let h=new s;d.forEach(function(p){let _=p.graph().root,b=n(p,_,h,f);b.vs.forEach((y,v)=>p.node(y).order=v),o(p,h,b.vs)})}function c(d,f){Object.values(f).forEach(h=>h.forEach((p,_)=>d.node(p).order=_))}return da}var fa,wf;function Fx(){if(wf)return fa;wf=1;let e=Kt().Graph,t=at();fa={positionX:h,findType1Conflicts:n,findType2Conflicts:i,addConflict:s,hasConflict:r,verticalAlignment:u,horizontalCompaction:a,alignCoordinates:d,findSmallestWidthAlignment:c,balance:f};function n(b,y){let v={};function m(g,x){let E=0,D=0,k=g.length,w=x[x.length-1];return x.forEach((M,O)=>{let C=o(b,M),z=C?b.node(C).order:k;(C||M===w)&&(x.slice(D,O+1).forEach(P=>{b.predecessors(P).forEach(q=>{let R=b.node(q),W=R.order;(W<E||z<W)&&!(R.dummy&&b.node(P).dummy)&&s(v,q,P)})}),D=O+1,E=z)}),x}return y.length&&y.reduce(m),v}function i(b,y){let v={};function m(x,E,D,k,w){let M;t.range(E,D).forEach(O=>{M=x[O],b.node(M).dummy&&b.predecessors(M).forEach(C=>{let z=b.node(C);z.dummy&&(z.order<k||z.order>w)&&s(v,C,M)})})}function g(x,E){let D=-1,k,w=0;return E.forEach((M,O)=>{if(b.node(M).dummy==="border"){let C=b.predecessors(M);C.length&&(k=b.node(C[0]).order,m(E,w,O,D,k),w=O,D=k)}m(E,w,E.length,k,x.length)}),E}return y.length&&y.reduce(g),v}function o(b,y){if(b.node(y).dummy)return b.predecessors(y).find(v=>b.node(v).dummy)}function s(b,y,v){if(y>v){let g=y;y=v,v=g}let m=b[y];m||(b[y]=m={}),m[v]=!0}function r(b,y,v){if(y>v){let m=y;y=v,v=m}return!!b[y]&&Object.hasOwn(b[y],v)}function u(b,y,v,m){let g={},x={},E={};return y.forEach(D=>{D.forEach((k,w)=>{g[k]=k,x[k]=k,E[k]=w})}),y.forEach(D=>{let k=-1;D.forEach(w=>{let M=m(w);if(M.length){M=M.sort((C,z)=>E[C]-E[z]);let O=(M.length-1)/2;for(let C=Math.floor(O),z=Math.ceil(O);C<=z;++C){let P=M[C];x[w]===w&&k<E[P]&&!r(v,w,P)&&(x[P]=w,x[w]=g[w]=g[P],k=E[P])}}})}),{root:g,align:x}}function a(b,y,v,m,g){let x={},E=l(b,y,v,g),D=g?"borderLeft":"borderRight";function k(O,C){let z=E.nodes(),P=z.pop(),q={};for(;P;)q[P]?O(P):(q[P]=!0,z.push(P),z=z.concat(C(P))),P=z.pop()}function w(O){x[O]=E.inEdges(O).reduce((C,z)=>Math.max(C,x[z.v]+E.edge(z)),0)}function M(O){let C=E.outEdges(O).reduce((P,q)=>Math.min(P,x[q.w]-E.edge(q)),Number.POSITIVE_INFINITY),z=b.node(O);C!==Number.POSITIVE_INFINITY&&z.borderType!==D&&(x[O]=Math.max(x[O],C))}return k(w,E.predecessors.bind(E)),k(M,E.successors.bind(E)),Object.keys(m).forEach(O=>x[O]=x[v[O]]),x}function l(b,y,v,m){let g=new e,x=b.graph(),E=p(x.nodesep,x.edgesep,m);return y.forEach(D=>{let k;D.forEach(w=>{let M=v[w];if(g.setNode(M),k){var O=v[k],C=g.edge(O,M);g.setEdge(O,M,Math.max(E(b,w,k),C||0))}k=w})}),g}function c(b,y){return Object.values(y).reduce((v,m)=>{let g=Number.NEGATIVE_INFINITY,x=Number.POSITIVE_INFINITY;Object.entries(m).forEach(([D,k])=>{let w=_(b,D)/2;g=Math.max(k+w,g),x=Math.min(k-w,x)});const E=g-x;return E<v[0]&&(v=[E,m]),v},[Number.POSITIVE_INFINITY,null])[1]}function d(b,y){let v=Object.values(y),m=t.applyWithChunking(Math.min,v),g=t.applyWithChunking(Math.max,v);["u","d"].forEach(x=>{["l","r"].forEach(E=>{let D=x+E,k=b[D];if(k===y)return;let w=Object.values(k),M=m-t.applyWithChunking(Math.min,w);E!=="l"&&(M=g-t.applyWithChunking(Math.max,w)),M&&(b[D]=t.mapValues(k,O=>O+M))})})}function f(b,y){return t.mapValues(b.ul,(v,m)=>{if(y)return b[y.toLowerCase()][m];{let g=Object.values(b).map(x=>x[m]).sort((x,E)=>x-E);return(g[1]+g[2])/2}})}function h(b){let y=t.buildLayerMatrix(b),v=Object.assign(n(b,y),i(b,y)),m={},g;["u","d"].forEach(E=>{g=E==="u"?y:Object.values(y).reverse(),["l","r"].forEach(D=>{D==="r"&&(g=g.map(O=>Object.values(O).reverse()));let k=(E==="u"?b.predecessors:b.successors).bind(b),w=u(b,g,v,k),M=a(b,g,w.root,w.align,D==="r");D==="r"&&(M=t.mapValues(M,O=>-O)),m[E+D]=M})});let x=c(b,m);return d(m,x),f(m,b.graph().align)}function p(b,y,v){return(m,g,x)=>{let E=m.node(g),D=m.node(x),k=0,w;if(k+=E.width/2,Object.hasOwn(E,"labelpos"))switch(E.labelpos.toLowerCase()){case"l":w=-E.width/2;break;case"r":w=E.width/2;break}if(w&&(k+=v?w:-w),w=0,k+=(E.dummy?y:b)/2,k+=(D.dummy?y:b)/2,k+=D.width/2,Object.hasOwn(D,"labelpos"))switch(D.labelpos.toLowerCase()){case"l":w=D.width/2;break;case"r":w=-D.width/2;break}return w&&(k+=v?w:-w),w=0,k}}function _(b,y){return b.node(y).width}return fa}var ha,xf;function Px(){if(xf)return ha;xf=1;let e=at(),t=Fx().positionX;ha=n;function n(o){o=e.asNonCompoundGraph(o),i(o),Object.entries(t(o)).forEach(([s,r])=>o.node(s).x=r)}function i(o){let s=e.buildLayerMatrix(o),r=o.graph().ranksep,u=0;s.forEach(a=>{const l=a.reduce((c,d)=>{const f=o.node(d).height;return c>f?c:f},0);a.forEach(c=>o.node(c).y=u+l/2),u+=l+r})}return ha}var pa,Cf;function Ox(){if(Cf)return pa;Cf=1;let e=gx(),t=vx(),n=bx(),i=at().normalizeRanks,o=yx(),s=at().removeEmptyRanks,r=wx(),u=xx(),a=Cx(),l=Mx(),c=Px(),d=at(),f=Kt().Graph;pa=h;function h(H,V){let U=V&&V.debugTiming?d.time:d.notime;U("layout",()=>{let K=U("  buildLayoutGraph",()=>k(H));U("  runLayout",()=>p(K,U,V)),U("  updateInputGraph",()=>_(H,K))})}function p(H,V,U){V("    makeSpaceForEdgeLabels",()=>w(H)),V("    removeSelfEdges",()=>Z(H)),V("    acyclic",()=>e.run(H)),V("    nestingGraph.run",()=>r.run(H)),V("    rank",()=>n(d.asNonCompoundGraph(H))),V("    injectEdgeLabelProxies",()=>M(H)),V("    removeEmptyRanks",()=>s(H)),V("    nestingGraph.cleanup",()=>r.cleanup(H)),V("    normalizeRanks",()=>i(H)),V("    assignRankMinMax",()=>O(H)),V("    removeEdgeLabelProxies",()=>C(H)),V("    normalize.run",()=>t.run(H)),V("    parentDummyChains",()=>o(H)),V("    addBorderSegments",()=>u(H)),V("    order",()=>l(H,U)),V("    insertSelfEdges",()=>ne(H)),V("    adjustCoordinateSystem",()=>a.adjust(H)),V("    position",()=>c(H)),V("    positionSelfEdges",()=>oe(H)),V("    removeBorderNodes",()=>W(H)),V("    normalize.undo",()=>t.undo(H)),V("    fixupEdgeLabelCoords",()=>q(H)),V("    undoCoordinateSystem",()=>a.undo(H)),V("    translateGraph",()=>z(H)),V("    assignNodeIntersects",()=>P(H)),V("    reversePoints",()=>R(H)),V("    acyclic.undo",()=>e.undo(H))}function _(H,V){H.nodes().forEach(U=>{let K=H.node(U),ae=V.node(U);K&&(K.x=ae.x,K.y=ae.y,K.rank=ae.rank,V.children(U).length&&(K.width=ae.width,K.height=ae.height))}),H.edges().forEach(U=>{let K=H.edge(U),ae=V.edge(U);K.points=ae.points,Object.hasOwn(ae,"x")&&(K.x=ae.x,K.y=ae.y)}),H.graph().width=V.graph().width,H.graph().height=V.graph().height}let b=["nodesep","edgesep","ranksep","marginx","marginy"],y={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},v=["acyclicer","ranker","rankdir","align"],m=["width","height","rank"],g={width:0,height:0},x=["minlen","weight","width","height","labeloffset"],E={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},D=["labelpos"];function k(H){let V=new f({multigraph:!0,compound:!0}),U=le(H.graph());return V.setGraph(Object.assign({},y,ue(U,b),d.pick(U,v))),H.nodes().forEach(K=>{let ae=le(H.node(K));const fe=ue(ae,m);Object.keys(g).forEach(de=>{fe[de]===void 0&&(fe[de]=g[de])}),V.setNode(K,fe),V.setParent(K,H.parent(K))}),H.edges().forEach(K=>{let ae=le(H.edge(K));V.setEdge(K,Object.assign({},E,ue(ae,x),d.pick(ae,D)))}),V}function w(H){let V=H.graph();V.ranksep/=2,H.edges().forEach(U=>{let K=H.edge(U);K.minlen*=2,K.labelpos.toLowerCase()!=="c"&&(V.rankdir==="TB"||V.rankdir==="BT"?K.width+=K.labeloffset:K.height+=K.labeloffset)})}function M(H){H.edges().forEach(V=>{let U=H.edge(V);if(U.width&&U.height){let K=H.node(V.v),fe={rank:(H.node(V.w).rank-K.rank)/2+K.rank,e:V};d.addDummyNode(H,"edge-proxy",fe,"_ep")}})}function O(H){let V=0;H.nodes().forEach(U=>{let K=H.node(U);K.borderTop&&(K.minRank=H.node(K.borderTop).rank,K.maxRank=H.node(K.borderBottom).rank,V=Math.max(V,K.maxRank))}),H.graph().maxRank=V}function C(H){H.nodes().forEach(V=>{let U=H.node(V);U.dummy==="edge-proxy"&&(H.edge(U.e).labelRank=U.rank,H.removeNode(V))})}function z(H){let V=Number.POSITIVE_INFINITY,U=0,K=Number.POSITIVE_INFINITY,ae=0,fe=H.graph(),de=fe.marginx||0,ve=fe.marginy||0;function ge(F){let L=F.x,S=F.y,I=F.width,N=F.height;V=Math.min(V,L-I/2),U=Math.max(U,L+I/2),K=Math.min(K,S-N/2),ae=Math.max(ae,S+N/2)}H.nodes().forEach(F=>ge(H.node(F))),H.edges().forEach(F=>{let L=H.edge(F);Object.hasOwn(L,"x")&&ge(L)}),V-=de,K-=ve,H.nodes().forEach(F=>{let L=H.node(F);L.x-=V,L.y-=K}),H.edges().forEach(F=>{let L=H.edge(F);L.points.forEach(S=>{S.x-=V,S.y-=K}),Object.hasOwn(L,"x")&&(L.x-=V),Object.hasOwn(L,"y")&&(L.y-=K)}),fe.width=U-V+de,fe.height=ae-K+ve}function P(H){H.edges().forEach(V=>{let U=H.edge(V),K=H.node(V.v),ae=H.node(V.w),fe,de;U.points?(fe=U.points[0],de=U.points[U.points.length-1]):(U.points=[],fe=ae,de=K),U.points.unshift(d.intersectRect(K,fe)),U.points.push(d.intersectRect(ae,de))})}function q(H){H.edges().forEach(V=>{let U=H.edge(V);if(Object.hasOwn(U,"x"))switch((U.labelpos==="l"||U.labelpos==="r")&&(U.width-=U.labeloffset),U.labelpos){case"l":U.x-=U.width/2+U.labeloffset;break;case"r":U.x+=U.width/2+U.labeloffset;break}})}function R(H){H.edges().forEach(V=>{let U=H.edge(V);U.reversed&&U.points.reverse()})}function W(H){H.nodes().forEach(V=>{if(H.children(V).length){let U=H.node(V),K=H.node(U.borderTop),ae=H.node(U.borderBottom),fe=H.node(U.borderLeft[U.borderLeft.length-1]),de=H.node(U.borderRight[U.borderRight.length-1]);U.width=Math.abs(de.x-fe.x),U.height=Math.abs(ae.y-K.y),U.x=fe.x+U.width/2,U.y=K.y+U.height/2}}),H.nodes().forEach(V=>{H.node(V).dummy==="border"&&H.removeNode(V)})}function Z(H){H.edges().forEach(V=>{if(V.v===V.w){var U=H.node(V.v);U.selfEdges||(U.selfEdges=[]),U.selfEdges.push({e:V,label:H.edge(V)}),H.removeEdge(V)}})}function ne(H){var V=d.buildLayerMatrix(H);V.forEach(U=>{var K=0;U.forEach((ae,fe)=>{var de=H.node(ae);de.order=fe+K,(de.selfEdges||[]).forEach(ve=>{d.addDummyNode(H,"selfedge",{width:ve.label.width,height:ve.label.height,rank:de.rank,order:fe+ ++K,e:ve.e,label:ve.label},"_se")}),delete de.selfEdges})})}function oe(H){H.nodes().forEach(V=>{var U=H.node(V);if(U.dummy==="selfedge"){var K=H.node(U.e.v),ae=K.x+K.width/2,fe=K.y,de=U.x-ae,ve=K.height/2;H.setEdge(U.e,U.label),H.removeNode(V),U.label.points=[{x:ae+2*de/3,y:fe-ve},{x:ae+5*de/6,y:fe-ve},{x:ae+de,y:fe},{x:ae+5*de/6,y:fe+ve},{x:ae+2*de/3,y:fe+ve}],U.label.x=U.x,U.label.y=U.y}})}function ue(H,V){return d.mapValues(d.pick(H,V),Number)}function le(H){var V={};return H&&Object.entries(H).forEach(([U,K])=>{typeof U=="string"&&(U=U.toLowerCase()),V[U]=K}),V}return pa}var ma,Ef;function Lx(){if(Ef)return ma;Ef=1;let e=at(),t=Kt().Graph;ma={debugOrdering:n};function n(i){let o=e.buildLayerMatrix(i),s=new t({compound:!0,multigraph:!0}).setGraph({});return i.nodes().forEach(r=>{s.setNode(r,{label:r}),s.setParent(r,"layer"+i.node(r).rank)}),i.edges().forEach(r=>s.setEdge(r.v,r.w,{},r.name)),o.forEach((r,u)=>{let a="layer"+u;s.setNode(a,{rank:"same"}),r.reduce((l,c)=>(s.setEdge(l,c,{style:"invis"}),c))}),s}return ma}var ga,Sf;function zx(){return Sf||(Sf=1,ga="1.1.5"),ga}var va,kf;function Rx(){return kf||(kf=1,va={graphlib:Kt(),layout:Ox(),debug:Lx(),util:{time:at().time,notime:at().notime},version:zx()}),va}var $x=Rx();const If=Cp($x);function Bx(){const{findNode:e}=Ne();function t(n,i,o,s="none"){var l,c;const r=new If.graphlib.Graph;r.setDefaultEdgeLabel(()=>({})),r.setGraph({rankdir:o,ranksep:50,nodesep:60});for(const d of n){if(d.data.type=="group")continue;const f=e(d.id);r.setNode(d.id,{width:((l=f==null?void 0:f.dimensions)==null?void 0:l.width)||150,height:((c=f==null?void 0:f.dimensions)==null?void 0:c.height)||50})}for(const d of i)r.setEdge(d.source,d.target);If.layout(r);let u=0,a=n.map(d=>{if(d.data.type=="group")return d;const f=r.node(d.id);return f.rank>u&&(u=f.rank),{...d,targetPosition:o==="LR"?re.Left:re.Top,sourcePosition:o==="LR"?re.Right:re.Bottom,position:{x:f.x,y:f.y}}});if(s=="none")return a;{let d=0;const f=50,h=60;for(let p=0;p<u+2;p+=2){const _=[];let b=0,y=0;for(const v of a){const m=r.node(v.id);if(m.rank==p){if(s=="top"){let g=null;for(const x of i)if(x.target==v.id){const E=r.node(x.source);g?g=Math.min(g,E.y):g=E.y}m.x=d,m.y=y,g&&(m.y=Math.max(g,m.y))}else if(s=="center"){let g=null;for(const x of i)if(x.target==v.id){const E=r.node(x.source);g?g=Math.min(g,E.y+E.height/2):g=E.y+E.height/2}m.x=d,m.y=y,g&&(y==0?m.y=g-m.height/2:m.y=Math.max(g,m.y+m.height/2)-m.height/2)}_.push(v),m.width>b&&(b=m.width),y=m.y+m.height+h}}y>h&&(y-=h),d+=b+f}}return a=n.map(d=>{if(d.data.type=="group")return d;const f=r.node(d.id);return{...d,targetPosition:o==="LR"?re.Left:re.Top,sourcePosition:o==="LR"?re.Right:re.Bottom,position:{x:f.x,y:f.y}}}),a}return{calcLayout:t}}let $t={app:null,ctx:null,cahce_workspace:null,isDebug:!1,md:null,fn_renderMarkdown:()=>{},fn_request:()=>{},fn_newView:async()=>{}};const Vx={key:0,class:"node-item-name"},Hx=["title"],Ux=be({__name:"MarkdownItem",props:{data:{}},setup(e){const t=e,n=ce();t.data.value||(t.data.value="");const{findNode:i}=Ne(),o=i(t.data.parentId),s=me({get:()=>{let u;return o&&o.data.runState!="none"&&t.data.cacheValue&&t.data.value!=""?u=t.data.cacheValue:u=t.data.value,We(()=>{n.value.innerHTML="",r(u,n.value)}),u},set:u=>{t.data.value=u}});let r=$t.fn_renderMarkdown;return it(()=>{!n.value||!r||r(s.value,n.value)}),(u,a)=>(X(),Q("div",{class:Ue(["markdown-item node-item-slot",{...t.data.refType,"has-value":s.value!="","mulline-value":s.value.includes(`
`)}])},[t.data.name?(X(),Q("span",Vx,we(t.data.name),1)):Oe("",!0),t.data.value?(X(),Q("div",{key:1,class:"node-item-value nodrag nowhell",spellcheck:"false",ref_key:"MdArea",ref:n,title:u.data.cacheValue,contenteditable:"true"},null,8,Hx)):Oe("",!0),a[0]||(a[0]=A("div",{style:{height:"0",clear:"both"}},null,-1))],2))}}),ql=Xe(Ux,[["__scopeId","data-v-b302abfb"]]),qx=["type"],Gx=be({__name:"ObcanvasNode",props:{id:{},data:{}},setup(e){const n=ce({name:"",value:e.data.label,refType:"value",valueType:"item-markdown"});return(i,o)=>(X(),Q(Se,null,[A("div",{class:"obcanvas-node",type:i.data.type},[Fe(A("div",{class:"obcanvas-group"},we(n.value.value),513),[[lt,i.data.type=="group"]]),Fe(te(ql,{data:n.value},null,8,["data"]),[[lt,i.data.type!="group"]])],8,qx),te($(Je),{id:"left",type:"target",position:$(re).Left},null,8,["position"]),te($(Je),{id:"top",type:"target",position:$(re).Top},null,8,["position"]),te($(Je),{id:"right",type:"source",position:$(re).Right},null,8,["position"]),te($(Je),{id:"bottom",type:"source",position:$(re).Bottom},null,8,["position"])],64))}}),jx=Xe(Gx,[["__scopeId","data-v-460d2d0c"]]),Wx={class:"comfyui-node"},Zx={class:"node-id"},Yx=["aria-label"],Xx={class:"node-title"},Kx={style:{display:"inline-block","margin-left":"10px"}},Jx={class:"node-content"},Qx={class:"node-handle-name"},eC={class:"left"},tC={class:"item"},nC={class:"right"},iC={class:"item"},oC={class:"node-self-attr"},sC={class:"item-c"},rC={class:"item"},uC=be({__name:"ComfyUINode",props:{id:{type:String,required:!0},data:{type:Object,required:!0}},setup(e){var i,o,s,r;const t=e,n=ce(!1);return n.value=((o=(i=t.data)==null?void 0:i.inputs)==null?void 0:o.length)!=0||((r=(s=t.data)==null?void 0:s.outputs)==null?void 0:r.length)!=0,(u,a)=>(X(),Q("div",Wx,[A("div",Zx,[A("div",null," #"+we(e.id),1)]),A("div",{class:"node-main","aria-label":e.data.label},[A("div",Xx,[a[0]||(a[0]=A("span",{style:{display:"inline-block",height:"10px",width:"10px","border-radius":"5px","background-color":"#666666"}},null,-1)),A("span",Kx,we(e.data.label),1)]),A("div",Jx,[A("div",Qx,[A("div",eC,[(X(!0),Q(Se,null,rt(e.data.inputs,(l,c)=>(X(),Q("div",tC,we(l.hasOwnProperty("label")?l.label:l.hasOwnProperty("name")?l.name:l.type),1))),256))]),A("div",nC,[(X(!0),Q(Se,null,rt(e.data.outputs,(l,c)=>(X(),Q("div",iC,we(l.hasOwnProperty("label")?l.label:l.hasOwnProperty("name")?l.name:l.type),1))),256))])]),A("div",oC,[(X(!0),Q(Se,null,rt(e.data.widgets_values,(l,c)=>(X(),Q("div",sC,[A("div",rC,we(l),1)]))),256))])]),(X(!0),Q(Se,null,rt(e.data.inputs,(l,c)=>(X(),tt($(Je),{key:c,id:l.hasOwnProperty("id")?l.id:"target-"+c,class:"comfyui",indexAttr:c,nameAttr:l.hasOwnProperty("label")?l.label:l.hasOwnProperty("name")?l.name:l.type,nameMapAttr:(l.hasOwnProperty("label")?l.label:l.hasOwnProperty("name")?l.name:l.type).toLowerCase().charCodeAt(0)%20,type:"target",position:$(re).Left},null,8,["id","indexAttr","nameAttr","nameMapAttr","position"]))),128)),(X(!0),Q(Se,null,rt(e.data.outputs,(l,c)=>(X(),tt($(Je),{key:c,id:l.hasOwnProperty("id")?l.id:"source-"+c,class:"comfyui",indexAttr:c,nameAttr:l.hasOwnProperty("label")?l.label:l.hasOwnProperty("name")?l.name:l.type,nameMapAttr:(l.hasOwnProperty("label")?l.label:l.hasOwnProperty("name")?l.name:l.type).toLowerCase().charCodeAt(0)%20,type:"source",position:$(re).Right},null,8,["id","indexAttr","nameAttr","nameMapAttr","position"]))),128))],8,Yx)]))}}),aC=["aria-label"],lC={class:"comfyui-node-title"},cC={style:{display:"inline-block","margin-left":"10px"}},dC=be({__name:"ComfyUINodeGroup",props:{id:{type:String,required:!0},data:{type:Object,required:!0}},setup(e){return(t,n)=>(X(),Q("div",{class:"comfyui-node comfyui-group","aria-label":e.data.label},[A("div",lC,[n[0]||(n[0]=A("span",{style:{display:"inline-block",height:"10px",width:"10px","border-radius":"5px","background-color":"#666666"}},null,-1)),A("span",cC,we(e.data.label),1)])],8,aC))}}),fC=Xe(dC,[["__scopeId","data-v-01ed208e"]]),hC={class:"common-node"},pC={class:"node-id"},mC=["aria-label"],gC={class:"node-title"},vC={style:{display:"inline-block","margin-left":"10px"}},_C={class:"node-content"},bC={class:"node-content-handle"},yC={class:"left"},wC={class:"line"},xC={class:"item-sub item-name"},CC={key:0,class:"item-sub item-value"},EC={class:"item-sub-sub"},SC={class:"left"},kC={class:"right"},IC={class:"line"},AC={class:"item-sub item-name"},DC={key:0,class:"item-sub item-value"},NC={class:"node-content-self"},TC={class:"line"},MC={class:"item-sub"},FC={class:"item-name"},PC={class:"item-value"},OC=be({__name:"CommonNode",props:{id:{type:String,required:!0},data:{type:Object,required:!0}},setup(e){var i,o,s,r;const t=e,n=ce(!1);return n.value=((o=(i=t.data)==null?void 0:i.inputs)==null?void 0:o.length)!=0||((r=(s=t.data)==null?void 0:s.outputs)==null?void 0:r.length)!=0,(u,a)=>(X(),Q("div",hC,[A("div",pC,[A("div",null," #"+we(e.id),1)]),A("div",{class:"node-main","aria-label":e.data.label},[A("div",gC,[a[0]||(a[0]=A("span",{style:{display:"inline-block",height:"10px",width:"10px","border-radius":"5px","background-color":"#666666"}},null,-1)),A("span",vC,we(e.data.label),1)]),A("div",_C,[A("div",bC,[A("div",yC,[(X(!0),Q(Se,null,rt(e.data.inputs,(l,c)=>(X(),Q("div",wC,[A("span",xC,we(l.hasOwnProperty("label")?l.label:l.hasOwnProperty("name")?l.name:l.type),1),l.value?(X(),Q("span",CC,[A("div",EC,[A("span",SC,we(l.value),1)])])):Oe("",!0)]))),256))]),A("div",kC,[(X(!0),Q(Se,null,rt(e.data.outputs,(l,c)=>(X(),Q("div",IC,[A("span",AC,we(l.hasOwnProperty("label")?l.label:l.hasOwnProperty("name")?l.name:l.type),1),l.value?(X(),Q("span",DC,[A("div",null,we(l.value),1)])):Oe("",!0)]))),256))])]),A("div",NC,[(X(!0),Q(Se,null,rt(e.data.values,(l,c)=>(X(),Q("div",TC,[A("div",MC,[A("span",FC,we(l.name),1),A("span",PC,we(l.value),1),a[1]||(a[1]=A("div",{style:{height:"0",clear:"both"}},null,-1))])]))),256))])]),(X(!0),Q(Se,null,rt(e.data.inputs,(l,c)=>(X(),tt($(Je),{key:c,id:l.hasOwnProperty("id")?l.id:"target-"+c,class:"custom",indexAttr:c,nameAttr:l.hasOwnProperty("label")?l.label:l.hasOwnProperty("name")?l.name:l.type,nameMapAttr:(l.hasOwnProperty("id")?l.id:"target-"+c).toLowerCase().charCodeAt(0)%20,type:"target",position:$(re).Left},null,8,["id","indexAttr","nameAttr","nameMapAttr","position"]))),128)),(X(!0),Q(Se,null,rt(e.data.outputs,(l,c)=>(X(),tt($(Je),{key:c,id:l.hasOwnProperty("id")?l.id:"source-"+c,class:"custom",indexAttr:c,nameAttr:l.hasOwnProperty("label")?l.label:l.hasOwnProperty("name")?l.name:l.type,nameMapAttr:(l.hasOwnProperty("id")?l.id:"target-"+c).toLowerCase().charCodeAt(0)%20,type:"source",position:$(re).Right},null,8,["id","indexAttr","nameAttr","nameMapAttr","position"]))),128)),Fe(te($(Je),{id:"l",class:"default",type:"target",position:$(re).Left},null,8,["position"]),[[lt,!n.value]]),Fe(te($(Je),{id:"t",class:"default",position:$(re).Top},null,8,["position"]),[[lt,!n.value]]),Fe(te($(Je),{id:"r",class:"default",type:"source",position:$(re).Right},null,8,["position"]),[[lt,!n.value]]),Fe(te($(Je),{id:"b",class:"default",position:$(re).Bottom},null,8,["position"]),[[lt,!n.value]])],8,mC)]))}}),Np=be({__name:"ItemNodeSlot",props:{index:{type:Number,required:!0},item:{type:Object,required:!0}},setup(e){const t=e,i=Qt()!="";return(o,s)=>(X(),Q(Se,null,[(e.item.refType==="input"||e.item.refType==="i"||e.item.refType==="io")&&i?(X(),tt($(Je),{key:0,class:"node-item-handle",id:e.item.hasOwnProperty("id")?e.item.id:"target-"+e.index,title:e.item.hasOwnProperty("id")?e.item.id:"target-"+e.index,indexAttr:e.index,nameAttr:e.item.hasOwnProperty("label")?e.item.label:e.item.hasOwnProperty("name")?e.item.name:e.item.type,nameMapAttr:(e.item.hasOwnProperty("id")?e.item.id:"target-"+e.index).toLowerCase().charCodeAt(0)%20,"type-attr":e.item.hasOwnProperty("valueType")?e.item.valueType:"item-string","type-map-attr":(e.item.hasOwnProperty("valueType")?e.item.valueType:"item-string").toLowerCase().charCodeAt(6)%20,type:"target",position:$(re).Left},null,8,["id","title","indexAttr","nameAttr","nameMapAttr","type-attr","type-map-attr","position"])):Oe("",!0),(e.item.refType==="output"||e.item.refType==="o"||e.item.refType==="io")&&i?(X(),tt($(Je),{key:1,class:"node-item-handle",id:e.item.hasOwnProperty("id")?e.item.id:"source-"+e.index,title:e.item.hasOwnProperty("id")?e.item.id:"source-"+e.index,indexAttr:e.index,nameAttr:e.item.hasOwnProperty("label")?e.item.label:e.item.hasOwnProperty("name")?e.item.name:e.item.type,nameMapAttr:(e.item.hasOwnProperty("id")?e.item.id:"source-"+e.index).toLowerCase().charCodeAt(0)%20,"type-attr":e.item.hasOwnProperty("valueType")?e.item.valueType:"item-string","type-map-attr":(e.item.hasOwnProperty("valueType")?e.item.valueType:"item-string").toLowerCase().charCodeAt(6)%20,type:"source",position:$(re).Right},null,8,["id","title","indexAttr","nameAttr","nameMapAttr","type-attr","type-map-attr","position"])):Oe("",!0),It(o.$slots,t.item.valueType,{id:t.item.id,data:t.item})],64))}});var _a={exports:{}},Af;function LC(){return Af||(Af=1,function(e){var t=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var n=function(i){var o=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,s=0,r={},u={manual:i.Prism&&i.Prism.manual,disableWorkerMessageHandler:i.Prism&&i.Prism.disableWorkerMessageHandler,util:{encode:function v(m){return m instanceof a?new a(m.type,v(m.content),m.alias):Array.isArray(m)?m.map(v):m.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(v){return Object.prototype.toString.call(v).slice(8,-1)},objId:function(v){return v.__id||Object.defineProperty(v,"__id",{value:++s}),v.__id},clone:function v(m,g){g=g||{};var x,E;switch(u.util.type(m)){case"Object":if(E=u.util.objId(m),g[E])return g[E];x={},g[E]=x;for(var D in m)m.hasOwnProperty(D)&&(x[D]=v(m[D],g));return x;case"Array":return E=u.util.objId(m),g[E]?g[E]:(x=[],g[E]=x,m.forEach(function(k,w){x[w]=v(k,g)}),x);default:return m}},getLanguage:function(v){for(;v;){var m=o.exec(v.className);if(m)return m[1].toLowerCase();v=v.parentElement}return"none"},setLanguage:function(v,m){v.className=v.className.replace(RegExp(o,"gi"),""),v.classList.add("language-"+m)},currentScript:function(){if(typeof document>"u")return null;if(document.currentScript&&document.currentScript.tagName==="SCRIPT")return document.currentScript;try{throw new Error}catch(x){var v=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(x.stack)||[])[1];if(v){var m=document.getElementsByTagName("script");for(var g in m)if(m[g].src==v)return m[g]}return null}},isActive:function(v,m,g){for(var x="no-"+m;v;){var E=v.classList;if(E.contains(m))return!0;if(E.contains(x))return!1;v=v.parentElement}return!!g}},languages:{plain:r,plaintext:r,text:r,txt:r,extend:function(v,m){var g=u.util.clone(u.languages[v]);for(var x in m)g[x]=m[x];return g},insertBefore:function(v,m,g,x){x=x||u.languages;var E=x[v],D={};for(var k in E)if(E.hasOwnProperty(k)){if(k==m)for(var w in g)g.hasOwnProperty(w)&&(D[w]=g[w]);g.hasOwnProperty(k)||(D[k]=E[k])}var M=x[v];return x[v]=D,u.languages.DFS(u.languages,function(O,C){C===M&&O!=v&&(this[O]=D)}),D},DFS:function v(m,g,x,E){E=E||{};var D=u.util.objId;for(var k in m)if(m.hasOwnProperty(k)){g.call(m,k,m[k],x||k);var w=m[k],M=u.util.type(w);M==="Object"&&!E[D(w)]?(E[D(w)]=!0,v(w,g,null,E)):M==="Array"&&!E[D(w)]&&(E[D(w)]=!0,v(w,g,k,E))}}},plugins:{},highlightAll:function(v,m){u.highlightAllUnder(document,v,m)},highlightAllUnder:function(v,m,g){var x={callback:g,container:v,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};u.hooks.run("before-highlightall",x),x.elements=Array.prototype.slice.apply(x.container.querySelectorAll(x.selector)),u.hooks.run("before-all-elements-highlight",x);for(var E=0,D;D=x.elements[E++];)u.highlightElement(D,m===!0,x.callback)},highlightElement:function(v,m,g){var x=u.util.getLanguage(v),E=u.languages[x];u.util.setLanguage(v,x);var D=v.parentElement;D&&D.nodeName.toLowerCase()==="pre"&&u.util.setLanguage(D,x);var k=v.textContent,w={element:v,language:x,grammar:E,code:k};function M(C){w.highlightedCode=C,u.hooks.run("before-insert",w),w.element.innerHTML=w.highlightedCode,u.hooks.run("after-highlight",w),u.hooks.run("complete",w),g&&g.call(w.element)}if(u.hooks.run("before-sanity-check",w),D=w.element.parentElement,D&&D.nodeName.toLowerCase()==="pre"&&!D.hasAttribute("tabindex")&&D.setAttribute("tabindex","0"),!w.code){u.hooks.run("complete",w),g&&g.call(w.element);return}if(u.hooks.run("before-highlight",w),!w.grammar){M(u.util.encode(w.code));return}if(m&&i.Worker){var O=new Worker(u.filename);O.onmessage=function(C){M(C.data)},O.postMessage(JSON.stringify({language:w.language,code:w.code,immediateClose:!0}))}else M(u.highlight(w.code,w.grammar,w.language))},highlight:function(v,m,g){var x={code:v,grammar:m,language:g};if(u.hooks.run("before-tokenize",x),!x.grammar)throw new Error('The language "'+x.language+'" has no grammar.');return x.tokens=u.tokenize(x.code,x.grammar),u.hooks.run("after-tokenize",x),a.stringify(u.util.encode(x.tokens),x.language)},tokenize:function(v,m){var g=m.rest;if(g){for(var x in g)m[x]=g[x];delete m.rest}var E=new d;return f(E,E.head,v),c(v,E,m,E.head,0),p(E)},hooks:{all:{},add:function(v,m){var g=u.hooks.all;g[v]=g[v]||[],g[v].push(m)},run:function(v,m){var g=u.hooks.all[v];if(!(!g||!g.length))for(var x=0,E;E=g[x++];)E(m)}},Token:a};i.Prism=u;function a(v,m,g,x){this.type=v,this.content=m,this.alias=g,this.length=(x||"").length|0}a.stringify=function v(m,g){if(typeof m=="string")return m;if(Array.isArray(m)){var x="";return m.forEach(function(M){x+=v(M,g)}),x}var E={type:m.type,content:v(m.content,g),tag:"span",classes:["token",m.type],attributes:{},language:g},D=m.alias;D&&(Array.isArray(D)?Array.prototype.push.apply(E.classes,D):E.classes.push(D)),u.hooks.run("wrap",E);var k="";for(var w in E.attributes)k+=" "+w+'="'+(E.attributes[w]||"").replace(/"/g,"&quot;")+'"';return"<"+E.tag+' class="'+E.classes.join(" ")+'"'+k+">"+E.content+"</"+E.tag+">"};function l(v,m,g,x){v.lastIndex=m;var E=v.exec(g);if(E&&x&&E[1]){var D=E[1].length;E.index+=D,E[0]=E[0].slice(D)}return E}function c(v,m,g,x,E,D){for(var k in g)if(!(!g.hasOwnProperty(k)||!g[k])){var w=g[k];w=Array.isArray(w)?w:[w];for(var M=0;M<w.length;++M){if(D&&D.cause==k+","+M)return;var O=w[M],C=O.inside,z=!!O.lookbehind,P=!!O.greedy,q=O.alias;if(P&&!O.pattern.global){var R=O.pattern.toString().match(/[imsuy]*$/)[0];O.pattern=RegExp(O.pattern.source,R+"g")}for(var W=O.pattern||O,Z=x.next,ne=E;Z!==m.tail&&!(D&&ne>=D.reach);ne+=Z.value.length,Z=Z.next){var oe=Z.value;if(m.length>v.length)return;if(!(oe instanceof a)){var ue=1,le;if(P){if(le=l(W,ne,v,z),!le||le.index>=v.length)break;var K=le.index,H=le.index+le[0].length,V=ne;for(V+=Z.value.length;K>=V;)Z=Z.next,V+=Z.value.length;if(V-=Z.value.length,ne=V,Z.value instanceof a)continue;for(var U=Z;U!==m.tail&&(V<H||typeof U.value=="string");U=U.next)ue++,V+=U.value.length;ue--,oe=v.slice(ne,V),le.index-=ne}else if(le=l(W,0,oe,z),!le)continue;var K=le.index,ae=le[0],fe=oe.slice(0,K),de=oe.slice(K+ae.length),ve=ne+oe.length;D&&ve>D.reach&&(D.reach=ve);var ge=Z.prev;fe&&(ge=f(m,ge,fe),ne+=fe.length),h(m,ge,ue);var F=new a(k,C?u.tokenize(ae,C):ae,q,ae);if(Z=f(m,ge,F),de&&f(m,Z,de),ue>1){var L={cause:k+","+M,reach:ve};c(v,m,g,Z.prev,ne,L),D&&L.reach>D.reach&&(D.reach=L.reach)}}}}}}function d(){var v={value:null,prev:null,next:null},m={value:null,prev:v,next:null};v.next=m,this.head=v,this.tail=m,this.length=0}function f(v,m,g){var x=m.next,E={value:g,prev:m,next:x};return m.next=E,x.prev=E,v.length++,E}function h(v,m,g){for(var x=m.next,E=0;E<g&&x!==v.tail;E++)x=x.next;m.next=x,x.prev=m,v.length-=E}function p(v){for(var m=[],g=v.head.next;g!==v.tail;)m.push(g.value),g=g.next;return m}if(!i.document)return i.addEventListener&&(u.disableWorkerMessageHandler||i.addEventListener("message",function(v){var m=JSON.parse(v.data),g=m.language,x=m.code,E=m.immediateClose;i.postMessage(u.highlight(x,u.languages[g],g)),E&&i.close()},!1)),u;var _=u.util.currentScript();_&&(u.filename=_.src,_.hasAttribute("data-manual")&&(u.manual=!0));function b(){u.manual||u.highlightAll()}if(!u.manual){var y=document.readyState;y==="loading"||y==="interactive"&&_&&_.defer?document.addEventListener("DOMContentLoaded",b):window.requestAnimationFrame?window.requestAnimationFrame(b):window.setTimeout(b,16)}return u}(t);e.exports&&(e.exports=n),typeof Md<"u"&&(Md.Prism=n),n.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},n.languages.markup.tag.inside["attr-value"].inside.entity=n.languages.markup.entity,n.languages.markup.doctype.inside["internal-subset"].inside=n.languages.markup,n.hooks.add("wrap",function(i){i.type==="entity"&&(i.attributes.title=i.content.replace(/&amp;/,"&"))}),Object.defineProperty(n.languages.markup.tag,"addInlined",{value:function(o,s){var r={};r["language-"+s]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:n.languages[s]},r.cdata=/^<!\[CDATA\[|\]\]>$/i;var u={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:r}};u["language-"+s]={pattern:/[\s\S]+/,inside:n.languages[s]};var a={};a[o]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return o}),"i"),lookbehind:!0,greedy:!0,inside:u},n.languages.insertBefore("markup","cdata",a)}}),Object.defineProperty(n.languages.markup.tag,"addAttribute",{value:function(i,o){n.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+i+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[o,"language-"+o],inside:n.languages[o]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),n.languages.html=n.languages.markup,n.languages.mathml=n.languages.markup,n.languages.svg=n.languages.markup,n.languages.xml=n.languages.extend("markup",{}),n.languages.ssml=n.languages.xml,n.languages.atom=n.languages.xml,n.languages.rss=n.languages.xml,function(i){var o=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;i.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+o.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+o.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+o.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+o.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:o,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},i.languages.css.atrule.inside.rest=i.languages.css;var s=i.languages.markup;s&&(s.tag.addInlined("style","css"),s.tag.addAttribute("style","css"))}(n),n.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},n.languages.javascript=n.languages.extend("clike",{"class-name":[n.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),n.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,n.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:n.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:n.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:n.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:n.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:n.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),n.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:n.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),n.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),n.languages.markup&&(n.languages.markup.tag.addInlined("script","javascript"),n.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),n.languages.js=n.languages.javascript,function(){if(typeof n>"u"||typeof document>"u")return;Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var i="Loading…",o=function(_,b){return"✖ Error "+_+" while fetching file: "+b},s="✖ Error: File does not exist or is empty",r={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},u="data-src-status",a="loading",l="loaded",c="failed",d="pre[data-src]:not(["+u+'="'+l+'"]):not(['+u+'="'+a+'"])';function f(_,b,y){var v=new XMLHttpRequest;v.open("GET",_,!0),v.onreadystatechange=function(){v.readyState==4&&(v.status<400&&v.responseText?b(v.responseText):v.status>=400?y(o(v.status,v.statusText)):y(s))},v.send(null)}function h(_){var b=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(_||"");if(b){var y=Number(b[1]),v=b[2],m=b[3];return v?m?[y,Number(m)]:[y,void 0]:[y,y]}}n.hooks.add("before-highlightall",function(_){_.selector+=", "+d}),n.hooks.add("before-sanity-check",function(_){var b=_.element;if(b.matches(d)){_.code="",b.setAttribute(u,a);var y=b.appendChild(document.createElement("CODE"));y.textContent=i;var v=b.getAttribute("data-src"),m=_.language;if(m==="none"){var g=(/\.(\w+)$/.exec(v)||[,"none"])[1];m=r[g]||g}n.util.setLanguage(y,m),n.util.setLanguage(b,m);var x=n.plugins.autoloader;x&&x.loadLanguages(m),f(v,function(E){b.setAttribute(u,l);var D=h(b.getAttribute("data-range"));if(D){var k=E.split(/\r\n?|\n/g),w=D[0],M=D[1]==null?k.length:D[1];w<0&&(w+=k.length),w=Math.max(0,Math.min(w-1,k.length)),M<0&&(M+=k.length),M=Math.max(0,Math.min(M,k.length)),E=k.slice(w,M).join(`
`),b.hasAttribute("data-start")||b.setAttribute("data-start",String(w+1))}y.textContent=E,n.highlightElement(y)},function(E){b.setAttribute(u,c),y.textContent=E})}}),n.plugins.fileHighlight={highlight:function(b){for(var y=(b||document).querySelectorAll(d),v=0,m;m=y[v++];)n.highlightElement(m)}};var p=!1;n.fileHighlight=function(){p||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),p=!0),n.plugins.fileHighlight.highlight.apply(this,arguments)}}()}(_a)),_a.exports}var zC=LC();const ba=Cp(zC);Prism.languages.javascript=Prism.languages.extend("clike",{"class-name":[Prism.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/});Prism.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/;Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Prism.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:Prism.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/});Prism.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}});Prism.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}});Prism.languages.markup&&(Prism.languages.markup.tag.addInlined("script","javascript"),Prism.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript"));Prism.languages.js=Prism.languages.javascript;Prism.languages.json={property:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,lookbehind:!0,greedy:!0},string:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,lookbehind:!0,greedy:!0},comment:{pattern:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,punctuation:/[{}[\],]/,operator:/:/,boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"}};Prism.languages.webmanifest=Prism.languages.json;const RC={class:"nf-textarea-p"},$C=["title"],BC=["innerHTML"],VC=["title","rows"],HC=be({__name:"NFTextArea",props:{data:{},isHideBorder:{type:Boolean,default:!1},codeType:{default:"json"}},setup(e){const t=e;t.data.value||(t.data.value="");const{findNode:n}=Ne(),i=n(t.data.parentId),o=me({get:()=>{var _,b,y,v,m,g;let p;return i&&i.data.runState!="none"&&t.data.cacheValue&&t.data.value!=""?((_=r.value??l.value)==null||_.setAttribute("read-only",""),(b=r.value??l.value)==null||b.setAttribute("disabled",""),(y=r.value??l.value)==null||y.setAttribute("is-cache-value","true"),p=t.data.cacheValue):((v=r.value??l.value)==null||v.removeAttribute("read-only"),(m=r.value??l.value)==null||m.removeAttribute("disabled"),(g=r.value??l.value)==null||g.setAttribute("is-cache-value","false"),p=t.data.value),r!=null&&r.value&&We(()=>{s(r.value)}),c.value&&ba.highlightElement(c.value),p},set:p=>{t.data.value=p}});function s(p){p&&(p.style.height="auto",p.style.width="auto",p.scrollWidth&&(p.style.width=p.scrollWidth+12+"px"))}const r=ce(null),u=me(()=>o.value.includes(`
`));it(()=>{We(()=>{s(r.value)})});function a(p){We(()=>{s(p.target)})}const l=ce(null),c=ce(null);it(async()=>{await We(),c.value&&ba.highlightElement(c.value)});async function d(p){if(!c.value)return;const _=f(l.value),b=c.value.textContent||"";o.value=b,await We(),ba.highlightElement(c.value),_&&h(l.value,_.start,_.end)}function f(p){const _=window.getSelection();if(!_||_.rangeCount===0)return null;const b=_.getRangeAt(0),y=document.createRange();y.selectNodeContents(p),y.setEnd(b.startContainer,b.startOffset);const v=y.toString().length;return{start:v,end:v+b.toString().length}}function h(p,_,b){const y=document.createRange();let v=0,m=!1,g=!1;function x(D){var k;if(D.nodeType===Node.TEXT_NODE){const w=v+(((k=D.nodeValue)==null?void 0:k.length)??0);!m&&_>=v&&_<=w&&(y.setStart(D,_-v),m=!0),m&&!g&&b>=v&&b<=w&&(y.setEnd(D,b-v),g=!0),v=w}else for(const w of Array.from(D.childNodes))if(x(w),g)break}x(p);const E=window.getSelection();E==null||E.removeAllRanges(),E==null||E.addRange(y)}return(p,_)=>(X(),Q("div",RC,[p.codeType!=""?(X(),Q("pre",{key:0,ref_key:"ref_pre",ref:l,onInput:d,class:Ue(["nf-textarea nodrag nowhell",{"without-border":p.isHideBorder,"mulline-value":u.value}]),contenteditable:"true",spellcheck:"false",title:"cacheValue: "+p.data.cacheValue},[A("code",{ref_key:"ref_code",ref:c,class:Ue("language-"+p.codeType),innerHTML:o.value},null,10,BC)],42,$C)):Oe("",!0),p.codeType==""?Fe((X(),Q("textarea",{key:1,ref_key:"ref_textArea",ref:r,onInput:a,"onUpdate:modelValue":_[0]||(_[0]=b=>o.value=b),class:Ue(["nf-textarea nodrag nowhell",{"without-border":p.isHideBorder,"mulline-value":u.value}]),spellcheck:"false",title:"cacheValue: "+p.data.cacheValue,rows:o.value.split(`
`).length,cols:"10"},null,42,VC)),[[Qi,o.value]]):Oe("",!0)]))}}),Gl=Xe(HC,[["__scopeId","data-v-01c853a8"]]),UC={key:0,class:"node-item-name"},qC=be({__name:"StringItem",props:{data:{}},setup(e){const t=e,{findNode:n}=Ne(),i=n(t.data.parentId),o=me({get:()=>{let s;return i&&i.data.runState!="none"&&t.data.cacheValue&&t.data.value!=""?s=t.data.cacheValue:s=t.data.value,s},set:s=>{t.data.value=s}});return(s,r)=>(X(),Q("div",{ref:"TextArea2",class:Ue(["string-item node-item-slot",{...t.data.refType,"has-value":t.data.value!="","mulline-value":o.value.includes(`
`)}])},[t.data.name?(X(),Q("span",UC,we(t.data.name),1)):Oe("",!0),te(Gl,{class:"node-item-value",data:s.data,codeType:"json",isHideBorder:!0},null,8,["data"]),r[0]||(r[0]=A("div",{style:{height:"0",clear:"both"}},null,-1))],2))}}),Tp=Xe(qC,[["__scopeId","data-v-c661b090"]]),GC={key:0,class:"node-item-name"},jC=["value"],WC=be({__name:"EnumItem",props:{data:{}},setup(e){const t=e,n=me(()=>t.data.value.split("|"));n.value.length==0&&(t.data.value=[""]);const i=ce(n.value[0]);return(o,s)=>(X(),Q("div",{class:Ue("enum-item  node-item-slot "+t.data.refType+(t.data.value?" has-value":""))},[t.data.name?(X(),Q("span",GC,we(t.data.name),1)):Oe("",!0),t.data.value?(X(),Q("div",{key:1,class:"node-item-value",style:wt("background:"+t.data.value)},[Fe(A("select",{"onUpdate:modelValue":s[0]||(s[0]=r=>i.value=r)},[(X(!0),Q(Se,null,rt(n.value,r=>(X(),Q("option",{value:r},we(r),9,jC))),256))],512),[[kl,i.value]])],4)):Oe("",!0),s[1]||(s[1]=A("div",{style:{height:"0",clear:"both"}},null,-1))],2))}}),Mp=Xe(WC,[["__scopeId","data-v-228ab195"]]),ZC={key:0,class:"node-item-name"},YC=be({__name:"ColorItem",props:{data:{}},setup(e){const t=e;t.data.value||(t.data.value="#fff");function n(i){i=i.replace(/^#/,""),i.length===3&&(i=i.split("").map(a=>a+a).join(""));var o=parseInt(i.substr(0,2),16),s=parseInt(i.substr(2,2),16),r=parseInt(i.substr(4,2),16),u=(o+s+r)/3;return u>128?"black":"white"}return(i,o)=>(X(),Q("div",{class:Ue("color-item  node-item-slot "+t.data.refType+(t.data.value?" has-value":""))},[t.data.name?(X(),Q("span",ZC,we(t.data.name),1)):Oe("",!0),A("div",{class:"node-item-value",style:wt("background:"+t.data.value+"; color:"+n(t.data.value))},[te(Gl,{data:i.data,codeType:"",isHideBorder:!0},null,8,["data"])],4),o[0]||(o[0]=A("div",{style:{height:"0",clear:"both"}},null,-1))],2))}}),Fp=Xe(YC,[["__scopeId","data-v-b6c2d96e"]]);function XC(e){if(typeof e=="string")if(e=="demo")e=JSON.parse(JSON.stringify(Pp));else if(e=="demo2")e=JSON.parse(JSON.stringify(Op));else if(e=="demo3")e=JSON.parse(JSON.stringify(Lp));else return{code:-1,msg:"error demo: "+e,data:{}};for(let t of e.nodes)t.hasOwnProperty("position")||(t.position={x:0,y:0}),t.hasOwnProperty("data")||(t.data={label:""}),t.type||(t.type="process");return{code:0,msg:"",data:e}}const Pp={nodes:[{id:"1",type:"input",position:{x:250,y:5},data:{label:"Node 11"}},{id:"2",position:{x:100,y:100},data:{label:"Node 12"}},{id:"3",type:"output",position:{x:400,y:200},data:{label:"Node 13"}},{id:"4",type:"special",position:{x:600,y:100},data:{label:"Node 14",hello:"world"}}],edges:[{id:"e1->2",source:"1",target:"2"},{id:"e2->3",source:"2",target:"3",animated:!0},{id:"e3->4",type:"special",source:"3",target:"4",data:{hello:"world"}}]},Op={nodes:[{id:"1"},{id:"2"},{id:"2a"},{id:"2b"},{id:"2c"},{id:"2d"},{id:"3"},{id:"4"},{id:"5"},{id:"6"},{id:"7"}],edges:[{id:"e1-2",source:"1",target:"2",type:"animation",animated:!0},{id:"e1-3",source:"1",target:"3",type:"animation",animated:!0},{id:"e2-2a",source:"2",target:"2a",type:"animation",animated:!0},{id:"e2-2b",source:"2",target:"2b",type:"animation",animated:!0},{id:"e2-2c",source:"2",target:"2c",type:"animation",animated:!0},{id:"e2c-2d",source:"2c",target:"2d",type:"animation",animated:!0},{id:"e3-7",source:"3",target:"4",type:"animation",animated:!0},{id:"e4-5",source:"4",target:"5",type:"animation",animated:!0},{id:"e5-6",source:"5",target:"6",type:"animation",animated:!0},{id:"e5-7",source:"5",target:"7",type:"animation",animated:!0}]},Lp={nodes:[{id:"1",type:"color-selector",data:{color:"#6F3381"},position:{x:0,y:50}},{id:"2",type:"color-output",position:{x:350,y:114},targetPosition:"left"}],edges:[{id:"e1a-2",source:"1",sourceHandle:"a",target:"2",animated:!0,style:{stroke:"#6F3381"}}]};function KC(e){if(typeof e=="string")if(e=="demo")e=JSON.parse(JSON.stringify(zp));else return{code:-1,msg:"error demo: "+e,data:{}};try{let t=[];e.nodes.forEach(s=>{t.push({id:s.id,position:{x:s.x,y:s.y},...s.width?{width:s.width+"px"}:{},...s.height?{height:s.height+"px"}:{},data:{label:s.hasOwnProperty("text")?s.text:s.hasOwnProperty("file")?s.file:s.hasOwnProperty("label")?s.label:"Error Type: "+s.type,type:s.type},type:"obcanvas",...s.type=="group"?{style:{zIndex:"-1"}}:{}})});let i=[];return e.edges.forEach(s=>{i.push({id:s.id,source:s.fromNode,target:s.toNode,sourceHandle:s.fromSide,targetHandle:s.toSide,markerEnd:"arrowclosed"})}),{code:0,msg:"",data:{nodes:t,edges:i}}}catch(t){return{code:-1,msg:"error: obcanvas json parse fail: "+t,data:{}}}}const zp={nodes:[{id:"d1acdb5136ffb1f1",x:25,y:70,width:250,height:60,type:"text",text:`## Title

**Test** *1*
`},{id:"f7dc36d69da1bb36",x:330,y:70,width:250,height:60,type:"text",text:`~~Test~~ ==2==
`}],edges:[{id:"fc3f1bc43902aac9",fromNode:"d1acdb5136ffb1f1",fromSide:"right",toNode:"f7dc36d69da1bb36",toSide:"left"}]};function JC(e){if(typeof e=="string")if(e=="demo")e=JSON.parse(JSON.stringify(Rp));else if(e=="demo2")e=JSON.parse(JSON.stringify($p));else return{code:-1,msg:"error demo: "+e,data:{}};try{let t=[];e.nodes.forEach(a=>{t.push({id:""+a.id,position:{x:a.pos[0],y:a.pos[1]-30},data:{label:a.hasOwnProperty("title")?a.title:a.type,type:a.type,inputs:a.inputs,outputs:a.outputs,widgets_values:a.widgets_values},...a.hasOwnProperty("size")?{width:a.size[0]+"px",height:a.size[1]+30+"px"}:{},type:"comfyui"})});let i=[];const o=e.links,s=["#ff0000","#ff4d00","#ff9900","#ffe600","#ccff00","#80ff00","#33ff00","#00ff1a","#00ff66","#00ffb3","#00ffff","#00b3ff","#0066ff","#001aff","#3300ff","#8000ff","#cc00ff","#ff00e6","#ff0099","#ff004c"];o.forEach(a=>{const l=a[5].toLowerCase().charCodeAt(0)%20;i.push({id:""+a[0],style:{stroke:s[l]},source:""+a[1],sourceHandle:"source-"+a[2],target:""+a[3],targetHandle:"target-"+a[4]})});const r=e.groups;let u=0;return r.forEach(a=>{t.push({id:"group-"+u++,position:{x:a.bounding[0],y:a.bounding[1]},width:a.bounding[2]+"px",height:a.bounding[3]+30+"px",data:{label:a.title},...a.hasOwnProperty("color")?{style:{backgroundColor:a.color+"44",zIndex:-1}}:{},type:"comfyui-group"})}),{code:0,msg:"",data:{nodes:t,edges:i}}}catch(t){return{code:-1,msg:"error: comfyui json parse fail: "+t,data:{}}}}const Rp={last_node_id:9,last_link_id:9,nodes:[{id:6,type:"CLIPTextEncode",pos:{0:373,1:47},size:{0:422.84503173828125,1:164.31304931640625},flags:{},order:2,mode:0,inputs:[{name:"clip",type:"CLIP",link:3}],outputs:[{name:"CONDITIONING",type:"CONDITIONING",links:[4],slot_index:0}],properties:{"Node name for S&R":"CLIPTextEncode"},widgets_values:["beautiful scenery nature glass bottle landscape, , purple galaxy bottle,"]},{id:7,type:"CLIPTextEncode",pos:{0:408,1:569},size:{0:425.27801513671875,1:180.6060791015625},flags:{},order:3,mode:0,inputs:[{name:"clip",type:"CLIP",link:5}],outputs:[{name:"CONDITIONING",type:"CONDITIONING",links:[6],slot_index:0}],properties:{"Node name for S&R":"CLIPTextEncode"},widgets_values:["text, watermark"]},{id:5,type:"EmptyLatentImage",pos:{0:489,1:809},size:{0:315,1:106},flags:{},order:0,mode:0,inputs:[],outputs:[{name:"LATENT",type:"LATENT",links:[2],slot_index:0}],properties:{"Node name for S&R":"EmptyLatentImage"},widgets_values:[512,512,1]},{id:8,type:"VAEDecode",pos:{0:1325,1:336},size:{0:210,1:46},flags:{},order:5,mode:0,inputs:[{name:"samples",type:"LATENT",link:7},{name:"vae",type:"VAE",link:8}],outputs:[{name:"IMAGE",type:"IMAGE",links:[9],slot_index:0}],properties:{"Node name for S&R":"VAEDecode"},widgets_values:[]},{id:9,type:"SaveImage",pos:{0:1577,1:335},size:[210,270],flags:{},order:6,mode:0,inputs:[{name:"images",type:"IMAGE",link:9}],outputs:[],properties:{},widgets_values:["ComfyUI"]},{id:3,type:"KSampler",pos:{0:941,1:377},size:{0:315,1:262},flags:{},order:4,mode:0,inputs:[{name:"model",type:"MODEL",link:1},{name:"positive",type:"CONDITIONING",link:4},{name:"negative",type:"CONDITIONING",link:6},{name:"latent_image",type:"LATENT",link:2}],outputs:[{name:"LATENT",type:"LATENT",links:[7],slot_index:0}],properties:{"Node name for S&R":"KSampler"},widgets_values:[984943483018319,"randomize",20,8,"euler","normal",1]},{id:4,type:"CheckpointLoaderSimple",pos:{0:19,1:438},size:{0:315,1:98},flags:{},order:1,mode:0,inputs:[],outputs:[{name:"MODEL",type:"MODEL",links:[1],slot_index:0},{name:"CLIP",type:"CLIP",links:[3,5],slot_index:1},{name:"VAE",type:"VAE",links:[8],slot_index:2}],properties:{"Node name for S&R":"CheckpointLoaderSimple"},widgets_values:["abyssorangemix2SFW_abyssorangemix2Sfw.safetensors"]}],links:[[1,4,0,3,0,"MODEL"],[2,5,0,3,3,"LATENT"],[3,4,1,6,0,"CLIP"],[4,6,0,3,1,"CONDITIONING"],[5,4,1,7,0,"CLIP"],[6,7,0,3,2,"CONDITIONING"],[7,3,0,8,0,"LATENT"],[8,4,2,8,1,"VAE"],[9,8,0,9,0,"IMAGE"]],groups:[],config:{},extra:{ds:{scale:1.1000000000000003,offset:[105.73286361205797,93.22187298366379]}},version:.4},$p={last_node_id:103,last_link_id:127,nodes:[{id:52,type:"ADE_StandardUniformContextOptions",pos:[1689,830],size:{0:327.6000061035156,1:222},flags:{},order:0,mode:0,inputs:[{link:null,name:"prev_context",type:"CONTEXT_OPTIONS",label:"前上下文"},{link:null,name:"view_opts",type:"VIEW_OPTS",label:"视图设置"}],outputs:[{links:[40],name:"CONTEXT_OPTS",shape:3,type:"CONTEXT_OPTIONS",label:"上下文设置"}],properties:{"Node name for S&R":"ADE_StandardUniformContextOptions"},widgets_values:[16,1,4,"pyramid",!1,0,1]},{id:49,type:"ADE_ApplyAnimateDiffModelSimple",pos:[1703,675],size:{0:304.79998779296875,1:106},flags:{},order:11,mode:0,inputs:[{link:37,name:"motion_model",type:"MOTION_MODEL_ADE",label:"动态模型"},{link:null,name:"motion_lora",slot_index:1,type:"MOTION_LORA",label:"动态LoRA"},{link:null,name:"scale_multival",type:"MULTIVAL",label:"缩放多值"},{link:null,name:"effect_multival",type:"MULTIVAL",label:"效果多值"},{link:null,name:"ad_keyframes",type:"AD_KEYFRAMES",label:"AD关键帧"}],outputs:[{links:[38],name:"M_MODELS",shape:3,slot_index:0,type:"M_MODELS",label:"动态模型组"}],properties:{"Node name for S&R":"ADE_ApplyAnimateDiffModelSimple"}},{id:47,type:"ADE_LoadAnimateDiffModel",pos:[1190,600],size:{0:340,1:60},flags:{},order:1,mode:0,inputs:[{link:null,name:"ad_settings",type:"AD_SETTINGS",label:"AD设置"}],outputs:[{links:[37],name:"MOTION_MODEL",shape:3,slot_index:0,type:"MOTION_MODEL_ADE",label:"动态模型"}],properties:{"Node name for S&R":"ADE_LoadAnimateDiffModel"},widgets_values:["AnimateLCM\\sd15_t2v_beta.ckpt"]},{id:70,type:"ControlNetLoaderAdvanced",pos:[900,1390],size:{0:367.79998779296875,1:58},flags:{},order:2,mode:0,inputs:[{name:"timestep_keyframe",type:"TIMESTEP_KEYFRAME",link:null,label:"帧间隔"}],outputs:[{name:"CONTROL_NET",type:"CONTROL_NET",links:[75],shape:3,label:"ControlNet"}],properties:{"Node name for S&R":"ControlNetLoaderAdvanced"},widgets_values:["1.5\\control_v11p_sd15_openpose.pth"]},{id:69,type:"ACN_AdvancedControlNetApply",pos:[1680,1110],size:{0:355.20001220703125,1:266},flags:{},order:20,mode:0,inputs:[{name:"positive",type:"CONDITIONING",link:71,label:"正面条件"},{name:"negative",type:"CONDITIONING",link:72,label:"负面条件"},{name:"control_net",type:"CONTROL_NET",link:75,label:"ControlNet",slot_index:2},{name:"image",type:"IMAGE",link:119,label:"图像",slot_index:3},{name:"mask_optional",type:"MASK",link:null,label:"遮罩"},{name:"timestep_kf",type:"TIMESTEP_KEYFRAME",link:null,label:"帧间隔",slot_index:5},{name:"latent_kf_override",type:"LATENT_KEYFRAME",link:null,label:"Latent关键帧"},{name:"weights_override",type:"CONTROL_NET_WEIGHTS",link:null,label:"ControlNet权重"},{name:"model_optional",type:"MODEL",link:null,slot_index:8}],outputs:[{name:"positive",type:"CONDITIONING",links:[73],shape:3,label:"正面条件",slot_index:0},{name:"negative",type:"CONDITIONING",links:[74],shape:3,label:"负面条件",slot_index:1},{name:"model_opt",type:"MODEL",links:null,shape:3,slot_index:2}],properties:{"Node name for S&R":"ACN_AdvancedControlNetApply"},widgets_values:[1,0,1]},{id:60,type:"LCMScheduler",pos:[2150,1500],size:{0:315,1:82},flags:{},order:18,mode:0,inputs:[{link:66,name:"model",slot_index:0,type:"MODEL",label:"model"}],outputs:[{links:[55],name:"SIGMAS",shape:3,type:"SIGMAS",label:"SIGMAS"}],properties:{"Node name for S&R":"LCMScheduler"},widgets_values:[10,1]},{id:59,type:"SamplerLCMCycle",pos:[2170,1300],size:{0:315,1:130},flags:{},order:3,mode:0,outputs:[{links:[54],name:"SAMPLER",shape:3,type:"SAMPLER",label:"SAMPLER"}],properties:{"Node name for S&R":"SamplerLCMCycle"},widgets_values:[2,2,!1,0]},{id:63,type:"BNK_CLIPTextEncodeAdvanced",pos:[920,1140],size:{0:400,1:200},flags:{},order:16,mode:0,inputs:[{link:65,name:"clip",type:"CLIP",label:"CLIP"}],outputs:[{links:[72],name:"CONDITIONING",shape:3,type:"CONDITIONING",label:"条件",slot_index:0}],properties:{"Node name for S&R":"BNK_CLIPTextEncodeAdvanced"},widgets_values:["(worst quality:1.3), unfinished sketch, blurry, normal, mundane, boring, everyday, safe, ordinary, monochrome, greyscale, text, watermark","mean","A1111"]},{id:62,type:"BNK_CLIPTextEncodeAdvanced",pos:[920,860],size:{0:400,1:200},flags:{},order:15,mode:0,inputs:[{link:64,name:"clip",slot_index:0,type:"CLIP",label:"CLIP"}],outputs:[{links:[71],name:"CONDITIONING",shape:3,type:"CONDITIONING",label:"条件",slot_index:0}],properties:{"Node name for S&R":"BNK_CLIPTextEncodeAdvanced"},widgets_values:["(best quality, masterpiece), 1boy, mechano punk plaza, blue eyes, dancing","mean","A1111"]},{id:92,type:"IPAdapterApply",pos:[2672.018828230932,342.46597762958794],size:{0:315,1:258},flags:{},order:19,mode:0,inputs:[{name:"ipadapter",type:"IPADAPTER",link:103,label:"IP适配"},{name:"clip_vision",type:"CLIP_VISION",link:104,label:"CLIP视觉",slot_index:1},{name:"image",type:"IMAGE",link:105,label:"图像"},{name:"model",type:"MODEL",link:106,label:"模型"},{name:"attn_mask",type:"MASK",link:null,label:"关注层遮罩"}],outputs:[{name:"MODEL",type:"MODEL",links:[107],shape:3,label:"模型",slot_index:0}],properties:{"Node name for S&R":"IPAdapterApply"},widgets_values:[1,0,"original",0,1,!1]},{id:94,type:"CheckpointLoader|pysssss",pos:[1050,390],size:{0:410,1:122},flags:{},order:4,mode:0,outputs:[{name:"MODEL",type:"MODEL",links:[112],shape:3,label:"模型",slot_index:0},{name:"CLIP",type:"CLIP",links:[113],shape:3,label:"CLIP",slot_index:1},{name:"VAE",type:"VAE",links:null,shape:3,label:"VAE"}],properties:{"Node name for S&R":"CheckpointLoader|pysssss"},widgets_values:[{content:"sd1.5\\动漫\\darkSushiMixMix_225D.safetensors",image:"checkpoints/sd1.5\\动漫\\darkSushiMixMix_225D.jpg"},"[none]"]},{id:50,type:"ADE_UseEvolvedSampling",pos:[2130,870],size:{0:315,1:118},flags:{},order:14,mode:0,inputs:[{link:62,name:"model",slot_index:0,type:"MODEL",label:"模型"},{link:38,name:"m_models",slot_index:1,type:"M_MODELS",label:"动态模型组"},{link:40,name:"context_options",slot_index:2,type:"CONTEXT_OPTIONS",label:"上下文设置"},{link:null,name:"sample_settings",type:"SAMPLE_SETTINGS",label:"采样设置"}],outputs:[{links:[66,106],name:"MODEL",shape:3,slot_index:0,type:"MODEL",label:"模型"}],properties:{"Node name for S&R":"ADE_UseEvolvedSampling"},widgets_values:["lcm[100_ots]"]},{id:93,type:"CLIPVisionLoader",pos:[2160,400],size:{0:315,1:58},flags:{},order:5,mode:0,outputs:[{name:"CLIP_VISION",type:"CLIP_VISION",links:[104],shape:3,label:"CLIP视觉"}],properties:{"Node name for S&R":"CLIPVisionLoader"},widgets_values:["clip_h.pth"]},{id:64,type:"LoraLoader",pos:[1620,450],size:{0:460,1:150},flags:{},order:12,mode:0,inputs:[{link:112,name:"model",type:"MODEL",label:"模型"},{link:113,name:"clip",slot_index:1,type:"CLIP",label:"CLIP"}],outputs:[{links:[62],name:"MODEL",shape:3,slot_index:0,type:"MODEL",label:"模型"},{links:[64,65],name:"CLIP",shape:3,slot_index:1,type:"CLIP",label:"CLIP"}],properties:{"Node name for S&R":"LoraLoader"},widgets_values:["AnimateLCM\\sd15_lora_t2v_beta.safetensors",1,1]},{id:91,type:"IPAdapterModelLoader",pos:[1650,330],size:{0:450,1:60},flags:{},order:6,mode:0,outputs:[{name:"IPADAPTER",type:"IPADAPTER",links:[103],shape:3,label:"IP适配",slot_index:0}],properties:{"Node name for S&R":"IPAdapterModelLoader"},widgets_values:["IP\\1.5\\H\\ip-adapter-plus_sd15.bin"]},{id:58,type:"SamplerCustom",pos:[2550,910],size:{0:355.20001220703125,1:230},flags:{},order:21,mode:0,inputs:[{link:107,name:"model",type:"MODEL",label:"模型"},{link:73,name:"positive",slot_index:1,type:"CONDITIONING",label:"正面条件"},{link:74,name:"negative",slot_index:2,type:"CONDITIONING",label:"负面条件"},{link:54,name:"sampler",slot_index:3,type:"SAMPLER",label:"采样器"},{link:55,name:"sigmas",slot_index:4,type:"SIGMAS",label:"Sigmas"},{link:102,name:"latent_image",slot_index:5,type:"LATENT",label:"Latent"}],outputs:[{links:[],name:"output",shape:3,slot_index:0,type:"LATENT",label:"输出"},{links:[53],name:"denoised_output",shape:3,slot_index:1,type:"LATENT",label:"降噪输出"}],properties:{"Node name for S&R":"SamplerCustom"},widgets_values:[!0,0,"fixed",1.8]},{id:67,type:"VAELoader",pos:[2580,1200],size:{0:315,1:58},flags:{},order:7,mode:0,outputs:[{links:[69],name:"VAE",shape:3,type:"VAE"}],properties:{"Node name for S&R":"VAELoader"},widgets_values:["kl-f8-anime2.ckpt"]},{id:80,type:"EmptyLatentImage",pos:[1700,1540],size:{0:320,1:110},flags:{},order:17,mode:0,inputs:[{name:"width",type:"INT",link:86,widget:{name:"width"},label:"宽度"},{name:"height",type:"INT",link:87,widget:{name:"height"},label:"高度"},{name:"batch_size",type:"INT",link:88,widget:{name:"batch_size"},label:"批次大小"}],outputs:[{name:"LATENT",type:"LATENT",links:[102],shape:3,label:"Latent",slot_index:0}],properties:{"Node name for S&R":"EmptyLatentImage"},widgets_values:[512,512,1]},{id:81,type:"ImageSizeAndBatchSize",pos:[1270,1630],size:{0:210,1:66},flags:{},order:13,mode:0,inputs:[{name:"image",type:"IMAGE",link:120,label:"图像",slot_index:0}],outputs:[{name:"width",type:"INT",links:[86],shape:3,label:"宽度",slot_index:0},{name:"height",type:"INT",links:[87],shape:3,label:"高度",slot_index:1},{name:"batch_size",type:"INT",links:[88],shape:3,label:"批次大小",slot_index:2}],properties:{"Node name for S&R":"ImageSizeAndBatchSize"}},{id:97,type:"VHS_LoadVideo",pos:[910,1540],size:[210,360],flags:{},order:8,mode:0,inputs:[{name:"batch_manager",type:"VHS_BatchManager",link:null}],outputs:[{name:"IMAGE",type:"IMAGE",links:[119,120],shape:3,label:"图像",slot_index:0},{name:"frame_count",type:"INT",links:null,shape:3,label:"帧计数"},{name:"audio",type:"VHS_AUDIO",links:null,shape:3}],properties:{"Node name for S&R":"VHS_LoadVideo"},widgets_values:{video:"cxk_00003_.gif",force_rate:0,force_size:"Disabled",custom_width:512,custom_height:512,frame_load_cap:160,skip_first_frames:50,select_every_nth:1,"choose video to upload":"image",videopreview:{hidden:!1,paused:!1,params:{frame_load_cap:160,skip_first_frames:50,force_rate:0,filename:"cxk_00003_.gif",type:"input",format:"image/gif",select_every_nth:1}}}},{id:86,type:"LoadImage",pos:[2190,510],size:{0:250,1:310},flags:{},order:9,mode:0,outputs:[{name:"IMAGE",type:"IMAGE",links:[105],shape:3,label:"图像",slot_index:0},{name:"MASK",type:"MASK",links:null,shape:3,label:"遮罩"}],properties:{"Node name for S&R":"LoadImage"},widgets_values:["00581-420388937-((masterpiece)), (((best quality))), ((ultra-detailed)), (adult_2), ((illustration)), (cute detailed face_1.25),1girl, robotic u.png","image"]},{id:102,type:"VHS_LoadAudio",pos:[3320,1130],size:{0:315,1:82},flags:{},order:10,mode:0,outputs:[{name:"audio",type:"VHS_AUDIO",links:[126],shape:3,label:"音频",slot_index:0}],properties:{"Node name for S&R":"VHS_LoadAudio"},widgets_values:{audio_file:"C:\\ComfyUI_windows_portable\\ComfyUI\\input\\audio.mp3",seek_seconds:0}},{id:56,type:"VAEDecode",pos:[3e3,1030],size:{0:210,1:46},flags:{},order:22,mode:0,inputs:[{link:53,name:"samples",type:"LATENT",label:"Latent"},{link:69,name:"vae",slot_index:1,type:"VAE",label:"VAE"}],outputs:[{links:[121,127],name:"IMAGE",shape:3,slot_index:0,type:"IMAGE",label:"图像"}],properties:{"Node name for S&R":"VAEDecode"}},{id:103,type:"SaveImage",pos:[3372.826571377841,1362.901866566051],size:{0:315,1:58},flags:{},order:24,mode:0,inputs:[{name:"images",type:"IMAGE",link:127,label:"图像"}],properties:{},widgets_values:["111"]},{id:96,type:"VHS_VideoCombine",pos:[3790,1e3],size:[320,290],flags:{},order:23,mode:0,inputs:[{name:"images",type:"IMAGE",link:121,label:"图像"},{name:"audio",type:"VHS_AUDIO",link:126,label:"音频",slot_index:1},{name:"batch_manager",type:"VHS_BatchManager",link:null,label:"批次管理"}],outputs:[{name:"Filenames",type:"VHS_FILENAMES",links:null,shape:3,label:"文件名"}],properties:{"Node name for S&R":"VHS_VideoCombine"},widgets_values:{frame_rate:10,loop_count:0,filename_prefix:"AnimateDiff/comfy",format:"video/h265-mp4",pix_fmt:"yuv420p",crf:22,save_metadata:!0,pingpong:!0,save_output:!0,videopreview:{hidden:!1,paused:!1,params:{filename:"comfy_00011-audio.mp4",subfolder:"AnimateDiff",type:"output",format:"video/h265-mp4"}}}}],links:[[37,47,0,49,0,"MOTION_MODEL_ADE"],[38,49,0,50,1,"M_MODELS"],[40,52,0,50,2,"CONTEXT_OPTIONS"],[53,58,1,56,0,"LATENT"],[54,59,0,58,3,"SAMPLER"],[55,60,0,58,4,"SIGMAS"],[62,64,0,50,0,"MODEL"],[64,64,1,62,0,"CLIP"],[65,64,1,63,0,"CLIP"],[66,50,0,60,0,"MODEL"],[69,67,0,56,1,"VAE"],[71,62,0,69,0,"CONDITIONING"],[72,63,0,69,1,"CONDITIONING"],[73,69,0,58,1,"CONDITIONING"],[74,69,1,58,2,"CONDITIONING"],[75,70,0,69,2,"CONTROL_NET"],[86,81,0,80,0,"INT"],[87,81,1,80,1,"INT"],[88,81,2,80,2,"INT"],[102,80,0,58,5,"LATENT"],[103,91,0,92,0,"IPADAPTER"],[104,93,0,92,1,"CLIP_VISION"],[105,86,0,92,2,"IMAGE"],[106,50,0,92,3,"MODEL"],[107,92,0,58,0,"MODEL"],[112,94,0,64,0,"MODEL"],[113,94,1,64,1,"CLIP"],[119,97,0,69,3,"IMAGE"],[120,97,0,81,0,"IMAGE"],[121,56,0,96,0,"IMAGE"],[126,102,0,96,1,"VHS_AUDIO"],[127,56,0,103,0,"IMAGE"]],groups:[],config:{},extra:{},version:.4};function QC(e){if(e.startsWith("demo"))if(e=="demo")e=Bp;else return{code:-1,msg:"error demo: "+e,data:{}};let t=0,n=[];try{let i=[],o=[],s,r,u,a;for(s of e.split(`
`)){const l=s.match(/(^\s*)(- )?(.*)/);if(l){if(!l[2]){if(i.length==0){$t.isDebug&&console.warn("追加换行内容失败: 首行非列表");continue}const c=o[o.length-1];if(c.self+=`
`+l[3],!c.self_data.hasOwnProperty("value")){$t.isDebug&&console.warn("追加换行内容失败: 追加节点无vlaue属性");continue}c.self_data.value+=(c.self_data.value==""?"":`
`)+l[3];continue}r=l[1].length;{u=-1;for(let c=0;c<i.length;c++)if(i[c]>=r){i=i.slice(0,c+1),u=c;break}u==-1&&(i.push(r),u=i.length-1)}{let c=[];const f=l[3].split(",");for(let h of f)c.push(h.trim().split(":"));c[3]?a={self:l[3],children:[],self_data:{type:"edge",id:""+t++,parentId:"",parent:null,from_node:c[0][0],from_socket:c[1][0],to_node:c[2][0],to_socket:c[3][0],name:c[4]?c[4][0]:""}}:c[1]?a={self:l[3],children:[],self_data:{type:c[1]&&["i","input","o","output","v","value"].includes(c[1][0])?c[1][0]:"value",id:c[0][0],name:c[0][1]??c[0][0],parentId:"",parent:null,value:c[2]?c[2][0]:""}}:a={self:l[3],children:[],self_data:{type:"node",id:c[0][0],name:c[0][1]??c[0][0],parentId:"",parent:null,children:{inputs:[],outputs:[],values:[]}}},o=o.slice(0,i.length),o[u]=a}if(u==0)n.push(a);else{const c=o[u-1];if(c.self_data.type!="n"&&c.self_data.type!="node"&&c.self_data.type!="g"&&c.self_data.type!="group")continue;c.children.push(a),a.self_data.parentId=c.self_data.id,a.self_data.parent=c,a.self_data.type=="input"||a.self_data.type=="i"?(c.self_data.type="node",c.self_data.children.inputs.push(a)):a.self_data.type=="output"||a.self_data.type=="o"?(c.self_data.type="node",c.self_data.children.outputs.push(a)):a.self_data.type=="value"||a.self_data.type=="v"?(c.self_data.type="node",c.self_data.children.values.push(a)):(a.self_data.type=="node"||a.self_data.type=="n")&&(c.self_data.type="group")}}}}catch(i){return{code:-1,msg:"error: list parse fail: "+i,data:{}}}{if(n.length!=2)return{code:-1,msg:"error: without rootNode: nodes and edges",data:{}};let i=[];{let s=function(r){for(let u of r){if(u.self_data.type!="n"&&u.self_data.type!="node"&&u.self_data.type!="g"&&u.self_data.type!="group")continue;const a={id:u.self_data.id,data:{type:u.self_data.type,label:u.self_data.name,inputs:u.self_data.children.inputs.map(l=>({id:l.self_data.id,name:l.self_data.name,value:l.self_data.value})),outputs:u.self_data.children.outputs.map(l=>({id:l.self_data.id,name:l.self_data.name,value:l.self_data.value})),values:u.self_data.children.values.map(l=>({id:l.self_data.id,name:l.self_data.name,value:l.self_data.value}))},position:{x:0,y:0},...u.self_data.parentId==""||u.self_data.parentId=="nodes"?{}:{parentNode:u.self_data.parentId},type:"common"};i.push(a),s(u.children)}};s(n[0].children)}let o=[];{let s=function(u){for(let a of u){if(a.self_data.type!="e"&&a.self_data.type!="edge")continue;const l=a.self_data.from_socket.toLowerCase().charCodeAt(0)%20;o.push({id:a.self_data.id,style:{stroke:r[l]},source:a.self_data.from_node,sourceHandle:a.self_data.from_socket,target:a.self_data.to_node,targetHandle:a.self_data.to_socket}),s(a.children)}};const r=["#ff0000","#ff4d00","#ff9900","#ffe600","#ccff00","#80ff00","#33ff00","#00ff1a","#00ff66","#00ffb3","#00ffff","#00b3ff","#0066ff","#001aff","#3300ff","#8000ff","#cc00ff","#ff00e6","#ff0099","#ff004c"];s(n[1].children)}return{code:0,msg:"",data:{nodes:i,edges:o}}}}const Bp=`- nodes
  - node1:KSample
    - Latent, o
    - model, i
    - positive, i
    - negative, i
    - Latent, i
    - seed,
    - control_after_generate,, randomize
    - steps,, 20
    - CFG,, 8.0
    - sampler_name,, euler
    - scheduler,, normal
    - denoise,, 1.00
    - io defaultTest, i , test
    - io defaultTest, o, test
    - t1:noValueTest,
    - t2:,, noKeyTest
      mul lines test
  - node2:KSample
    - 潜空间, o
    - 模型, i
    - 正面条件, i
    - 负面条件, i
    - 潜空间, i
    - 种子,
    - 运行后操作,
    - 步数,
    - CFG,
    - 采样器/采样方法,
    - 调度器,
    - 降噪,
  - translate
- edges
  - node1,Latent, translate,l
  - translate,r, node2, 潜空间
`;function eE(e){if(typeof e=="string")if(e.startsWith("demo"))e=JSON.parse(JSON.stringify(Vp));else return{code:-1,msg:"error demo: "+e,data:{}};for(let t of e.nodes)t.hasOwnProperty("position")||(t.position={x:0,y:0}),(!t.hasOwnProperty("valueType")||t.valueType=="")&&(t.valueType="item-string"),t.type="item";return{code:0,msg:"",data:e}}const Vp={nodes:[{id:"6",data:{label:"itemData testData",valueType:"itemData valueType",items:[{id:"01",name:"null",refType:"input",valueType:"item-string",value:""},{id:"02",name:"null",refType:"output",valueType:"item-string",value:""},{id:"03",name:"color",refType:"input",valueType:"item-color",value:"#2283fc"},{id:"1",name:"number",refType:"input",valueType:"item-string",value:"123"},{id:"2",name:"number",refType:"output",valueType:"item-string",value:"456"},{id:"3",name:"vName",refType:"value",valueType:"item-string",value:"vValue"},{id:"4",name:"clip",refType:"input",valueType:"item-string",value:""},{id:"5",name:"clip",refType:"output",valueType:"item-string",value:""},{id:"6",name:"selectName",refType:"value",valueType:"item-enum",value:"select1|select2|select3"},{id:"7",name:"markdown",refType:"value",valueType:"item-markdown",value:`## Markdown

**bord** *italic* ==highlight== ~~del~~`}]}}]};function tE(e){if(e.startsWith("demo"))if(e=="demo")e=Hp;else if(e=="demo2")e=il;else if(e=="demoRPC")e=oE;else if(e=="demoHttp")e=Up;else if(e=="demoFlow")e=iE;else if(e=="demoObsidian")e=sE;else return{code:-1,msg:`error demo: ${e}

support: demo, demo2, demoRPC, demoHttp, demoFlow
`,data:{}};let t;const n=nE(e);if(n.code!=0)return n;t=n.data;{if(t.length!=2)return{code:-1,msg:"error: without rootNode: nodes and edges",data:{}};let i=[];{let s=function(r){for(let u of r){if(u.self_data.type!="n"&&u.self_data.type!="node"&&u.self_data.type!="g"&&u.self_data.type!="group")continue;const a={id:u.self_data.id,data:{type:u.self_data.type,label:u.self_data.name,items:u.self_data.items},position:{x:0,y:0},...u.self_data.parentId==""||u.self_data.parentId=="nodes"?{}:{parentNode:u.self_data.parentId},type:"item"};i.push(a),s(u.children)}};s(t[0].children)}let o=[];{let s=function(u){for(let a of u){if(a.self_data.type!="e"&&a.self_data.type!="edge")continue;const l=a.self_data.from_socket.toLowerCase().charCodeAt(0)%20;o.push({id:a.self_data.id,style:{stroke:r[l]},source:a.self_data.from_node,sourceHandle:a.self_data.from_socket,target:a.self_data.to_node,targetHandle:a.self_data.to_socket}),s(a.children)}};const r=["#ff0000","#ff4d00","#ff9900","#ffe600","#ccff00","#80ff00","#33ff00","#00ff1a","#00ff66","#00ffb3","#00ffff","#00b3ff","#0066ff","#001aff","#3300ff","#8000ff","#cc00ff","#ff00e6","#ff0099","#ff004c"];s(t[1].children)}return{code:0,msg:"",data:{nodes:i,edges:o}}}}function nE(e){let t=0,n=[];try{let i=[],o=[],s=0,r,u,a,l,c,d,f=null,h=null;const p=e.split(`
`);for(s=0;s<p.length;s++){let _=function(){const y=a,v=y.trimEnd().split(`
`).length==1,m=y.split(",");let g=[];for(let x of m)g.push(x.trim().split(":"));if(g[3]&&v)d.self_data={type:"edge",id:""+t++,parentId:"",parent:null,from_node:g[0][0],from_socket:g[1][0],to_node:g[2][0],to_socket:g[3][0],name:g[4]?g[4][0]:""};else if(g[1])d.self_data={type:"socket",refType:g[1]&&["i","input","o","output","v","value","io"].includes(g[1][0])?g[1][0]:"value",valueType:g[1]&&g[1][1]?g[1][1]:"item-string",id:g[0][0],name:g[0][1]??g[0][0],parentId:"",parent:null,value:y.substring(m[0].length+m[1].length+2).trimStart(),items:[]};else if(g[0]&&g[0][0]!=""&&c>1)d.self_data={type:"socket",refType:"v",valueType:"item-item",id:g[0][0],name:g[0][1]??g[0][0],parentId:"",parent:null,value:"",items:[]};else if(g[0]&&g[0][0]!="")d.self_data={type:"node",id:g[0][0],name:g[0][1]??g[0][0],parentId:"",parent:null,items:[]};else return!1;return o=o.slice(0,i.length),o[c]=d,!0};if(r=f??p[s],u=h??r.match(/(^\s*)(- )?(.*)/),!u||!u[2])continue;for(a=u[3];!(s>=p.length-1);){if(f=p[s+1],h=f.match(/(^\s*)(- )?(.*)/),!h){s++;continue}if(!h[2]){r+=`
`+f,a+=`
`+f,s++;continue}break}l=u[1].length;{c=-1;for(let y=0;y<i.length;y++)if(i[y]>=l){i=i.slice(0,y+1),c=y;break}c==-1&&(i.push(l),c=i.length-1)}if(d={self:a,children:[],self_data:null},!_()){console.error("error: inline parse fail. line:",s);continue}if(c==0)n.push(d);else{const y=o[c-1];if(y.self_data.type!="n"&&y.self_data.type!="node"&&y.self_data.type!="g"&&y.self_data.type!="group"&&y.self_data.type!="s"&&y.self_data.type!="socket")continue;d.self_data.parentId=y.self_data.id,d.self_data.parent=y,(d.self_data.type=="socket"||d.self_data.type=="s"||d.self_data.type=="node"||d.self_data.type=="n")&&y.self_data.items.push(d.self_data),y.children.push(d)}}}catch(i){return{code:-1,msg:"error: list parse fail: "+i,data:[]}}return{code:0,msg:"",data:n}}const Hp=`- nodes
  - NodeTitle
    - only name, i
    - i2, i, *i2
    - i3, i, mul line
      i3-2
      i3-3
    - i4, i, *i4
    - only name, o
    - o2, o, *o2
    - o3, o, *o3
    - o4, o, mul line
      o4-2
      o4-3
    - v2, v, *v2
    - v4, , mul line
      v4-2
      v4-3
    - v3, , *v3
    - v5:color, :item-color, #008888
    - v6:, :item-markdown, only value
      **v6-1**
      *v6-2*
    - v7, :item-enum, option1|option2|option3
    - v8 only name, 
    - v9, :item-item, l
      - only name2, i
      - i22, i, *i2
      - v91, :item-item, l
        - v911, 
      - v92, :item-item, l
        - v921, 
    - v10,,over
- edges
`,il=`- nodes
  - 运行一
    - 空模板,,
    - 开始, :item-start
    - success, o
    - color, :item-color, #0ff
  - Delay
    - FlowDelay:Delay延时模板, :item-flowdelay,
    - emit, i:item-flow
    - success, o:item-flow
    - time, i, 2000
  - Http
    - FlowReq:Http请求模板, :item-flowreq, 
    - emit, i:item-flow
    - url, i, https://httpbin.org/get
    - success, o:item-flow,
    - fail, o:item-flow,
    - resp, o,
  - HttpResp
    - show, i, _
  - 运行四
    - FlowEval:执行任意代码, io:item-floweval,
var a = 2
let b = a
console.log('debug output', b, ctx)
    - 空节点i, i
    - 空节点o, o
    - debug, :item-debug
    - feat, :item-feat
  - 运行三2:运行三
    - FlowReq:Http请求, io:item-flowreq,
    - 空节点i, i
    - 空节点o, o
  - t1
    - flowStart, :item-start
    - o, o, testData
  - t2
    - fEval, :item-floweval,
console.log('t2 ctx', ctx)
ctx.check(ctx, ['i'], ['o'])
ctx.targetValues['o'].cacheValue = ctx.targetValues['o'].value + ctx.sourceValues['i'].cacheValue
console.log('    input i:', ctx.sourceValues['i'].value, ctx.sourceValues['i'].cacheValue)
console.log('    output o:', ctx.targetValues['o'].value, ctx.targetValues['o'].cacheValue)
    - i, i, none
    - o, o, test222
    - , :item-debug,
    - , :item-feat,
  - t3
    - i, i, none
- edges
  - Http, success, 运行四, FlowEval
  - 运行一, success, Delay, emit
  - Delay, success, Http, emit
  - t1, o, t2, i
  - t2, o, t3, i
  - Http, resp, HttpResp, show
`,iE=`- nodes
  - node1
    - nflow, o
  - node2
    - nflow, o
  - node3
    - nflow, i
    - 流程, :item-markdown,
(1) 先找起始节点，并自动激发
(2) 当一个节点所有上游节点完成后，自动激发
  - node4
    - flow, o:item-flow
  - node5
    - nflow, o
  - node6
    - flow, i:item-flow
    - nflow, i
    - 流程, :item-markdown,
(1) 先找起始节点，并自动激发。可优先激发非flow节点
(2) 当一个节点所有上游非flow节点完成，且其中一个flow节点完成，自动激发
(3) 仅运行某节点时，则步骤一调整为找到该节点对应所需的所有起始节点
  - node7
    - 一致性问题, :item-markdown, 
## 节点数据分为两部分
+ 库必要部分
+ 节点私有数据

## 需要关注一致性数据的有
+ 原序列化数据
  + 内容: 节点私有数据
  + 获取: 一般不获取
  + 一致性: 无需关心。不实时保证，只有在初始化和保存后才和主数据一致
+ 主props.data
  + 内容: 节点私有数据，所有组件共用一个对象。无荣誉数据
  + 优点：递归，有父子指针。不依赖底层的api，主导一致性地位
  + 获取: 节点自己的通过prop中获取，否则通过vueflow里的方法获取
  + 一致性: (主导，变更入口。但实际上优势会直接改库数据……这里暂时有bug TODO) 恒一致
+ 库数据
  + 内容: 节点私有数据+库必要部分，库中使用inject存储一个对象
  + 优点：有数据驱动。但data里的对象的变动，没有watch depth，要手动激发
  + 获取: 通过vueflow里的方法获取
  + 一致性: 恒一致
+ 运算类
  + 内容: 节点私有数据，每个节点/运行项有一个该对象
  + 优点：有生命周期，能管控
  + 获取: 节点自己的通过setup作用域里创建的类对象获取，而类再通过vueflow里的方法获取
  + 一致性: 无需关心。只有在开始运行时，才会一致
    - debug, :item-debug
+ 界面类
  + 特殊: 只要数据被驱动成功后，就和库数据一致。但若没有数据驱动，则与库数据产生不一致
- edges
  - node1, nflow, node3, nflow
  - node2, nflow, node3, nflow
  - node4, flow, node6, flow
  - node5, nflow, node6, nflow
`,oE=`- nodes
  - ST模拟
    - 流程模板,, 开始
    - flow2:开始, :item-start
  - 本地机器
    - 机器, o
    - 地址,, 0.0.0.0
    - 端口,, 0
  - 远程机器
    - 机器, o
    - 地址,, 127.0.0.1
    - 端口,, 8811
  - 0001:TCP连接
    - 流程模板,, 客户端
    - flow1:触发, i:item-flow
    - flow2:连接成功, o:item-flow
    - 机器(本地), i
    - 机器(对端), i
    - 通道, o, 0001
    - 通道类型,, tcp
    - 版本,, 自动
    - 读取大小,, -1
    - 读写方式,, bufferWirte/bufferRead
    - 通知驱动,, 中心回调(libevent)
    - 驱动重复,, 1
  - 0002:注册包
    - 流程模板,, 网络包
    - flow1:触发, i:item-flow
    - flow2:成功, o:item-flow
    - flow3:失败, o:item-flow
    - 通道, i, 0001
    - 次数,, 1
    - 写入内容,, {null4}{len4}{null16}\\
  {timestamp8}{str(register)76}
    - 读取检查,, {any4}{len4}
  - 0003:心跳包
    - 流程模板,, 网络包
    - flow1:触发, i:item-flow
    - flow2:完成, o:item-flow
    - flow3:失败, o:item-flow
    - 通道, i, 0001
    - 次数,, -1
    - 写入内容,, {null4}{len4}{null16}
    - 读取检查,, {any4}{len4}{any32}\\
  {str(heartbeat)}
  - 0004:UDP连接
    - 流程模板,, 客户端
    - flow1:触发, i:item-flow
    - flow2:连接成功, o:item-flow
    - 机器(本地), i
    - 机器(对端), i
    - 通道, o, 0004
    - 通道类型,, tcp
    - 版本,, 自动
    - 读写方式,, sendto/recvfrom
    - 通知驱动,, 轮询
    - 驱动重复,, 1
  - 0005:数据包
    - 流程模板,, 网络包
    - flow1:触发, i:item-flow
    - flow2:成功, o:item-flow
    - flow3:失败, o:item-flow
    - 通道, i, 0004
    - 次数,, -1
    - 间隔(ms),, -1
    - 速率(Mbps),, 2
    - 写入内容,, {statis0}{null4}
    - 读取检查,, _
    - 发包驱动,, 独立线程
    - 驱动重复,, 1
- edges
  - 本地机器, 机器, 0001, 机器(本地)
  - 远程机器, 机器, 0001, 机器(对端)
  - 本地机器, 机器, 0004, 机器(本地)
  - 远程机器, 机器, 0004, 机器(对端)
  - 0001, 通道, 0002, 通道
  - 0001, 通道, 0003, 通道
  - 0004, 通道, 0005, 通道
  - ST模拟, fDefault, 0001, flow1
  - 0001, flow2, 0002, flow1
  - 0002, flow2, 0003, flow1
  - 0003, flow2, 0004, flow1
  - 0004, flow2, 0005, flow1
`,Up=`- nodes
  - Start
    - Flow:开始, o:item-start
    - color, value:item-color, #0ff
  - Delay
    - FlowDelay:延时, io:item-flowdelay, 
    - time, i, 2000
  - Http
    - flow1:Http请求, i:item-flow
    - flow2:成功, o:item-flow
    - flow3:失败, o:item-flow
    - url, i, http://127.0.0.1:9863/test
    - json1:请求, i, {}
    - resp, o
  - ShowResp
    - json, o
    - 1, , 这里可以是一个可视化的json编辑器
  - 运行四
    - FlowEval:执行任意代码, io:item-floweval
    - 空节点i, i
    - 空节点o, o
    - debug, value:item-debug, 
    - feat, value:item-feat, 
  - 运行五
    - FlowEval:执行任意代码, io:item-floweval
  - Json显示
    - json, i, 运行成功后可悬浮查看结果
- edges
  - ShowResp, json, Http, json1
  - Start, Flow, Delay, FlowDelay
  - Delay, FlowDelay, Http, flow1
  - Http, flow2, 运行四, FlowEval
  - Http, flow3, 运行五, FlowEval
  - Http, resp, Json显示, json
`,sE=`- nodes
  - 运行一
    - 空模板, 
    - 开始, :item-start
    - success, o
    - color, :item-color, #0ff
    - , :item-debug
    - , :item-feat
  - headers:这里填写你的Obsidian LocalRestAPI秘钥
    - 开始, :item-start
    - headers, o, {
    "Authorization": "Bearer 16fabcf89804e315caaad92f16feb3ef3bfb59b7030655a3d4762ef9bae1842a"
}
  - Delay
    - FlowDelay:Delay延时模板, :item-flowdelay, 0
    - emit, i:item-flow
    - success, o:item-flow
    - time, i, 1000
  - Http:Obsidian状态获取
    - FlowReq:Http请求模板, :item-flowreq
    - emit, i:item-flow
    - url, i, https://127.0.0.1:27124/
    - headers, i
    - success, o:item-flow
    - fail, o:item-flow
    - resp, o, _
  - Http2:获取当前文件内容
    - FlowReq:Http请求模板, :item-flowreq
    - emit, i:item-flow
    - url, i, https://127.0.0.1:27124/active/
    - headers, i, _
    - method, i, GET
    - success, o:item-flow
    - fail, o:item-flow
    - resp, o, 
  - Http3:查看文件夹下包含的文件
    - FlowReq:Http请求模板, :item-flowreq
    - emit, i:item-flow
    - url, i, https://127.0.0.1:27124/vault/ZTest/
    - headers, i, {
    "Authorization": "默认值能被输入节点覆盖"
}
    - success, o:item-flow
    - fail, o:item-flow
    - resp, o, _
  - HttpResp
    - show, i, _
  - GetMd
    - fEval, :item-floweval, 
console.log('t2 ctx', ctx)
ctx.check(ctx, ['i'], ['o'])
const md = JSON.parse(ctx.sourceValues['i'].cacheValue)
const result = md["content"]
// console.log('md', result)
ctx.targetValues['o'].cacheValue = result
    - i, i
    - o, o:item-markdown, _
  - add_some
    - fEval, :item-floweval, 
ctx.check(ctx, ['i'], ['o'])
const json = JSON.parse(ctx.sourceValues['i'].cacheValue)
json["accept"] = "application/vnd.olrapi.note+json"
ctx.targetValues['o'].cacheValue = JSON.stringify(json)
    - i, i
    - o, o:item-markdown, _
- edges
  - 运行一, success, Http, emit
  - headers, headers, Http3, headers
  - headers, headers, add_some, i
  - add_some, o, Http2, headers
  - Delay, success, Http2, emit
  - Delay, success, Http3, emit
  - Http, success, Delay, emit
  - Http2, resp, HttpResp, show
  - Http2, resp, GetMd, i
`;function ol(e="nodeflow-vueflow",t="{nodes:[],edges:[]}"){let n;if(t.trim()=="")return{code:-1,msg:"error: content is empty",data:{}};if(t.startsWith("demo"))n=t;else if(e==="nodeflow-list"||e==="nodeflow-listitem")n=t;else try{if(n=JSON.parse(t),!n)return{code:-1,msg:"Error: not a legitimate json",data:{}}}catch(o){return{code:-1,msg:"Error: not a legitimate json: "+o,data:{}}}let i;if(e=="nodeflow-comfyui")i=JC(n);else if(e=="nodeflow-obcanvas")i=KC(n);else if(e=="nodeflow-vueflow")i=XC(n);else if(e=="nodeflow-list")i=QC(n);else if(e=="nodeflow-item")i=eE(n);else if(e=="nodeflow-listitem")i=tE(n);else return{code:-1,msg:"error: invalid json type: "+e,data:{}};return i.code!=0?i:i.data.hasOwnProperty("nodes")?(i.data.hasOwnProperty("edges")||(i.data.edges=[]),i):{code:-1,msg:"json without nodes attrs",data:{}}}function rE(e){return{data:{nodes:[{id:"ERROR",position:{x:0,y:0},type:"common",data:{label:"ERROR",inputs:[],outputs:[],values:[{id:"0",name:"",value:e}]}}],edges:[]}}}function jl(e,t){return e=="nodeflow-item"?uE(t):e=="nodeflow-listitem"?aE(t):{code:-1,msg:"No supported serialization in this jsonType: "+e,data:""}}function uE(e){const t={nodes:[],edges:[]};for(let n of e.nodes)t.nodes.push({id:n.id,data:n.data});return t.edges=e.edges,{code:0,msg:"",data:JSON.stringify(t,null,2)}}function aE(e){let t="";t+=`- nodes
`;for(let n of e.nodes){t+=`  - ${n.id}${n.id==n.data.label?"":":"+n.data.label}
`;for(let i of n.data.items)t+=`    - ${i.id}${i.id==i.name?"":":"+i.name}, ${i.refType=="v"||i.refType=="value"?"":i.refType}${i.valueType=="item-string"?"":":"+i.valueType}${i.value.trim()==""?"":", "+i.value}
`}t+=`- edges
`;for(let n of e.edges)t+=`  - ${n.source}, ${n.sourceHandle}, ${n.target}, ${n.targetHandle}
`;return{code:0,msg:"",data:t}}class _n{constructor(){Me(this,"nfType",ce(""));Me(this,"nfStr",ce(""));Me(this,"nfData",ce({nodes:[],edges:[]}));Me(this,"nfNodes",{});Me(this,"_useVueFlow",null);Me(this,"_calcLayout",null)}static useGetNFNodes(){let t=Ft("nfNodes",null);if(t!=null)return t;const{nfNodes:n}=os(),i=n.value;return n==null&&console.error("nfNodes in useGlobalState is null"),i}static useFactoryNFNodes(){const t=new _n;vn("nfNodes",t);const{nfNodes:n}=os();return n.value=t,t.init_auto_update(),t}init_auto_update(){let t=!1,n=!1;Ae(this.nfStr,i=>{if(n){n=!1;return}t=!0,We(()=>{t=!1}),console.log("[auto update] [all] string -> data");let o=ol(this.nfType.value,this.nfStr.value);o.code!=0&&(o=rE(o.msg));for(const s of o.data.nodes)if(this._useVueFlow){const r=this._useVueFlow.findNode(s.id);if(!r)continue;s.position=r.position,s.data.runState=r.data.runState;continue}else for(const r of this.nfData.value.nodes)if(r.id==s.id){s.position=r.position,s.data.runState=r.data.runState;break}Object.assign(this.nfData.value,o.data)}),Ae(this.nfData,i=>{if(t){t=!1;return}n=!0,We(()=>{n=!1}),console.log("[auto update] [all] data -> string");const o=jl(this.nfType.value,this.nfData.value);if(o.code!=0){o.data="无法保存修改:"+o.msg;return}this.nfStr.value=o.data},{deep:!0})}create_newId(t){let n=1;if(t)for(;;){if(n>1e3)throw new Error("create_newId: too many nodes: "+n);const i=t+(n==1?"":"-"+n);if(!this.findNode(i))return i;n++}else for(t="";;){if(n>1e3)throw new Error("create_newId: too many nodes: "+n);const i=t+n;if(!this.findNode(i))return i;n++}}autoSet_layout(t="LR",n="center",i){if(i&&!(this.nfData.value.nodes.length>1&&this.nfData.value.nodes[0].position.x==0&&this.nfData.value.nodes[0].position.y==0&&this.nfData.value.nodes[1].position.x==0&&this.nfData.value.nodes[1].position.y==0)){console.log("Needn't auto set layout",this.nfData.value.nodes.length>1,this.nfData.value.nodes[0].position.x==0&&this.nfData.value.nodes[0].position.y,this.nfData.value.nodes[1].position.x==0&&this.nfData.value.nodes[1].position.y==0);return}const{calcLayout:o}=this._calcLayout;this.nfData.value.nodes=o(this.nfData.value.nodes,this.nfData.value.edges,t,n);const{fitView:s}=this._useVueFlow;We(()=>{s()})}get_mdData(){return`\`\`\`${this.nfType.value}
${this.nfStr.value}
\`\`\`
`}findNode(t){return this.nfData.value.nodes.find(n=>n.id===t)||null}save(){}fn_printData(t){let n;t=="mdData"?n=`
`+this.get_mdData():t=="rawData"?n=`
`+this.nfStr.value:n=this.nfData.value,console.log("Debug json:",n)}fn_copyData(t){let n;t=="mdData"?n=this.get_mdData():t=="rawData"?n=this.nfStr.value:n=me(()=>JSON.stringify(i(this.nfData.value),null,2)).value,navigator.clipboard.writeText(n).then(()=>{console.log("Info: copy success")},()=>{console.error("Error: copy fail")});function i(o){if(Array.isArray(o))return o.map(s=>i(s));if(typeof o=="object"&&o!==null){const s={};for(const r in o)r!=="parent"&&(s[r]=i(o[r]));return s}else return o}}}class Lt{constructor(t,n){Me(this,"nodeId");Me(this,"nfData",ce());Me(this,"nfStr",ce(""));Me(this,"nfNodes",null);Me(this,"ctx");Me(this,"ctx2");Me(this,"run_node",async()=>!0);Me(this,"_useNodesData");Me(this,"_useSourceConnections");Me(this,"_useTargetConnections");Me(this,"updateNodeData");Me(this,"findNode");this.nodeId=t,this.nfData.value=n,this._useNodesData=zo(this.nodeId),this._useSourceConnections=_r({handleType:"target"}),this._useTargetConnections=_r({handleType:"source"});const{updateNodeData:i,findNode:o}=Ne();this.updateNodeData=i,this.findNode=o,this._useNodesData.value.data.runState="none",Ae(this._useNodesData,(s,r)=>{s.data.runState=="ready"&&this.start()})}static useGetNFNode(t){if(!t){let o=Ft("nfNode",null);if(o!=null)return o}const n=_n.useGetNFNodes();return(n==null?void 0:n.nfNodes[t])??null}static getNFNode(t,n){return n.nfNodes[t]??null}static useFactoryNFNode(t,n){const i=new Lt(t,n);return vn("nfNode",i),i.nfNodes=_n.useGetNFNodes(),i.nfNodes||console.error("can't find nodes"),i.nfNodes.nfNodes[i.nodeId]=i,i.data2str(),i.init_auto_update(),i}static factoryNFNode(t,n,i){if(typeof t=="string"){let r=ol(i??n.nfType.value,t);if(r.code!=0)return console.error(`无法创建节点.
错误原因: ${r.code}, ${r.msg}
错误内容: 
${t}`),null;if(r.data.nodes.length!=1)return console.error(`无法创建节点.
错误原因: 节点是复数: ${r.data.nodes.length}`),null;t=r.data.nodes[0]}t.id=n.create_newId(t.id);const{addNodes:o}=n._useVueFlow;return o(t)}init_auto_update(){let t=!1,n=!1;Ae(this.nfStr,i=>{if(n){n=!1;return}if(t=!0,We(()=>{t=!1}),console.log(`[auto update] [${this.nodeId}] string -> data`),!this.nfNodes){console.error("nfNodes 数据丢失");return}if(!this.nfNodes._useVueFlow){console.error("nfNodes._useVueFlow 数据丢失");return}const o=i;let s=ol(this.nfNodes.nfType.value,o);if(s.code!=0){console.error(`输入了错误节点.
错误原因: ${s.code}, ${s.msg}
错误内容: 
${o}`);return}else if(s.data.nodes.length!=1){console.error(`输入了错误节点.
错误原因: 节点是复数: ${s.data.nodes.length}`);return}else{const r=this.nfNodes.findNode(this.nodeId);Object.assign(r.data,s.data.nodes[0].data),Object.assign(this.nfData.value,s.data.nodes[0].data)}}),Ae(this.nfData,i=>{if(t){t=!1;return}n=!0,We(()=>{n=!1}),console.log(`[auto update] [${this.nodeId}] data -> string`),this.data2str()},{deep:!0})}data2str(){const t=jl(this.nfNodes.nfType.value,{nodes:[{id:this.nodeId,data:this.nfData.value}],edges:[]});t.code==0?this.nfStr.value=t.data:this.nfStr.value=`- error,, [error] +${t.msg}`}static check_io(t,n,i){const o=n.filter(r=>!(r in t.sourceValues));if(o.length>0)throw new Error(`Missing source values: ${o.join(", ")}`);const s=i.filter(r=>!(r in t.targetValues));if(s.length>0)throw new Error(`Missing target values: ${s.join(", ")}`)}async start(){let t;await this.start_ctxInit(),t=await this.start_dealLast(),t&&(t=await this.start_dealSelf(),t&&await this.start_dealNext())}async start_ctxInit(){this.ctx={targetValues:{},sourceValues:{},check:Lt.check_io},this.ctx2={targetValues:{},sourceValues:{}};const t=this._useNodesData.value.data.items;for(const n of t)(n.refType=="o"||n.refType=="output"||n.refType=="io")&&(this.ctx2.targetValues[n.id]=n,this.ctx.targetValues[n.id]={id:n.id,name:n.name,value:n.value,cacheValue:n.value}),n.refType!="o"&&n.refType!="output"&&(this.ctx2.sourceValues[n.id]=n,this.ctx.sourceValues[n.id]={id:n.id,name:n.name,value:n.value,cacheValue:n.value})}async start_dealLast(){for(const t of this._useSourceConnections.value){const n=this.findNode(t.source);if(n.data.runState!="over")return console.warn(`#${this.nodeId} 前面的 #${t.source} 没准备好，等待再次被激发`),!1;const i=n.data.items;for(const o of i)if(o.id==t.sourceHandle){const s=(o.cacheValue??o.value)+"";this.ctx2.sourceValues[t.targetHandle].cacheValue=s,this.ctx.sourceValues[t.targetHandle].cacheValue=s;break}}return!0}async start_dealSelf(){console.log("this._useNodesData.value.data1",this._useNodesData.value,this.nfData.value),this.nfData.value.runState="running",this.updateNodeData(this.nodeId,this.nfData.value),console.log("this._useNodesData.value.data2",this._useNodesData.value,this.nfData.value),await this.run_node(this.ctx)||(this.nfData.value.runState="error",this.updateNodeData(this.nodeId,this.nfData.value));for(const[n,i]of Object.entries(this.ctx.targetValues)){const o=this.ctx2.targetValues[n];o&&(o.id=i.id,o.name=i.name,o.value=i.value,o.cacheValue=i.cacheValue??i.value)}return this.nfData.value.runState=="error"?!1:(this.nfData.value.runState="over",this.updateNodeData(this.nodeId,this.nfData.value),!0)}async start_dealNext(){if(this._useNodesData.value.data.runState!="over"){console.warn(`#${this.nodeId} 状态 ${this._useNodesData.value.data.runState}，停止向后激发`);return}const t=Array.from(new Set(this._useTargetConnections.value.map(n=>n.target)));for(const n of t){const i=this.findNode(n).data;i.runState="ready",this.updateNodeData(n,i)}t.length==0&&console.log("flowControl, end")}}const lE={key:0,class:"node-item-name"},cE={class:"node-item-value"},dE=be({__name:"DebugItem",props:{data:{}},setup(e){var x;const t=e;t.data.value||(t.data.value="");const{getConnectedEdges:n,findNode:i,nodes:o,getSelectedNodes:s}=Ne(),r=Qt(),u=i(r),a=Vl(r),l=zo(r),c=_r({handleType:"target"}),d=Array.from(new Set(c.value.map(E=>E.source))),f=zo(d),h=_r({handleType:"source"}),p=Array.from(new Set(h.value.map(E=>E.target))),_=zo(p),b=n(r),y=ex((x=b[0])==null?void 0:x.id);function v(){console.log(`debug comp object
`,_e(a.node),_e(u),_e($(l)),_e(g.findNode(r)),_e(t.data.parent),`
--- .
`,Object.is(_e(a.node),_e(u)),Object.is(_e(a.node),_e(g.findNode(r))),Object.is(_e(a.node),_e($(l))),Object.is(_e(a.node),_e(t.data.parent)),`
--- .data
`,Object.is(_e(a.node.data),_e(u.data)),Object.is(_e(a.node.data),_e(g.findNode(r).data)),Object.is(_e(a.node.data),_e($(l).data)),Object.is(_e(a.node.data),_e(t.data.parent.self_data)),`
--- .data.items
`,Object.is(_e(a.node.data.items),_e(t.data.parent.self_data.items)))}const m=Lt.useGetNFNode(),g=_n.useGetNFNodes();return(E,D)=>(X(),Q("div",{class:Ue("debug-item  node-item-slot "+t.data.refType+(t.data.value?" has-value":""))},[t.data.name?(X(),Q("span",lE,we(t.data.name),1)):Oe("",!0),A("div",cE,[D[18]||(D[18]=A("div",null,[A("span",null,"---The Node-----")],-1)),A("div",null,[A("span",null,"useNodeId: "+we($(r)),1)]),A("div",null,[A("span",null,"Size: ("+we($(u).dimensions.width)+" x "+we($(u).dimensions.height)+")",1)]),A("div",null,[A("span",null,"Posi: ("+we($(u).position.x.toFixed(1))+", "+we($(u).position.y.toFixed(1))+")",1)]),A("div",null,[A("button",{onClick:D[0]||(D[0]=k=>console.log(_e(E.data.parent.self_data)))},"Props")]),A("div",null,[A("button",{onClick:D[1]||(D[1]=k=>console.log($(a)))},"Node")]),A("div",null,[A("button",{onClick:D[2]||(D[2]=k=>console.log($(l)))},"NodesData")]),A("div",null,[A("button",{onClick:D[3]||(D[3]=k=>console.log($(u)))},"Node Find")]),A("div",null,[A("button",{onClick:D[4]||(D[4]=k=>console.log($(m)))},"NFNode")]),A("div",null,[A("button",{onClick:D[5]||(D[5]=k=>console.log($(g).findNode($(r))))},"NFNodesFind")]),A("div",null,[A("button",{onClick:D[6]||(D[6]=k=>v())},"Compare")]),D[19]||(D[19]=A("div",null,[A("span",null,"---The Handle---")],-1)),A("div",null,[A("button",{onClick:D[7]||(D[7]=k=>console.log(E.data))},"componentData")]),D[20]||(D[20]=A("div",null,[A("span",null,"---Near Node----")],-1)),A("div",null,[A("button",{onClick:D[8]||(D[8]=k=>console.log($(f)))},"SourceNodesData")]),A("div",null,[A("button",{onClick:D[9]||(D[9]=k=>console.log($(_)))},"TargetNodesData")]),D[21]||(D[21]=A("div",null,[A("span",null,"---Near Handle--")],-1)),A("div",null,[A("button",{onClick:D[10]||(D[10]=k=>console.log($(c)))},"SourceConnections")]),A("div",null,[A("button",{onClick:D[11]||(D[11]=k=>console.log($(h)))},"TargetConnections")]),D[22]||(D[22]=A("div",null,[A("span",null,"---Near Edge----")],-1)),A("div",null,[A("button",{onClick:D[12]||(D[12]=k=>console.log($(b)))},"GetEdges")]),A("div",null,[A("button",{onClick:D[13]||(D[13]=k=>console.log($(y)))},"EdgesData1")]),D[23]||(D[23]=A("div",null,[A("span",null,"---All Node-----")],-1)),A("div",null,[A("button",{onClick:D[14]||(D[14]=k=>console.log($(o)))},"Nodes")]),A("div",null,[A("button",{onClick:D[15]||(D[15]=k=>console.log($(g)))},"nfNodes")]),A("div",null,[A("button",{onClick:D[16]||(D[16]=k=>console.log("使用PrintJson功能"))},"PropsNodes")]),A("div",null,[A("button",{onClick:D[17]||(D[17]=k=>console.log($(s)))},"SelectedNodes")])]),D[24]||(D[24]=A("div",{style:{height:"0",clear:"both"}},null,-1))],2))}}),fE=Xe(dE,[["__scopeId","data-v-2f3532a7"]]),hE={key:0,class:"node-item-name"},pE={class:"node-item-value"},mE=be({__name:"FeatItem",props:{data:{}},setup(e){const t=e;t.data.value||(t.data.value="");const{updateNodeData:n,findNode:i,nodes:o,edges:s}=Ne();function r(){const c=new Set;for(const d of o.value)c.add(d.id);for(const d of s.value)c.delete(d.target);return c}function u(c){const d=[],f=[];for(const h of c){let p=!1;for(const _ of i(h).data.items)if(_.valueType.startsWith("item-flow")){p=!0;break}p?f.push(h):d.push(h)}for(const h of f)d.push(h);return d}async function a(){const c=u(r());for(const d of o.value)d.data.runState="none",n(d.id,d.data);for(const d of c){const f=i(d).data;f.runState="ready",n(d,f),await new Promise(h=>setTimeout(h,500))}}function l(){for(const c of o.value)c.data.runState="none",n(c.id,c.data)}return(c,d)=>(X(),Q("div",{class:Ue("feat-item  node-item-slot "+t.data.refType+(t.data.value?" has-value":""))},[t.data.name?(X(),Q("span",hE,we(t.data.name),1)):Oe("",!0),A("div",pE,[d[4]||(d[4]=A("div",null,[A("span",null,"---All--------")],-1)),A("div",null,[A("button",{onClick:d[0]||(d[0]=f=>console.log(r()))},"Get_StartNodes")]),A("div",null,[A("button",{onClick:d[1]||(d[1]=f=>console.log(u(r())))},"Get_RunList")]),A("div",null,[A("button",{onClick:d[2]||(d[2]=f=>a())},"Start_RunList")]),A("div",null,[A("button",{onClick:d[3]||(d[3]=f=>l())},"Clear_State")])]),d[5]||(d[5]=A("div",{style:{height:"0",clear:"both"}},null,-1))],2))}}),qp=Xe(mE,[["__scopeId","data-v-19eaaa1f"]]),gE={key:0,class:"node-item-name"},vE=be({__name:"StartItem",props:{data:{}},setup(e){const t=e;t.data.value||(t.data.value="");const{updateNodeData:n}=Ne(),i=Qt(),o=zo(i),s=async()=>{o.value.data.runState="ready",n(i,o.value.data)};return(r,u)=>{var a,l;return X(),Q("div",{class:Ue("flowstart-item  node-item-slot "+t.data.refType+(t.data.value?" has-value":""))},[t.data.name?(X(),Q("span",gE,we(t.data.name),1)):Oe("",!0),A("div",{class:"node-item-value",title:"点击可以从此开启运行节点流程",onClick:u[0]||(u[0]=c=>s()),style:wt("background:"+((l=(a=$(o))==null?void 0:a.data)!=null&&l.isRunning?"green;":"red;"))},null,4),u[1]||(u[1]=A("div",{style:{height:"0",clear:"both"}},null,-1))],2)}}}),Gp=Xe(vE,[["__scopeId","data-v-4fb3f196"]]),_E={key:0,class:"node-item-name"},bE=be({__name:"FlowItem",props:{data:{}},setup(e){const t=e;return t.data.value||(t.data.value=""),Qt(),Lt.useGetNFNode(),(n,i)=>(X(),Q("div",{class:Ue("flow-item  node-item-slot "+t.data.refType+(t.data.value?" has-value":""))},[t.data.name?(X(),Q("span",_E,we(t.data.name),1)):Oe("",!0),i[0]||(i[0]=A("div",{style:{height:"0",clear:"both"}},null,-1))],2))}}),jp=Xe(bE,[["__scopeId","data-v-e8d4498f"]]),yE={key:0,class:"node-item-name"},wE=be({__name:"FlowDelayItem",props:{data:{}},setup(e){const t=e;t.data.value||(t.data.value="0");const n=Qt(),i=Lt.useGetNFNode();return i&&(i.run_node=async o=>(o.check(o,["emit","time"],["success"]),await new Promise(s=>setTimeout(s,o.sourceValues.time.cacheValue)),console.log(`debugConsole, #${n}.${t.data.id} delay:${o.sourceValues.time.cacheValue}`),!0)),(o,s)=>(X(),Q("div",{class:Ue("flowdelay-item  node-item-slot "+t.data.refType+(t.data.value?" has-value":""))},[t.data.name?(X(),Q("span",yE,we(t.data.name),1)):Oe("",!0),s[0]||(s[0]=A("div",{style:{height:"0",clear:"both"}},null,-1))],2))}}),Wp=Xe(wE,[["__scopeId","data-v-0edc41cd"]]),xE={key:0,class:"node-item-name"},CE=be({__name:"FlowReqItem",props:{data:{}},setup(e){const t=e,n=Qt(),i=Lt.useGetNFNode();return i&&(i.run_node=async o=>{var s,r,u,a;try{o.check(o,["emit","url"],["success","fail","resp"]);const l=await $t.fn_request(o.sourceValues.url.cacheValue,(s=o.sourceValues.method)==null?void 0:s.cacheValue,(r=o.sourceValues.headers)!=null&&r.cacheValue?JSON.parse((u=o.sourceValues.headers)==null?void 0:u.cacheValue):void 0,(a=o.sourceValues.body)==null?void 0:a.cacheValue);if(console.log(`debugConsole, #${n}.${t.data.id}`),l.status!=200)return console.warn("nf resp status error:",l),o.targetValues.resp.cacheValue="warning: ok/status:"+l.status.toString(),o.targetValues.fail.cacheValue=!0,!1;try{if(typeof l.json=="object")return o.targetValues.resp.cacheValue=JSON.stringify(l.json,null,2),o.targetValues.success.cacheValue=!0,!0;if(typeof l.json=="function"){const c=await l.json();return o.targetValues.resp.cacheValue=JSON.stringify(c,null,2),o.targetValues.success.cacheValue=!0,!0}else return console.warn("without json parse merthod:",l),o.targetValues.resp.cacheValue="[error] without json parse merthod",o.targetValues.fail.cacheValue=!0,!1}catch{}try{if(typeof l.text=="function"){const c=await l.text();return o.targetValues.resp.cacheValue=c,o.targetValues.success.cacheValue=!0,!0}else if(l.body){const c=typeof l.body=="string"?l.body:JSON.stringify(l.body);return o.targetValues.resp.cacheValue=c,o.targetValues.success.cacheValue=!0,!0}else return console.warn("without text parse merthod:",l),o.targetValues.resp.cacheValue="[error] without text parse merthod",o.targetValues.fail.cacheValue=!0,!1}catch{return o.targetValues.resp.cacheValue="[error] resp parse error",o.targetValues.fail.cacheValue=!0,!1}}catch(l){return console.error(`#${n}.${t.data.id} error request:`,l),o.targetValues.resp.cacheValue="[error] see console for detail",o.targetValues.fail.cacheValue=!0,!1}}),(o,s)=>(X(),Q("div",{class:Ue("flowreq-item  node-item-slot "+t.data.refType+(t.data.value?" has-value":""))},[t.data.name?(X(),Q("span",xE,we(t.data.name),1)):Oe("",!0),s[0]||(s[0]=A("div",{style:{height:"0",clear:"both"}},null,-1))],2))}}),Zp=Xe(CE,[["__scopeId","data-v-7c2682fc"]]),EE={key:0,class:"node-item-name"},SE={class:"node-item-value2"},kE=be({__name:"FlowEvalItem",props:{data:{}},setup(e){const t=e;t.data.value||(t.data.value="console.log('debug output')");const n=Qt(),i=Lt.useGetNFNode();return i&&(i.run_node=async o=>{try{return new Function("ctx",t.data.value)(o),console.log(`debugConsole, #${n}.${t.data.id}`),!0}catch(s){return console.log(`debugConsole, #${n}.${t.data.id} error:`,s),!1}}),(o,s)=>(X(),Q("div",{class:Ue("floweval-item  node-item-slot "+t.data.refType+(t.data.value?" has-value":""))},[t.data.name?(X(),Q("span",EE,we(t.data.name),1)):Oe("",!0),s[0]||(s[0]=A("div",{style:{height:"0",clear:"both"}},null,-1)),A("div",SE,[te(Gl,{data:o.data,codeType:"js"},null,8,["data"])]),s[1]||(s[1]=A("div",{style:{height:"0",clear:"both"}},null,-1))],2))}}),Yp=Xe(kE,[["__scopeId","data-v-27005582"]]),IE={class:"node-id"},AE=["run-state","aria-label"],DE={class:"node-title"},NE=["title"],TE={style:{display:"inline-block","margin-left":"10px"}},ME={class:"node-content"},FE={key:0},PE=be({__name:"ItemNode",props:{id:{},data:{},isItem:{type:Boolean,default:!1}},setup(e){var s,r;const t=e;me(()=>t.data.items.filter(u=>u.refType==="input")),me(()=>t.data.items.filter(u=>u.refType==="output")),me(()=>t.data.items.filter(u=>u.refType==="value"));const n=Qt(),i=n!="",o=ce(!1);return o.value=((r=(s=t.data)==null?void 0:s.items)==null?void 0:r.length)!=0,!t.isItem&&i&&Lt.useFactoryNFNode(n,t.data),(u,a)=>{const l=hs("ItemNode",!0);return X(),Q("div",{class:Ue(["item-node oo-style",{"item-item":u.isItem}])},[Fe(A("div",IE,[A("div",null,"#"+we($(n)),1)],512),[[lt,$(n)!=""]]),A("div",{class:"common-node node-main","run-state":u.data.runState,"aria-label":u.data.label},[A("div",DE,[A("span",{class:"node-state",title:"runState: "+u.data.runState},null,8,NE),A("span",TE,we(u.data.hasOwnProperty("label")?u.data.label:u.data.hasOwnProperty("name")?u.data.name:u.data.id),1)]),A("div",ME,[(X(!0),Q(Se,null,rt(u.data.items,(c,d)=>(X(),Q("div",{class:Ue("line node-item "+c.refType)},[te(Np,{index:d,item:c},{"item-item":Ce(f=>[te(l,{id:f.data.id,data:f.data,"is-item":!0},null,8,["id","data"])]),"item-string":Ce(f=>[te(Tp,{data:f.data},null,8,["data"])]),"item-enum":Ce(f=>[te(Mp,{data:f.data},null,8,["data"])]),"item-color":Ce(f=>[te(Fp,{data:f.data},null,8,["data"])]),"item-markdown":Ce(f=>[te(ql,{data:f.data},null,8,["data"])]),"item-debug":Ce(f=>[te(fE,{data:f.data},null,8,["data"])]),"item-feat":Ce(f=>[te(qp,{data:f.data},null,8,["data"])]),"item-start":Ce(f=>[te(Gp,{data:f.data},null,8,["data"])]),"item-flow":Ce(f=>[te(jp,{data:f.data},null,8,["data"])]),"item-flowdelay":Ce(f=>[te(Wp,{data:f.data},null,8,["data"])]),"item-flowreq":Ce(f=>[te(Zp,{data:f.data},null,8,["data"])]),"item-floweval":Ce(f=>[te(Yp,{data:f.data},null,8,["data"])]),_:2},1032,["index","item"])],2))),256))]),i?Fe((X(),Q("div",FE,[te($(Je),{id:"l",class:"default",type:"target",position:$(re).Left},null,8,["position"]),te($(Je),{id:"t",class:"default",type:"target",position:$(re).Top},null,8,["position"]),te($(Je),{id:"r",class:"default",type:"source",position:$(re).Right},null,8,["position"]),te($(Je),{id:"b",class:"default",type:"source",position:$(re).Bottom},null,8,["position"])],512)),[[lt,!o.value]]):Oe("",!0)],8,AE)],2)}}}),OE=Xe(PE,[["__scopeId","data-v-49c37e02"]]),LE={class:"fold-title"},zE={class:"fold-content"},RE={class:"fold-title"},$E={class:"fold-content"},BE={for:"draggable",title:"允许拖拽节点"},VE={for:"connectable",title:"允许连接节点"},HE={for:"selectable",title:"允许选择元素"},UE={for:"zoomonscroll",title:"滚轮时,进行缩放"},qE={for:"zoomonpinch",title:"Ctrl滚动时,进行缩放"},GE={for:"panonscroll",title:"滚轮时,进行滚动"},jE={title:"滚轮时,进行滚动的方向"},WE={for:"zoomondbl",title:"双击时进行放大"},ZE={for:"panemoveable",title:"允许拖拽画布"},YE={for:"capturezoompaneclick",title:"在窗格上捕获?"},XE={for:"capturezoompanescroll",title:"在窗格上捕获?"},KE=be({__name:"InteractionControls",setup(e){let t=ce(!0),n=ce(!0);const{nodesDraggable:i,nodesConnectable:o,elementsSelectable:s,zoomOnScroll:r,zoomOnDoubleClick:u,zoomOnPinch:a,panOnScroll:l,panOnScrollMode:c,panOnDrag:d,onConnect:f,onNodeDragStop:h,onPaneClick:p,onPaneScroll:_,onPaneContextMenu:b,onNodeDragStart:y,onMoveEnd:v,addEdges:m,zoomIn:g,zoomOut:x,setMinZoom:E,setMaxZoom:D}=Ne(),k=ce(!1),w=ce(!1);f(C=>m(C));const M=()=>{D(3),g()},O=()=>{E(.1),x()};return M(),O(),y(C=>$t.isDebug&&console.log("Drag start",C)),h(C=>$t.isDebug&&console.log("Drag stop",C)),p(C=>$t.isDebug&&k.value&&console.log("Pane click",C)),_(C=>$t.isDebug&&w.value&&console.log("Pane scroll",C)),b(C=>$t.isDebug&&k.value&&console.log("Pane ctx menu",C)),v(C=>$t.isDebug&&console.log("Move end",C)),(C,z)=>(X(),tt($(Q3),{position:"top-right"},{default:Ce(()=>[A("div",LE,[A("button",{onClick:z[0]||(z[0]=P=>Ie(n)?n.value=!$(n):n=!$(n))},"Nodes Tool "+we($(n)?"v":"^"),1)]),Fe(A("div",zE,z[13]||(z[13]=[A("div",{title:"复制并黏贴当前选中节点"},[A("button",{title:"请在编辑模式下使用快捷键ctrl+d"},"Copy&Paste")],-1),A("div",{title:"复制"},[A("button",{title:"请在编辑模式下使用快捷键ctrl+c"},"Copy")],-1),A("div",{title:"黏贴"},[A("button",{title:"请在编辑模式下使用快捷键ctrl+v"},"Paste")],-1)]),512),[[lt,!$(n)]]),A("div",RE,[A("button",{onClick:z[1]||(z[1]=P=>Ie(t)?t.value=!$(t):t=!$(t))},"Canvas Config "+we($(t)?"v":"^"),1)]),Fe(A("div",$E,[A("div",null,[A("label",BE,[z[14]||(z[14]=ot(" Nodes draggable ")),Fe(A("input",{id:"draggable","onUpdate:modelValue":z[2]||(z[2]=P=>Ie(i)?i.value=P:null),type:"checkbox",class:"vue-flow__draggable"},null,512),[[rn,$(i)]])])]),A("div",null,[A("label",VE,[z[15]||(z[15]=ot(" Nodes connectable ")),Fe(A("input",{id:"connectable","onUpdate:modelValue":z[3]||(z[3]=P=>Ie(o)?o.value=P:null),type:"checkbox"},null,512),[[rn,$(o)]])])]),A("div",null,[A("label",HE,[z[16]||(z[16]=ot(" Elements selectable ")),Fe(A("input",{id:"selectable","onUpdate:modelValue":z[4]||(z[4]=P=>Ie(s)?s.value=P:null),type:"checkbox"},null,512),[[rn,$(s)]])])]),A("div",null,[A("label",UE,[z[17]||(z[17]=ot(" Zoom on scroll ")),Fe(A("input",{id:"zoomonscroll","onUpdate:modelValue":z[5]||(z[5]=P=>Ie(r)?r.value=P:null),type:"checkbox"},null,512),[[rn,$(r)]])])]),A("div",null,[A("label",qE,[z[18]||(z[18]=ot(" Zoom on pinch ")),Fe(A("input",{id:"zoomonpinch","onUpdate:modelValue":z[6]||(z[6]=P=>Ie(a)?a.value=P:null),type:"checkbox"},null,512),[[rn,$(a)]])])]),A("div",null,[A("label",GE,[z[19]||(z[19]=ot(" Pan on scroll ")),Fe(A("input",{id:"panonscroll","onUpdate:modelValue":z[7]||(z[7]=P=>Ie(l)?l.value=P:null),type:"checkbox"},null,512),[[rn,$(l)]])])]),A("div",null,[A("label",jE,[z[21]||(z[21]=ot(" Pan on scroll mode ")),Fe(A("select",{"onUpdate:modelValue":z[8]||(z[8]=P=>Ie(c)?c.value=P:null)},z[20]||(z[20]=[A("option",{value:"free"},"Free",-1),A("option",{value:"horizontal"},"Horizontal",-1),A("option",{value:"vertical"},"Vertical",-1)]),512),[[kl,$(c)]])])]),A("div",null,[A("label",WE,[z[22]||(z[22]=ot(" Zoom on double click ")),Fe(A("input",{id:"zoomondbl","onUpdate:modelValue":z[9]||(z[9]=P=>Ie(u)?u.value=P:null),type:"checkbox"},null,512),[[rn,$(u)]])])]),A("div",null,[A("label",ZE,[z[23]||(z[23]=ot(" Pane movable ")),Fe(A("input",{id:"panemoveable","onUpdate:modelValue":z[10]||(z[10]=P=>Ie(d)?d.value=P:null),type:"checkbox"},null,512),[[rn,$(d)]])])]),A("div",null,[A("label",YE,[z[24]||(z[24]=ot(" Capture on pane click ")),Fe(A("input",{id:"capturezoompaneclick","onUpdate:modelValue":z[11]||(z[11]=P=>k.value=P),type:"checkbox"},null,512),[[rn,k.value]])])]),A("div",null,[A("label",XE,[z[25]||(z[25]=ot(" Capture on pane scroll ")),Fe(A("input",{id:"capturezoompanescroll","onUpdate:modelValue":z[12]||(z[12]=P=>w.value=P),type:"checkbox"},null,512),[[rn,w.value]])])]),A("div",null,[A("label",{title:"放大视图"},[A("button",{onclick:M},"Zoom in")])]),A("div",null,[A("label",{title:"缩小视图"},[A("button",{onclick:O},"Zoom out")])])],512),[[lt,!$(t)]])]),_:1}))}}),JE=Xe(KE,[["__scopeId","data-v-3f93b4b5"]]);var Nn=(e=>(e.Lines="lines",e.Dots="dots",e))(Nn||{});const Xp=function({dimensions:e,size:t,color:n}){return Ve("path",{stroke:n,"stroke-width":t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`})},Kp=function({radius:e,color:t}){return Ve("circle",{cx:e,cy:e,r:e,fill:t})};Nn.Lines+"",Nn.Dots+"";const QE={[Nn.Dots]:"#81818a",[Nn.Lines]:"#eee"},e6=["id","x","y","width","height","patternTransform"],t6={key:2,height:"100",width:"100"},n6=["fill"],i6=["x","y","fill"],o6={name:"Background",compatConfig:{MODE:3}},s6=be({...o6,props:{id:{},variant:{default:()=>Nn.Dots},gap:{default:20},size:{default:1},lineWidth:{default:1},patternColor:{},color:{},bgColor:{},height:{default:100},width:{default:100},x:{default:0},y:{default:0},offset:{default:0}},setup(e){const{id:t,viewport:n}=Ne(),i=me(()=>{const r=n.value.zoom,[u,a]=Array.isArray(e.gap)?e.gap:[e.gap,e.gap],l=[u*r||1,a*r||1],c=e.size*r,[d,f]=Array.isArray(e.offset)?e.offset:[e.offset,e.offset],h=[d*r||1+l[0]/2,f*r||1+l[1]/2];return{scaledGap:l,offset:h,size:c}}),o=Ke(()=>`pattern-${t}${e.id?`-${e.id}`:""}`),s=Ke(()=>e.color||e.patternColor||QE[e.variant||Nn.Dots]);return(r,u)=>(X(),Q("svg",{class:"vue-flow__background vue-flow__container",style:wt({height:`${r.height>100?100:r.height}%`,width:`${r.width>100?100:r.width}%`})},[It(r.$slots,"pattern-container",{id:o.value},()=>[A("pattern",{id:o.value,x:$(n).x%i.value.scaledGap[0],y:$(n).y%i.value.scaledGap[1],width:i.value.scaledGap[0],height:i.value.scaledGap[1],patternTransform:`translate(-${i.value.offset[0]},-${i.value.offset[1]})`,patternUnits:"userSpaceOnUse"},[It(r.$slots,"pattern",{},()=>[r.variant===$(Nn).Lines?(X(),tt($(Xp),{key:0,size:r.lineWidth,color:s.value,dimensions:i.value.scaledGap},null,8,["size","color","dimensions"])):r.variant===$(Nn).Dots?(X(),tt($(Kp),{key:1,color:s.value,radius:i.value.size/2},null,8,["color","radius"])):Oe("",!0),r.bgColor?(X(),Q("svg",t6,[A("rect",{width:"100%",height:"100%",fill:r.bgColor},null,8,n6)])):Oe("",!0)])],8,e6)]),A("rect",{x:r.x,y:r.y,width:"100%",height:"100%",fill:`url(#${o.value})`},null,8,i6),It(r.$slots,"default",{id:o.value})],4))}}),r6=be({__name:"NodeFlow",props:{nfNodes:{},isShowControls:{type:Boolean,default:!1},isMini:{type:Boolean}},setup(e){const t=e,{selected:n,selected2:i}=os();if(t.nfNodes._useVueFlow=Ne(),t.nfNodes._calcLayout=Bx(),t.isMini){const{zoomOnScroll:p,zoomOnDoubleClick:_,nodesConnectable:b}=Ne();p.value=!1,_.value=!1,b.value=!0}function o(p="LR",_="center"){We(()=>{t.nfNodes.autoSet_layout("LR","center",!0)})}const s=ce([]);function r(p){for(let _ of p.value){const b=l(_);if(!b){console.error("无法找到被选中的节点 #"+_);return}const v={id:t.nfNodes.create_newId(_),data:b.data,position:{x:b.position.x+100,y:b.position.y+100},type:b.type};Lt.factoryNFNode(v,t.nfNodes)}}const u=p=>{if(p.ctrlKey&&["d","c","v"].includes(p.key)){if(!t.isShowControls){console.warn("不允许在非全屏/不显示控制面板的情况下使用部分快捷键");return}{const _=p.target,b=!!_.closest(".nf-node-flow"),y=_.tagName.toUpperCase(),v=y==="TEXTAREA"||y==="INPUT",m=_.isContentEditable;if(console.log("check area",_,b,v,m),!b||v||m)return}p.ctrlKey&&p.key==="d"?(p.preventDefault(),r(f)):p.ctrlKey&&p.key==="c"?(p.preventDefault(),s.value=f.value):p.ctrlKey&&p.key==="v"&&(p.preventDefault(),r(s))}};it(()=>{document.addEventListener("keydown",u)}),Si(()=>{document.removeEventListener("keydown",u)});const{findEdge:a,findNode:l}=Ne();function c(p){for(const _ of p)if(_.type=="select"&&_.hasOwnProperty("selected")){const b=a(_.id);b.animated=_.selected}else if(_.type=="add"&&_.hasOwnProperty("item")){const b=["#ff0000","#ff4d00","#ff9900","#ffe600","#ccff00","#80ff00","#33ff00","#00ff1a","#00ff66","#00ffb3","#00ffff","#00b3ff","#0066ff","#001aff","#3300ff","#8000ff","#cc00ff","#ff00e6","#ff0099","#ff004c"],y=_.item.targetHandle.toLowerCase().charCodeAt(0)%20;t.nfNodes.nfData.value.edges.push({id:_.item.id,style:{stroke:b[y]},target:_.item.target,targetHandle:_.item.targetHandle,source:_.item.source,sourceHandle:_.item.sourceHandle})}else _.type=="remove"&&(t.nfNodes.nfData.value.edges=t.nfNodes.nfData.value.edges.filter(b=>b.id!=_.id))}function d(p){for(const _ of p)if(_.type=="select"&&_.hasOwnProperty("selected"))l(_.id),_.selected?f.value.push(_.id):f.value=f.value.filter(b=>b!==_.id);else if(_.type=="add"&&_.hasOwnProperty("item")){const b=l(_.item.id);t.nfNodes.nfData.value.nodes.push({id:b.id,data:b.data,position:b.position,type:b.type})}else _.type=="remove"&&(t.nfNodes.nfData.value.nodes=t.nfNodes.nfData.value.nodes.filter(b=>b.id!=_.id),f.value=f.value.filter(b=>b!==_.id))}const f=ce([]),{getSelectedNodes:h}=Ne();return n.value=f.value,i.value=h,Ae(f,()=>{n.value=f.value},{deep:!0}),(p,_)=>(X(),tt($(K3),{class:"nf-node-flow",nodes:t.nfNodes.nfData.value.nodes,edges:t.nfNodes.nfData.value.edges,"prevent-scrolling":!0,"fit-view-on-init":"",onNodesChange:d,onEdgesChange:c,onNodesInitialized:_[0]||(_[0]=b=>o())},{"node-obcanvas":Ce(b=>[te(jx,{id:b.id,data:b.data},null,8,["id","data"])]),"node-comfyui":Ce(b=>[te(uC,{id:b.id,data:b.data},null,8,["id","data"])]),"node-comfyui-group":Ce(b=>[te(fC,{id:b.id,data:b.data},null,8,["id","data"])]),"node-common":Ce(b=>[te(OC,{id:b.id,data:b.data},null,8,["id","data"])]),"node-item":Ce(b=>[te(OE,{id:b.id,data:b.data},null,8,["id","data"])]),default:Ce(()=>[te($(s6),{style:{"background-color":"#222222"},"pattern-color":"#191919",variant:"lines",gap:16}),t.isShowControls?(X(),tt(JE,{key:0})):Oe("",!0)]),_:1},8,["nodes","edges"]))}}),u6={key:0,class:"dd-button-menu"},ya=be({__name:"dropdownButton",props:{label:{},fn:{type:Function}},setup(e){const t=e,n=ce(t.label),i=ce(t.fn);function o(){s.value=!s.value}const s=ce(!1);function r(c,d){n.value=c,i.value=d,i.value&&i.value(),s.value=!1}function u(){i.value&&i.value()}function a(c){l.value&&!l.value.contains(c.target)&&(s.value=!1)}const l=ce(null);return it(()=>{document.addEventListener("click",a)}),fo(()=>{document.removeEventListener("click",a)}),(c,d)=>(X(),Q("div",{class:"dd-button",ref_key:"ddButtonRef",ref:l},[A("button",{class:"dd-button-main",onClick:u},we(n.value),1),A("button",{class:"dd-button-dropdown",onClick:o},"^"),te(k1,{name:"fade"},{default:Ce(()=>[s.value?(X(),Q("ul",u6,[It(c.$slots,"default",{selectItem:r})])):Oe("",!0)]),_:3})],512))}});function a6(e,t){return new Promise((n,i)=>{e&&(t.value?(t.value=!1,e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullScreen?e.webkitRequestFullScreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.msRequestFullscreen&&e.msRequestFullscreen(),l6(t)):(t.value=!0,document.exitFullscreen?document.exitFullscreen():e.webkitCancelFullScreen?e.webkitCancelFullScreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.msExitFullscreen&&e.msExitFullscreen()))})}function l6(e){document.addEventListener("fullscreenchange",t),document.addEventListener("webkitfullscreenchange",t),document.addEventListener("mozfullscreenchange",t),document.addEventListener("MSFullscreenChange",t);function t(){document.fullscreenElement||(e.value=!0,document.removeEventListener("fullscreenchange",t),document.removeEventListener("webkitfullscreenchange",t),document.removeEventListener("mozfullscreenchange",t),document.removeEventListener("MSFullscreenChange",t))}}const c6={class:"nf-toolbar"},d6=["onClick"],f6=["onClick"],h6=["onClick"],p6=["onClick"],m6=["onClick"],g6=["onClick"],v6=["onClick"],_6=["onClick"],b6=["onClick"],y6=["onClick"],w6=["onClick"],x6=["onClick"],C6=be({__name:"NodeFlowContainerS",props:{nfNodes:{},isMini:{type:Boolean},fn_newView:{type:Function,default:async()=>{}},fn_save:{type:Function,default:()=>{}}},setup(e){const t=e,n=me(()=>t.fn_newView||l),i=ce(t.isMini),o=ce(!t.isMini);function s(g,x="none"){t.nfNodes.autoSet_layout(g,x)}const r=ce(!0);function u(){const g=document.body,x=document.querySelector(".workspace-leaf.mod-active .markdown-source-view .cm-scroller");r.value?(r.value=!1,g&&g.classList.add("nf-style-overflow-hidden"),x&&x.classList.add("nf-style-overflow-hidden")):(r.value=!0,g&&g.classList.remove("nf-style-overflow-hidden"),x&&x.classList.remove("nf-style-overflow-hidden"))}const a=ce();function l(){a6(a.value,i)}function c(){if(!t.hasOwnProperty("fn_save"))return;const g=jl(t.nfNodes.nfType.value,t.nfNodes.nfData.value);g.code==0?(t.nfNodes.nfStr.value=g.data,t.fn_save(g.data)):console.error("无法保存修改",g)}function d(){y({offset:{x:0,y:0}})}const{zoomIn:f,zoomOut:h,zoomTo:p,setMinZoom:_,setMaxZoom:b,fitView:y}=Ne(),v=ce();it(()=>{document.addEventListener("wheel",g=>{!v.value||!v.value.contains(g.target)||(g.preventDefault(),b(3),_(.1),g.deltaY>0?h():f())},{passive:!1})}),Si(()=>{document.removeEventListener("wheel",()=>{})});function m(){p(1)}return(g,x)=>(X(),Q("div",{ref_key:"CanFullScreen",ref:a,class:Ue(i.value?"normal-size":"full-size")},[A("div",{class:Ue(i.value?"nf-shell-mini":"nf-shell-view")},[te(r6,{ref:"RefChild",nfNodes:g.nfNodes,jsonData:g.nfNodes.nfData.value,isMini:i.value,isShowControls:o.value},null,8,["nfNodes","jsonData","isMini","isShowControls"])],2),A("div",c6,[(X(),Q("button",{key:0,class:"nf-btn",onClick:x[0]||(x[0]=E=>c())},"Save")),te(ya,{class:"nf-btn",label:"Full screen",fn:()=>l()},{default:Ce(({selectItem:E})=>[A("button",{class:"nf-btn",onClick:D=>E("Full screen",()=>l())},"Full screen",8,d6),A("button",{class:"nf-btn",onClick:D=>E("New view",()=>n.value())},"New view",8,f6)]),_:1},8,["fn"]),te(ya,{class:"nf-btn",label:"LR layout (center)",fn:()=>s("LR","center")},{default:Ce(({selectItem:E})=>[A("button",{class:"nf-btn",onClick:D=>E("LR layout",()=>s("LR"))},"LR layout",8,h6),A("button",{class:"nf-btn",onClick:D=>E("TB layout",()=>s("TB"))},"TB layout",8,p6),A("button",{class:"nf-btn",onClick:D=>E("LR layout (center)",()=>s("LR","center"))},"LR layout (center)",8,m6),A("button",{class:"nf-btn",onClick:D=>E("LR layout (top)",()=>s("LR","top"))},"LR layout (top)",8,g6)]),_:1},8,["fn"]),A("button",{class:"nf-btn",onClick:x[1]||(x[1]=E=>d()),title:"点击时自动缩放移动画布"},"Init view"),A("button",{class:"nf-btn",onClick:x[2]||(x[2]=E=>m()),ref_key:"zoomButton",ref:v,title:"点击时缩放倍数设为一。悬浮并滚动时缩放 (方便单手不按住Ctrl操作)"},"Zoom area",512),A("button",{class:"nf-btn",onClick:x[3]||(x[3]=E=>u())},"Ex lock"),A("button",{class:"nf-btn",onClick:x[4]||(x[4]=E=>o.value=!o.value)},"Show Controls"),te(ya,{class:"nf-btn",label:"Copy md",fn:()=>g.nfNodes.fn_copyData("mdData")},{default:Ce(({selectItem:E})=>[A("button",{class:"nf-btn",onClick:D=>E("Print json",()=>g.nfNodes.fn_printData("jsonData"))},"Print json",8,v6),A("button",{class:"nf-btn",onClick:D=>E("Print md",()=>g.nfNodes.fn_printData("mdData"))},"Print md",8,_6),A("button",{class:"nf-btn",onClick:D=>E("Print raw",()=>g.nfNodes.fn_printData("rawData"))},"Print raw",8,b6),A("button",{class:"nf-btn",onClick:D=>E("Copy json",()=>g.nfNodes.fn_copyData("jsonData"))},"Copy json",8,y6),A("button",{class:"nf-btn",onClick:D=>E("Copy md",()=>g.nfNodes.fn_copyData("mdData"))},"Copy md",8,w6),A("button",{class:"nf-btn",onClick:D=>E("Copy raw",()=>g.nfNodes.fn_copyData("rawData"))},"Copy raw",8,x6)]),_:1},8,["fn"])])],2))}}),E6=Xe(C6,[["__scopeId","data-v-a7aa5246"]]),S6=be({__name:"GlComponent",setup(e,{expose:t}){const n=ce(null),i=u=>u.toString(10)+"px";return t({setPosAndSize:(u,a,l,c)=>{if(n.value){const d=n.value;d.style.left=i(u),d.style.top=i(a),d.style.width=i(l),d.style.height=i(c)}},setVisibility:u=>{if(n.value){const a=n.value;u?a.style.display="":a.style.display="none"}},setZIndex:u=>{if(n.value){const a=n.value;a.style.zIndex=u}}}),(u,a)=>(X(),Q("div",{ref_key:"GlComponent",ref:n,style:{position:"absolute",overflow:"hidden"}},[It(u.$slots,"default")],512))}}),k6={style:{position:"relative"}},I6={style:{position:"absolute",width:"100%",height:"100%"}},A6=be({__name:"GoldenLayout",props:{config:{type:Object,default:()=>({})}},setup(e,{expose:t}){const n=e,i=ce(null);let o;const s=Dr(ce("glc_")),r=new Map,u=ce(new Map),a=[];let l=0,c;const d=Rn(),f=d.slots,h=async(y,v)=>{const m=f[y];if(!m)throw new Error(`addComponent: Component '${y}' not found in slots`);let g=l;return a.length>0?g=a.pop():l++,u.value.set(g,()=>m(v)),g},p=async(y,v,m=void 0)=>{if(y.length==0)throw new Error("addGlComponent: Component's type is empty");const g=await h(y,m);await We(),o.addComponent(y,{refId:g,...m||{}},v)},_=async y=>{o.clear(),u.value.clear();const v=y.resolved?Mt.fromResolved(y):y;let m=[v.root.content],g=0;for(;m.length>0;){const x=m.shift();for(let E of x)E.type=="component"?(g=await h(E.componentType,E.componentState),typeof E.componentState=="object"?E.componentState.refId=g:E.componentState={refId:g}):E.content.length>0&&m.push(E.content)}await We(),o.loadLayout(v)},b=()=>o.saveLayout();return it(()=>{if(i.value==null)throw new Error("Golden Layout can't find the root DOM!");const y=()=>{const k=i.value;let w=k?k.offsetWidth:0,M=k?k.offsetHeight:0;o.setSize(w,M)};window.addEventListener("resize",y,{passive:!0});const v=k=>{c=i.value.getBoundingClientRect()},m=(k,w,M)=>{const O=r.get(k);if(!O||!(O!=null&&O.glc))throw new Error("handleContainerVirtualRectingRequiredEvent: Component not found");const C=k.element.getBoundingClientRect(),z=C.left-c.left,P=C.top-c.top;O.glc.setPosAndSize(z,P,w,M)},g=(k,w)=>{const M=r.get(k);if(!M||!(M!=null&&M.glc))throw new Error("handleContainerVirtualVisibilityChangeRequiredEvent: Component not found");M.glc.setVisibility(w)},x=(k,w,M)=>{const O=r.get(k);if(!O||!(O!=null&&O.glc))throw new Error("handleContainerVirtualZIndexChangeRequiredEvent: Component not found");O.glc.setZIndex(M)},E=(k,w)=>{let M=-1;if(w&&w.componentState)M=w.componentState.refId;else throw new Error("bindComponentEventListener: component's ref id is required");const O=s.value+M,C=d==null?void 0:d.refs[O];return r.set(k,{refId:M,glc:C[0]}),k.virtualRectingRequiredEvent=(z,P,q)=>m(z,P,q),k.virtualVisibilityChangeRequiredEvent=(z,P)=>g(z,P),k.virtualZIndexChangeRequiredEvent=(z,P,q)=>x(z,P,q),{component:C,virtual:!0}},D=k=>{const w=r.get(k);if(!w||!(w!=null&&w.glc))throw new Error("handleUnbindComponentEvent: Component not found");r.delete(k),u.value.delete(w.refId),a.push(w.refId)};o=new Ko(i.value,E,D),o.beforeVirtualRectingEvent=v,n.config&&_(n.config)}),t({addGlComponent:p,loadGLLayout:_,getLayoutConfig:b}),(y,v)=>(X(),Q("div",k6,[A("div",{ref_key:"GLRoot",ref:i,style:{position:"absolute",width:"100%",height:"100%"}},null,512),A("div",I6,[(X(!0),Q(Se,null,rt(u.value,m=>(X(),tt(S6,{key:m[0],ref_for:!0,ref:$(s)+m[0]},{default:Ce(()=>[(X(),tt(Ph(m[1])))]),_:2},1024))),128))])]))}}),D6={key:0,class:"json-editor"},N6=["value"],T6=be({__name:"JsonEditor",setup(e){const t=_n.useGetNFNodes(),n=[{name:"listitem-nest",type:"nodeflow-listitem",content:Hp},{name:"listitem-http-old",type:"nodeflow-listitem",content:il},{name:"listitem-http-new",type:"nodeflow-listitem",content:Up},{name:"comfyUI-1",type:"nodeflow-comfyui",content:JSON.stringify(Rp,null,2)},{name:"comfyUI-2",type:"nodeflow-comfyui",content:JSON.stringify($p,null,2)},{name:"obcanvas",type:"nodeflow-obcanvas",content:JSON.stringify(zp,null,2)},{name:"vueflow",type:"nodeflow-vueflow",content:JSON.stringify(Pp,null,2)},{name:"vueflow-autoPos",type:"nodeflow-vueflow",content:JSON.stringify(Op,null,2)},{name:"vueflow-custom",type:"nodeflow-vueflow",content:JSON.stringify(Lp,null,2)},{name:"list",type:"nodeflow-list",content:Bp},{name:"item-moreType",type:"nodeflow-item",content:JSON.stringify(Vp,null,2)}];function i(o){if(t==null){console.error("find't nfNodes");return}const s=o.target.value;t.nfData.value={nodes:[],edges:[]},We(()=>{t.nfType.value=n[s].type,t.nfStr.value=n[s].content})}return t==null?console.error("find't nfNodes"):(t.nfType.value="nodeflow-listitem",t.nfStr.value=il),(o,s)=>$(t)!=null?(X(),Q("div",D6,[s[2]||(s[2]=A("div",{class:"item"},"预设：",-1)),A("select",{class:"item",onChange:i,value:"1"},[(X(),Q(Se,null,rt(n,(r,u)=>A("option",{value:u},we(r.name),9,N6)),64))],32),Fe(A("input",{class:"item","onUpdate:modelValue":s[0]||(s[0]=r=>$(t).nfType.value=r)},null,512),[[Qi,$(t).nfType.value]]),Fe(A("textarea",{spellcheck:"false",class:"item","onUpdate:modelValue":s[1]||(s[1]=r=>$(t).nfStr.value=r)},null,512),[[Qi,$(t).nfStr.value]])])):Oe("",!0)}}),Jp=Xe(T6,[["__scopeId","data-v-123c9234"]]),M6={class:"node-id"},F6=["run-state","aria-label"],P6={class:"node-title"},O6=["title"],L6={style:{display:"inline-block","margin-left":"10px"}},z6={class:"node-content"},R6=be({__name:"ItemNode2",props:{id:{},data:{},isItem:{type:Boolean,default:!1}},setup(e){var s,r;const t=e;me(()=>t.data.items.filter(u=>u.refType==="input")),me(()=>t.data.items.filter(u=>u.refType==="output")),me(()=>t.data.items.filter(u=>u.refType==="value"));const n=Qt(),i=n!="",o=ce(!1);return o.value=((r=(s=t.data)==null?void 0:s.items)==null?void 0:r.length)!=0,!t.isItem&&i&&Lt.useFactoryNFNode(n,t.data),(u,a)=>{const l=hs("ItemNode2",!0);return X(),Q("div",{class:Ue(["item-node oo-style",{"item-item":u.isItem}])},[Fe(A("div",M6,[A("div",null,"#"+we($(n)),1)],512),[[lt,$(n)!=""]]),A("div",{class:"common-node node-main","run-state":u.data.runState,"aria-label":u.data.label},[A("div",P6,[A("span",{class:"node-state",title:"runState: "+u.data.runState},null,8,O6),A("span",L6,we(u.data.hasOwnProperty("label")?u.data.label:u.data.hasOwnProperty("name")?u.data.name:u.data.id),1)]),A("div",z6,[(X(!0),Q(Se,null,rt(u.data.items,(c,d)=>(X(),Q("div",{class:Ue("line node-item "+c.refType)},[te(Np,{index:d,item:c},{"item-item":Ce(f=>[te(l,{id:f.data.id,data:f.data,"is-item":!0},null,8,["id","data"])]),"item-string":Ce(f=>[te(Tp,{data:f.data},null,8,["data"])]),"item-enum":Ce(f=>[te(Mp,{data:f.data},null,8,["data"])]),"item-color":Ce(f=>[te(Fp,{data:f.data},null,8,["data"])]),"item-markdown":Ce(f=>[te(ql,{data:f.data},null,8,["data"])]),"item-debug":Ce(f=>a[0]||(a[0]=[A("div",null,"(此处不支持编辑DebugItem)",-1)])),"item-feat":Ce(f=>[te(qp,{data:f.data},null,8,["data"])]),"item-start":Ce(f=>[te(Gp,{data:f.data},null,8,["data"])]),"item-flow":Ce(f=>[te(jp,{data:f.data},null,8,["data"])]),"item-flowdelay":Ce(f=>[te(Wp,{data:f.data},null,8,["data"])]),"item-flowreq":Ce(f=>[te(Zp,{data:f.data},null,8,["data"])]),"item-floweval":Ce(f=>[te(Yp,{data:f.data},null,8,["data"])]),_:2},1032,["index","item"])],2))),256))])],8,F6)],2)}}}),$6=Xe(R6,[["__scopeId","data-v-2f4d9f87"]]),B6={class:"node-editor"},V6={key:0,style:{margin:"0 0 12px",padding:"0"}},H6={key:2,class:"item",disabled:""},U6=be({__name:"NodeEditor",setup(e){const{selected:t,selected2:n}=os(),i=_n.useGetNFNodes();let o=ce(null);Ae(t,()=>{s()},{deep:!0}),s();function s(){i._useVueFlow&&(t.value.length<1?o.value=null:o.value=Lt.getNFNode(t.value[0],i))}return(r,u)=>(X(),Q("div",B6,[$(o)!=null?(X(),Q("div",V6,[te($6,{id:$(o).nodeId,data:$(o).nfData},null,8,["id","data"])])):Oe("",!0),$(o)?Fe((X(),Q("textarea",{key:1,spellcheck:"false",class:"item","onUpdate:modelValue":u[0]||(u[0]=a=>$(o).nfStr=a)},null,512)),[[Qi,$(o).nfStr]]):(X(),Q("textarea",H6,"(未选中，请在画布中选中节点)"))]))}}),Qp=Xe(U6,[["__scopeId","data-v-1e42006d"]]),q6={class:"auto-editor"},G6={class:"selected-counter"},j6=be({__name:"AutoEditor",setup(e){const{selected:t,selected2:n}=os(),i=ce(0);return Ae(t,()=>{if(!t.value){i.value=0;return}i.value=t.value.length},{deep:!0}),(o,s)=>(X(),Q("div",q6,[Fe(te(Jp,null,null,512),[[lt,i.value<1]]),Fe(te(Qp,null,null,512),[[lt,i.value>=1]]),A("div",G6,"当前选中 "+we(i.value)+" 项",1)]))}}),W6=Xe(j6,[["__scopeId","data-v-86f115e0"]]),Z6={class:"backend-connector"},Y6=be({__name:"BackendConnector",setup(e){const t=_n.useGetNFNodes(),n=ce("http://localhost:24042/"),i=ce(!1),o=ce(null),s=ce("");async function r(){try{const h=await fetch(n.value+"heartbeat",{});h.ok?(i.value=!0,h.json().then(p=>{s.value=JSON.stringify(p,null,2)})):(i.value=!1,s.value="")}catch(h){i.value=!1,s.value=`[ERROR]
${new Date().toString()}
${h}

可能的情况:
- 无后端模式 (合法，但网页刷新可能导致数据丢失，且只能使用前端的节点模块)
- 与后端的连接问题存在问题，自行检查，或请尝试修改正确的同步服务或
- 如果你没有适用的服务端，可自行部署。如参考 https://github.com/NestNode/ API`,console.error("Connection error:"+h)}}it(()=>{o.value=window.setInterval(r,1e3),r()}),Si(()=>{o.value&&window.clearInterval(o.value)});const u=ce("");async function a(){try{const h=await fetch(n.value+"rest/nodedata",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:t.nfStr.value})});h.ok?h.json().then(p=>{u.value=p.data}):u.value=""}catch(h){u.value="[error] "+h,console.error("Connection error:"+h)}}async function l(h=!0){try{const p=await fetch(n.value+"rest/nodedata",{method:"GET",headers:{"Content-Type":"application/json"}});p.ok?p.json().then(_=>{u.value=_.data,h&&(t.nfStr.value=_.data)}):u.value=""}catch(p){u.value="[error] "+p,console.error("Connection error:"+p)}}const c=ce("from3"),d=ce(null);function f(){if(c.value=="no"){d.value!==null&&(window.clearInterval(d.value),d.value=null),u.value="";return}else if(c.value=="from"){d.value!==null&&(window.clearInterval(d.value),d.value=null),d.value=window.setInterval(()=>{l()},1e3);return}else if(c.value=="from2"){d.value!==null&&(window.clearInterval(d.value),d.value=null),d.value=window.setInterval(()=>{l(!1)},1e3);return}else if(c.value=="from3"){d.value!==null&&(window.clearInterval(d.value),d.value=null),l();return}else if(c.value=="to"){d.value!==null&&(window.clearInterval(d.value),d.value=null),d.value=window.setInterval(()=>{a()},1e3);return}else console.error("nodedata_syncType 不可能为其他值")}return Ae(c,f),it(()=>{f()}),Si(()=>{c.value="no",d.value!==null&&(window.clearInterval(d.value),d.value=null)}),(h,p)=>(X(),Q("div",Z6,[A("div",null,[p[4]||(p[4]=A("span",null,"当前同步服务器",-1)),Fe(A("input",{"onUpdate:modelValue":p[0]||(p[0]=_=>n.value=_),type:"text",placeholder:"http://localhost:24042/"},null,512),[[Qi,n.value]])]),p[8]||(p[8]=A("div",null,[A("h4",null,"心跳状态")],-1)),A("div",null,"连接状态: "+we(i.value),1),p[9]||(p[9]=A("div",null,"后端值:",-1)),A("div",null,[A("pre",null,we(s.value),1)]),p[10]||(p[10]=A("div",null,[A("h4",null,"通用存储")],-1)),A("div",null,[p[6]||(p[6]=A("span",null,"同步策略",-1)),Fe(A("select",{"onUpdate:modelValue":p[1]||(p[1]=_=>c.value=_)},p[5]||(p[5]=[La('<option value="no" data-v-e83d3a3d>不自动同步</option><option value="from3" data-v-e83d3a3d>仅初始化时从后端同步</option><option value="from" data-v-e83d3a3d>自动从后端同步</option><option value="from2" data-v-e83d3a3d>自动从后端同步 但不更新</option><option value="to" data-v-e83d3a3d>自动同步到后端</option>',5)]),512),[[kl,c.value]])]),p[11]||(p[11]=A("br",null,null,-1)),A("div",null,[p[7]||(p[7]=A("span",null,"手动同步按钮",-1)),A("button",{onClick:p[2]||(p[2]=_=>a())},"存储当前json"),A("button",{onClick:p[3]||(p[3]=_=>l())},"获取当前json")]),p[12]||(p[12]=A("div",null,[A("span",null,"同步值:")],-1)),A("div",null,[A("pre",null,we(u.value),1)]),p[13]||(p[13]=A("div",null,[A("h4",null,"后端日志")],-1)),p[14]||(p[14]=A("div",null,[A("pre",null,"(需后端支持日志传送功能，当前未支持)")],-1))]))}}),X6=Xe(Y6,[["__scopeId","data-v-e83d3a3d"]]),K6={class:"node-list"},J6={class:"node-list-groupname"},Q6=["onClick"],eS={class:"node-list-backend"},tS=be({__name:"NodeList",setup(e){const t=_n.useGetNFNodes(),n=ds({}),i={diy:"",http:`- nodes
  - Http
    - FlowReq:Http请求模板, :item-flowreq
    - emit, i:item-flow
    - url, i, https://httpbin.org/get
    - success, o:item-flow
    - fail, o:item-flow
    - resp, o
- edges`,eval:`- nodes
  - Run
    - FlowEval:执行任意代码, io:item-floweval, var a = 2
let b = a
console.log('debug output', b, ctx)
    - 空节点i, i
    - 空节点o, o
    - debug, :item-debug
    - feat, :item-feat
- edges`};n.frontEnd=i;const o=ce("http://localhost:24042/");s(),Ae(()=>o,()=>{s()});function s(){for(let u of o.value.split(`
`))u.trim()!==""&&(n[u]={},(async()=>{try{const a=await fetch(u+"nodelist",{method:"GET",headers:{"Content-Type":"application/json"}});a.ok?a.json().then(l=>{const c={};for(const d of l)c[d]="";n[u]=c}):(n[u]={"(error: get error)":""},console.error("Get nodelist error from:"+u))}catch(a){n[u]={"(error: connection error)":""},console.error("Connection error:"+a)}})())}function r(u,a){Lt.factoryNFNode(a,t,"nodeflow-listitem")}return(u,a)=>(X(),Q("div",K6,[(X(!0),Q(Se,null,rt(n,(l,c)=>(X(),Q("div",{key:c,class:"node-list-group"},[A("div",J6,we(c),1),(X(!0),Q(Se,null,rt(l,(d,f)=>(X(),Q("div",{key:f,class:"node-list-item"},[A("div",null,[A("span",{class:"node-list-name",onClick:h=>r(f,d)},we(f),9,Q6)])]))),128))]))),128)),A("div",eS,[a[1]||(a[1]=A("span",null,"服务器列表: (换行区分)",-1)),Fe(A("textarea",{"onUpdate:modelValue":a[0]||(a[0]=l=>o.value=l),spellcheck:"false",placeholder:"http://localhost:24042/"},null,512),[[Qi,o.value]])])]))}}),nS=Xe(tS,[["__scopeId","data-v-9f6c01bb"]]),iS=be({__name:"App",setup(e){const t=ce(null);vn("LAYOUT",t);const n=_n.useFactoryNFNodes();function i(o){n.nfStr.value=o}return(o,s)=>{const r=hs("notifications");return X(),Q(Se,null,[te(r,{position:"bottom right",speed:350}),te(jv,{class:"main-nav"}),te(A6,{class:"golden-layout main-golden",ref_key:"GLayoutRootRef",ref:t,config:$(b0).miniRow},{NodeFlow:Ce(()=>[te(E6,{nfNodes:$(n),fn_newView:async()=>{},fn_save:i,isMini:!1},null,8,["nfNodes"])]),JsonEditor:Ce(()=>[te(Jp)]),NodeEditor:Ce(()=>[te(Qp)]),AutoEditor:Ce(()=>[te(W6)]),BackendConnector:Ce(()=>[te(X6)]),NodeList:Ce(()=>[te(nS)]),_:1},8,["config"])],64)}}}),oS=Xe(iS,[["__scopeId","data-v-bb52e7c2"]]),Df={};function sS(e){let t=Df[e];if(t)return t;t=Df[e]=[];for(let n=0;n<128;n++){const i=String.fromCharCode(n);t.push(i)}for(let n=0;n<e.length;n++){const i=e.charCodeAt(n);t[i]="%"+("0"+i.toString(16).toUpperCase()).slice(-2)}return t}function ao(e,t){typeof t!="string"&&(t=ao.defaultChars);const n=sS(t);return e.replace(/(%[a-f0-9]{2})+/gi,function(i){let o="";for(let s=0,r=i.length;s<r;s+=3){const u=parseInt(i.slice(s+1,s+3),16);if(u<128){o+=n[u];continue}if((u&224)===192&&s+3<r){const a=parseInt(i.slice(s+4,s+6),16);if((a&192)===128){const l=u<<6&1984|a&63;l<128?o+="��":o+=String.fromCharCode(l),s+=3;continue}}if((u&240)===224&&s+6<r){const a=parseInt(i.slice(s+4,s+6),16),l=parseInt(i.slice(s+7,s+9),16);if((a&192)===128&&(l&192)===128){const c=u<<12&61440|a<<6&4032|l&63;c<2048||c>=55296&&c<=57343?o+="���":o+=String.fromCharCode(c),s+=6;continue}}if((u&248)===240&&s+9<r){const a=parseInt(i.slice(s+4,s+6),16),l=parseInt(i.slice(s+7,s+9),16),c=parseInt(i.slice(s+10,s+12),16);if((a&192)===128&&(l&192)===128&&(c&192)===128){let d=u<<18&1835008|a<<12&258048|l<<6&4032|c&63;d<65536||d>1114111?o+="����":(d-=65536,o+=String.fromCharCode(55296+(d>>10),56320+(d&1023))),s+=9;continue}}o+="�"}return o})}ao.defaultChars=";/?:@&=+$,#";ao.componentChars="";const Nf={};function rS(e){let t=Nf[e];if(t)return t;t=Nf[e]=[];for(let n=0;n<128;n++){const i=String.fromCharCode(n);/^[0-9a-z]$/i.test(i)?t.push(i):t.push("%"+("0"+n.toString(16).toUpperCase()).slice(-2))}for(let n=0;n<e.length;n++)t[e.charCodeAt(n)]=e[n];return t}function vs(e,t,n){typeof t!="string"&&(n=t,t=vs.defaultChars),typeof n>"u"&&(n=!0);const i=rS(t);let o="";for(let s=0,r=e.length;s<r;s++){const u=e.charCodeAt(s);if(n&&u===37&&s+2<r&&/^[0-9a-f]{2}$/i.test(e.slice(s+1,s+3))){o+=e.slice(s,s+3),s+=2;continue}if(u<128){o+=i[u];continue}if(u>=55296&&u<=57343){if(u>=55296&&u<=56319&&s+1<r){const a=e.charCodeAt(s+1);if(a>=56320&&a<=57343){o+=encodeURIComponent(e[s]+e[s+1]),s++;continue}}o+="%EF%BF%BD";continue}o+=encodeURIComponent(e[s])}return o}vs.defaultChars=";/?:@&=+$,-_.!~*'()#";vs.componentChars="-_.!~*'()";function Wl(e){let t="";return t+=e.protocol||"",t+=e.slashes?"//":"",t+=e.auth?e.auth+"@":"",e.hostname&&e.hostname.indexOf(":")!==-1?t+="["+e.hostname+"]":t+=e.hostname||"",t+=e.port?":"+e.port:"",t+=e.pathname||"",t+=e.search||"",t+=e.hash||"",t}function yr(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}const uS=/^([a-z0-9.+-]+:)/i,aS=/:[0-9]*$/,lS=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,cS=["<",">",'"',"`"," ","\r",`
`,"	"],dS=["{","}","|","\\","^","`"].concat(cS),fS=["'"].concat(dS),Tf=["%","/","?",";","#"].concat(fS),Mf=["/","?","#"],hS=255,Ff=/^[+a-z0-9A-Z_-]{0,63}$/,pS=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Pf={javascript:!0,"javascript:":!0},Of={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function Zl(e,t){if(e&&e instanceof yr)return e;const n=new yr;return n.parse(e,t),n}yr.prototype.parse=function(e,t){let n,i,o,s=e;if(s=s.trim(),!t&&e.split("#").length===1){const l=lS.exec(s);if(l)return this.pathname=l[1],l[2]&&(this.search=l[2]),this}let r=uS.exec(s);if(r&&(r=r[0],n=r.toLowerCase(),this.protocol=r,s=s.substr(r.length)),(t||r||s.match(/^\/\/[^@\/]+@[^@\/]+/))&&(o=s.substr(0,2)==="//",o&&!(r&&Pf[r])&&(s=s.substr(2),this.slashes=!0)),!Pf[r]&&(o||r&&!Of[r])){let l=-1;for(let p=0;p<Mf.length;p++)i=s.indexOf(Mf[p]),i!==-1&&(l===-1||i<l)&&(l=i);let c,d;l===-1?d=s.lastIndexOf("@"):d=s.lastIndexOf("@",l),d!==-1&&(c=s.slice(0,d),s=s.slice(d+1),this.auth=c),l=-1;for(let p=0;p<Tf.length;p++)i=s.indexOf(Tf[p]),i!==-1&&(l===-1||i<l)&&(l=i);l===-1&&(l=s.length),s[l-1]===":"&&l--;const f=s.slice(0,l);s=s.slice(l),this.parseHost(f),this.hostname=this.hostname||"";const h=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!h){const p=this.hostname.split(/\./);for(let _=0,b=p.length;_<b;_++){const y=p[_];if(y&&!y.match(Ff)){let v="";for(let m=0,g=y.length;m<g;m++)y.charCodeAt(m)>127?v+="x":v+=y[m];if(!v.match(Ff)){const m=p.slice(0,_),g=p.slice(_+1),x=y.match(pS);x&&(m.push(x[1]),g.unshift(x[2])),g.length&&(s=g.join(".")+s),this.hostname=m.join(".");break}}}}this.hostname.length>hS&&(this.hostname=""),h&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}const u=s.indexOf("#");u!==-1&&(this.hash=s.substr(u),s=s.slice(0,u));const a=s.indexOf("?");return a!==-1&&(this.search=s.substr(a),s=s.slice(0,a)),s&&(this.pathname=s),Of[n]&&this.hostname&&!this.pathname&&(this.pathname=""),this};yr.prototype.parseHost=function(e){let t=aS.exec(e);t&&(t=t[0],t!==":"&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)};const mS=Object.freeze(Object.defineProperty({__proto__:null,decode:ao,encode:vs,format:Wl,parse:Zl},Symbol.toStringTag,{value:"Module"})),em=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,tm=/[\0-\x1F\x7F-\x9F]/,gS=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u0890\u0891\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD80D[\uDC30-\uDC3F]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/,Yl=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/,nm=/[\$\+<->\^`\|~\xA2-\xA6\xA8\xA9\xAC\xAE-\xB1\xB4\xB8\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0384\u0385\u03F6\u0482\u058D-\u058F\u0606-\u0608\u060B\u060E\u060F\u06DE\u06E9\u06FD\u06FE\u07F6\u07FE\u07FF\u0888\u09F2\u09F3\u09FA\u09FB\u0AF1\u0B70\u0BF3-\u0BFA\u0C7F\u0D4F\u0D79\u0E3F\u0F01-\u0F03\u0F13\u0F15-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE\u0FCF\u0FD5-\u0FD8\u109E\u109F\u1390-\u1399\u166D\u17DB\u1940\u19DE-\u19FF\u1B61-\u1B6A\u1B74-\u1B7C\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2044\u2052\u207A-\u207C\u208A-\u208C\u20A0-\u20C0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2307\u230C-\u2328\u232B-\u2426\u2440-\u244A\u249C-\u24E9\u2500-\u2767\u2794-\u27C4\u27C7-\u27E5\u27F0-\u2982\u2999-\u29D7\u29DC-\u29FB\u29FE-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2E50\u2E51\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3004\u3012\u3013\u3020\u3036\u3037\u303E\u303F\u309B\u309C\u3190\u3191\u3196-\u319F\u31C0-\u31E3\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uAA77-\uAA79\uAB5B\uAB6A\uAB6B\uFB29\uFBB2-\uFBC2\uFD40-\uFD4F\uFDCF\uFDFC-\uFDFF\uFE62\uFE64-\uFE66\uFE69\uFF04\uFF0B\uFF1C-\uFF1E\uFF3E\uFF40\uFF5C\uFF5E\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]|\uD805\uDF3F|\uD807[\uDFD5-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]|\uD82F\uDC9C|\uD833[\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|\uD838[\uDD4F\uDEFF]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF76\uDF7B-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0\uDCB1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC5\uDECE-\uDEDB\uDEE0-\uDEE8\uDEF0-\uDEF8\uDF00-\uDF92\uDF94-\uDFCA]/,im=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,vS=Object.freeze(Object.defineProperty({__proto__:null,Any:em,Cc:tm,Cf:gS,P:Yl,S:nm,Z:im},Symbol.toStringTag,{value:"Module"})),_S=new Uint16Array('ᵁ<Õıʊҝջאٵ۞ޢߖࠏ੊ઑඡ๭༉༦჊ረዡᐕᒝᓃᓟᔥ\0\0\0\0\0\0ᕫᛍᦍᰒᷝ὾⁠↰⊍⏀⏻⑂⠤⤒ⴈ⹈⿎〖㊺㘹㞬㣾㨨㩱㫠㬮ࠀEMabcfglmnoprstu\\bfms¦³¹ÈÏlig耻Æ䃆P耻&䀦cute耻Á䃁reve;䄂Āiyx}rc耻Â䃂;䐐r;쀀𝔄rave耻À䃀pha;䎑acr;䄀d;橓Āgp¡on;䄄f;쀀𝔸plyFunction;恡ing耻Å䃅Ācs¾Ãr;쀀𝒜ign;扔ilde耻Ã䃃ml耻Ä䃄ЀaceforsuåûþėĜĢħĪĀcrêòkslash;或Ŷöø;櫧ed;挆y;䐑ƀcrtąċĔause;戵noullis;愬a;䎒r;쀀𝔅pf;쀀𝔹eve;䋘còēmpeq;扎܀HOacdefhilorsuōőŖƀƞƢƵƷƺǜȕɳɸɾcy;䐧PY耻©䂩ƀcpyŝŢźute;䄆Ā;iŧŨ拒talDifferentialD;慅leys;愭ȀaeioƉƎƔƘron;䄌dil耻Ç䃇rc;䄈nint;戰ot;䄊ĀdnƧƭilla;䂸terDot;䂷òſi;䎧rcleȀDMPTǇǋǑǖot;抙inus;抖lus;投imes;抗oĀcsǢǸkwiseContourIntegral;戲eCurlyĀDQȃȏoubleQuote;思uote;怙ȀlnpuȞȨɇɕonĀ;eȥȦ户;橴ƀgitȯȶȺruent;扡nt;戯ourIntegral;戮ĀfrɌɎ;愂oduct;成nterClockwiseContourIntegral;戳oss;樯cr;쀀𝒞pĀ;Cʄʅ拓ap;才րDJSZacefiosʠʬʰʴʸˋ˗ˡ˦̳ҍĀ;oŹʥtrahd;椑cy;䐂cy;䐅cy;䐏ƀgrsʿ˄ˇger;怡r;憡hv;櫤Āayː˕ron;䄎;䐔lĀ;t˝˞戇a;䎔r;쀀𝔇Āaf˫̧Ācm˰̢riticalȀADGT̖̜̀̆cute;䂴oŴ̋̍;䋙bleAcute;䋝rave;䁠ilde;䋜ond;拄ferentialD;慆Ѱ̽\0\0\0͔͂\0Ѕf;쀀𝔻ƀ;DE͈͉͍䂨ot;惜qual;扐blèCDLRUVͣͲ΂ϏϢϸontourIntegraìȹoɴ͹\0\0ͻ»͉nArrow;懓Āeo·ΤftƀARTΐΖΡrrow;懐ightArrow;懔eåˊngĀLRΫτeftĀARγιrrow;柸ightArrow;柺ightArrow;柹ightĀATϘϞrrow;懒ee;抨pɁϩ\0\0ϯrrow;懑ownArrow;懕erticalBar;戥ǹABLRTaВЪаўѿͼrrowƀ;BUНОТ憓ar;椓pArrow;懵reve;䌑eft˒к\0ц\0ѐightVector;楐eeVector;楞ectorĀ;Bљњ憽ar;楖ightǔѧ\0ѱeeVector;楟ectorĀ;BѺѻ懁ar;楗eeĀ;A҆҇护rrow;憧ĀctҒҗr;쀀𝒟rok;䄐ࠀNTacdfglmopqstuxҽӀӄӋӞӢӧӮӵԡԯԶՒ՝ՠեG;䅊H耻Ð䃐cute耻É䃉ƀaiyӒӗӜron;䄚rc耻Ê䃊;䐭ot;䄖r;쀀𝔈rave耻È䃈ement;戈ĀapӺӾcr;䄒tyɓԆ\0\0ԒmallSquare;旻erySmallSquare;斫ĀgpԦԪon;䄘f;쀀𝔼silon;䎕uĀaiԼՉlĀ;TՂՃ橵ilde;扂librium;懌Āci՗՚r;愰m;橳a;䎗ml耻Ë䃋Āipժկsts;戃onentialE;慇ʀcfiosօֈ֍ֲ׌y;䐤r;쀀𝔉lledɓ֗\0\0֣mallSquare;旼erySmallSquare;斪Ͱֺ\0ֿ\0\0ׄf;쀀𝔽All;戀riertrf;愱cò׋؀JTabcdfgorstר׬ׯ׺؀ؒؖ؛؝أ٬ٲcy;䐃耻>䀾mmaĀ;d׷׸䎓;䏜reve;䄞ƀeiy؇،ؐdil;䄢rc;䄜;䐓ot;䄠r;쀀𝔊;拙pf;쀀𝔾eater̀EFGLSTصلَٖٛ٦qualĀ;Lؾؿ扥ess;招ullEqual;执reater;檢ess;扷lantEqual;橾ilde;扳cr;쀀𝒢;扫ЀAacfiosuڅڋږڛڞڪھۊRDcy;䐪Āctڐڔek;䋇;䁞irc;䄤r;愌lbertSpace;愋ǰگ\0ڲf;愍izontalLine;攀Āctۃۅòکrok;䄦mpńېۘownHumðįqual;扏܀EJOacdfgmnostuۺ۾܃܇܎ܚܞܡܨ݄ݸދޏޕcy;䐕lig;䄲cy;䐁cute耻Í䃍Āiyܓܘrc耻Î䃎;䐘ot;䄰r;愑rave耻Ì䃌ƀ;apܠܯܿĀcgܴܷr;䄪inaryI;慈lieóϝǴ݉\0ݢĀ;eݍݎ戬Āgrݓݘral;戫section;拂isibleĀCTݬݲomma;恣imes;恢ƀgptݿރވon;䄮f;쀀𝕀a;䎙cr;愐ilde;䄨ǫޚ\0ޞcy;䐆l耻Ï䃏ʀcfosuެ޷޼߂ߐĀiyޱ޵rc;䄴;䐙r;쀀𝔍pf;쀀𝕁ǣ߇\0ߌr;쀀𝒥rcy;䐈kcy;䐄΀HJacfosߤߨ߽߬߱ࠂࠈcy;䐥cy;䐌ppa;䎚Āey߶߻dil;䄶;䐚r;쀀𝔎pf;쀀𝕂cr;쀀𝒦րJTaceflmostࠥࠩࠬࡐࡣ঳সে্਷ੇcy;䐉耻<䀼ʀcmnpr࠷࠼ࡁࡄࡍute;䄹bda;䎛g;柪lacetrf;愒r;憞ƀaeyࡗ࡜ࡡron;䄽dil;䄻;䐛Āfsࡨ॰tԀACDFRTUVarࡾࢩࢱࣦ࣠ࣼयज़ΐ४Ānrࢃ࢏gleBracket;柨rowƀ;BR࢙࢚࢞憐ar;懤ightArrow;懆eiling;挈oǵࢷ\0ࣃbleBracket;柦nǔࣈ\0࣒eeVector;楡ectorĀ;Bࣛࣜ懃ar;楙loor;挊ightĀAV࣯ࣵrrow;憔ector;楎Āerँगeƀ;AVउऊऐ抣rrow;憤ector;楚iangleƀ;BEतथऩ抲ar;槏qual;抴pƀDTVषूौownVector;楑eeVector;楠ectorĀ;Bॖॗ憿ar;楘ectorĀ;B॥०憼ar;楒ightáΜs̀EFGLSTॾঋকঝঢভqualGreater;拚ullEqual;扦reater;扶ess;檡lantEqual;橽ilde;扲r;쀀𝔏Ā;eঽা拘ftarrow;懚idot;䄿ƀnpw৔ਖਛgȀLRlr৞৷ਂਐeftĀAR০৬rrow;柵ightArrow;柷ightArrow;柶eftĀarγਊightáοightáϊf;쀀𝕃erĀLRਢਬeftArrow;憙ightArrow;憘ƀchtਾੀੂòࡌ;憰rok;䅁;扪Ѐacefiosuਗ਼੝੠੷੼અઋ઎p;椅y;䐜Ādl੥੯iumSpace;恟lintrf;愳r;쀀𝔐nusPlus;戓pf;쀀𝕄cò੶;䎜ҀJacefostuણધભીଔଙඑ඗ඞcy;䐊cute;䅃ƀaey઴હાron;䅇dil;䅅;䐝ƀgswે૰଎ativeƀMTV૓૟૨ediumSpace;怋hiĀcn૦૘ë૙eryThiî૙tedĀGL૸ଆreaterGreateòٳessLesóੈLine;䀊r;쀀𝔑ȀBnptଢନଷ଺reak;恠BreakingSpace;䂠f;愕ڀ;CDEGHLNPRSTV୕ୖ୪୼஡௫ఄ౞಄ದ೘ൡඅ櫬Āou୛୤ngruent;扢pCap;扭oubleVerticalBar;戦ƀlqxஃஊ஛ement;戉ualĀ;Tஒஓ扠ilde;쀀≂̸ists;戄reater΀;EFGLSTஶஷ஽௉௓௘௥扯qual;扱ullEqual;쀀≧̸reater;쀀≫̸ess;批lantEqual;쀀⩾̸ilde;扵umpń௲௽ownHump;쀀≎̸qual;쀀≏̸eĀfsఊధtTriangleƀ;BEచఛడ拪ar;쀀⧏̸qual;括s̀;EGLSTవశ఼ౄోౘ扮qual;扰reater;扸ess;쀀≪̸lantEqual;쀀⩽̸ilde;扴estedĀGL౨౹reaterGreater;쀀⪢̸essLess;쀀⪡̸recedesƀ;ESಒಓಛ技qual;쀀⪯̸lantEqual;拠ĀeiಫಹverseElement;戌ghtTriangleƀ;BEೋೌ೒拫ar;쀀⧐̸qual;拭ĀquೝഌuareSuĀbp೨೹setĀ;E೰ೳ쀀⊏̸qual;拢ersetĀ;Eഃആ쀀⊐̸qual;拣ƀbcpഓതൎsetĀ;Eഛഞ쀀⊂⃒qual;抈ceedsȀ;ESTലള഻െ抁qual;쀀⪰̸lantEqual;拡ilde;쀀≿̸ersetĀ;E൘൛쀀⊃⃒qual;抉ildeȀ;EFT൮൯൵ൿ扁qual;扄ullEqual;扇ilde;扉erticalBar;戤cr;쀀𝒩ilde耻Ñ䃑;䎝܀Eacdfgmoprstuvලෂ෉෕ෛ෠෧෼ขภยา฿ไlig;䅒cute耻Ó䃓Āiy෎ීrc耻Ô䃔;䐞blac;䅐r;쀀𝔒rave耻Ò䃒ƀaei෮ෲ෶cr;䅌ga;䎩cron;䎟pf;쀀𝕆enCurlyĀDQฎบoubleQuote;怜uote;怘;橔Āclวฬr;쀀𝒪ash耻Ø䃘iŬื฼de耻Õ䃕es;樷ml耻Ö䃖erĀBP๋๠Āar๐๓r;怾acĀek๚๜;揞et;掴arenthesis;揜Ҁacfhilors๿ງຊຏຒດຝະ໼rtialD;戂y;䐟r;쀀𝔓i;䎦;䎠usMinus;䂱Āipຢອncareplanåڝf;愙Ȁ;eio຺ູ໠໤檻cedesȀ;EST່້໏໚扺qual;檯lantEqual;扼ilde;找me;怳Ādp໩໮uct;戏ortionĀ;aȥ໹l;戝Āci༁༆r;쀀𝒫;䎨ȀUfos༑༖༛༟OT耻"䀢r;쀀𝔔pf;愚cr;쀀𝒬؀BEacefhiorsu༾གྷཇའཱིྦྷྪྭ႖ႩႴႾarr;椐G耻®䂮ƀcnrཎནབute;䅔g;柫rĀ;tཛྷཝ憠l;椖ƀaeyཧཬཱron;䅘dil;䅖;䐠Ā;vླྀཹ愜erseĀEUྂྙĀlq྇ྎement;戋uilibrium;懋pEquilibrium;楯r»ཹo;䎡ghtЀACDFTUVa࿁࿫࿳ဢဨၛႇϘĀnr࿆࿒gleBracket;柩rowƀ;BL࿜࿝࿡憒ar;懥eftArrow;懄eiling;按oǵ࿹\0စbleBracket;柧nǔည\0နeeVector;楝ectorĀ;Bဝသ懂ar;楕loor;挋Āerိ၃eƀ;AVဵံြ抢rrow;憦ector;楛iangleƀ;BEၐၑၕ抳ar;槐qual;抵pƀDTVၣၮၸownVector;楏eeVector;楜ectorĀ;Bႂႃ憾ar;楔ectorĀ;B႑႒懀ar;楓Āpuႛ႞f;愝ndImplies;楰ightarrow;懛ĀchႹႼr;愛;憱leDelayed;槴ڀHOacfhimoqstuფჱჷჽᄙᄞᅑᅖᅡᅧᆵᆻᆿĀCcჩხHcy;䐩y;䐨FTcy;䐬cute;䅚ʀ;aeiyᄈᄉᄎᄓᄗ檼ron;䅠dil;䅞rc;䅜;䐡r;쀀𝔖ortȀDLRUᄪᄴᄾᅉownArrow»ОeftArrow»࢚ightArrow»࿝pArrow;憑gma;䎣allCircle;战pf;쀀𝕊ɲᅭ\0\0ᅰt;戚areȀ;ISUᅻᅼᆉᆯ斡ntersection;抓uĀbpᆏᆞsetĀ;Eᆗᆘ抏qual;抑ersetĀ;Eᆨᆩ抐qual;抒nion;抔cr;쀀𝒮ar;拆ȀbcmpᇈᇛሉላĀ;sᇍᇎ拐etĀ;Eᇍᇕqual;抆ĀchᇠህeedsȀ;ESTᇭᇮᇴᇿ扻qual;檰lantEqual;扽ilde;承Tháྌ;我ƀ;esሒሓሣ拑rsetĀ;Eሜም抃qual;抇et»ሓրHRSacfhiorsሾቄ቉ቕ቞ቱቶኟዂወዑORN耻Þ䃞ADE;愢ĀHc቎ቒcy;䐋y;䐦Ābuቚቜ;䀉;䎤ƀaeyብቪቯron;䅤dil;䅢;䐢r;쀀𝔗Āeiቻ኉ǲኀ\0ኇefore;戴a;䎘Ācn኎ኘkSpace;쀀  Space;怉ldeȀ;EFTካኬኲኼ戼qual;扃ullEqual;扅ilde;扈pf;쀀𝕋ipleDot;惛Āctዖዛr;쀀𝒯rok;䅦ૡዷጎጚጦ\0ጬጱ\0\0\0\0\0ጸጽ፷ᎅ\0᏿ᐄᐊᐐĀcrዻጁute耻Ú䃚rĀ;oጇገ憟cir;楉rǣጓ\0጖y;䐎ve;䅬Āiyጞጣrc耻Û䃛;䐣blac;䅰r;쀀𝔘rave耻Ù䃙acr;䅪Ādiፁ፩erĀBPፈ፝Āarፍፐr;䁟acĀekፗፙ;揟et;掵arenthesis;揝onĀ;P፰፱拃lus;抎Āgp፻፿on;䅲f;쀀𝕌ЀADETadps᎕ᎮᎸᏄϨᏒᏗᏳrrowƀ;BDᅐᎠᎤar;椒ownArrow;懅ownArrow;憕quilibrium;楮eeĀ;AᏋᏌ报rrow;憥ownáϳerĀLRᏞᏨeftArrow;憖ightArrow;憗iĀ;lᏹᏺ䏒on;䎥ing;䅮cr;쀀𝒰ilde;䅨ml耻Ü䃜ҀDbcdefosvᐧᐬᐰᐳᐾᒅᒊᒐᒖash;披ar;櫫y;䐒ashĀ;lᐻᐼ抩;櫦Āerᑃᑅ;拁ƀbtyᑌᑐᑺar;怖Ā;iᑏᑕcalȀBLSTᑡᑥᑪᑴar;戣ine;䁼eparator;杘ilde;所ThinSpace;怊r;쀀𝔙pf;쀀𝕍cr;쀀𝒱dash;抪ʀcefosᒧᒬᒱᒶᒼirc;䅴dge;拀r;쀀𝔚pf;쀀𝕎cr;쀀𝒲Ȁfiosᓋᓐᓒᓘr;쀀𝔛;䎞pf;쀀𝕏cr;쀀𝒳ҀAIUacfosuᓱᓵᓹᓽᔄᔏᔔᔚᔠcy;䐯cy;䐇cy;䐮cute耻Ý䃝Āiyᔉᔍrc;䅶;䐫r;쀀𝔜pf;쀀𝕐cr;쀀𝒴ml;䅸ЀHacdefosᔵᔹᔿᕋᕏᕝᕠᕤcy;䐖cute;䅹Āayᕄᕉron;䅽;䐗ot;䅻ǲᕔ\0ᕛoWidtè૙a;䎖r;愨pf;愤cr;쀀𝒵௡ᖃᖊᖐ\0ᖰᖶᖿ\0\0\0\0ᗆᗛᗫᙟ᙭\0ᚕ᚛ᚲᚹ\0ᚾcute耻á䃡reve;䄃̀;Ediuyᖜᖝᖡᖣᖨᖭ戾;쀀∾̳;房rc耻â䃢te肻´̆;䐰lig耻æ䃦Ā;r²ᖺ;쀀𝔞rave耻à䃠ĀepᗊᗖĀfpᗏᗔsym;愵èᗓha;䎱ĀapᗟcĀclᗤᗧr;䄁g;樿ɤᗰ\0\0ᘊʀ;adsvᗺᗻᗿᘁᘇ戧nd;橕;橜lope;橘;橚΀;elmrszᘘᘙᘛᘞᘿᙏᙙ戠;榤e»ᘙsdĀ;aᘥᘦ戡ѡᘰᘲᘴᘶᘸᘺᘼᘾ;榨;榩;榪;榫;榬;榭;榮;榯tĀ;vᙅᙆ戟bĀ;dᙌᙍ抾;榝Āptᙔᙗh;戢»¹arr;捼Āgpᙣᙧon;䄅f;쀀𝕒΀;Eaeiop዁ᙻᙽᚂᚄᚇᚊ;橰cir;橯;扊d;手s;䀧roxĀ;e዁ᚒñᚃing耻å䃥ƀctyᚡᚦᚨr;쀀𝒶;䀪mpĀ;e዁ᚯñʈilde耻ã䃣ml耻ä䃤Āciᛂᛈoninôɲnt;樑ࠀNabcdefiklnoprsu᛭ᛱᜰ᜼ᝃᝈ᝸᝽០៦ᠹᡐᜍ᤽᥈ᥰot;櫭Ācrᛶ᜞kȀcepsᜀᜅᜍᜓong;扌psilon;䏶rime;怵imĀ;e᜚᜛戽q;拍Ŷᜢᜦee;抽edĀ;gᜬᜭ挅e»ᜭrkĀ;t፜᜷brk;掶Āoyᜁᝁ;䐱quo;怞ʀcmprtᝓ᝛ᝡᝤᝨausĀ;eĊĉptyv;榰séᜌnoõēƀahwᝯ᝱ᝳ;䎲;愶een;扬r;쀀𝔟g΀costuvwឍឝឳេ៕៛៞ƀaiuបពរðݠrc;旯p»፱ƀdptឤឨឭot;樀lus;樁imes;樂ɱឹ\0\0ើcup;樆ar;昅riangleĀdu៍្own;施p;斳plus;樄eåᑄåᒭarow;植ƀako៭ᠦᠵĀcn៲ᠣkƀlst៺֫᠂ozenge;槫riangleȀ;dlr᠒᠓᠘᠝斴own;斾eft;旂ight;斸k;搣Ʊᠫ\0ᠳƲᠯ\0ᠱ;斒;斑4;斓ck;斈ĀeoᠾᡍĀ;qᡃᡆ쀀=⃥uiv;쀀≡⃥t;挐Ȁptwxᡙᡞᡧᡬf;쀀𝕓Ā;tᏋᡣom»Ꮜtie;拈؀DHUVbdhmptuvᢅᢖᢪᢻᣗᣛᣬ᣿ᤅᤊᤐᤡȀLRlrᢎᢐᢒᢔ;敗;敔;敖;敓ʀ;DUduᢡᢢᢤᢦᢨ敐;敦;敩;敤;敧ȀLRlrᢳᢵᢷᢹ;敝;敚;敜;教΀;HLRhlrᣊᣋᣍᣏᣑᣓᣕ救;敬;散;敠;敫;敢;敟ox;槉ȀLRlrᣤᣦᣨᣪ;敕;敒;攐;攌ʀ;DUduڽ᣷᣹᣻᣽;敥;敨;攬;攴inus;抟lus;択imes;抠ȀLRlrᤙᤛᤝ᤟;敛;敘;攘;攔΀;HLRhlrᤰᤱᤳᤵᤷ᤻᤹攂;敪;敡;敞;攼;攤;攜Āevģ᥂bar耻¦䂦Ȁceioᥑᥖᥚᥠr;쀀𝒷mi;恏mĀ;e᜚᜜lƀ;bhᥨᥩᥫ䁜;槅sub;柈Ŭᥴ᥾lĀ;e᥹᥺怢t»᥺pƀ;Eeįᦅᦇ;檮Ā;qۜۛೡᦧ\0᧨ᨑᨕᨲ\0ᨷᩐ\0\0᪴\0\0᫁\0\0ᬡᬮ᭍᭒\0᯽\0ᰌƀcpr᦭ᦲ᧝ute;䄇̀;abcdsᦿᧀᧄ᧊᧕᧙戩nd;橄rcup;橉Āau᧏᧒p;橋p;橇ot;橀;쀀∩︀Āeo᧢᧥t;恁îړȀaeiu᧰᧻ᨁᨅǰ᧵\0᧸s;橍on;䄍dil耻ç䃧rc;䄉psĀ;sᨌᨍ橌m;橐ot;䄋ƀdmnᨛᨠᨦil肻¸ƭptyv;榲t脀¢;eᨭᨮ䂢räƲr;쀀𝔠ƀceiᨽᩀᩍy;䑇ckĀ;mᩇᩈ朓ark»ᩈ;䏇r΀;Ecefms᩟᩠ᩢᩫ᪤᪪᪮旋;槃ƀ;elᩩᩪᩭ䋆q;扗eɡᩴ\0\0᪈rrowĀlr᩼᪁eft;憺ight;憻ʀRSacd᪒᪔᪖᪚᪟»ཇ;擈st;抛irc;抚ash;抝nint;樐id;櫯cir;槂ubsĀ;u᪻᪼晣it»᪼ˬ᫇᫔᫺\0ᬊonĀ;eᫍᫎ䀺Ā;qÇÆɭ᫙\0\0᫢aĀ;t᫞᫟䀬;䁀ƀ;fl᫨᫩᫫戁îᅠeĀmx᫱᫶ent»᫩eóɍǧ᫾\0ᬇĀ;dኻᬂot;橭nôɆƀfryᬐᬔᬗ;쀀𝕔oäɔ脀©;sŕᬝr;愗Āaoᬥᬩrr;憵ss;朗Ācuᬲᬷr;쀀𝒸Ābpᬼ᭄Ā;eᭁᭂ櫏;櫑Ā;eᭉᭊ櫐;櫒dot;拯΀delprvw᭠᭬᭷ᮂᮬᯔ᯹arrĀlr᭨᭪;椸;椵ɰ᭲\0\0᭵r;拞c;拟arrĀ;p᭿ᮀ憶;椽̀;bcdosᮏᮐᮖᮡᮥᮨ截rcap;橈Āauᮛᮞp;橆p;橊ot;抍r;橅;쀀∪︀Ȁalrv᮵ᮿᯞᯣrrĀ;mᮼᮽ憷;椼yƀevwᯇᯔᯘqɰᯎ\0\0ᯒreã᭳uã᭵ee;拎edge;拏en耻¤䂤earrowĀlrᯮ᯳eft»ᮀight»ᮽeäᯝĀciᰁᰇoninôǷnt;戱lcty;挭ঀAHabcdefhijlorstuwz᰸᰻᰿ᱝᱩᱵᲊᲞᲬᲷ᳻᳿ᴍᵻᶑᶫᶻ᷆᷍rò΁ar;楥Ȁglrs᱈ᱍ᱒᱔ger;怠eth;愸òᄳhĀ;vᱚᱛ怐»ऊūᱡᱧarow;椏aã̕Āayᱮᱳron;䄏;䐴ƀ;ao̲ᱼᲄĀgrʿᲁr;懊tseq;橷ƀglmᲑᲔᲘ耻°䂰ta;䎴ptyv;榱ĀirᲣᲨsht;楿;쀀𝔡arĀlrᲳᲵ»ࣜ»သʀaegsv᳂͸᳖᳜᳠mƀ;oș᳊᳔ndĀ;ș᳑uit;晦amma;䏝in;拲ƀ;io᳧᳨᳸䃷de脀÷;o᳧ᳰntimes;拇nø᳷cy;䑒cɯᴆ\0\0ᴊrn;挞op;挍ʀlptuwᴘᴝᴢᵉᵕlar;䀤f;쀀𝕕ʀ;emps̋ᴭᴷᴽᵂqĀ;d͒ᴳot;扑inus;戸lus;戔quare;抡blebarwedgåúnƀadhᄮᵝᵧownarrowóᲃarpoonĀlrᵲᵶefôᲴighôᲶŢᵿᶅkaro÷གɯᶊ\0\0ᶎrn;挟op;挌ƀcotᶘᶣᶦĀryᶝᶡ;쀀𝒹;䑕l;槶rok;䄑Ādrᶰᶴot;拱iĀ;fᶺ᠖斿Āah᷀᷃ròЩaòྦangle;榦Āci᷒ᷕy;䑟grarr;柿ऀDacdefglmnopqrstuxḁḉḙḸոḼṉṡṾấắẽỡἪἷὄ὎὚ĀDoḆᴴoôᲉĀcsḎḔute耻é䃩ter;橮ȀaioyḢḧḱḶron;䄛rĀ;cḭḮ扖耻ê䃪lon;払;䑍ot;䄗ĀDrṁṅot;扒;쀀𝔢ƀ;rsṐṑṗ檚ave耻è䃨Ā;dṜṝ檖ot;檘Ȁ;ilsṪṫṲṴ檙nters;揧;愓Ā;dṹṺ檕ot;檗ƀapsẅẉẗcr;䄓tyƀ;svẒẓẕ戅et»ẓpĀ1;ẝẤĳạả;怄;怅怃ĀgsẪẬ;䅋p;怂ĀgpẴẸon;䄙f;쀀𝕖ƀalsỄỎỒrĀ;sỊị拕l;槣us;橱iƀ;lvỚớở䎵on»ớ;䏵ȀcsuvỪỳἋἣĀioữḱrc»Ḯɩỹ\0\0ỻíՈantĀglἂἆtr»ṝess»Ṻƀaeiἒ἖Ἒls;䀽st;扟vĀ;DȵἠD;橸parsl;槥ĀDaἯἳot;打rr;楱ƀcdiἾὁỸr;愯oô͒ĀahὉὋ;䎷耻ð䃰Āmrὓὗl耻ë䃫o;悬ƀcipὡὤὧl;䀡sôծĀeoὬὴctatioîՙnentialåչৡᾒ\0ᾞ\0ᾡᾧ\0\0ῆῌ\0ΐ\0ῦῪ \0 ⁚llingdotseñṄy;䑄male;晀ƀilrᾭᾳ῁lig;耀ﬃɩᾹ\0\0᾽g;耀ﬀig;耀ﬄ;쀀𝔣lig;耀ﬁlig;쀀fjƀaltῙ῜ῡt;晭ig;耀ﬂns;斱of;䆒ǰ΅\0ῳf;쀀𝕗ĀakֿῷĀ;vῼ´拔;櫙artint;樍Āao‌⁕Ācs‑⁒α‚‰‸⁅⁈\0⁐β•‥‧‪‬\0‮耻½䂽;慓耻¼䂼;慕;慙;慛Ƴ‴\0‶;慔;慖ʴ‾⁁\0\0⁃耻¾䂾;慗;慜5;慘ƶ⁌\0⁎;慚;慝8;慞l;恄wn;挢cr;쀀𝒻ࢀEabcdefgijlnorstv₂₉₟₥₰₴⃰⃵⃺⃿℃ℒℸ̗ℾ⅒↞Ā;lٍ₇;檌ƀcmpₐₕ₝ute;䇵maĀ;dₜ᳚䎳;檆reve;䄟Āiy₪₮rc;䄝;䐳ot;䄡Ȁ;lqsؾق₽⃉ƀ;qsؾٌ⃄lanô٥Ȁ;cdl٥⃒⃥⃕c;檩otĀ;o⃜⃝檀Ā;l⃢⃣檂;檄Ā;e⃪⃭쀀⋛︀s;檔r;쀀𝔤Ā;gٳ؛mel;愷cy;䑓Ȁ;Eajٚℌℎℐ;檒;檥;檤ȀEaesℛℝ℩ℴ;扩pĀ;p℣ℤ檊rox»ℤĀ;q℮ℯ檈Ā;q℮ℛim;拧pf;쀀𝕘Āci⅃ⅆr;愊mƀ;el٫ⅎ⅐;檎;檐茀>;cdlqr׮ⅠⅪⅮⅳⅹĀciⅥⅧ;檧r;橺ot;拗Par;榕uest;橼ʀadelsↄⅪ←ٖ↛ǰ↉\0↎proø₞r;楸qĀlqؿ↖lesó₈ií٫Āen↣↭rtneqq;쀀≩︀Å↪ԀAabcefkosy⇄⇇⇱⇵⇺∘∝∯≨≽ròΠȀilmr⇐⇔⇗⇛rsðᒄf»․ilôکĀdr⇠⇤cy;䑊ƀ;cwࣴ⇫⇯ir;楈;憭ar;意irc;䄥ƀalr∁∎∓rtsĀ;u∉∊晥it»∊lip;怦con;抹r;쀀𝔥sĀew∣∩arow;椥arow;椦ʀamopr∺∾≃≞≣rr;懿tht;戻kĀlr≉≓eftarrow;憩ightarrow;憪f;쀀𝕙bar;怕ƀclt≯≴≸r;쀀𝒽asè⇴rok;䄧Ābp⊂⊇ull;恃hen»ᱛૡ⊣\0⊪\0⊸⋅⋎\0⋕⋳\0\0⋸⌢⍧⍢⍿\0⎆⎪⎴cute耻í䃭ƀ;iyݱ⊰⊵rc耻î䃮;䐸Ācx⊼⊿y;䐵cl耻¡䂡ĀfrΟ⋉;쀀𝔦rave耻ì䃬Ȁ;inoܾ⋝⋩⋮Āin⋢⋦nt;樌t;戭fin;槜ta;愩lig;䄳ƀaop⋾⌚⌝ƀcgt⌅⌈⌗r;䄫ƀelpܟ⌏⌓inåގarôܠh;䄱f;抷ed;䆵ʀ;cfotӴ⌬⌱⌽⍁are;愅inĀ;t⌸⌹戞ie;槝doô⌙ʀ;celpݗ⍌⍐⍛⍡al;抺Āgr⍕⍙eróᕣã⍍arhk;樗rod;樼Ȁcgpt⍯⍲⍶⍻y;䑑on;䄯f;쀀𝕚a;䎹uest耻¿䂿Āci⎊⎏r;쀀𝒾nʀ;EdsvӴ⎛⎝⎡ӳ;拹ot;拵Ā;v⎦⎧拴;拳Ā;iݷ⎮lde;䄩ǫ⎸\0⎼cy;䑖l耻ï䃯̀cfmosu⏌⏗⏜⏡⏧⏵Āiy⏑⏕rc;䄵;䐹r;쀀𝔧ath;䈷pf;쀀𝕛ǣ⏬\0⏱r;쀀𝒿rcy;䑘kcy;䑔Ѐacfghjos␋␖␢␧␭␱␵␻ppaĀ;v␓␔䎺;䏰Āey␛␠dil;䄷;䐺r;쀀𝔨reen;䄸cy;䑅cy;䑜pf;쀀𝕜cr;쀀𝓀஀ABEHabcdefghjlmnoprstuv⑰⒁⒆⒍⒑┎┽╚▀♎♞♥♹♽⚚⚲⛘❝❨➋⟀⠁⠒ƀart⑷⑺⑼rò৆òΕail;椛arr;椎Ā;gঔ⒋;檋ar;楢ॣ⒥\0⒪\0⒱\0\0\0\0\0⒵Ⓔ\0ⓆⓈⓍ\0⓹ute;䄺mptyv;榴raîࡌbda;䎻gƀ;dlࢎⓁⓃ;榑åࢎ;檅uo耻«䂫rЀ;bfhlpst࢙ⓞⓦⓩ⓫⓮⓱⓵Ā;f࢝ⓣs;椟s;椝ë≒p;憫l;椹im;楳l;憢ƀ;ae⓿─┄檫il;椙Ā;s┉┊檭;쀀⪭︀ƀabr┕┙┝rr;椌rk;杲Āak┢┬cĀek┨┪;䁻;䁛Āes┱┳;榋lĀdu┹┻;榏;榍Ȁaeuy╆╋╖╘ron;䄾Ādi═╔il;䄼ìࢰâ┩;䐻Ȁcqrs╣╦╭╽a;椶uoĀ;rนᝆĀdu╲╷har;楧shar;楋h;憲ʀ;fgqs▋▌উ◳◿扤tʀahlrt▘▤▷◂◨rrowĀ;t࢙□aé⓶arpoonĀdu▯▴own»њp»०eftarrows;懇ightƀahs◍◖◞rrowĀ;sࣴࢧarpoonó྘quigarro÷⇰hreetimes;拋ƀ;qs▋ও◺lanôবʀ;cdgsব☊☍☝☨c;檨otĀ;o☔☕橿Ā;r☚☛檁;檃Ā;e☢☥쀀⋚︀s;檓ʀadegs☳☹☽♉♋pproøⓆot;拖qĀgq♃♅ôউgtò⒌ôছiíলƀilr♕࣡♚sht;楼;쀀𝔩Ā;Eজ♣;檑š♩♶rĀdu▲♮Ā;l॥♳;楪lk;斄cy;䑙ʀ;achtੈ⚈⚋⚑⚖rò◁orneòᴈard;楫ri;旺Āio⚟⚤dot;䅀ustĀ;a⚬⚭掰che»⚭ȀEaes⚻⚽⛉⛔;扨pĀ;p⛃⛄檉rox»⛄Ā;q⛎⛏檇Ā;q⛎⚻im;拦Ѐabnoptwz⛩⛴⛷✚✯❁❇❐Ānr⛮⛱g;柬r;懽rëࣁgƀlmr⛿✍✔eftĀar০✇ightá৲apsto;柼ightá৽parrowĀlr✥✩efô⓭ight;憬ƀafl✶✹✽r;榅;쀀𝕝us;樭imes;樴š❋❏st;戗áፎƀ;ef❗❘᠀旊nge»❘arĀ;l❤❥䀨t;榓ʀachmt❳❶❼➅➇ròࢨorneòᶌarĀ;d྘➃;業;怎ri;抿̀achiqt➘➝ੀ➢➮➻quo;怹r;쀀𝓁mƀ;egল➪➬;檍;檏Ābu┪➳oĀ;rฟ➹;怚rok;䅂萀<;cdhilqrࠫ⟒☹⟜⟠⟥⟪⟰Āci⟗⟙;檦r;橹reå◲mes;拉arr;楶uest;橻ĀPi⟵⟹ar;榖ƀ;ef⠀भ᠛旃rĀdu⠇⠍shar;楊har;楦Āen⠗⠡rtneqq;쀀≨︀Å⠞܀Dacdefhilnopsu⡀⡅⢂⢎⢓⢠⢥⢨⣚⣢⣤ઃ⣳⤂Dot;戺Ȁclpr⡎⡒⡣⡽r耻¯䂯Āet⡗⡙;時Ā;e⡞⡟朠se»⡟Ā;sျ⡨toȀ;dluျ⡳⡷⡻owîҌefôएðᏑker;斮Āoy⢇⢌mma;権;䐼ash;怔asuredangle»ᘦr;쀀𝔪o;愧ƀcdn⢯⢴⣉ro耻µ䂵Ȁ;acdᑤ⢽⣀⣄sôᚧir;櫰ot肻·Ƶusƀ;bd⣒ᤃ⣓戒Ā;uᴼ⣘;横ţ⣞⣡p;櫛ò−ðઁĀdp⣩⣮els;抧f;쀀𝕞Āct⣸⣽r;쀀𝓂pos»ᖝƀ;lm⤉⤊⤍䎼timap;抸ఀGLRVabcdefghijlmoprstuvw⥂⥓⥾⦉⦘⧚⧩⨕⨚⩘⩝⪃⪕⪤⪨⬄⬇⭄⭿⮮ⰴⱧⱼ⳩Āgt⥇⥋;쀀⋙̸Ā;v⥐௏쀀≫⃒ƀelt⥚⥲⥶ftĀar⥡⥧rrow;懍ightarrow;懎;쀀⋘̸Ā;v⥻ే쀀≪⃒ightarrow;懏ĀDd⦎⦓ash;抯ash;抮ʀbcnpt⦣⦧⦬⦱⧌la»˞ute;䅄g;쀀∠⃒ʀ;Eiop඄⦼⧀⧅⧈;쀀⩰̸d;쀀≋̸s;䅉roø඄urĀ;a⧓⧔普lĀ;s⧓ସǳ⧟\0⧣p肻 ଷmpĀ;e௹ఀʀaeouy⧴⧾⨃⨐⨓ǰ⧹\0⧻;橃on;䅈dil;䅆ngĀ;dൾ⨊ot;쀀⩭̸p;橂;䐽ash;怓΀;Aadqsxஒ⨩⨭⨻⩁⩅⩐rr;懗rĀhr⨳⨶k;椤Ā;oᏲᏰot;쀀≐̸uiöୣĀei⩊⩎ar;椨í஘istĀ;s஠டr;쀀𝔫ȀEest௅⩦⩹⩼ƀ;qs஼⩭௡ƀ;qs஼௅⩴lanô௢ií௪Ā;rஶ⪁»ஷƀAap⪊⪍⪑rò⥱rr;憮ar;櫲ƀ;svྍ⪜ྌĀ;d⪡⪢拼;拺cy;䑚΀AEadest⪷⪺⪾⫂⫅⫶⫹rò⥦;쀀≦̸rr;憚r;急Ȁ;fqs఻⫎⫣⫯tĀar⫔⫙rro÷⫁ightarro÷⪐ƀ;qs఻⪺⫪lanôౕĀ;sౕ⫴»శiíౝĀ;rవ⫾iĀ;eచథiäඐĀpt⬌⬑f;쀀𝕟膀¬;in⬙⬚⬶䂬nȀ;Edvஉ⬤⬨⬮;쀀⋹̸ot;쀀⋵̸ǡஉ⬳⬵;拷;拶iĀ;vಸ⬼ǡಸ⭁⭃;拾;拽ƀaor⭋⭣⭩rȀ;ast୻⭕⭚⭟lleì୻l;쀀⫽⃥;쀀∂̸lint;樔ƀ;ceಒ⭰⭳uåಥĀ;cಘ⭸Ā;eಒ⭽ñಘȀAait⮈⮋⮝⮧rò⦈rrƀ;cw⮔⮕⮙憛;쀀⤳̸;쀀↝̸ghtarrow»⮕riĀ;eೋೖ΀chimpqu⮽⯍⯙⬄୸⯤⯯Ȁ;cerല⯆ഷ⯉uå൅;쀀𝓃ortɭ⬅\0\0⯖ará⭖mĀ;e൮⯟Ā;q൴൳suĀbp⯫⯭å೸åഋƀbcp⯶ⰑⰙȀ;Ees⯿ⰀഢⰄ抄;쀀⫅̸etĀ;eഛⰋqĀ;qണⰀcĀ;eലⰗñസȀ;EesⰢⰣൟⰧ抅;쀀⫆̸etĀ;e൘ⰮqĀ;qൠⰣȀgilrⰽⰿⱅⱇìௗlde耻ñ䃱çృiangleĀlrⱒⱜeftĀ;eచⱚñదightĀ;eೋⱥñ೗Ā;mⱬⱭ䎽ƀ;esⱴⱵⱹ䀣ro;愖p;怇ҀDHadgilrsⲏⲔⲙⲞⲣⲰⲶⳓⳣash;抭arr;椄p;쀀≍⃒ash;抬ĀetⲨⲬ;쀀≥⃒;쀀>⃒nfin;槞ƀAetⲽⳁⳅrr;椂;쀀≤⃒Ā;rⳊⳍ쀀<⃒ie;쀀⊴⃒ĀAtⳘⳜrr;椃rie;쀀⊵⃒im;쀀∼⃒ƀAan⳰⳴ⴂrr;懖rĀhr⳺⳽k;椣Ā;oᏧᏥear;椧ቓ᪕\0\0\0\0\0\0\0\0\0\0\0\0\0ⴭ\0ⴸⵈⵠⵥ⵲ⶄᬇ\0\0ⶍⶫ\0ⷈⷎ\0ⷜ⸙⸫⸾⹃Ācsⴱ᪗ute耻ó䃳ĀiyⴼⵅrĀ;c᪞ⵂ耻ô䃴;䐾ʀabios᪠ⵒⵗǈⵚlac;䅑v;樸old;榼lig;䅓Ācr⵩⵭ir;榿;쀀𝔬ͯ⵹\0\0⵼\0ⶂn;䋛ave耻ò䃲;槁Ābmⶈ෴ar;榵Ȁacitⶕ⶘ⶥⶨrò᪀Āir⶝ⶠr;榾oss;榻nå๒;槀ƀaeiⶱⶵⶹcr;䅍ga;䏉ƀcdnⷀⷅǍron;䎿;榶pf;쀀𝕠ƀaelⷔ⷗ǒr;榷rp;榹΀;adiosvⷪⷫⷮ⸈⸍⸐⸖戨rò᪆Ȁ;efmⷷⷸ⸂⸅橝rĀ;oⷾⷿ愴f»ⷿ耻ª䂪耻º䂺gof;抶r;橖lope;橗;橛ƀclo⸟⸡⸧ò⸁ash耻ø䃸l;折iŬⸯ⸴de耻õ䃵esĀ;aǛ⸺s;樶ml耻ö䃶bar;挽ૡ⹞\0⹽\0⺀⺝\0⺢⺹\0\0⻋ຜ\0⼓\0\0⼫⾼\0⿈rȀ;astЃ⹧⹲຅脀¶;l⹭⹮䂶leìЃɩ⹸\0\0⹻m;櫳;櫽y;䐿rʀcimpt⺋⺏⺓ᡥ⺗nt;䀥od;䀮il;怰enk;怱r;쀀𝔭ƀimo⺨⺰⺴Ā;v⺭⺮䏆;䏕maô੶ne;明ƀ;tv⺿⻀⻈䏀chfork»´;䏖Āau⻏⻟nĀck⻕⻝kĀ;h⇴⻛;愎ö⇴sҀ;abcdemst⻳⻴ᤈ⻹⻽⼄⼆⼊⼎䀫cir;樣ir;樢Āouᵀ⼂;樥;橲n肻±ຝim;樦wo;樧ƀipu⼙⼠⼥ntint;樕f;쀀𝕡nd耻£䂣Ԁ;Eaceinosu່⼿⽁⽄⽇⾁⾉⾒⽾⾶;檳p;檷uå໙Ā;c໎⽌̀;acens່⽙⽟⽦⽨⽾pproø⽃urlyeñ໙ñ໎ƀaes⽯⽶⽺pprox;檹qq;檵im;拨iíໟmeĀ;s⾈ຮ怲ƀEas⽸⾐⽺ð⽵ƀdfp໬⾙⾯ƀals⾠⾥⾪lar;挮ine;挒urf;挓Ā;t໻⾴ï໻rel;抰Āci⿀⿅r;쀀𝓅;䏈ncsp;怈̀fiopsu⿚⋢⿟⿥⿫⿱r;쀀𝔮pf;쀀𝕢rime;恗cr;쀀𝓆ƀaeo⿸〉〓tĀei⿾々rnionóڰnt;樖stĀ;e【】䀿ñἙô༔઀ABHabcdefhilmnoprstux぀けさすムㄎㄫㅇㅢㅲㆎ㈆㈕㈤㈩㉘㉮㉲㊐㊰㊷ƀartぇおがròႳòϝail;検aròᱥar;楤΀cdenqrtとふへみわゔヌĀeuねぱ;쀀∽̱te;䅕iãᅮmptyv;榳gȀ;del࿑らるろ;榒;榥å࿑uo耻»䂻rր;abcfhlpstw࿜ガクシスゼゾダッデナp;極Ā;f࿠ゴs;椠;椳s;椞ë≝ð✮l;楅im;楴l;憣;憝Āaiパフil;椚oĀ;nホボ戶aló༞ƀabrョリヮrò៥rk;杳ĀakンヽcĀekヹ・;䁽;䁝Āes㄂㄄;榌lĀduㄊㄌ;榎;榐Ȁaeuyㄗㄜㄧㄩron;䅙Ādiㄡㄥil;䅗ì࿲âヺ;䑀Ȁclqsㄴㄷㄽㅄa;椷dhar;楩uoĀ;rȎȍh;憳ƀacgㅎㅟངlȀ;ipsླྀㅘㅛႜnåႻarôྩt;断ƀilrㅩဣㅮsht;楽;쀀𝔯ĀaoㅷㆆrĀduㅽㅿ»ѻĀ;l႑ㆄ;楬Ā;vㆋㆌ䏁;䏱ƀgns㆕ㇹㇼht̀ahlrstㆤㆰ㇂㇘㇤㇮rrowĀ;t࿜ㆭaéトarpoonĀduㆻㆿowîㅾp»႒eftĀah㇊㇐rrowó࿪arpoonóՑightarrows;應quigarro÷ニhreetimes;拌g;䋚ingdotseñἲƀahm㈍㈐㈓rò࿪aòՑ;怏oustĀ;a㈞㈟掱che»㈟mid;櫮Ȁabpt㈲㈽㉀㉒Ānr㈷㈺g;柭r;懾rëဃƀafl㉇㉊㉎r;榆;쀀𝕣us;樮imes;樵Āap㉝㉧rĀ;g㉣㉤䀩t;榔olint;樒arò㇣Ȁachq㉻㊀Ⴜ㊅quo;怺r;쀀𝓇Ābu・㊊oĀ;rȔȓƀhir㊗㊛㊠reåㇸmes;拊iȀ;efl㊪ၙᠡ㊫方tri;槎luhar;楨;愞ൡ㋕㋛㋟㌬㌸㍱\0㍺㎤\0\0㏬㏰\0㐨㑈㑚㒭㒱㓊㓱\0㘖\0\0㘳cute;䅛quï➺Ԁ;Eaceinpsyᇭ㋳㋵㋿㌂㌋㌏㌟㌦㌩;檴ǰ㋺\0㋼;檸on;䅡uåᇾĀ;dᇳ㌇il;䅟rc;䅝ƀEas㌖㌘㌛;檶p;檺im;择olint;樓iíሄ;䑁otƀ;be㌴ᵇ㌵担;橦΀Aacmstx㍆㍊㍗㍛㍞㍣㍭rr;懘rĀhr㍐㍒ë∨Ā;oਸ਼਴t耻§䂧i;䀻war;椩mĀin㍩ðnuóñt;朶rĀ;o㍶⁕쀀𝔰Ȁacoy㎂㎆㎑㎠rp;景Āhy㎋㎏cy;䑉;䑈rtɭ㎙\0\0㎜iäᑤaraì⹯耻­䂭Āgm㎨㎴maƀ;fv㎱㎲㎲䏃;䏂Ѐ;deglnprካ㏅㏉㏎㏖㏞㏡㏦ot;橪Ā;q኱ኰĀ;E㏓㏔檞;檠Ā;E㏛㏜檝;檟e;扆lus;樤arr;楲aròᄽȀaeit㏸㐈㐏㐗Āls㏽㐄lsetmé㍪hp;樳parsl;槤Ādlᑣ㐔e;挣Ā;e㐜㐝檪Ā;s㐢㐣檬;쀀⪬︀ƀflp㐮㐳㑂tcy;䑌Ā;b㐸㐹䀯Ā;a㐾㐿槄r;挿f;쀀𝕤aĀdr㑍ЂesĀ;u㑔㑕晠it»㑕ƀcsu㑠㑹㒟Āau㑥㑯pĀ;sᆈ㑫;쀀⊓︀pĀ;sᆴ㑵;쀀⊔︀uĀbp㑿㒏ƀ;esᆗᆜ㒆etĀ;eᆗ㒍ñᆝƀ;esᆨᆭ㒖etĀ;eᆨ㒝ñᆮƀ;afᅻ㒦ְrť㒫ֱ»ᅼaròᅈȀcemt㒹㒾㓂㓅r;쀀𝓈tmîñiì㐕aræᆾĀar㓎㓕rĀ;f㓔ឿ昆Āan㓚㓭ightĀep㓣㓪psiloîỠhé⺯s»⡒ʀbcmnp㓻㕞ሉ㖋㖎Ҁ;Edemnprs㔎㔏㔑㔕㔞㔣㔬㔱㔶抂;櫅ot;檽Ā;dᇚ㔚ot;櫃ult;櫁ĀEe㔨㔪;櫋;把lus;檿arr;楹ƀeiu㔽㕒㕕tƀ;en㔎㕅㕋qĀ;qᇚ㔏eqĀ;q㔫㔨m;櫇Ābp㕚㕜;櫕;櫓c̀;acensᇭ㕬㕲㕹㕻㌦pproø㋺urlyeñᇾñᇳƀaes㖂㖈㌛pproø㌚qñ㌗g;晪ڀ123;Edehlmnps㖩㖬㖯ሜ㖲㖴㗀㗉㗕㗚㗟㗨㗭耻¹䂹耻²䂲耻³䂳;櫆Āos㖹㖼t;檾ub;櫘Ā;dሢ㗅ot;櫄sĀou㗏㗒l;柉b;櫗arr;楻ult;櫂ĀEe㗤㗦;櫌;抋lus;櫀ƀeiu㗴㘉㘌tƀ;enሜ㗼㘂qĀ;qሢ㖲eqĀ;q㗧㗤m;櫈Ābp㘑㘓;櫔;櫖ƀAan㘜㘠㘭rr;懙rĀhr㘦㘨ë∮Ā;oਫ਩war;椪lig耻ß䃟௡㙑㙝㙠ዎ㙳㙹\0㙾㛂\0\0\0\0\0㛛㜃\0㜉㝬\0\0\0㞇ɲ㙖\0\0㙛get;挖;䏄rë๟ƀaey㙦㙫㙰ron;䅥dil;䅣;䑂lrec;挕r;쀀𝔱Ȁeiko㚆㚝㚵㚼ǲ㚋\0㚑eĀ4fኄኁaƀ;sv㚘㚙㚛䎸ym;䏑Ācn㚢㚲kĀas㚨㚮pproø዁im»ኬsðኞĀas㚺㚮ð዁rn耻þ䃾Ǭ̟㛆⋧es膀×;bd㛏㛐㛘䃗Ā;aᤏ㛕r;樱;樰ƀeps㛡㛣㜀á⩍Ȁ;bcf҆㛬㛰㛴ot;挶ir;櫱Ā;o㛹㛼쀀𝕥rk;櫚á㍢rime;怴ƀaip㜏㜒㝤dåቈ΀adempst㜡㝍㝀㝑㝗㝜㝟ngleʀ;dlqr㜰㜱㜶㝀㝂斵own»ᶻeftĀ;e⠀㜾ñम;扜ightĀ;e㊪㝋ñၚot;旬inus;樺lus;樹b;槍ime;樻ezium;揢ƀcht㝲㝽㞁Āry㝷㝻;쀀𝓉;䑆cy;䑛rok;䅧Āio㞋㞎xô᝷headĀlr㞗㞠eftarro÷ࡏightarrow»ཝऀAHabcdfghlmoprstuw㟐㟓㟗㟤㟰㟼㠎㠜㠣㠴㡑㡝㡫㢩㣌㣒㣪㣶ròϭar;楣Ācr㟜㟢ute耻ú䃺òᅐrǣ㟪\0㟭y;䑞ve;䅭Āiy㟵㟺rc耻û䃻;䑃ƀabh㠃㠆㠋ròᎭlac;䅱aòᏃĀir㠓㠘sht;楾;쀀𝔲rave耻ù䃹š㠧㠱rĀlr㠬㠮»ॗ»ႃlk;斀Āct㠹㡍ɯ㠿\0\0㡊rnĀ;e㡅㡆挜r»㡆op;挏ri;旸Āal㡖㡚cr;䅫肻¨͉Āgp㡢㡦on;䅳f;쀀𝕦̀adhlsuᅋ㡸㡽፲㢑㢠ownáᎳarpoonĀlr㢈㢌efô㠭ighô㠯iƀ;hl㢙㢚㢜䏅»ᏺon»㢚parrows;懈ƀcit㢰㣄㣈ɯ㢶\0\0㣁rnĀ;e㢼㢽挝r»㢽op;挎ng;䅯ri;旹cr;쀀𝓊ƀdir㣙㣝㣢ot;拰lde;䅩iĀ;f㜰㣨»᠓Āam㣯㣲rò㢨l耻ü䃼angle;榧ހABDacdeflnoprsz㤜㤟㤩㤭㦵㦸㦽㧟㧤㧨㧳㧹㧽㨁㨠ròϷarĀ;v㤦㤧櫨;櫩asèϡĀnr㤲㤷grt;榜΀eknprst㓣㥆㥋㥒㥝㥤㦖appá␕othinçẖƀhir㓫⻈㥙opô⾵Ā;hᎷ㥢ïㆍĀiu㥩㥭gmá㎳Ābp㥲㦄setneqĀ;q㥽㦀쀀⊊︀;쀀⫋︀setneqĀ;q㦏㦒쀀⊋︀;쀀⫌︀Āhr㦛㦟etá㚜iangleĀlr㦪㦯eft»थight»ၑy;䐲ash»ံƀelr㧄㧒㧗ƀ;beⷪ㧋㧏ar;抻q;扚lip;拮Ābt㧜ᑨaòᑩr;쀀𝔳tré㦮suĀbp㧯㧱»ജ»൙pf;쀀𝕧roð໻tré㦴Ācu㨆㨋r;쀀𝓋Ābp㨐㨘nĀEe㦀㨖»㥾nĀEe㦒㨞»㦐igzag;榚΀cefoprs㨶㨻㩖㩛㩔㩡㩪irc;䅵Ādi㩀㩑Ābg㩅㩉ar;機eĀ;qᗺ㩏;扙erp;愘r;쀀𝔴pf;쀀𝕨Ā;eᑹ㩦atèᑹcr;쀀𝓌ૣណ㪇\0㪋\0㪐㪛\0\0㪝㪨㪫㪯\0\0㫃㫎\0㫘ៜ៟tré៑r;쀀𝔵ĀAa㪔㪗ròσrò৶;䎾ĀAa㪡㪤ròθrò৫að✓is;拻ƀdptឤ㪵㪾Āfl㪺ឩ;쀀𝕩imåឲĀAa㫇㫊ròώròਁĀcq㫒ីr;쀀𝓍Āpt៖㫜ré។Ѐacefiosu㫰㫽㬈㬌㬑㬕㬛㬡cĀuy㫶㫻te耻ý䃽;䑏Āiy㬂㬆rc;䅷;䑋n耻¥䂥r;쀀𝔶cy;䑗pf;쀀𝕪cr;쀀𝓎Ācm㬦㬩y;䑎l耻ÿ䃿Ԁacdefhiosw㭂㭈㭔㭘㭤㭩㭭㭴㭺㮀cute;䅺Āay㭍㭒ron;䅾;䐷ot;䅼Āet㭝㭡træᕟa;䎶r;쀀𝔷cy;䐶grarr;懝pf;쀀𝕫cr;쀀𝓏Ājn㮅㮇;怍j;怌'.split("").map(e=>e.charCodeAt(0))),bS=new Uint16Array("Ȁaglq	\x1Bɭ\0\0p;䀦os;䀧t;䀾t;䀼uot;䀢".split("").map(e=>e.charCodeAt(0)));var wa;const yS=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),wS=(wa=String.fromCodePoint)!==null&&wa!==void 0?wa:function(e){let t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|e&1023),t+=String.fromCharCode(e),t};function xS(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=yS.get(e))!==null&&t!==void 0?t:e}var ht;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(ht||(ht={}));const CS=32;var Kn;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(Kn||(Kn={}));function sl(e){return e>=ht.ZERO&&e<=ht.NINE}function ES(e){return e>=ht.UPPER_A&&e<=ht.UPPER_F||e>=ht.LOWER_A&&e<=ht.LOWER_F}function SS(e){return e>=ht.UPPER_A&&e<=ht.UPPER_Z||e>=ht.LOWER_A&&e<=ht.LOWER_Z||sl(e)}function kS(e){return e===ht.EQUALS||SS(e)}var ft;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(ft||(ft={}));var Yn;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(Yn||(Yn={}));class IS{constructor(t,n,i){this.decodeTree=t,this.emitCodePoint=n,this.errors=i,this.state=ft.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Yn.Strict}startEntity(t){this.decodeMode=t,this.state=ft.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,n){switch(this.state){case ft.EntityStart:return t.charCodeAt(n)===ht.NUM?(this.state=ft.NumericStart,this.consumed+=1,this.stateNumericStart(t,n+1)):(this.state=ft.NamedEntity,this.stateNamedEntity(t,n));case ft.NumericStart:return this.stateNumericStart(t,n);case ft.NumericDecimal:return this.stateNumericDecimal(t,n);case ft.NumericHex:return this.stateNumericHex(t,n);case ft.NamedEntity:return this.stateNamedEntity(t,n)}}stateNumericStart(t,n){return n>=t.length?-1:(t.charCodeAt(n)|CS)===ht.LOWER_X?(this.state=ft.NumericHex,this.consumed+=1,this.stateNumericHex(t,n+1)):(this.state=ft.NumericDecimal,this.stateNumericDecimal(t,n))}addToNumericResult(t,n,i,o){if(n!==i){const s=i-n;this.result=this.result*Math.pow(o,s)+parseInt(t.substr(n,s),o),this.consumed+=s}}stateNumericHex(t,n){const i=n;for(;n<t.length;){const o=t.charCodeAt(n);if(sl(o)||ES(o))n+=1;else return this.addToNumericResult(t,i,n,16),this.emitNumericEntity(o,3)}return this.addToNumericResult(t,i,n,16),-1}stateNumericDecimal(t,n){const i=n;for(;n<t.length;){const o=t.charCodeAt(n);if(sl(o))n+=1;else return this.addToNumericResult(t,i,n,10),this.emitNumericEntity(o,2)}return this.addToNumericResult(t,i,n,10),-1}emitNumericEntity(t,n){var i;if(this.consumed<=n)return(i=this.errors)===null||i===void 0||i.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===ht.SEMI)this.consumed+=1;else if(this.decodeMode===Yn.Strict)return 0;return this.emitCodePoint(xS(this.result),this.consumed),this.errors&&(t!==ht.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,n){const{decodeTree:i}=this;let o=i[this.treeIndex],s=(o&Kn.VALUE_LENGTH)>>14;for(;n<t.length;n++,this.excess++){const r=t.charCodeAt(n);if(this.treeIndex=AS(i,o,this.treeIndex+Math.max(1,s),r),this.treeIndex<0)return this.result===0||this.decodeMode===Yn.Attribute&&(s===0||kS(r))?0:this.emitNotTerminatedNamedEntity();if(o=i[this.treeIndex],s=(o&Kn.VALUE_LENGTH)>>14,s!==0){if(r===ht.SEMI)return this.emitNamedEntityData(this.treeIndex,s,this.consumed+this.excess);this.decodeMode!==Yn.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:n,decodeTree:i}=this,o=(i[n]&Kn.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,o,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,n,i){const{decodeTree:o}=this;return this.emitCodePoint(n===1?o[t]&~Kn.VALUE_LENGTH:o[t+1],i),n===3&&this.emitCodePoint(o[t+2],i),i}end(){var t;switch(this.state){case ft.NamedEntity:return this.result!==0&&(this.decodeMode!==Yn.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case ft.NumericDecimal:return this.emitNumericEntity(0,2);case ft.NumericHex:return this.emitNumericEntity(0,3);case ft.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case ft.EntityStart:return 0}}}function om(e){let t="";const n=new IS(e,i=>t+=wS(i));return function(o,s){let r=0,u=0;for(;(u=o.indexOf("&",u))>=0;){t+=o.slice(r,u),n.startEntity(s);const l=n.write(o,u+1);if(l<0){r=u+n.end();break}r=u+l,u=l===0?r+1:r}const a=t+o.slice(r);return t="",a}}function AS(e,t,n,i){const o=(t&Kn.BRANCH_LENGTH)>>7,s=t&Kn.JUMP_TABLE;if(o===0)return s!==0&&i===s?n:-1;if(s){const a=i-s;return a<0||a>=o?-1:e[n+a]-1}let r=n,u=r+o-1;for(;r<=u;){const a=r+u>>>1,l=e[a];if(l<i)r=a+1;else if(l>i)u=a-1;else return e[a+o]}return-1}const DS=om(_S);om(bS);function sm(e,t=Yn.Legacy){return DS(e,t)}function NS(e){return Object.prototype.toString.call(e)}function Xl(e){return NS(e)==="[object String]"}const TS=Object.prototype.hasOwnProperty;function MS(e,t){return TS.call(e,t)}function Xr(e){return Array.prototype.slice.call(arguments,1).forEach(function(n){if(n){if(typeof n!="object")throw new TypeError(n+"must be object");Object.keys(n).forEach(function(i){e[i]=n[i]})}}),e}function rm(e,t,n){return[].concat(e.slice(0,t),n,e.slice(t+1))}function Kl(e){return!(e>=55296&&e<=57343||e>=64976&&e<=65007||(e&65535)===65535||(e&65535)===65534||e>=0&&e<=8||e===11||e>=14&&e<=31||e>=127&&e<=159||e>1114111)}function wr(e){if(e>65535){e-=65536;const t=55296+(e>>10),n=56320+(e&1023);return String.fromCharCode(t,n)}return String.fromCharCode(e)}const um=/\\([!"#$%&'()*+,\-./:;<=>?@[\\\]^_`{|}~])/g,FS=/&([a-z#][a-z0-9]{1,31});/gi,PS=new RegExp(um.source+"|"+FS.source,"gi"),OS=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))$/i;function LS(e,t){if(t.charCodeAt(0)===35&&OS.test(t)){const i=t[1].toLowerCase()==="x"?parseInt(t.slice(2),16):parseInt(t.slice(1),10);return Kl(i)?wr(i):e}const n=sm(e);return n!==e?n:e}function zS(e){return e.indexOf("\\")<0?e:e.replace(um,"$1")}function lo(e){return e.indexOf("\\")<0&&e.indexOf("&")<0?e:e.replace(PS,function(t,n,i){return n||LS(t,i)})}const RS=/[&<>"]/,$S=/[&<>"]/g,BS={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function VS(e){return BS[e]}function si(e){return RS.test(e)?e.replace($S,VS):e}const HS=/[.?*+^$[\]\\(){}|-]/g;function US(e){return e.replace(HS,"\\$&")}function Ze(e){switch(e){case 9:case 32:return!0}return!1}function ss(e){if(e>=8192&&e<=8202)return!0;switch(e){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}function rs(e){return Yl.test(e)||nm.test(e)}function us(e){switch(e){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function Kr(e){return e=e.trim().replace(/\s+/g," "),"ẞ".toLowerCase()==="Ṿ"&&(e=e.replace(/ẞ/g,"ß")),e.toLowerCase().toUpperCase()}const qS={mdurl:mS,ucmicro:vS},GS=Object.freeze(Object.defineProperty({__proto__:null,arrayReplaceAt:rm,assign:Xr,escapeHtml:si,escapeRE:US,fromCodePoint:wr,has:MS,isMdAsciiPunct:us,isPunctChar:rs,isSpace:Ze,isString:Xl,isValidEntityCode:Kl,isWhiteSpace:ss,lib:qS,normalizeReference:Kr,unescapeAll:lo,unescapeMd:zS},Symbol.toStringTag,{value:"Module"}));function jS(e,t,n){let i,o,s,r;const u=e.posMax,a=e.pos;for(e.pos=t+1,i=1;e.pos<u;){if(s=e.src.charCodeAt(e.pos),s===93&&(i--,i===0)){o=!0;break}if(r=e.pos,e.md.inline.skipToken(e),s===91){if(r===e.pos-1)i++;else if(n)return e.pos=a,-1}}let l=-1;return o&&(l=e.pos),e.pos=a,l}function WS(e,t,n){let i,o=t;const s={ok:!1,pos:0,str:""};if(e.charCodeAt(o)===60){for(o++;o<n;){if(i=e.charCodeAt(o),i===10||i===60)return s;if(i===62)return s.pos=o+1,s.str=lo(e.slice(t+1,o)),s.ok=!0,s;if(i===92&&o+1<n){o+=2;continue}o++}return s}let r=0;for(;o<n&&(i=e.charCodeAt(o),!(i===32||i<32||i===127));){if(i===92&&o+1<n){if(e.charCodeAt(o+1)===32)break;o+=2;continue}if(i===40&&(r++,r>32))return s;if(i===41){if(r===0)break;r--}o++}return t===o||r!==0||(s.str=lo(e.slice(t,o)),s.pos=o,s.ok=!0),s}function ZS(e,t,n,i){let o,s=t;const r={ok:!1,can_continue:!1,pos:0,str:"",marker:0};if(i)r.str=i.str,r.marker=i.marker;else{if(s>=n)return r;let u=e.charCodeAt(s);if(u!==34&&u!==39&&u!==40)return r;t++,s++,u===40&&(u=41),r.marker=u}for(;s<n;){if(o=e.charCodeAt(s),o===r.marker)return r.pos=s+1,r.str+=lo(e.slice(t,s)),r.ok=!0,r;if(o===40&&r.marker===41)return r;o===92&&s+1<n&&s++,s++}return r.can_continue=!0,r.str+=lo(e.slice(t,s)),r}const YS=Object.freeze(Object.defineProperty({__proto__:null,parseLinkDestination:WS,parseLinkLabel:jS,parseLinkTitle:ZS},Symbol.toStringTag,{value:"Module"})),yn={};yn.code_inline=function(e,t,n,i,o){const s=e[t];return"<code"+o.renderAttrs(s)+">"+si(s.content)+"</code>"};yn.code_block=function(e,t,n,i,o){const s=e[t];return"<pre"+o.renderAttrs(s)+"><code>"+si(e[t].content)+`</code></pre>
`};yn.fence=function(e,t,n,i,o){const s=e[t],r=s.info?lo(s.info).trim():"";let u="",a="";if(r){const c=r.split(/(\s+)/g);u=c[0],a=c.slice(2).join("")}let l;if(n.highlight?l=n.highlight(s.content,u,a)||si(s.content):l=si(s.content),l.indexOf("<pre")===0)return l+`
`;if(r){const c=s.attrIndex("class"),d=s.attrs?s.attrs.slice():[];c<0?d.push(["class",n.langPrefix+u]):(d[c]=d[c].slice(),d[c][1]+=" "+n.langPrefix+u);const f={attrs:d};return`<pre><code${o.renderAttrs(f)}>${l}</code></pre>
`}return`<pre><code${o.renderAttrs(s)}>${l}</code></pre>
`};yn.image=function(e,t,n,i,o){const s=e[t];return s.attrs[s.attrIndex("alt")][1]=o.renderInlineAsText(s.children,n,i),o.renderToken(e,t,n)};yn.hardbreak=function(e,t,n){return n.xhtmlOut?`<br />
`:`<br>
`};yn.softbreak=function(e,t,n){return n.breaks?n.xhtmlOut?`<br />
`:`<br>
`:`
`};yn.text=function(e,t){return si(e[t].content)};yn.html_block=function(e,t){return e[t].content};yn.html_inline=function(e,t){return e[t].content};function po(){this.rules=Xr({},yn)}po.prototype.renderAttrs=function(t){let n,i,o;if(!t.attrs)return"";for(o="",n=0,i=t.attrs.length;n<i;n++)o+=" "+si(t.attrs[n][0])+'="'+si(t.attrs[n][1])+'"';return o};po.prototype.renderToken=function(t,n,i){const o=t[n];let s="";if(o.hidden)return"";o.block&&o.nesting!==-1&&n&&t[n-1].hidden&&(s+=`
`),s+=(o.nesting===-1?"</":"<")+o.tag,s+=this.renderAttrs(o),o.nesting===0&&i.xhtmlOut&&(s+=" /");let r=!1;if(o.block&&(r=!0,o.nesting===1&&n+1<t.length)){const u=t[n+1];(u.type==="inline"||u.hidden||u.nesting===-1&&u.tag===o.tag)&&(r=!1)}return s+=r?`>
`:">",s};po.prototype.renderInline=function(e,t,n){let i="";const o=this.rules;for(let s=0,r=e.length;s<r;s++){const u=e[s].type;typeof o[u]<"u"?i+=o[u](e,s,t,n,this):i+=this.renderToken(e,s,t)}return i};po.prototype.renderInlineAsText=function(e,t,n){let i="";for(let o=0,s=e.length;o<s;o++)switch(e[o].type){case"text":i+=e[o].content;break;case"image":i+=this.renderInlineAsText(e[o].children,t,n);break;case"html_inline":case"html_block":i+=e[o].content;break;case"softbreak":case"hardbreak":i+=`
`;break}return i};po.prototype.render=function(e,t,n){let i="";const o=this.rules;for(let s=0,r=e.length;s<r;s++){const u=e[s].type;u==="inline"?i+=this.renderInline(e[s].children,t,n):typeof o[u]<"u"?i+=o[u](e,s,t,n,this):i+=this.renderToken(e,s,t,n)}return i};function At(){this.__rules__=[],this.__cache__=null}At.prototype.__find__=function(e){for(let t=0;t<this.__rules__.length;t++)if(this.__rules__[t].name===e)return t;return-1};At.prototype.__compile__=function(){const e=this,t=[""];e.__rules__.forEach(function(n){n.enabled&&n.alt.forEach(function(i){t.indexOf(i)<0&&t.push(i)})}),e.__cache__={},t.forEach(function(n){e.__cache__[n]=[],e.__rules__.forEach(function(i){i.enabled&&(n&&i.alt.indexOf(n)<0||e.__cache__[n].push(i.fn))})})};At.prototype.at=function(e,t,n){const i=this.__find__(e),o=n||{};if(i===-1)throw new Error("Parser rule not found: "+e);this.__rules__[i].fn=t,this.__rules__[i].alt=o.alt||[],this.__cache__=null};At.prototype.before=function(e,t,n,i){const o=this.__find__(e),s=i||{};if(o===-1)throw new Error("Parser rule not found: "+e);this.__rules__.splice(o,0,{name:t,enabled:!0,fn:n,alt:s.alt||[]}),this.__cache__=null};At.prototype.after=function(e,t,n,i){const o=this.__find__(e),s=i||{};if(o===-1)throw new Error("Parser rule not found: "+e);this.__rules__.splice(o+1,0,{name:t,enabled:!0,fn:n,alt:s.alt||[]}),this.__cache__=null};At.prototype.push=function(e,t,n){const i=n||{};this.__rules__.push({name:e,enabled:!0,fn:t,alt:i.alt||[]}),this.__cache__=null};At.prototype.enable=function(e,t){Array.isArray(e)||(e=[e]);const n=[];return e.forEach(function(i){const o=this.__find__(i);if(o<0){if(t)return;throw new Error("Rules manager: invalid rule name "+i)}this.__rules__[o].enabled=!0,n.push(i)},this),this.__cache__=null,n};At.prototype.enableOnly=function(e,t){Array.isArray(e)||(e=[e]),this.__rules__.forEach(function(n){n.enabled=!1}),this.enable(e,t)};At.prototype.disable=function(e,t){Array.isArray(e)||(e=[e]);const n=[];return e.forEach(function(i){const o=this.__find__(i);if(o<0){if(t)return;throw new Error("Rules manager: invalid rule name "+i)}this.__rules__[o].enabled=!1,n.push(i)},this),this.__cache__=null,n};At.prototype.getRules=function(e){return this.__cache__===null&&this.__compile__(),this.__cache__[e]||[]};function en(e,t,n){this.type=e,this.tag=t,this.attrs=null,this.map=null,this.nesting=n,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}en.prototype.attrIndex=function(t){if(!this.attrs)return-1;const n=this.attrs;for(let i=0,o=n.length;i<o;i++)if(n[i][0]===t)return i;return-1};en.prototype.attrPush=function(t){this.attrs?this.attrs.push(t):this.attrs=[t]};en.prototype.attrSet=function(t,n){const i=this.attrIndex(t),o=[t,n];i<0?this.attrPush(o):this.attrs[i]=o};en.prototype.attrGet=function(t){const n=this.attrIndex(t);let i=null;return n>=0&&(i=this.attrs[n][1]),i};en.prototype.attrJoin=function(t,n){const i=this.attrIndex(t);i<0?this.attrPush([t,n]):this.attrs[i][1]=this.attrs[i][1]+" "+n};function am(e,t,n){this.src=e,this.env=n,this.tokens=[],this.inlineMode=!1,this.md=t}am.prototype.Token=en;const XS=/\r\n?|\n/g,KS=/\0/g;function JS(e){let t;t=e.src.replace(XS,`
`),t=t.replace(KS,"�"),e.src=t}function QS(e){let t;e.inlineMode?(t=new e.Token("inline","",0),t.content=e.src,t.map=[0,1],t.children=[],e.tokens.push(t)):e.md.block.parse(e.src,e.md,e.env,e.tokens)}function e4(e){const t=e.tokens;for(let n=0,i=t.length;n<i;n++){const o=t[n];o.type==="inline"&&e.md.inline.parse(o.content,e.md,e.env,o.children)}}function t4(e){return/^<a[>\s]/i.test(e)}function n4(e){return/^<\/a\s*>/i.test(e)}function i4(e){const t=e.tokens;if(e.md.options.linkify)for(let n=0,i=t.length;n<i;n++){if(t[n].type!=="inline"||!e.md.linkify.pretest(t[n].content))continue;let o=t[n].children,s=0;for(let r=o.length-1;r>=0;r--){const u=o[r];if(u.type==="link_close"){for(r--;o[r].level!==u.level&&o[r].type!=="link_open";)r--;continue}if(u.type==="html_inline"&&(t4(u.content)&&s>0&&s--,n4(u.content)&&s++),!(s>0)&&u.type==="text"&&e.md.linkify.test(u.content)){const a=u.content;let l=e.md.linkify.match(a);const c=[];let d=u.level,f=0;l.length>0&&l[0].index===0&&r>0&&o[r-1].type==="text_special"&&(l=l.slice(1));for(let h=0;h<l.length;h++){const p=l[h].url,_=e.md.normalizeLink(p);if(!e.md.validateLink(_))continue;let b=l[h].text;l[h].schema?l[h].schema==="mailto:"&&!/^mailto:/i.test(b)?b=e.md.normalizeLinkText("mailto:"+b).replace(/^mailto:/,""):b=e.md.normalizeLinkText(b):b=e.md.normalizeLinkText("http://"+b).replace(/^http:\/\//,"");const y=l[h].index;if(y>f){const x=new e.Token("text","",0);x.content=a.slice(f,y),x.level=d,c.push(x)}const v=new e.Token("link_open","a",1);v.attrs=[["href",_]],v.level=d++,v.markup="linkify",v.info="auto",c.push(v);const m=new e.Token("text","",0);m.content=b,m.level=d,c.push(m);const g=new e.Token("link_close","a",-1);g.level=--d,g.markup="linkify",g.info="auto",c.push(g),f=l[h].lastIndex}if(f<a.length){const h=new e.Token("text","",0);h.content=a.slice(f),h.level=d,c.push(h)}t[n].children=o=rm(o,r,c)}}}}const lm=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,o4=/\((c|tm|r)\)/i,s4=/\((c|tm|r)\)/ig,r4={c:"©",r:"®",tm:"™"};function u4(e,t){return r4[t.toLowerCase()]}function a4(e){let t=0;for(let n=e.length-1;n>=0;n--){const i=e[n];i.type==="text"&&!t&&(i.content=i.content.replace(s4,u4)),i.type==="link_open"&&i.info==="auto"&&t--,i.type==="link_close"&&i.info==="auto"&&t++}}function l4(e){let t=0;for(let n=e.length-1;n>=0;n--){const i=e[n];i.type==="text"&&!t&&lm.test(i.content)&&(i.content=i.content.replace(/\+-/g,"±").replace(/\.{2,}/g,"…").replace(/([?!])…/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/mg,"$1—").replace(/(^|\s)--(?=\s|$)/mg,"$1–").replace(/(^|[^-\s])--(?=[^-\s]|$)/mg,"$1–")),i.type==="link_open"&&i.info==="auto"&&t--,i.type==="link_close"&&i.info==="auto"&&t++}}function c4(e){let t;if(e.md.options.typographer)for(t=e.tokens.length-1;t>=0;t--)e.tokens[t].type==="inline"&&(o4.test(e.tokens[t].content)&&a4(e.tokens[t].children),lm.test(e.tokens[t].content)&&l4(e.tokens[t].children))}const d4=/['"]/,Lf=/['"]/g,zf="’";function Ps(e,t,n){return e.slice(0,t)+n+e.slice(t+1)}function f4(e,t){let n;const i=[];for(let o=0;o<e.length;o++){const s=e[o],r=e[o].level;for(n=i.length-1;n>=0&&!(i[n].level<=r);n--);if(i.length=n+1,s.type!=="text")continue;let u=s.content,a=0,l=u.length;e:for(;a<l;){Lf.lastIndex=a;const c=Lf.exec(u);if(!c)break;let d=!0,f=!0;a=c.index+1;const h=c[0]==="'";let p=32;if(c.index-1>=0)p=u.charCodeAt(c.index-1);else for(n=o-1;n>=0&&!(e[n].type==="softbreak"||e[n].type==="hardbreak");n--)if(e[n].content){p=e[n].content.charCodeAt(e[n].content.length-1);break}let _=32;if(a<l)_=u.charCodeAt(a);else for(n=o+1;n<e.length&&!(e[n].type==="softbreak"||e[n].type==="hardbreak");n++)if(e[n].content){_=e[n].content.charCodeAt(0);break}const b=us(p)||rs(String.fromCharCode(p)),y=us(_)||rs(String.fromCharCode(_)),v=ss(p),m=ss(_);if(m?d=!1:y&&(v||b||(d=!1)),v?f=!1:b&&(m||y||(f=!1)),_===34&&c[0]==='"'&&p>=48&&p<=57&&(f=d=!1),d&&f&&(d=b,f=y),!d&&!f){h&&(s.content=Ps(s.content,c.index,zf));continue}if(f)for(n=i.length-1;n>=0;n--){let g=i[n];if(i[n].level<r)break;if(g.single===h&&i[n].level===r){g=i[n];let x,E;h?(x=t.md.options.quotes[2],E=t.md.options.quotes[3]):(x=t.md.options.quotes[0],E=t.md.options.quotes[1]),s.content=Ps(s.content,c.index,E),e[g.token].content=Ps(e[g.token].content,g.pos,x),a+=E.length-1,g.token===o&&(a+=x.length-1),u=s.content,l=u.length,i.length=n;continue e}}d?i.push({token:o,pos:c.index,single:h,level:r}):f&&h&&(s.content=Ps(s.content,c.index,zf))}}}function h4(e){if(e.md.options.typographer)for(let t=e.tokens.length-1;t>=0;t--)e.tokens[t].type!=="inline"||!d4.test(e.tokens[t].content)||f4(e.tokens[t].children,e)}function p4(e){let t,n;const i=e.tokens,o=i.length;for(let s=0;s<o;s++){if(i[s].type!=="inline")continue;const r=i[s].children,u=r.length;for(t=0;t<u;t++)r[t].type==="text_special"&&(r[t].type="text");for(t=n=0;t<u;t++)r[t].type==="text"&&t+1<u&&r[t+1].type==="text"?r[t+1].content=r[t].content+r[t+1].content:(t!==n&&(r[n]=r[t]),n++);t!==n&&(r.length=n)}}const xa=[["normalize",JS],["block",QS],["inline",e4],["linkify",i4],["replacements",c4],["smartquotes",h4],["text_join",p4]];function Jl(){this.ruler=new At;for(let e=0;e<xa.length;e++)this.ruler.push(xa[e][0],xa[e][1])}Jl.prototype.process=function(e){const t=this.ruler.getRules("");for(let n=0,i=t.length;n<i;n++)t[n](e)};Jl.prototype.State=am;function wn(e,t,n,i){this.src=e,this.md=t,this.env=n,this.tokens=i,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0;const o=this.src;for(let s=0,r=0,u=0,a=0,l=o.length,c=!1;r<l;r++){const d=o.charCodeAt(r);if(!c)if(Ze(d)){u++,d===9?a+=4-a%4:a++;continue}else c=!0;(d===10||r===l-1)&&(d!==10&&r++,this.bMarks.push(s),this.eMarks.push(r),this.tShift.push(u),this.sCount.push(a),this.bsCount.push(0),c=!1,u=0,a=0,s=r+1)}this.bMarks.push(o.length),this.eMarks.push(o.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}wn.prototype.push=function(e,t,n){const i=new en(e,t,n);return i.block=!0,n<0&&this.level--,i.level=this.level,n>0&&this.level++,this.tokens.push(i),i};wn.prototype.isEmpty=function(t){return this.bMarks[t]+this.tShift[t]>=this.eMarks[t]};wn.prototype.skipEmptyLines=function(t){for(let n=this.lineMax;t<n&&!(this.bMarks[t]+this.tShift[t]<this.eMarks[t]);t++);return t};wn.prototype.skipSpaces=function(t){for(let n=this.src.length;t<n;t++){const i=this.src.charCodeAt(t);if(!Ze(i))break}return t};wn.prototype.skipSpacesBack=function(t,n){if(t<=n)return t;for(;t>n;)if(!Ze(this.src.charCodeAt(--t)))return t+1;return t};wn.prototype.skipChars=function(t,n){for(let i=this.src.length;t<i&&this.src.charCodeAt(t)===n;t++);return t};wn.prototype.skipCharsBack=function(t,n,i){if(t<=i)return t;for(;t>i;)if(n!==this.src.charCodeAt(--t))return t+1;return t};wn.prototype.getLines=function(t,n,i,o){if(t>=n)return"";const s=new Array(n-t);for(let r=0,u=t;u<n;u++,r++){let a=0;const l=this.bMarks[u];let c=l,d;for(u+1<n||o?d=this.eMarks[u]+1:d=this.eMarks[u];c<d&&a<i;){const f=this.src.charCodeAt(c);if(Ze(f))f===9?a+=4-(a+this.bsCount[u])%4:a++;else if(c-l<this.tShift[u])a++;else break;c++}a>i?s[r]=new Array(a-i+1).join(" ")+this.src.slice(c,d):s[r]=this.src.slice(c,d)}return s.join("")};wn.prototype.Token=en;const m4=65536;function Ca(e,t){const n=e.bMarks[t]+e.tShift[t],i=e.eMarks[t];return e.src.slice(n,i)}function Rf(e){const t=[],n=e.length;let i=0,o=e.charCodeAt(i),s=!1,r=0,u="";for(;i<n;)o===124&&(s?(u+=e.substring(r,i-1),r=i):(t.push(u+e.substring(r,i)),u="",r=i+1)),s=o===92,i++,o=e.charCodeAt(i);return t.push(u+e.substring(r)),t}function g4(e,t,n,i){if(t+2>n)return!1;let o=t+1;if(e.sCount[o]<e.blkIndent||e.sCount[o]-e.blkIndent>=4)return!1;let s=e.bMarks[o]+e.tShift[o];if(s>=e.eMarks[o])return!1;const r=e.src.charCodeAt(s++);if(r!==124&&r!==45&&r!==58||s>=e.eMarks[o])return!1;const u=e.src.charCodeAt(s++);if(u!==124&&u!==45&&u!==58&&!Ze(u)||r===45&&Ze(u))return!1;for(;s<e.eMarks[o];){const g=e.src.charCodeAt(s);if(g!==124&&g!==45&&g!==58&&!Ze(g))return!1;s++}let a=Ca(e,t+1),l=a.split("|");const c=[];for(let g=0;g<l.length;g++){const x=l[g].trim();if(!x){if(g===0||g===l.length-1)continue;return!1}if(!/^:?-+:?$/.test(x))return!1;x.charCodeAt(x.length-1)===58?c.push(x.charCodeAt(0)===58?"center":"right"):x.charCodeAt(0)===58?c.push("left"):c.push("")}if(a=Ca(e,t).trim(),a.indexOf("|")===-1||e.sCount[t]-e.blkIndent>=4)return!1;l=Rf(a),l.length&&l[0]===""&&l.shift(),l.length&&l[l.length-1]===""&&l.pop();const d=l.length;if(d===0||d!==c.length)return!1;if(i)return!0;const f=e.parentType;e.parentType="table";const h=e.md.block.ruler.getRules("blockquote"),p=e.push("table_open","table",1),_=[t,0];p.map=_;const b=e.push("thead_open","thead",1);b.map=[t,t+1];const y=e.push("tr_open","tr",1);y.map=[t,t+1];for(let g=0;g<l.length;g++){const x=e.push("th_open","th",1);c[g]&&(x.attrs=[["style","text-align:"+c[g]]]);const E=e.push("inline","",0);E.content=l[g].trim(),E.children=[],e.push("th_close","th",-1)}e.push("tr_close","tr",-1),e.push("thead_close","thead",-1);let v,m=0;for(o=t+2;o<n&&!(e.sCount[o]<e.blkIndent);o++){let g=!1;for(let E=0,D=h.length;E<D;E++)if(h[E](e,o,n,!0)){g=!0;break}if(g||(a=Ca(e,o).trim(),!a)||e.sCount[o]-e.blkIndent>=4||(l=Rf(a),l.length&&l[0]===""&&l.shift(),l.length&&l[l.length-1]===""&&l.pop(),m+=d-l.length,m>m4))break;if(o===t+2){const E=e.push("tbody_open","tbody",1);E.map=v=[t+2,0]}const x=e.push("tr_open","tr",1);x.map=[o,o+1];for(let E=0;E<d;E++){const D=e.push("td_open","td",1);c[E]&&(D.attrs=[["style","text-align:"+c[E]]]);const k=e.push("inline","",0);k.content=l[E]?l[E].trim():"",k.children=[],e.push("td_close","td",-1)}e.push("tr_close","tr",-1)}return v&&(e.push("tbody_close","tbody",-1),v[1]=o),e.push("table_close","table",-1),_[1]=o,e.parentType=f,e.line=o,!0}function v4(e,t,n){if(e.sCount[t]-e.blkIndent<4)return!1;let i=t+1,o=i;for(;i<n;){if(e.isEmpty(i)){i++;continue}if(e.sCount[i]-e.blkIndent>=4){i++,o=i;continue}break}e.line=o;const s=e.push("code_block","code",0);return s.content=e.getLines(t,o,4+e.blkIndent,!1)+`
`,s.map=[t,e.line],!0}function _4(e,t,n,i){let o=e.bMarks[t]+e.tShift[t],s=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4||o+3>s)return!1;const r=e.src.charCodeAt(o);if(r!==126&&r!==96)return!1;let u=o;o=e.skipChars(o,r);let a=o-u;if(a<3)return!1;const l=e.src.slice(u,o),c=e.src.slice(o,s);if(r===96&&c.indexOf(String.fromCharCode(r))>=0)return!1;if(i)return!0;let d=t,f=!1;for(;d++,!(d>=n||(o=u=e.bMarks[d]+e.tShift[d],s=e.eMarks[d],o<s&&e.sCount[d]<e.blkIndent));)if(e.src.charCodeAt(o)===r&&!(e.sCount[d]-e.blkIndent>=4)&&(o=e.skipChars(o,r),!(o-u<a)&&(o=e.skipSpaces(o),!(o<s)))){f=!0;break}a=e.sCount[t],e.line=d+(f?1:0);const h=e.push("fence","code",0);return h.info=c,h.content=e.getLines(t+1,d,a,!0),h.markup=l,h.map=[t,e.line],!0}function b4(e,t,n,i){let o=e.bMarks[t]+e.tShift[t],s=e.eMarks[t];const r=e.lineMax;if(e.sCount[t]-e.blkIndent>=4||e.src.charCodeAt(o)!==62)return!1;if(i)return!0;const u=[],a=[],l=[],c=[],d=e.md.block.ruler.getRules("blockquote"),f=e.parentType;e.parentType="blockquote";let h=!1,p;for(p=t;p<n;p++){const m=e.sCount[p]<e.blkIndent;if(o=e.bMarks[p]+e.tShift[p],s=e.eMarks[p],o>=s)break;if(e.src.charCodeAt(o++)===62&&!m){let x=e.sCount[p]+1,E,D;e.src.charCodeAt(o)===32?(o++,x++,D=!1,E=!0):e.src.charCodeAt(o)===9?(E=!0,(e.bsCount[p]+x)%4===3?(o++,x++,D=!1):D=!0):E=!1;let k=x;for(u.push(e.bMarks[p]),e.bMarks[p]=o;o<s;){const w=e.src.charCodeAt(o);if(Ze(w))w===9?k+=4-(k+e.bsCount[p]+(D?1:0))%4:k++;else break;o++}h=o>=s,a.push(e.bsCount[p]),e.bsCount[p]=e.sCount[p]+1+(E?1:0),l.push(e.sCount[p]),e.sCount[p]=k-x,c.push(e.tShift[p]),e.tShift[p]=o-e.bMarks[p];continue}if(h)break;let g=!1;for(let x=0,E=d.length;x<E;x++)if(d[x](e,p,n,!0)){g=!0;break}if(g){e.lineMax=p,e.blkIndent!==0&&(u.push(e.bMarks[p]),a.push(e.bsCount[p]),c.push(e.tShift[p]),l.push(e.sCount[p]),e.sCount[p]-=e.blkIndent);break}u.push(e.bMarks[p]),a.push(e.bsCount[p]),c.push(e.tShift[p]),l.push(e.sCount[p]),e.sCount[p]=-1}const _=e.blkIndent;e.blkIndent=0;const b=e.push("blockquote_open","blockquote",1);b.markup=">";const y=[t,0];b.map=y,e.md.block.tokenize(e,t,p);const v=e.push("blockquote_close","blockquote",-1);v.markup=">",e.lineMax=r,e.parentType=f,y[1]=e.line;for(let m=0;m<c.length;m++)e.bMarks[m+t]=u[m],e.tShift[m+t]=c[m],e.sCount[m+t]=l[m],e.bsCount[m+t]=a[m];return e.blkIndent=_,!0}function y4(e,t,n,i){const o=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;let s=e.bMarks[t]+e.tShift[t];const r=e.src.charCodeAt(s++);if(r!==42&&r!==45&&r!==95)return!1;let u=1;for(;s<o;){const l=e.src.charCodeAt(s++);if(l!==r&&!Ze(l))return!1;l===r&&u++}if(u<3)return!1;if(i)return!0;e.line=t+1;const a=e.push("hr","hr",0);return a.map=[t,e.line],a.markup=Array(u+1).join(String.fromCharCode(r)),!0}function $f(e,t){const n=e.eMarks[t];let i=e.bMarks[t]+e.tShift[t];const o=e.src.charCodeAt(i++);if(o!==42&&o!==45&&o!==43)return-1;if(i<n){const s=e.src.charCodeAt(i);if(!Ze(s))return-1}return i}function Bf(e,t){const n=e.bMarks[t]+e.tShift[t],i=e.eMarks[t];let o=n;if(o+1>=i)return-1;let s=e.src.charCodeAt(o++);if(s<48||s>57)return-1;for(;;){if(o>=i)return-1;if(s=e.src.charCodeAt(o++),s>=48&&s<=57){if(o-n>=10)return-1;continue}if(s===41||s===46)break;return-1}return o<i&&(s=e.src.charCodeAt(o),!Ze(s))?-1:o}function w4(e,t){const n=e.level+2;for(let i=t+2,o=e.tokens.length-2;i<o;i++)e.tokens[i].level===n&&e.tokens[i].type==="paragraph_open"&&(e.tokens[i+2].hidden=!0,e.tokens[i].hidden=!0,i+=2)}function x4(e,t,n,i){let o,s,r,u,a=t,l=!0;if(e.sCount[a]-e.blkIndent>=4||e.listIndent>=0&&e.sCount[a]-e.listIndent>=4&&e.sCount[a]<e.blkIndent)return!1;let c=!1;i&&e.parentType==="paragraph"&&e.sCount[a]>=e.blkIndent&&(c=!0);let d,f,h;if((h=Bf(e,a))>=0){if(d=!0,r=e.bMarks[a]+e.tShift[a],f=Number(e.src.slice(r,h-1)),c&&f!==1)return!1}else if((h=$f(e,a))>=0)d=!1;else return!1;if(c&&e.skipSpaces(h)>=e.eMarks[a])return!1;if(i)return!0;const p=e.src.charCodeAt(h-1),_=e.tokens.length;d?(u=e.push("ordered_list_open","ol",1),f!==1&&(u.attrs=[["start",f]])):u=e.push("bullet_list_open","ul",1);const b=[a,0];u.map=b,u.markup=String.fromCharCode(p);let y=!1;const v=e.md.block.ruler.getRules("list"),m=e.parentType;for(e.parentType="list";a<n;){s=h,o=e.eMarks[a];const g=e.sCount[a]+h-(e.bMarks[a]+e.tShift[a]);let x=g;for(;s<o;){const q=e.src.charCodeAt(s);if(q===9)x+=4-(x+e.bsCount[a])%4;else if(q===32)x++;else break;s++}const E=s;let D;E>=o?D=1:D=x-g,D>4&&(D=1);const k=g+D;u=e.push("list_item_open","li",1),u.markup=String.fromCharCode(p);const w=[a,0];u.map=w,d&&(u.info=e.src.slice(r,h-1));const M=e.tight,O=e.tShift[a],C=e.sCount[a],z=e.listIndent;if(e.listIndent=e.blkIndent,e.blkIndent=k,e.tight=!0,e.tShift[a]=E-e.bMarks[a],e.sCount[a]=x,E>=o&&e.isEmpty(a+1)?e.line=Math.min(e.line+2,n):e.md.block.tokenize(e,a,n,!0),(!e.tight||y)&&(l=!1),y=e.line-a>1&&e.isEmpty(e.line-1),e.blkIndent=e.listIndent,e.listIndent=z,e.tShift[a]=O,e.sCount[a]=C,e.tight=M,u=e.push("list_item_close","li",-1),u.markup=String.fromCharCode(p),a=e.line,w[1]=a,a>=n||e.sCount[a]<e.blkIndent||e.sCount[a]-e.blkIndent>=4)break;let P=!1;for(let q=0,R=v.length;q<R;q++)if(v[q](e,a,n,!0)){P=!0;break}if(P)break;if(d){if(h=Bf(e,a),h<0)break;r=e.bMarks[a]+e.tShift[a]}else if(h=$f(e,a),h<0)break;if(p!==e.src.charCodeAt(h-1))break}return d?u=e.push("ordered_list_close","ol",-1):u=e.push("bullet_list_close","ul",-1),u.markup=String.fromCharCode(p),b[1]=a,e.line=a,e.parentType=m,l&&w4(e,_),!0}function C4(e,t,n,i){let o=e.bMarks[t]+e.tShift[t],s=e.eMarks[t],r=t+1;if(e.sCount[t]-e.blkIndent>=4||e.src.charCodeAt(o)!==91)return!1;function u(v){const m=e.lineMax;if(v>=m||e.isEmpty(v))return null;let g=!1;if(e.sCount[v]-e.blkIndent>3&&(g=!0),e.sCount[v]<0&&(g=!0),!g){const D=e.md.block.ruler.getRules("reference"),k=e.parentType;e.parentType="reference";let w=!1;for(let M=0,O=D.length;M<O;M++)if(D[M](e,v,m,!0)){w=!0;break}if(e.parentType=k,w)return null}const x=e.bMarks[v]+e.tShift[v],E=e.eMarks[v];return e.src.slice(x,E+1)}let a=e.src.slice(o,s+1);s=a.length;let l=-1;for(o=1;o<s;o++){const v=a.charCodeAt(o);if(v===91)return!1;if(v===93){l=o;break}else if(v===10){const m=u(r);m!==null&&(a+=m,s=a.length,r++)}else if(v===92&&(o++,o<s&&a.charCodeAt(o)===10)){const m=u(r);m!==null&&(a+=m,s=a.length,r++)}}if(l<0||a.charCodeAt(l+1)!==58)return!1;for(o=l+2;o<s;o++){const v=a.charCodeAt(o);if(v===10){const m=u(r);m!==null&&(a+=m,s=a.length,r++)}else if(!Ze(v))break}const c=e.md.helpers.parseLinkDestination(a,o,s);if(!c.ok)return!1;const d=e.md.normalizeLink(c.str);if(!e.md.validateLink(d))return!1;o=c.pos;const f=o,h=r,p=o;for(;o<s;o++){const v=a.charCodeAt(o);if(v===10){const m=u(r);m!==null&&(a+=m,s=a.length,r++)}else if(!Ze(v))break}let _=e.md.helpers.parseLinkTitle(a,o,s);for(;_.can_continue;){const v=u(r);if(v===null)break;a+=v,o=s,s=a.length,r++,_=e.md.helpers.parseLinkTitle(a,o,s,_)}let b;for(o<s&&p!==o&&_.ok?(b=_.str,o=_.pos):(b="",o=f,r=h);o<s;){const v=a.charCodeAt(o);if(!Ze(v))break;o++}if(o<s&&a.charCodeAt(o)!==10&&b)for(b="",o=f,r=h;o<s;){const v=a.charCodeAt(o);if(!Ze(v))break;o++}if(o<s&&a.charCodeAt(o)!==10)return!1;const y=Kr(a.slice(1,l));return y?(i||(typeof e.env.references>"u"&&(e.env.references={}),typeof e.env.references[y]>"u"&&(e.env.references[y]={title:b,href:d}),e.line=r),!0):!1}const E4=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],S4="[a-zA-Z_:][a-zA-Z0-9:._-]*",k4="[^\"'=<>`\\x00-\\x20]+",I4="'[^']*'",A4='"[^"]*"',D4="(?:"+k4+"|"+I4+"|"+A4+")",N4="(?:\\s+"+S4+"(?:\\s*=\\s*"+D4+")?)",cm="<[A-Za-z][A-Za-z0-9\\-]*"+N4+"*\\s*\\/?>",dm="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",T4="<!---?>|<!--(?:[^-]|-[^-]|--[^>])*-->",M4="<[?][\\s\\S]*?[?]>",F4="<![A-Za-z][^>]*>",P4="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",O4=new RegExp("^(?:"+cm+"|"+dm+"|"+T4+"|"+M4+"|"+F4+"|"+P4+")"),L4=new RegExp("^(?:"+cm+"|"+dm+")"),Oi=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+E4.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(L4.source+"\\s*$"),/^$/,!1]];function z4(e,t,n,i){let o=e.bMarks[t]+e.tShift[t],s=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4||!e.md.options.html||e.src.charCodeAt(o)!==60)return!1;let r=e.src.slice(o,s),u=0;for(;u<Oi.length&&!Oi[u][0].test(r);u++);if(u===Oi.length)return!1;if(i)return Oi[u][2];let a=t+1;if(!Oi[u][1].test(r)){for(;a<n&&!(e.sCount[a]<e.blkIndent);a++)if(o=e.bMarks[a]+e.tShift[a],s=e.eMarks[a],r=e.src.slice(o,s),Oi[u][1].test(r)){r.length!==0&&a++;break}}e.line=a;const l=e.push("html_block","",0);return l.map=[t,a],l.content=e.getLines(t,a,e.blkIndent,!0),!0}function R4(e,t,n,i){let o=e.bMarks[t]+e.tShift[t],s=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;let r=e.src.charCodeAt(o);if(r!==35||o>=s)return!1;let u=1;for(r=e.src.charCodeAt(++o);r===35&&o<s&&u<=6;)u++,r=e.src.charCodeAt(++o);if(u>6||o<s&&!Ze(r))return!1;if(i)return!0;s=e.skipSpacesBack(s,o);const a=e.skipCharsBack(s,35,o);a>o&&Ze(e.src.charCodeAt(a-1))&&(s=a),e.line=t+1;const l=e.push("heading_open","h"+String(u),1);l.markup="########".slice(0,u),l.map=[t,e.line];const c=e.push("inline","",0);c.content=e.src.slice(o,s).trim(),c.map=[t,e.line],c.children=[];const d=e.push("heading_close","h"+String(u),-1);return d.markup="########".slice(0,u),!0}function $4(e,t,n){const i=e.md.block.ruler.getRules("paragraph");if(e.sCount[t]-e.blkIndent>=4)return!1;const o=e.parentType;e.parentType="paragraph";let s=0,r,u=t+1;for(;u<n&&!e.isEmpty(u);u++){if(e.sCount[u]-e.blkIndent>3)continue;if(e.sCount[u]>=e.blkIndent){let h=e.bMarks[u]+e.tShift[u];const p=e.eMarks[u];if(h<p&&(r=e.src.charCodeAt(h),(r===45||r===61)&&(h=e.skipChars(h,r),h=e.skipSpaces(h),h>=p))){s=r===61?1:2;break}}if(e.sCount[u]<0)continue;let f=!1;for(let h=0,p=i.length;h<p;h++)if(i[h](e,u,n,!0)){f=!0;break}if(f)break}if(!s)return!1;const a=e.getLines(t,u,e.blkIndent,!1).trim();e.line=u+1;const l=e.push("heading_open","h"+String(s),1);l.markup=String.fromCharCode(r),l.map=[t,e.line];const c=e.push("inline","",0);c.content=a,c.map=[t,e.line-1],c.children=[];const d=e.push("heading_close","h"+String(s),-1);return d.markup=String.fromCharCode(r),e.parentType=o,!0}function B4(e,t,n){const i=e.md.block.ruler.getRules("paragraph"),o=e.parentType;let s=t+1;for(e.parentType="paragraph";s<n&&!e.isEmpty(s);s++){if(e.sCount[s]-e.blkIndent>3||e.sCount[s]<0)continue;let l=!1;for(let c=0,d=i.length;c<d;c++)if(i[c](e,s,n,!0)){l=!0;break}if(l)break}const r=e.getLines(t,s,e.blkIndent,!1).trim();e.line=s;const u=e.push("paragraph_open","p",1);u.map=[t,e.line];const a=e.push("inline","",0);return a.content=r,a.map=[t,e.line],a.children=[],e.push("paragraph_close","p",-1),e.parentType=o,!0}const Os=[["table",g4,["paragraph","reference"]],["code",v4],["fence",_4,["paragraph","reference","blockquote","list"]],["blockquote",b4,["paragraph","reference","blockquote","list"]],["hr",y4,["paragraph","reference","blockquote","list"]],["list",x4,["paragraph","reference","blockquote"]],["reference",C4],["html_block",z4,["paragraph","reference","blockquote"]],["heading",R4,["paragraph","reference","blockquote"]],["lheading",$4],["paragraph",B4]];function Jr(){this.ruler=new At;for(let e=0;e<Os.length;e++)this.ruler.push(Os[e][0],Os[e][1],{alt:(Os[e][2]||[]).slice()})}Jr.prototype.tokenize=function(e,t,n){const i=this.ruler.getRules(""),o=i.length,s=e.md.options.maxNesting;let r=t,u=!1;for(;r<n&&(e.line=r=e.skipEmptyLines(r),!(r>=n||e.sCount[r]<e.blkIndent));){if(e.level>=s){e.line=n;break}const a=e.line;let l=!1;for(let c=0;c<o;c++)if(l=i[c](e,r,n,!1),l){if(a>=e.line)throw new Error("block rule didn't increment state.line");break}if(!l)throw new Error("none of the block rules matched");e.tight=!u,e.isEmpty(e.line-1)&&(u=!0),r=e.line,r<n&&e.isEmpty(r)&&(u=!0,r++,e.line=r)}};Jr.prototype.parse=function(e,t,n,i){if(!e)return;const o=new this.State(e,t,n,i);this.tokenize(o,o.line,o.lineMax)};Jr.prototype.State=wn;function _s(e,t,n,i){this.src=e,this.env=n,this.md=t,this.tokens=i,this.tokens_meta=Array(i.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}_s.prototype.pushPending=function(){const e=new en("text","",0);return e.content=this.pending,e.level=this.pendingLevel,this.tokens.push(e),this.pending="",e};_s.prototype.push=function(e,t,n){this.pending&&this.pushPending();const i=new en(e,t,n);let o=null;return n<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),i.level=this.level,n>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],o={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(i),this.tokens_meta.push(o),i};_s.prototype.scanDelims=function(e,t){const n=this.posMax,i=this.src.charCodeAt(e),o=e>0?this.src.charCodeAt(e-1):32;let s=e;for(;s<n&&this.src.charCodeAt(s)===i;)s++;const r=s-e,u=s<n?this.src.charCodeAt(s):32,a=us(o)||rs(String.fromCharCode(o)),l=us(u)||rs(String.fromCharCode(u)),c=ss(o),d=ss(u),f=!d&&(!l||c||a),h=!c&&(!a||d||l);return{can_open:f&&(t||!h||a),can_close:h&&(t||!f||l),length:r}};_s.prototype.Token=en;function V4(e){switch(e){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}function H4(e,t){let n=e.pos;for(;n<e.posMax&&!V4(e.src.charCodeAt(n));)n++;return n===e.pos?!1:(t||(e.pending+=e.src.slice(e.pos,n)),e.pos=n,!0)}const U4=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i;function q4(e,t){if(!e.md.options.linkify||e.linkLevel>0)return!1;const n=e.pos,i=e.posMax;if(n+3>i||e.src.charCodeAt(n)!==58||e.src.charCodeAt(n+1)!==47||e.src.charCodeAt(n+2)!==47)return!1;const o=e.pending.match(U4);if(!o)return!1;const s=o[1],r=e.md.linkify.matchAtStart(e.src.slice(n-s.length));if(!r)return!1;let u=r.url;if(u.length<=s.length)return!1;u=u.replace(/\*+$/,"");const a=e.md.normalizeLink(u);if(!e.md.validateLink(a))return!1;if(!t){e.pending=e.pending.slice(0,-s.length);const l=e.push("link_open","a",1);l.attrs=[["href",a]],l.markup="linkify",l.info="auto";const c=e.push("text","",0);c.content=e.md.normalizeLinkText(u);const d=e.push("link_close","a",-1);d.markup="linkify",d.info="auto"}return e.pos+=u.length-s.length,!0}function G4(e,t){let n=e.pos;if(e.src.charCodeAt(n)!==10)return!1;const i=e.pending.length-1,o=e.posMax;if(!t)if(i>=0&&e.pending.charCodeAt(i)===32)if(i>=1&&e.pending.charCodeAt(i-1)===32){let s=i-1;for(;s>=1&&e.pending.charCodeAt(s-1)===32;)s--;e.pending=e.pending.slice(0,s),e.push("hardbreak","br",0)}else e.pending=e.pending.slice(0,-1),e.push("softbreak","br",0);else e.push("softbreak","br",0);for(n++;n<o&&Ze(e.src.charCodeAt(n));)n++;return e.pos=n,!0}const Ql=[];for(let e=0;e<256;e++)Ql.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(e){Ql[e.charCodeAt(0)]=1});function j4(e,t){let n=e.pos;const i=e.posMax;if(e.src.charCodeAt(n)!==92||(n++,n>=i))return!1;let o=e.src.charCodeAt(n);if(o===10){for(t||e.push("hardbreak","br",0),n++;n<i&&(o=e.src.charCodeAt(n),!!Ze(o));)n++;return e.pos=n,!0}let s=e.src[n];if(o>=55296&&o<=56319&&n+1<i){const u=e.src.charCodeAt(n+1);u>=56320&&u<=57343&&(s+=e.src[n+1],n++)}const r="\\"+s;if(!t){const u=e.push("text_special","",0);o<256&&Ql[o]!==0?u.content=s:u.content=r,u.markup=r,u.info="escape"}return e.pos=n+1,!0}function W4(e,t){let n=e.pos;if(e.src.charCodeAt(n)!==96)return!1;const o=n;n++;const s=e.posMax;for(;n<s&&e.src.charCodeAt(n)===96;)n++;const r=e.src.slice(o,n),u=r.length;if(e.backticksScanned&&(e.backticks[u]||0)<=o)return t||(e.pending+=r),e.pos+=u,!0;let a=n,l;for(;(l=e.src.indexOf("`",a))!==-1;){for(a=l+1;a<s&&e.src.charCodeAt(a)===96;)a++;const c=a-l;if(c===u){if(!t){const d=e.push("code_inline","code",0);d.markup=r,d.content=e.src.slice(n,l).replace(/\n/g," ").replace(/^ (.+) $/,"$1")}return e.pos=a,!0}e.backticks[c]=l}return e.backticksScanned=!0,t||(e.pending+=r),e.pos+=u,!0}function Z4(e,t){const n=e.pos,i=e.src.charCodeAt(n);if(t||i!==126)return!1;const o=e.scanDelims(e.pos,!0);let s=o.length;const r=String.fromCharCode(i);if(s<2)return!1;let u;s%2&&(u=e.push("text","",0),u.content=r,s--);for(let a=0;a<s;a+=2)u=e.push("text","",0),u.content=r+r,e.delimiters.push({marker:i,length:0,token:e.tokens.length-1,end:-1,open:o.can_open,close:o.can_close});return e.pos+=o.length,!0}function Vf(e,t){let n;const i=[],o=t.length;for(let s=0;s<o;s++){const r=t[s];if(r.marker!==126||r.end===-1)continue;const u=t[r.end];n=e.tokens[r.token],n.type="s_open",n.tag="s",n.nesting=1,n.markup="~~",n.content="",n=e.tokens[u.token],n.type="s_close",n.tag="s",n.nesting=-1,n.markup="~~",n.content="",e.tokens[u.token-1].type==="text"&&e.tokens[u.token-1].content==="~"&&i.push(u.token-1)}for(;i.length;){const s=i.pop();let r=s+1;for(;r<e.tokens.length&&e.tokens[r].type==="s_close";)r++;r--,s!==r&&(n=e.tokens[r],e.tokens[r]=e.tokens[s],e.tokens[s]=n)}}function Y4(e){const t=e.tokens_meta,n=e.tokens_meta.length;Vf(e,e.delimiters);for(let i=0;i<n;i++)t[i]&&t[i].delimiters&&Vf(e,t[i].delimiters)}const fm={tokenize:Z4,postProcess:Y4};function X4(e,t){const n=e.pos,i=e.src.charCodeAt(n);if(t||i!==95&&i!==42)return!1;const o=e.scanDelims(e.pos,i===42);for(let s=0;s<o.length;s++){const r=e.push("text","",0);r.content=String.fromCharCode(i),e.delimiters.push({marker:i,length:o.length,token:e.tokens.length-1,end:-1,open:o.can_open,close:o.can_close})}return e.pos+=o.length,!0}function Hf(e,t){const n=t.length;for(let i=n-1;i>=0;i--){const o=t[i];if(o.marker!==95&&o.marker!==42||o.end===-1)continue;const s=t[o.end],r=i>0&&t[i-1].end===o.end+1&&t[i-1].marker===o.marker&&t[i-1].token===o.token-1&&t[o.end+1].token===s.token+1,u=String.fromCharCode(o.marker),a=e.tokens[o.token];a.type=r?"strong_open":"em_open",a.tag=r?"strong":"em",a.nesting=1,a.markup=r?u+u:u,a.content="";const l=e.tokens[s.token];l.type=r?"strong_close":"em_close",l.tag=r?"strong":"em",l.nesting=-1,l.markup=r?u+u:u,l.content="",r&&(e.tokens[t[i-1].token].content="",e.tokens[t[o.end+1].token].content="",i--)}}function K4(e){const t=e.tokens_meta,n=e.tokens_meta.length;Hf(e,e.delimiters);for(let i=0;i<n;i++)t[i]&&t[i].delimiters&&Hf(e,t[i].delimiters)}const hm={tokenize:X4,postProcess:K4};function J4(e,t){let n,i,o,s,r="",u="",a=e.pos,l=!0;if(e.src.charCodeAt(e.pos)!==91)return!1;const c=e.pos,d=e.posMax,f=e.pos+1,h=e.md.helpers.parseLinkLabel(e,e.pos,!0);if(h<0)return!1;let p=h+1;if(p<d&&e.src.charCodeAt(p)===40){for(l=!1,p++;p<d&&(n=e.src.charCodeAt(p),!(!Ze(n)&&n!==10));p++);if(p>=d)return!1;if(a=p,o=e.md.helpers.parseLinkDestination(e.src,p,e.posMax),o.ok){for(r=e.md.normalizeLink(o.str),e.md.validateLink(r)?p=o.pos:r="",a=p;p<d&&(n=e.src.charCodeAt(p),!(!Ze(n)&&n!==10));p++);if(o=e.md.helpers.parseLinkTitle(e.src,p,e.posMax),p<d&&a!==p&&o.ok)for(u=o.str,p=o.pos;p<d&&(n=e.src.charCodeAt(p),!(!Ze(n)&&n!==10));p++);}(p>=d||e.src.charCodeAt(p)!==41)&&(l=!0),p++}if(l){if(typeof e.env.references>"u")return!1;if(p<d&&e.src.charCodeAt(p)===91?(a=p+1,p=e.md.helpers.parseLinkLabel(e,p),p>=0?i=e.src.slice(a,p++):p=h+1):p=h+1,i||(i=e.src.slice(f,h)),s=e.env.references[Kr(i)],!s)return e.pos=c,!1;r=s.href,u=s.title}if(!t){e.pos=f,e.posMax=h;const _=e.push("link_open","a",1),b=[["href",r]];_.attrs=b,u&&b.push(["title",u]),e.linkLevel++,e.md.inline.tokenize(e),e.linkLevel--,e.push("link_close","a",-1)}return e.pos=p,e.posMax=d,!0}function Q4(e,t){let n,i,o,s,r,u,a,l,c="";const d=e.pos,f=e.posMax;if(e.src.charCodeAt(e.pos)!==33||e.src.charCodeAt(e.pos+1)!==91)return!1;const h=e.pos+2,p=e.md.helpers.parseLinkLabel(e,e.pos+1,!1);if(p<0)return!1;if(s=p+1,s<f&&e.src.charCodeAt(s)===40){for(s++;s<f&&(n=e.src.charCodeAt(s),!(!Ze(n)&&n!==10));s++);if(s>=f)return!1;for(l=s,u=e.md.helpers.parseLinkDestination(e.src,s,e.posMax),u.ok&&(c=e.md.normalizeLink(u.str),e.md.validateLink(c)?s=u.pos:c=""),l=s;s<f&&(n=e.src.charCodeAt(s),!(!Ze(n)&&n!==10));s++);if(u=e.md.helpers.parseLinkTitle(e.src,s,e.posMax),s<f&&l!==s&&u.ok)for(a=u.str,s=u.pos;s<f&&(n=e.src.charCodeAt(s),!(!Ze(n)&&n!==10));s++);else a="";if(s>=f||e.src.charCodeAt(s)!==41)return e.pos=d,!1;s++}else{if(typeof e.env.references>"u")return!1;if(s<f&&e.src.charCodeAt(s)===91?(l=s+1,s=e.md.helpers.parseLinkLabel(e,s),s>=0?o=e.src.slice(l,s++):s=p+1):s=p+1,o||(o=e.src.slice(h,p)),r=e.env.references[Kr(o)],!r)return e.pos=d,!1;c=r.href,a=r.title}if(!t){i=e.src.slice(h,p);const _=[];e.md.inline.parse(i,e.md,e.env,_);const b=e.push("image","img",0),y=[["src",c],["alt",""]];b.attrs=y,b.children=_,b.content=i,a&&y.push(["title",a])}return e.pos=s,e.posMax=f,!0}const ek=/^([a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,tk=/^([a-zA-Z][a-zA-Z0-9+.-]{1,31}):([^<>\x00-\x20]*)$/;function nk(e,t){let n=e.pos;if(e.src.charCodeAt(n)!==60)return!1;const i=e.pos,o=e.posMax;for(;;){if(++n>=o)return!1;const r=e.src.charCodeAt(n);if(r===60)return!1;if(r===62)break}const s=e.src.slice(i+1,n);if(tk.test(s)){const r=e.md.normalizeLink(s);if(!e.md.validateLink(r))return!1;if(!t){const u=e.push("link_open","a",1);u.attrs=[["href",r]],u.markup="autolink",u.info="auto";const a=e.push("text","",0);a.content=e.md.normalizeLinkText(s);const l=e.push("link_close","a",-1);l.markup="autolink",l.info="auto"}return e.pos+=s.length+2,!0}if(ek.test(s)){const r=e.md.normalizeLink("mailto:"+s);if(!e.md.validateLink(r))return!1;if(!t){const u=e.push("link_open","a",1);u.attrs=[["href",r]],u.markup="autolink",u.info="auto";const a=e.push("text","",0);a.content=e.md.normalizeLinkText(s);const l=e.push("link_close","a",-1);l.markup="autolink",l.info="auto"}return e.pos+=s.length+2,!0}return!1}function ik(e){return/^<a[>\s]/i.test(e)}function ok(e){return/^<\/a\s*>/i.test(e)}function sk(e){const t=e|32;return t>=97&&t<=122}function rk(e,t){if(!e.md.options.html)return!1;const n=e.posMax,i=e.pos;if(e.src.charCodeAt(i)!==60||i+2>=n)return!1;const o=e.src.charCodeAt(i+1);if(o!==33&&o!==63&&o!==47&&!sk(o))return!1;const s=e.src.slice(i).match(O4);if(!s)return!1;if(!t){const r=e.push("html_inline","",0);r.content=s[0],ik(r.content)&&e.linkLevel++,ok(r.content)&&e.linkLevel--}return e.pos+=s[0].length,!0}const uk=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,ak=/^&([a-z][a-z0-9]{1,31});/i;function lk(e,t){const n=e.pos,i=e.posMax;if(e.src.charCodeAt(n)!==38||n+1>=i)return!1;if(e.src.charCodeAt(n+1)===35){const s=e.src.slice(n).match(uk);if(s){if(!t){const r=s[1][0].toLowerCase()==="x"?parseInt(s[1].slice(1),16):parseInt(s[1],10),u=e.push("text_special","",0);u.content=Kl(r)?wr(r):wr(65533),u.markup=s[0],u.info="entity"}return e.pos+=s[0].length,!0}}else{const s=e.src.slice(n).match(ak);if(s){const r=sm(s[0]);if(r!==s[0]){if(!t){const u=e.push("text_special","",0);u.content=r,u.markup=s[0],u.info="entity"}return e.pos+=s[0].length,!0}}}return!1}function Uf(e){const t={},n=e.length;if(!n)return;let i=0,o=-2;const s=[];for(let r=0;r<n;r++){const u=e[r];if(s.push(0),(e[i].marker!==u.marker||o!==u.token-1)&&(i=r),o=u.token,u.length=u.length||0,!u.close)continue;t.hasOwnProperty(u.marker)||(t[u.marker]=[-1,-1,-1,-1,-1,-1]);const a=t[u.marker][(u.open?3:0)+u.length%3];let l=i-s[i]-1,c=l;for(;l>a;l-=s[l]+1){const d=e[l];if(d.marker===u.marker&&d.open&&d.end<0){let f=!1;if((d.close||u.open)&&(d.length+u.length)%3===0&&(d.length%3!==0||u.length%3!==0)&&(f=!0),!f){const h=l>0&&!e[l-1].open?s[l-1]+1:0;s[r]=r-l+h,s[l]=h,u.open=!1,d.end=r,d.close=!1,c=-1,o=-2;break}}}c!==-1&&(t[u.marker][(u.open?3:0)+(u.length||0)%3]=c)}}function ck(e){const t=e.tokens_meta,n=e.tokens_meta.length;Uf(e.delimiters);for(let i=0;i<n;i++)t[i]&&t[i].delimiters&&Uf(t[i].delimiters)}function dk(e){let t,n,i=0;const o=e.tokens,s=e.tokens.length;for(t=n=0;t<s;t++)o[t].nesting<0&&i--,o[t].level=i,o[t].nesting>0&&i++,o[t].type==="text"&&t+1<s&&o[t+1].type==="text"?o[t+1].content=o[t].content+o[t+1].content:(t!==n&&(o[n]=o[t]),n++);t!==n&&(o.length=n)}const Ea=[["text",H4],["linkify",q4],["newline",G4],["escape",j4],["backticks",W4],["strikethrough",fm.tokenize],["emphasis",hm.tokenize],["link",J4],["image",Q4],["autolink",nk],["html_inline",rk],["entity",lk]],Sa=[["balance_pairs",ck],["strikethrough",fm.postProcess],["emphasis",hm.postProcess],["fragments_join",dk]];function bs(){this.ruler=new At;for(let e=0;e<Ea.length;e++)this.ruler.push(Ea[e][0],Ea[e][1]);this.ruler2=new At;for(let e=0;e<Sa.length;e++)this.ruler2.push(Sa[e][0],Sa[e][1])}bs.prototype.skipToken=function(e){const t=e.pos,n=this.ruler.getRules(""),i=n.length,o=e.md.options.maxNesting,s=e.cache;if(typeof s[t]<"u"){e.pos=s[t];return}let r=!1;if(e.level<o){for(let u=0;u<i;u++)if(e.level++,r=n[u](e,!0),e.level--,r){if(t>=e.pos)throw new Error("inline rule didn't increment state.pos");break}}else e.pos=e.posMax;r||e.pos++,s[t]=e.pos};bs.prototype.tokenize=function(e){const t=this.ruler.getRules(""),n=t.length,i=e.posMax,o=e.md.options.maxNesting;for(;e.pos<i;){const s=e.pos;let r=!1;if(e.level<o){for(let u=0;u<n;u++)if(r=t[u](e,!1),r){if(s>=e.pos)throw new Error("inline rule didn't increment state.pos");break}}if(r){if(e.pos>=i)break;continue}e.pending+=e.src[e.pos++]}e.pending&&e.pushPending()};bs.prototype.parse=function(e,t,n,i){const o=new this.State(e,t,n,i);this.tokenize(o);const s=this.ruler2.getRules(""),r=s.length;for(let u=0;u<r;u++)s[u](o)};bs.prototype.State=_s;function fk(e){const t={};e=e||{},t.src_Any=em.source,t.src_Cc=tm.source,t.src_Z=im.source,t.src_P=Yl.source,t.src_ZPCc=[t.src_Z,t.src_P,t.src_Cc].join("|"),t.src_ZCc=[t.src_Z,t.src_Cc].join("|");const n="[><｜]";return t.src_pseudo_letter="(?:(?!"+n+"|"+t.src_ZPCc+")"+t.src_Any+")",t.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",t.src_auth="(?:(?:(?!"+t.src_ZCc+"|[@/\\[\\]()]).)+@)?",t.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",t.src_host_terminator="(?=$|"+n+"|"+t.src_ZPCc+")(?!"+(e["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+t.src_ZPCc+"))",t.src_path="(?:[/?#](?:(?!"+t.src_ZCc+"|"+n+`|[()[\\]{}.,"'?!\\-;]).|\\[(?:(?!`+t.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+t.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+t.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+t.src_ZCc+`|["]).)+\\"|\\'(?:(?!`+t.src_ZCc+"|[']).)+\\'|\\'(?="+t.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+t.src_ZCc+"|[.]|$)|"+(e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+t.src_ZCc+"|$)|;(?!"+t.src_ZCc+"|$)|\\!+(?!"+t.src_ZCc+"|[!]|$)|\\?(?!"+t.src_ZCc+"|[?]|$))+|\\/)?",t.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',t.src_xn="xn--[a-z0-9\\-]{1,59}",t.src_domain_root="(?:"+t.src_xn+"|"+t.src_pseudo_letter+"{1,63})",t.src_domain="(?:"+t.src_xn+"|(?:"+t.src_pseudo_letter+")|(?:"+t.src_pseudo_letter+"(?:-|"+t.src_pseudo_letter+"){0,61}"+t.src_pseudo_letter+"))",t.src_host="(?:(?:(?:(?:"+t.src_domain+")\\.)*"+t.src_domain+"))",t.tpl_host_fuzzy="(?:"+t.src_ip4+"|(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%)))",t.tpl_host_no_ip_fuzzy="(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%))",t.src_host_strict=t.src_host+t.src_host_terminator,t.tpl_host_fuzzy_strict=t.tpl_host_fuzzy+t.src_host_terminator,t.src_host_port_strict=t.src_host+t.src_port+t.src_host_terminator,t.tpl_host_port_fuzzy_strict=t.tpl_host_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_port_no_ip_fuzzy_strict=t.tpl_host_no_ip_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+t.src_ZPCc+"|>|$))",t.tpl_email_fuzzy="(^|"+n+'|"|\\(|'+t.src_ZCc+")("+t.src_email_name+"@"+t.tpl_host_fuzzy_strict+")",t.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+t.src_ZPCc+"))((?![$+<=>^`|｜])"+t.tpl_host_port_fuzzy_strict+t.src_path+")",t.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+t.src_ZPCc+"))((?![$+<=>^`|｜])"+t.tpl_host_port_no_ip_fuzzy_strict+t.src_path+")",t}function rl(e){return Array.prototype.slice.call(arguments,1).forEach(function(n){n&&Object.keys(n).forEach(function(i){e[i]=n[i]})}),e}function Qr(e){return Object.prototype.toString.call(e)}function hk(e){return Qr(e)==="[object String]"}function pk(e){return Qr(e)==="[object Object]"}function mk(e){return Qr(e)==="[object RegExp]"}function qf(e){return Qr(e)==="[object Function]"}function gk(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}const pm={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};function vk(e){return Object.keys(e||{}).reduce(function(t,n){return t||pm.hasOwnProperty(n)},!1)}const _k={"http:":{validate:function(e,t,n){const i=e.slice(t);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(i)?i.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,t,n){const i=e.slice(t);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(i)?t>=3&&e[t-3]===":"||t>=3&&e[t-3]==="/"?0:i.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(e,t,n){const i=e.slice(t);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(i)?i.match(n.re.mailto)[0].length:0}}},bk="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",yk="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|рф".split("|");function wk(e){e.__index__=-1,e.__text_cache__=""}function xk(e){return function(t,n){const i=t.slice(n);return e.test(i)?i.match(e)[0].length:0}}function Gf(){return function(e,t){t.normalize(e)}}function xr(e){const t=e.re=fk(e.__opts__),n=e.__tlds__.slice();e.onCompile(),e.__tlds_replaced__||n.push(bk),n.push(t.src_xn),t.src_tlds=n.join("|");function i(u){return u.replace("%TLDS%",t.src_tlds)}t.email_fuzzy=RegExp(i(t.tpl_email_fuzzy),"i"),t.link_fuzzy=RegExp(i(t.tpl_link_fuzzy),"i"),t.link_no_ip_fuzzy=RegExp(i(t.tpl_link_no_ip_fuzzy),"i"),t.host_fuzzy_test=RegExp(i(t.tpl_host_fuzzy_test),"i");const o=[];e.__compiled__={};function s(u,a){throw new Error('(LinkifyIt) Invalid schema "'+u+'": '+a)}Object.keys(e.__schemas__).forEach(function(u){const a=e.__schemas__[u];if(a===null)return;const l={validate:null,link:null};if(e.__compiled__[u]=l,pk(a)){mk(a.validate)?l.validate=xk(a.validate):qf(a.validate)?l.validate=a.validate:s(u,a),qf(a.normalize)?l.normalize=a.normalize:a.normalize?s(u,a):l.normalize=Gf();return}if(hk(a)){o.push(u);return}s(u,a)}),o.forEach(function(u){e.__compiled__[e.__schemas__[u]]&&(e.__compiled__[u].validate=e.__compiled__[e.__schemas__[u]].validate,e.__compiled__[u].normalize=e.__compiled__[e.__schemas__[u]].normalize)}),e.__compiled__[""]={validate:null,normalize:Gf()};const r=Object.keys(e.__compiled__).filter(function(u){return u.length>0&&e.__compiled__[u]}).map(gk).join("|");e.re.schema_test=RegExp("(^|(?!_)(?:[><｜]|"+t.src_ZPCc+"))("+r+")","i"),e.re.schema_search=RegExp("(^|(?!_)(?:[><｜]|"+t.src_ZPCc+"))("+r+")","ig"),e.re.schema_at_start=RegExp("^"+e.re.schema_search.source,"i"),e.re.pretest=RegExp("("+e.re.schema_test.source+")|("+e.re.host_fuzzy_test.source+")|@","i"),wk(e)}function Ck(e,t){const n=e.__index__,i=e.__last_index__,o=e.__text_cache__.slice(n,i);this.schema=e.__schema__.toLowerCase(),this.index=n+t,this.lastIndex=i+t,this.raw=o,this.text=o,this.url=o}function ul(e,t){const n=new Ck(e,t);return e.__compiled__[n.schema].normalize(n,e),n}function zt(e,t){if(!(this instanceof zt))return new zt(e,t);t||vk(e)&&(t=e,e={}),this.__opts__=rl({},pm,t),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=rl({},_k,e),this.__compiled__={},this.__tlds__=yk,this.__tlds_replaced__=!1,this.re={},xr(this)}zt.prototype.add=function(t,n){return this.__schemas__[t]=n,xr(this),this};zt.prototype.set=function(t){return this.__opts__=rl(this.__opts__,t),this};zt.prototype.test=function(t){if(this.__text_cache__=t,this.__index__=-1,!t.length)return!1;let n,i,o,s,r,u,a,l,c;if(this.re.schema_test.test(t)){for(a=this.re.schema_search,a.lastIndex=0;(n=a.exec(t))!==null;)if(s=this.testSchemaAt(t,n[2],a.lastIndex),s){this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+s;break}}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(l=t.search(this.re.host_fuzzy_test),l>=0&&(this.__index__<0||l<this.__index__)&&(i=t.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))!==null&&(r=i.index+i[1].length,(this.__index__<0||r<this.__index__)&&(this.__schema__="",this.__index__=r,this.__last_index__=i.index+i[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(c=t.indexOf("@"),c>=0&&(o=t.match(this.re.email_fuzzy))!==null&&(r=o.index+o[1].length,u=o.index+o[0].length,(this.__index__<0||r<this.__index__||r===this.__index__&&u>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=r,this.__last_index__=u))),this.__index__>=0};zt.prototype.pretest=function(t){return this.re.pretest.test(t)};zt.prototype.testSchemaAt=function(t,n,i){return this.__compiled__[n.toLowerCase()]?this.__compiled__[n.toLowerCase()].validate(t,i,this):0};zt.prototype.match=function(t){const n=[];let i=0;this.__index__>=0&&this.__text_cache__===t&&(n.push(ul(this,i)),i=this.__last_index__);let o=i?t.slice(i):t;for(;this.test(o);)n.push(ul(this,i)),o=o.slice(this.__last_index__),i+=this.__last_index__;return n.length?n:null};zt.prototype.matchAtStart=function(t){if(this.__text_cache__=t,this.__index__=-1,!t.length)return null;const n=this.re.schema_at_start.exec(t);if(!n)return null;const i=this.testSchemaAt(t,n[2],n[0].length);return i?(this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+i,ul(this,0)):null};zt.prototype.tlds=function(t,n){return t=Array.isArray(t)?t:[t],n?(this.__tlds__=this.__tlds__.concat(t).sort().filter(function(i,o,s){return i!==s[o-1]}).reverse(),xr(this),this):(this.__tlds__=t.slice(),this.__tlds_replaced__=!0,xr(this),this)};zt.prototype.normalize=function(t){t.schema||(t.url="http://"+t.url),t.schema==="mailto:"&&!/^mailto:/i.test(t.url)&&(t.url="mailto:"+t.url)};zt.prototype.onCompile=function(){};const Zi=2147483647,hn=36,ec=1,as=26,Ek=38,Sk=700,mm=72,gm=128,vm="-",kk=/^xn--/,Ik=/[^\0-\x7F]/,Ak=/[\x2E\u3002\uFF0E\uFF61]/g,Dk={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},ka=hn-ec,pn=Math.floor,Ia=String.fromCharCode;function Wn(e){throw new RangeError(Dk[e])}function Nk(e,t){const n=[];let i=e.length;for(;i--;)n[i]=t(e[i]);return n}function _m(e,t){const n=e.split("@");let i="";n.length>1&&(i=n[0]+"@",e=n[1]),e=e.replace(Ak,".");const o=e.split("."),s=Nk(o,t).join(".");return i+s}function bm(e){const t=[];let n=0;const i=e.length;for(;n<i;){const o=e.charCodeAt(n++);if(o>=55296&&o<=56319&&n<i){const s=e.charCodeAt(n++);(s&64512)==56320?t.push(((o&1023)<<10)+(s&1023)+65536):(t.push(o),n--)}else t.push(o)}return t}const Tk=e=>String.fromCodePoint(...e),Mk=function(e){return e>=48&&e<58?26+(e-48):e>=65&&e<91?e-65:e>=97&&e<123?e-97:hn},jf=function(e,t){return e+22+75*(e<26)-((t!=0)<<5)},ym=function(e,t,n){let i=0;for(e=n?pn(e/Sk):e>>1,e+=pn(e/t);e>ka*as>>1;i+=hn)e=pn(e/ka);return pn(i+(ka+1)*e/(e+Ek))},wm=function(e){const t=[],n=e.length;let i=0,o=gm,s=mm,r=e.lastIndexOf(vm);r<0&&(r=0);for(let u=0;u<r;++u)e.charCodeAt(u)>=128&&Wn("not-basic"),t.push(e.charCodeAt(u));for(let u=r>0?r+1:0;u<n;){const a=i;for(let c=1,d=hn;;d+=hn){u>=n&&Wn("invalid-input");const f=Mk(e.charCodeAt(u++));f>=hn&&Wn("invalid-input"),f>pn((Zi-i)/c)&&Wn("overflow"),i+=f*c;const h=d<=s?ec:d>=s+as?as:d-s;if(f<h)break;const p=hn-h;c>pn(Zi/p)&&Wn("overflow"),c*=p}const l=t.length+1;s=ym(i-a,l,a==0),pn(i/l)>Zi-o&&Wn("overflow"),o+=pn(i/l),i%=l,t.splice(i++,0,o)}return String.fromCodePoint(...t)},xm=function(e){const t=[];e=bm(e);const n=e.length;let i=gm,o=0,s=mm;for(const a of e)a<128&&t.push(Ia(a));const r=t.length;let u=r;for(r&&t.push(vm);u<n;){let a=Zi;for(const c of e)c>=i&&c<a&&(a=c);const l=u+1;a-i>pn((Zi-o)/l)&&Wn("overflow"),o+=(a-i)*l,i=a;for(const c of e)if(c<i&&++o>Zi&&Wn("overflow"),c===i){let d=o;for(let f=hn;;f+=hn){const h=f<=s?ec:f>=s+as?as:f-s;if(d<h)break;const p=d-h,_=hn-h;t.push(Ia(jf(h+p%_,0))),d=pn(p/_)}t.push(Ia(jf(d,0))),s=ym(o,l,u===r),o=0,++u}++o,++i}return t.join("")},Fk=function(e){return _m(e,function(t){return kk.test(t)?wm(t.slice(4).toLowerCase()):t})},Pk=function(e){return _m(e,function(t){return Ik.test(t)?"xn--"+xm(t):t})},Cm={version:"2.3.1",ucs2:{decode:bm,encode:Tk},decode:wm,encode:xm,toASCII:Pk,toUnicode:Fk},Ok={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}},Lk={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}},zk={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}},Rk={default:Ok,zero:Lk,commonmark:zk},$k=/^(vbscript|javascript|file|data):/,Bk=/^data:image\/(gif|png|jpeg|webp);/;function Vk(e){const t=e.trim().toLowerCase();return $k.test(t)?Bk.test(t):!0}const Em=["http:","https:","mailto:"];function Hk(e){const t=Zl(e,!0);if(t.hostname&&(!t.protocol||Em.indexOf(t.protocol)>=0))try{t.hostname=Cm.toASCII(t.hostname)}catch{}return vs(Wl(t))}function Uk(e){const t=Zl(e,!0);if(t.hostname&&(!t.protocol||Em.indexOf(t.protocol)>=0))try{t.hostname=Cm.toUnicode(t.hostname)}catch{}return ao(Wl(t),ao.defaultChars+"%")}function Gt(e,t){if(!(this instanceof Gt))return new Gt(e,t);t||Xl(e)||(t=e||{},e="default"),this.inline=new bs,this.block=new Jr,this.core=new Jl,this.renderer=new po,this.linkify=new zt,this.validateLink=Vk,this.normalizeLink=Hk,this.normalizeLinkText=Uk,this.utils=GS,this.helpers=Xr({},YS),this.options={},this.configure(e),t&&this.set(t)}Gt.prototype.set=function(e){return Xr(this.options,e),this};Gt.prototype.configure=function(e){const t=this;if(Xl(e)){const n=e;if(e=Rk[n],!e)throw new Error('Wrong `markdown-it` preset "'+n+'", check name')}if(!e)throw new Error("Wrong `markdown-it` preset, can't be empty");return e.options&&t.set(e.options),e.components&&Object.keys(e.components).forEach(function(n){e.components[n].rules&&t[n].ruler.enableOnly(e.components[n].rules),e.components[n].rules2&&t[n].ruler2.enableOnly(e.components[n].rules2)}),this};Gt.prototype.enable=function(e,t){let n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(o){n=n.concat(this[o].ruler.enable(e,!0))},this),n=n.concat(this.inline.ruler2.enable(e,!0));const i=e.filter(function(o){return n.indexOf(o)<0});if(i.length&&!t)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+i);return this};Gt.prototype.disable=function(e,t){let n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(o){n=n.concat(this[o].ruler.disable(e,!0))},this),n=n.concat(this.inline.ruler2.disable(e,!0));const i=e.filter(function(o){return n.indexOf(o)<0});if(i.length&&!t)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+i);return this};Gt.prototype.use=function(e){const t=[this].concat(Array.prototype.slice.call(arguments,1));return e.apply(e,t),this};Gt.prototype.parse=function(e,t){if(typeof e!="string")throw new Error("Input data should be a String");const n=new this.core.State(e,this,t);return this.core.process(n),n.tokens};Gt.prototype.render=function(e,t){return t=t||{},this.renderer.render(this.parse(e,t),this.options,t)};Gt.prototype.parseInline=function(e,t){const n=new this.core.State(e,this,t);return n.inlineMode=!0,this.core.process(n),n.tokens};Gt.prototype.renderInline=function(e,t){return t=t||{},this.renderer.render(this.parseInline(e,t),this.options,t)};const qk=new Gt({html:!0,breaks:!0});$t.fn_renderMarkdown=(e,t,n)=>{t.classList.add("markdown-rendered");const i=qk.render(e),o=document.createElement("div");t.appendChild(o),o.innerHTML=i};$t.fn_request=async(e,t="GET",n=void 0,i=void 0)=>await fetch(e,{method:t,headers:n,body:i});const Sm=tv(oS);Sm.use(gv);Sm.mount("#app");
