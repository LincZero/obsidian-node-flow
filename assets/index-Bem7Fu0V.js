var Bp=Object.defineProperty;var Hp=(e,t,n)=>t in e?Bp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var et=(e,t,n)=>Hp(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Ga(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const qe={},Oi=[],dn=()=>{},Vp=()=>!1,cs=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),ja=e=>e.startsWith("onUpdate:"),dt=Object.assign,Wa=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Up=Object.prototype.hasOwnProperty,He=(e,t)=>Up.call(e,t),_e=Array.isArray,Li=e=>or(e)==="[object Map]",ro=e=>or(e)==="[object Set]",Fl=e=>or(e)==="[object Date]",we=e=>typeof e=="function",Je=e=>typeof e=="string",Yt=e=>typeof e=="symbol",Ue=e=>e!==null&&typeof e=="object",Sf=e=>(Ue(e)||we(e))&&we(e.then)&&we(e.catch),kf=Object.prototype.toString,or=e=>kf.call(e),qp=e=>or(e).slice(8,-1),If=e=>or(e)==="[object Object]",Za=e=>Je(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,wo=Ga(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ds=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Gp=/-(\w)/g,Ht=ds(e=>e.replace(Gp,(t,n)=>n?n.toUpperCase():"")),jp=/\B([A-Z])/g,Ai=ds(e=>e.replace(jp,"-$1").toLowerCase()),fs=ds(e=>e.charAt(0).toUpperCase()+e.slice(1)),Hs=ds(e=>e?`on${fs(e)}`:""),In=(e,t)=>!Object.is(e,t),Dr=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},Af=(e,t,n,i=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:i,value:n})},Rr=e=>{const t=parseFloat(e);return isNaN(t)?e:t},Wp=e=>{const t=Je(e)?Number(e):NaN;return isNaN(t)?e:t};let Pl;const hs=()=>Pl||(Pl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function vt(e){if(_e(e)){const t={};for(let n=0;n<e.length;n++){const i=e[n],o=Je(i)?Kp(i):vt(i);if(o)for(const r in o)t[r]=o[r]}return t}else if(Je(e)||Ue(e))return e}const Zp=/;(?![^(]*\))/g,Yp=/:([^]+)/,Xp=/\/\*[^]*?\*\//g;function Kp(e){const t={};return e.replace(Xp,"").split(Zp).forEach(n=>{if(n){const i=n.split(Yp);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function Ve(e){let t="";if(Je(e))t=e;else if(_e(e))for(let n=0;n<e.length;n++){const i=Ve(e[n]);i&&(t+=i+" ")}else if(Ue(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const Jp="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Qp=Ga(Jp);function Df(e){return!!e||e===""}function em(e,t){if(e.length!==t.length)return!1;let n=!0;for(let i=0;n&&i<e.length;i++)n=rr(e[i],t[i]);return n}function rr(e,t){if(e===t)return!0;let n=Fl(e),i=Fl(t);if(n||i)return n&&i?e.getTime()===t.getTime():!1;if(n=Yt(e),i=Yt(t),n||i)return e===t;if(n=_e(e),i=_e(t),n||i)return n&&i?em(e,t):!1;if(n=Ue(e),i=Ue(t),n||i){if(!n||!i)return!1;const o=Object.keys(e).length,r=Object.keys(t).length;if(o!==r)return!1;for(const s in e){const u=e.hasOwnProperty(s),a=t.hasOwnProperty(s);if(u&&!a||!u&&a||!rr(e[s],t[s]))return!1}}return String(e)===String(t)}function Ya(e,t){return e.findIndex(n=>rr(n,t))}const Tf=e=>!!(e&&e.__v_isRef===!0),Ee=e=>Je(e)?e:e==null?"":_e(e)||Ue(e)&&(e.toString===kf||!we(e.toString))?Tf(e)?Ee(e.value):JSON.stringify(e,Mf,2):String(e),Mf=(e,t)=>Tf(t)?Mf(e,t.value):Li(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[i,o],r)=>(n[Vs(i,r)+" =>"]=o,n),{})}:ro(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Vs(n))}:Yt(t)?Vs(t):Ue(t)&&!_e(t)&&!If(t)?String(t):t,Vs=(e,t="")=>{var n;return Yt(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let wt;class Nf{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=wt,!t&&wt&&(this.index=(wt.scopes||(wt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=wt;try{return wt=this,t()}finally{wt=n}}}on(){wt=this}off(){wt=this.parent}stop(t){if(this._active){this._active=!1;let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(this.effects.length=0,n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0}}}function Ff(e){return new Nf(e)}function Xa(){return wt}function Tr(e,t=!1){wt&&wt.cleanups.push(e)}let Ge;const Us=new WeakSet;class Pf{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,wt&&wt.active&&wt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Us.has(this)&&(Us.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Lf(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Ol(this),zf(this);const t=Ge,n=Wt;Ge=this,Wt=!0;try{return this.fn()}finally{Rf(this),Ge=t,Wt=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Qa(t);this.deps=this.depsTail=void 0,Ol(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Us.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){fa(this)&&this.run()}get dirty(){return fa(this)}}let Of=0,xo,Co;function Lf(e,t=!1){if(e.flags|=8,t){e.next=Co,Co=e;return}e.next=xo,xo=e}function Ka(){Of++}function Ja(){if(--Of>0)return;if(Co){let t=Co;for(Co=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;xo;){let t=xo;for(xo=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(i){e||(e=i)}t=n}}if(e)throw e}function zf(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Rf(e){let t,n=e.depsTail,i=n;for(;i;){const o=i.prevDep;i.version===-1?(i===n&&(n=o),Qa(i),tm(i)):t=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=o}e.deps=t,e.depsTail=n}function fa(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&($f(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function $f(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Mo))return;e.globalVersion=Mo;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!fa(e)){e.flags&=-3;return}const n=Ge,i=Wt;Ge=e,Wt=!0;try{zf(e);const o=e.fn(e._value);(t.version===0||In(o,e._value))&&(e._value=o,t.version++)}catch(o){throw t.version++,o}finally{Ge=n,Wt=i,Rf(e),e.flags&=-3}}function Qa(e,t=!1){const{dep:n,prevSub:i,nextSub:o}=e;if(i&&(i.nextSub=o,e.prevSub=void 0),o&&(o.prevSub=i,e.nextSub=void 0),n.subs===e&&(n.subs=i,!i&&n.computed)){n.computed.flags&=-5;for(let r=n.computed.deps;r;r=r.nextDep)Qa(r,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function tm(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let Wt=!0;const Bf=[];function ti(){Bf.push(Wt),Wt=!1}function ni(){const e=Bf.pop();Wt=e===void 0?!0:e}function Ol(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=Ge;Ge=void 0;try{t()}finally{Ge=n}}}let Mo=0;class nm{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class ps{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!Ge||!Wt||Ge===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Ge)n=this.activeLink=new nm(Ge,this),Ge.deps?(n.prevDep=Ge.depsTail,Ge.depsTail.nextDep=n,Ge.depsTail=n):Ge.deps=Ge.depsTail=n,Hf(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const i=n.nextDep;i.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=i),n.prevDep=Ge.depsTail,n.nextDep=void 0,Ge.depsTail.nextDep=n,Ge.depsTail=n,Ge.deps===n&&(Ge.deps=i)}return n}trigger(t){this.version++,Mo++,this.notify(t)}notify(t){Ka();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Ja()}}}function Hf(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let i=t.deps;i;i=i.nextDep)Hf(i)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const $r=new WeakMap,mi=Symbol(""),ha=Symbol(""),No=Symbol("");function mt(e,t,n){if(Wt&&Ge){let i=$r.get(e);i||$r.set(e,i=new Map);let o=i.get(n);o||(i.set(n,o=new ps),o.map=i,o.key=n),o.track()}}function wn(e,t,n,i,o,r){const s=$r.get(e);if(!s){Mo++;return}const u=a=>{a&&a.trigger()};if(Ka(),t==="clear")s.forEach(u);else{const a=_e(e),l=a&&Za(n);if(a&&n==="length"){const c=Number(i);s.forEach((d,f)=>{(f==="length"||f===No||!Yt(f)&&f>=c)&&u(d)})}else switch((n!==void 0||s.has(void 0))&&u(s.get(n)),l&&u(s.get(No)),t){case"add":a?l&&u(s.get("length")):(u(s.get(mi)),Li(e)&&u(s.get(ha)));break;case"delete":a||(u(s.get(mi)),Li(e)&&u(s.get(ha)));break;case"set":Li(e)&&u(s.get(mi));break}}Ja()}function im(e,t){const n=$r.get(e);return n&&n.get(t)}function Di(e){const t=Fe(e);return t===e?t:(mt(t,"iterate",No),Bt(e)?t:t.map(gt))}function ms(e){return mt(e=Fe(e),"iterate",No),e}const om={__proto__:null,[Symbol.iterator](){return qs(this,Symbol.iterator,gt)},concat(...e){return Di(this).concat(...e.map(t=>_e(t)?Di(t):t))},entries(){return qs(this,"entries",e=>(e[1]=gt(e[1]),e))},every(e,t){return _n(this,"every",e,t,void 0,arguments)},filter(e,t){return _n(this,"filter",e,t,n=>n.map(gt),arguments)},find(e,t){return _n(this,"find",e,t,gt,arguments)},findIndex(e,t){return _n(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return _n(this,"findLast",e,t,gt,arguments)},findLastIndex(e,t){return _n(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return _n(this,"forEach",e,t,void 0,arguments)},includes(...e){return Gs(this,"includes",e)},indexOf(...e){return Gs(this,"indexOf",e)},join(e){return Di(this).join(e)},lastIndexOf(...e){return Gs(this,"lastIndexOf",e)},map(e,t){return _n(this,"map",e,t,void 0,arguments)},pop(){return fo(this,"pop")},push(...e){return fo(this,"push",e)},reduce(e,...t){return Ll(this,"reduce",e,t)},reduceRight(e,...t){return Ll(this,"reduceRight",e,t)},shift(){return fo(this,"shift")},some(e,t){return _n(this,"some",e,t,void 0,arguments)},splice(...e){return fo(this,"splice",e)},toReversed(){return Di(this).toReversed()},toSorted(e){return Di(this).toSorted(e)},toSpliced(...e){return Di(this).toSpliced(...e)},unshift(...e){return fo(this,"unshift",e)},values(){return qs(this,"values",gt)}};function qs(e,t,n){const i=ms(e),o=i[t]();return i!==e&&!Bt(e)&&(o._next=o.next,o.next=()=>{const r=o._next();return r.value&&(r.value=n(r.value)),r}),o}const rm=Array.prototype;function _n(e,t,n,i,o,r){const s=ms(e),u=s!==e&&!Bt(e),a=s[t];if(a!==rm[t]){const d=a.apply(e,r);return u?gt(d):d}let l=n;s!==e&&(u?l=function(d,f){return n.call(this,gt(d),f,e)}:n.length>2&&(l=function(d,f){return n.call(this,d,f,e)}));const c=a.call(s,l,i);return u&&o?o(c):c}function Ll(e,t,n,i){const o=ms(e);let r=n;return o!==e&&(Bt(e)?n.length>3&&(r=function(s,u,a){return n.call(this,s,u,a,e)}):r=function(s,u,a){return n.call(this,s,gt(u),a,e)}),o[t](r,...i)}function Gs(e,t,n){const i=Fe(e);mt(i,"iterate",No);const o=i[t](...n);return(o===-1||o===!1)&&nl(n[0])?(n[0]=Fe(n[0]),i[t](...n)):o}function fo(e,t,n=[]){ti(),Ka();const i=Fe(e)[t].apply(e,n);return Ja(),ni(),i}const sm=Ga("__proto__,__v_isRef,__isVue"),Vf=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Yt));function um(e){Yt(e)||(e=String(e));const t=Fe(this);return mt(t,"has",e),t.hasOwnProperty(e)}class Uf{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,i){if(n==="__v_skip")return t.__v_skip;const o=this._isReadonly,r=this._isShallow;if(n==="__v_isReactive")return!o;if(n==="__v_isReadonly")return o;if(n==="__v_isShallow")return r;if(n==="__v_raw")return i===(o?r?_m:Wf:r?jf:Gf).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(i)?t:void 0;const s=_e(t);if(!o){let a;if(s&&(a=om[n]))return a;if(n==="hasOwnProperty")return um}const u=Reflect.get(t,n,Ce(t)?t:i);return(Yt(n)?Vf.has(n):sm(n))||(o||mt(t,"get",n),r)?u:Ce(u)?s&&Za(n)?u:u.value:Ue(u)?o?_s(u):gs(u):u}}class qf extends Uf{constructor(t=!1){super(!1,t)}set(t,n,i,o){let r=t[n];if(!this._isShallow){const a=Ci(r);if(!Bt(i)&&!Ci(i)&&(r=Fe(r),i=Fe(i)),!_e(t)&&Ce(r)&&!Ce(i))return a?!1:(r.value=i,!0)}const s=_e(t)&&Za(n)?Number(n)<t.length:He(t,n),u=Reflect.set(t,n,i,Ce(t)?t:o);return t===Fe(o)&&(s?In(i,r)&&wn(t,"set",n,i):wn(t,"add",n,i)),u}deleteProperty(t,n){const i=He(t,n);t[n];const o=Reflect.deleteProperty(t,n);return o&&i&&wn(t,"delete",n,void 0),o}has(t,n){const i=Reflect.has(t,n);return(!Yt(n)||!Vf.has(n))&&mt(t,"has",n),i}ownKeys(t){return mt(t,"iterate",_e(t)?"length":mi),Reflect.ownKeys(t)}}class am extends Uf{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const lm=new qf,cm=new am,dm=new qf(!0);const pa=e=>e,pr=e=>Reflect.getPrototypeOf(e);function fm(e,t,n){return function(...i){const o=this.__v_raw,r=Fe(o),s=Li(r),u=e==="entries"||e===Symbol.iterator&&s,a=e==="keys"&&s,l=o[e](...i),c=n?pa:t?ma:gt;return!t&&mt(r,"iterate",a?ha:mi),{next(){const{value:d,done:f}=l.next();return f?{value:d,done:f}:{value:u?[c(d[0]),c(d[1])]:c(d),done:f}},[Symbol.iterator](){return this}}}}function mr(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function hm(e,t){const n={get(o){const r=this.__v_raw,s=Fe(r),u=Fe(o);e||(In(o,u)&&mt(s,"get",o),mt(s,"get",u));const{has:a}=pr(s),l=t?pa:e?ma:gt;if(a.call(s,o))return l(r.get(o));if(a.call(s,u))return l(r.get(u));r!==s&&r.get(o)},get size(){const o=this.__v_raw;return!e&&mt(Fe(o),"iterate",mi),Reflect.get(o,"size",o)},has(o){const r=this.__v_raw,s=Fe(r),u=Fe(o);return e||(In(o,u)&&mt(s,"has",o),mt(s,"has",u)),o===u?r.has(o):r.has(o)||r.has(u)},forEach(o,r){const s=this,u=s.__v_raw,a=Fe(u),l=t?pa:e?ma:gt;return!e&&mt(a,"iterate",mi),u.forEach((c,d)=>o.call(r,l(c),l(d),s))}};return dt(n,e?{add:mr("add"),set:mr("set"),delete:mr("delete"),clear:mr("clear")}:{add(o){!t&&!Bt(o)&&!Ci(o)&&(o=Fe(o));const r=Fe(this);return pr(r).has.call(r,o)||(r.add(o),wn(r,"add",o,o)),this},set(o,r){!t&&!Bt(r)&&!Ci(r)&&(r=Fe(r));const s=Fe(this),{has:u,get:a}=pr(s);let l=u.call(s,o);l||(o=Fe(o),l=u.call(s,o));const c=a.call(s,o);return s.set(o,r),l?In(r,c)&&wn(s,"set",o,r):wn(s,"add",o,r),this},delete(o){const r=Fe(this),{has:s,get:u}=pr(r);let a=s.call(r,o);a||(o=Fe(o),a=s.call(r,o)),u&&u.call(r,o);const l=r.delete(o);return a&&wn(r,"delete",o,void 0),l},clear(){const o=Fe(this),r=o.size!==0,s=o.clear();return r&&wn(o,"clear",void 0,void 0),s}}),["keys","values","entries",Symbol.iterator].forEach(o=>{n[o]=fm(o,e,t)}),n}function el(e,t){const n=hm(e,t);return(i,o,r)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?i:Reflect.get(He(n,o)&&o in i?n:i,o,r)}const pm={get:el(!1,!1)},mm={get:el(!1,!0)},gm={get:el(!0,!1)};const Gf=new WeakMap,jf=new WeakMap,Wf=new WeakMap,_m=new WeakMap;function vm(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function bm(e){return e.__v_skip||!Object.isExtensible(e)?0:vm(qp(e))}function gs(e){return Ci(e)?e:tl(e,!1,lm,pm,Gf)}function ym(e){return tl(e,!1,dm,mm,jf)}function _s(e){return tl(e,!0,cm,gm,Wf)}function tl(e,t,n,i,o){if(!Ue(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const r=o.get(e);if(r)return r;const s=bm(e);if(s===0)return e;const u=new Proxy(e,s===2?i:n);return o.set(e,u),u}function zi(e){return Ci(e)?zi(e.__v_raw):!!(e&&e.__v_isReactive)}function Ci(e){return!!(e&&e.__v_isReadonly)}function Bt(e){return!!(e&&e.__v_isShallow)}function nl(e){return e?!!e.__v_raw:!1}function Fe(e){const t=e&&e.__v_raw;return t?Fe(t):e}function Ri(e){return!He(e,"__v_skip")&&Object.isExtensible(e)&&Af(e,"__v_skip",!0),e}const gt=e=>Ue(e)?gs(e):e,ma=e=>Ue(e)?_s(e):e;function Ce(e){return e?e.__v_isRef===!0:!1}function le(e){return wm(e,!1)}function wm(e,t){return Ce(e)?e:new xm(e,t)}class xm{constructor(t,n){this.dep=new ps,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:Fe(t),this._value=n?t:gt(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,i=this.__v_isShallow||Bt(t)||Ci(t);t=i?t:Fe(t),In(t,n)&&(this._rawValue=t,this._value=i?t:gt(t),this.dep.trigger())}}function V(e){return Ce(e)?e.value:e}function Ae(e){return we(e)?e():V(e)}const Cm={get:(e,t,n)=>t==="__v_raw"?e:V(Reflect.get(e,t,n)),set:(e,t,n,i)=>{const o=e[t];return Ce(o)&&!Ce(n)?(o.value=n,!0):Reflect.set(e,t,n,i)}};function Zf(e){return zi(e)?e:new Proxy(e,Cm)}class Em{constructor(t){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new ps,{get:i,set:o}=t(n.track.bind(n),n.trigger.bind(n));this._get=i,this._set=o}get value(){return this._value=this._get()}set value(t){this._set(t)}}function Sm(e){return new Em(e)}function km(e){const t=_e(e)?new Array(e.length):{};for(const n in e)t[n]=Yf(e,n);return t}class Im{constructor(t,n,i){this._object=t,this._key=n,this._defaultValue=i,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return im(Fe(this._object),this._key)}}class Am{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function We(e,t,n){return Ce(e)?e:we(e)?new Am(e):Ue(e)&&arguments.length>1?Yf(e,t,n):le(e)}function Yf(e,t,n){const i=e[t];return Ce(i)?i:new Im(e,t,n)}class Dm{constructor(t,n,i){this.fn=t,this.setter=n,this._value=void 0,this.dep=new ps(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Mo-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&Ge!==this)return Lf(this,!0),!0}get value(){const t=this.dep.track();return $f(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Tm(e,t,n=!1){let i,o;return we(e)?i=e:(i=e.get,o=e.set),new Dm(i,o,n)}const gr={},Br=new WeakMap;let ai;function Mm(e,t=!1,n=ai){if(n){let i=Br.get(n);i||Br.set(n,i=[]),i.push(e)}}function Nm(e,t,n=qe){const{immediate:i,deep:o,once:r,scheduler:s,augmentJob:u,call:a}=n,l=g=>o?g:Bt(g)||o===!1||o===0?xn(g,1):xn(g);let c,d,f,h,m=!1,b=!1;if(Ce(e)?(d=()=>e.value,m=Bt(e)):zi(e)?(d=()=>l(e),m=!0):_e(e)?(b=!0,m=e.some(g=>zi(g)||Bt(g)),d=()=>e.map(g=>{if(Ce(g))return g.value;if(zi(g))return l(g);if(we(g))return a?a(g,2):g()})):we(e)?t?d=a?()=>a(e,2):e:d=()=>{if(f){ti();try{f()}finally{ni()}}const g=ai;ai=c;try{return a?a(e,3,[h]):e(h)}finally{ai=g}}:d=dn,t&&o){const g=d,S=o===!0?1/0:o;d=()=>xn(g(),S)}const v=Xa(),y=()=>{c.stop(),v&&v.active&&Wa(v.effects,c)};if(r&&t){const g=t;t=(...S)=>{g(...S),y()}}let _=b?new Array(e.length).fill(gr):gr;const p=g=>{if(!(!(c.flags&1)||!c.dirty&&!g))if(t){const S=c.run();if(o||m||(b?S.some((C,F)=>In(C,_[F])):In(S,_))){f&&f();const C=ai;ai=c;try{const F=[S,_===gr?void 0:b&&_[0]===gr?[]:_,h];a?a(t,3,F):t(...F),_=S}finally{ai=C}}}else c.run()};return u&&u(p),c=new Pf(d),c.scheduler=s?()=>s(p,!1):p,h=g=>Mm(g,!1,c),f=c.onStop=()=>{const g=Br.get(c);if(g){if(a)a(g,4);else for(const S of g)S();Br.delete(c)}},t?i?p(!0):_=c.run():s?s(p.bind(null,!0),!0):c.run(),y.pause=c.pause.bind(c),y.resume=c.resume.bind(c),y.stop=y,y}function xn(e,t=1/0,n){if(t<=0||!Ue(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,Ce(e))xn(e.value,t,n);else if(_e(e))for(let i=0;i<e.length;i++)xn(e[i],t,n);else if(ro(e)||Li(e))e.forEach(i=>{xn(i,t,n)});else if(If(e)){for(const i in e)xn(e[i],t,n);for(const i of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,i)&&xn(e[i],t,n)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function sr(e,t,n,i){try{return i?e(...i):e()}catch(o){vs(o,t,n)}}function Xt(e,t,n,i){if(we(e)){const o=sr(e,t,n,i);return o&&Sf(o)&&o.catch(r=>{vs(r,t,n)}),o}if(_e(e)){const o=[];for(let r=0;r<e.length;r++)o.push(Xt(e[r],t,n,i));return o}}function vs(e,t,n,i=!0){const o=t?t.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:s}=t&&t.appContext.config||qe;if(t){let u=t.parent;const a=t.proxy,l=`https://vuejs.org/error-reference/#runtime-${n}`;for(;u;){const c=u.ec;if(c){for(let d=0;d<c.length;d++)if(c[d](e,a,l)===!1)return}u=u.parent}if(r){ti(),sr(r,null,10,[e,a,l]),ni();return}}Fm(e,n,o,i,s)}function Fm(e,t,n,i=!0,o=!1){if(o)throw e;console.error(e)}const xt=[];let sn=-1;const $i=[];let Ln=null,Fi=0;const Xf=Promise.resolve();let Hr=null;function lt(e){const t=Hr||Xf;return e?t.then(this?e.bind(this):e):t}function Pm(e){let t=sn+1,n=xt.length;for(;t<n;){const i=t+n>>>1,o=xt[i],r=Fo(o);r<e||r===e&&o.flags&2?t=i+1:n=i}return t}function il(e){if(!(e.flags&1)){const t=Fo(e),n=xt[xt.length-1];!n||!(e.flags&2)&&t>=Fo(n)?xt.push(e):xt.splice(Pm(t),0,e),e.flags|=1,Kf()}}function Kf(){Hr||(Hr=Xf.then(Qf))}function Om(e){_e(e)?$i.push(...e):Ln&&e.id===-1?Ln.splice(Fi+1,0,e):e.flags&1||($i.push(e),e.flags|=1),Kf()}function zl(e,t,n=sn+1){for(;n<xt.length;n++){const i=xt[n];if(i&&i.flags&2){if(e&&i.id!==e.uid)continue;xt.splice(n,1),n--,i.flags&4&&(i.flags&=-2),i(),i.flags&4||(i.flags&=-2)}}}function Jf(e){if($i.length){const t=[...new Set($i)].sort((n,i)=>Fo(n)-Fo(i));if($i.length=0,Ln){Ln.push(...t);return}for(Ln=t,Fi=0;Fi<Ln.length;Fi++){const n=Ln[Fi];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Ln=null,Fi=0}}const Fo=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Qf(e){try{for(sn=0;sn<xt.length;sn++){const t=xt[sn];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),sr(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;sn<xt.length;sn++){const t=xt[sn];t&&(t.flags&=-2)}sn=-1,xt.length=0,Jf(),Hr=null,(xt.length||$i.length)&&Qf()}}let ct=null,eh=null;function Vr(e){const t=ct;return ct=e,eh=e&&e.type.__scopeId||null,t}function Le(e,t=ct,n){if(!t||e._n)return e;const i=(...o)=>{i._d&&Zl(-1);const r=Vr(t);let s;try{s=e(...o)}finally{Vr(r),i._d&&Zl(1)}return s};return i._n=!0,i._c=!0,i._d=!0,i}function ze(e,t){if(ct===null)return e;const n=Cs(ct),i=e.dirs||(e.dirs=[]);for(let o=0;o<t.length;o++){let[r,s,u,a=qe]=t[o];r&&(we(r)&&(r={mounted:r,updated:r}),r.deep&&xn(s),i.push({dir:r,instance:n,value:s,oldValue:void 0,arg:u,modifiers:a}))}return e}function oi(e,t,n,i){const o=e.dirs,r=t&&t.dirs;for(let s=0;s<o.length;s++){const u=o[s];r&&(u.oldValue=r[s].value);let a=u.dir[i];a&&(ti(),Xt(a,n,8,[e.el,u,e,t]),ni())}}const Lm=Symbol("_vte"),th=e=>e.__isTeleport,zn=Symbol("_leaveCb"),_r=Symbol("_enterCb");function zm(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return ft(()=>{e.isMounted=!0}),so(()=>{e.isUnmounting=!0}),e}const Lt=[Function,Array],nh={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Lt,onEnter:Lt,onAfterEnter:Lt,onEnterCancelled:Lt,onBeforeLeave:Lt,onLeave:Lt,onAfterLeave:Lt,onLeaveCancelled:Lt,onBeforeAppear:Lt,onAppear:Lt,onAfterAppear:Lt,onAppearCancelled:Lt},ih=e=>{const t=e.subTree;return t.component?ih(t.component):t},Rm={name:"BaseTransition",props:nh,setup(e,{slots:t}){const n=ii(),i=zm();return()=>{const o=t.default&&sh(t.default(),!0);if(!o||!o.length)return;const r=oh(o),s=Fe(e),{mode:u}=s;if(i.isLeaving)return js(r);const a=Rl(r);if(!a)return js(r);let l=ga(a,s,i,n,d=>l=d);a.type!==Ct&&Po(a,l);let c=n.subTree&&Rl(n.subTree);if(c&&c.type!==Ct&&!li(a,c)&&ih(n).type!==Ct){let d=ga(c,s,i,n);if(Po(c,d),u==="out-in"&&a.type!==Ct)return i.isLeaving=!0,d.afterLeave=()=>{i.isLeaving=!1,n.job.flags&8||n.update(),delete d.afterLeave,c=void 0},js(r);u==="in-out"&&a.type!==Ct?d.delayLeave=(f,h,m)=>{const b=rh(i,c);b[String(c.key)]=c,f[zn]=()=>{h(),f[zn]=void 0,delete l.delayedLeave,c=void 0},l.delayedLeave=()=>{m(),delete l.delayedLeave,c=void 0}}:c=void 0}else c&&(c=void 0);return r}}};function oh(e){let t=e[0];if(e.length>1){for(const n of e)if(n.type!==Ct){t=n;break}}return t}const $m=Rm;function rh(e,t){const{leavingVNodes:n}=e;let i=n.get(t.type);return i||(i=Object.create(null),n.set(t.type,i)),i}function ga(e,t,n,i,o){const{appear:r,mode:s,persisted:u=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:c,onEnterCancelled:d,onBeforeLeave:f,onLeave:h,onAfterLeave:m,onLeaveCancelled:b,onBeforeAppear:v,onAppear:y,onAfterAppear:_,onAppearCancelled:p}=t,g=String(e.key),S=rh(n,e),C=(x,N)=>{x&&Xt(x,i,9,N)},F=(x,N)=>{const P=N[1];C(x,N),_e(x)?x.every(E=>E.length<=1)&&P():x.length<=1&&P()},w={mode:s,persisted:u,beforeEnter(x){let N=a;if(!n.isMounted)if(r)N=v||a;else return;x[zn]&&x[zn](!0);const P=S[g];P&&li(e,P)&&P.el[zn]&&P.el[zn](),C(N,[x])},enter(x){let N=l,P=c,E=d;if(!n.isMounted)if(r)N=y||l,P=_||c,E=p||d;else return;let z=!1;const M=x[_r]=U=>{z||(z=!0,U?C(E,[x]):C(P,[x]),w.delayedLeave&&w.delayedLeave(),x[_r]=void 0)};N?F(N,[x,M]):M()},leave(x,N){const P=String(e.key);if(x[_r]&&x[_r](!0),n.isUnmounting)return N();C(f,[x]);let E=!1;const z=x[zn]=M=>{E||(E=!0,N(),M?C(b,[x]):C(m,[x]),x[zn]=void 0,S[P]===e&&delete S[P])};S[P]=e,h?F(h,[x,z]):z()},clone(x){const N=ga(x,t,n,i,o);return o&&o(N),N}};return w}function js(e){if(bs(e))return e=Zn(e),e.children=null,e}function Rl(e){if(!bs(e))return th(e.type)&&e.children?oh(e.children):e;const{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&we(n.default))return n.default()}}function Po(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Po(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function sh(e,t=!1,n){let i=[],o=0;for(let r=0;r<e.length;r++){let s=e[r];const u=n==null?s.key:String(n)+String(s.key!=null?s.key:r);s.type===Ie?(s.patchFlag&128&&o++,i=i.concat(sh(s.children,t,u))):(t||s.type!==Ct)&&i.push(u!=null?Zn(s,{key:u}):s)}if(o>1)for(let r=0;r<i.length;r++)i[r].patchFlag=-2;return i}/*! #__NO_SIDE_EFFECTS__ */function be(e,t){return we(e)?dt({name:e.name},t,{setup:e}):e}function uh(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function Ur(e,t,n,i,o=!1){if(_e(e)){e.forEach((m,b)=>Ur(m,t&&(_e(t)?t[b]:t),n,i,o));return}if(Bi(i)&&!o){i.shapeFlag&512&&i.type.__asyncResolved&&i.component.subTree.component&&Ur(e,t,n,i.component.subTree);return}const r=i.shapeFlag&4?Cs(i.component):i.el,s=o?null:r,{i:u,r:a}=e,l=t&&t.r,c=u.refs===qe?u.refs={}:u.refs,d=u.setupState,f=Fe(d),h=d===qe?()=>!1:m=>He(f,m);if(l!=null&&l!==a&&(Je(l)?(c[l]=null,h(l)&&(d[l]=null)):Ce(l)&&(l.value=null)),we(a))sr(a,u,12,[s,c]);else{const m=Je(a),b=Ce(a);if(m||b){const v=()=>{if(e.f){const y=m?h(a)?d[a]:c[a]:a.value;o?_e(y)&&Wa(y,r):_e(y)?y.includes(r)||y.push(r):m?(c[a]=[r],h(a)&&(d[a]=c[a])):(a.value=[r],e.k&&(c[e.k]=a.value))}else m?(c[a]=s,h(a)&&(d[a]=s)):b&&(a.value=s,e.k&&(c[e.k]=s))};s?(v.id=-1,Tt(v,n)):v()}}}hs().requestIdleCallback;hs().cancelIdleCallback;const Bi=e=>!!e.type.__asyncLoader,bs=e=>e.type.__isKeepAlive;function Bm(e,t){ah(e,"a",t)}function Hm(e,t){ah(e,"da",t)}function ah(e,t,n=pt){const i=e.__wdc||(e.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(ys(t,i,n),n){let o=n.parent;for(;o&&o.parent;)bs(o.parent.vnode)&&Vm(i,t,n,o),o=o.parent}}function Vm(e,t,n,i){const o=ys(t,e,i,!0);uo(()=>{Wa(i[t],o)},n)}function ys(e,t,n=pt,i=!1){if(n){const o=n[e]||(n[e]=[]),r=t.__weh||(t.__weh=(...s)=>{ti();const u=ur(n),a=Xt(t,n,e,s);return u(),ni(),a});return i?o.unshift(r):o.push(r),r}}const Nn=e=>(t,n=pt)=>{(!Lo||e==="sp")&&ys(e,(...i)=>t(...i),n)},lh=Nn("bm"),ft=Nn("m"),Um=Nn("bu"),qm=Nn("u"),so=Nn("bum"),uo=Nn("um"),Gm=Nn("sp"),jm=Nn("rtg"),Wm=Nn("rtc");function Zm(e,t=pt){ys("ec",e,t)}const ch="components";function ol(e,t){return hh(ch,e,!0,t)||e}const dh=Symbol.for("v-ndc");function fh(e){return Je(e)?hh(ch,e,!1)||e:e||dh}function hh(e,t,n=!0,i=!1){const o=ct||pt;if(o){const r=o.type;{const u=Og(r,!1);if(u&&(u===t||u===Ht(t)||u===fs(Ht(t))))return r}const s=$l(o[e]||r[e],t)||$l(o.appContext[e],t);return!s&&i?r:s}}function $l(e,t){return e&&(e[t]||e[Ht(t)]||e[fs(Ht(t))])}function ht(e,t,n,i){let o;const r=n&&n[i],s=_e(e);if(s||Je(e)){const u=s&&zi(e);let a=!1;u&&(a=!Bt(e),e=ms(e)),o=new Array(e.length);for(let l=0,c=e.length;l<c;l++)o[l]=t(a?gt(e[l]):e[l],l,void 0,r&&r[l])}else if(typeof e=="number"){o=new Array(e);for(let u=0;u<e;u++)o[u]=t(u+1,u,void 0,r&&r[u])}else if(Ue(e))if(e[Symbol.iterator])o=Array.from(e,(u,a)=>t(u,a,void 0,r&&r[a]));else{const u=Object.keys(e);o=new Array(u.length);for(let a=0,l=u.length;a<l;a++){const c=u[a];o[a]=t(e[c],c,a,r&&r[a])}}else o=[];return n&&(n[i]=o),o}function It(e,t,n={},i,o){if(ct.ce||ct.parent&&Bi(ct.parent)&&ct.parent.ce)return t!=="default"&&(n.name=t),X(),Ye(Ie,null,[he("slot",n,i&&i())],64);let r=e[t];r&&r._c&&(r._d=!1),X();const s=r&&ph(r(n)),u=n.key||s&&s.key,a=Ye(Ie,{key:(u&&!Yt(u)?u:`_${t}`)+(!s&&i?"_fb":"")},s||(i?i():[]),s&&e._===1?64:-2);return a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),r&&r._c&&(r._d=!0),a}function ph(e){return e.some(t=>Oo(t)?!(t.type===Ct||t.type===Ie&&!ph(t.children)):!0)?e:null}const _a=e=>e?Lh(e)?Cs(e):_a(e.parent):null,Eo=dt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>_a(e.parent),$root:e=>_a(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>_h(e),$forceUpdate:e=>e.f||(e.f=()=>{il(e.update)}),$nextTick:e=>e.n||(e.n=lt.bind(e.proxy)),$watch:e=>vg.bind(e)}),Ws=(e,t)=>e!==qe&&!e.__isScriptSetup&&He(e,t),Ym={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:i,data:o,props:r,accessCache:s,type:u,appContext:a}=e;let l;if(t[0]!=="$"){const h=s[t];if(h!==void 0)switch(h){case 1:return i[t];case 2:return o[t];case 4:return n[t];case 3:return r[t]}else{if(Ws(i,t))return s[t]=1,i[t];if(o!==qe&&He(o,t))return s[t]=2,o[t];if((l=e.propsOptions[0])&&He(l,t))return s[t]=3,r[t];if(n!==qe&&He(n,t))return s[t]=4,n[t];va&&(s[t]=0)}}const c=Eo[t];let d,f;if(c)return t==="$attrs"&&mt(e.attrs,"get",""),c(e);if((d=u.__cssModules)&&(d=d[t]))return d;if(n!==qe&&He(n,t))return s[t]=4,n[t];if(f=a.config.globalProperties,He(f,t))return f[t]},set({_:e},t,n){const{data:i,setupState:o,ctx:r}=e;return Ws(o,t)?(o[t]=n,!0):i!==qe&&He(i,t)?(i[t]=n,!0):He(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(r[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:i,appContext:o,propsOptions:r}},s){let u;return!!n[s]||e!==qe&&He(e,s)||Ws(t,s)||(u=r[0])&&He(u,s)||He(i,s)||He(Eo,s)||He(o.config.globalProperties,s)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:He(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function Xm(){return mh().slots}function Km(){return mh().attrs}function mh(){const e=ii();return e.setupContext||(e.setupContext=Rh(e))}function Bl(e){return _e(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}function Jm(e,t){const n={};for(const i in e)t.includes(i)||Object.defineProperty(n,i,{enumerable:!0,get:()=>e[i]});return n}let va=!0;function Qm(e){const t=_h(e),n=e.proxy,i=e.ctx;va=!1,t.beforeCreate&&Hl(t.beforeCreate,e,"bc");const{data:o,computed:r,methods:s,watch:u,provide:a,inject:l,created:c,beforeMount:d,mounted:f,beforeUpdate:h,updated:m,activated:b,deactivated:v,beforeDestroy:y,beforeUnmount:_,destroyed:p,unmounted:g,render:S,renderTracked:C,renderTriggered:F,errorCaptured:w,serverPrefetch:x,expose:N,inheritAttrs:P,components:E,directives:z,filters:M}=t;if(l&&eg(l,i,null),s)for(const Z in s){const Y=s[Z];we(Y)&&(i[Z]=Y.bind(n))}if(o){const Z=o.call(n,n);Ue(Z)&&(e.data=gs(Z))}if(va=!0,r)for(const Z in r){const Y=r[Z],ne=we(Y)?Y.bind(n,n):we(Y.get)?Y.get.bind(n,n):dn,ie=!we(Y)&&we(Y.set)?Y.set.bind(n):dn,ae=ve({get:ne,set:ie});Object.defineProperty(i,Z,{enumerable:!0,configurable:!0,get:()=>ae.value,set:K=>ae.value=K})}if(u)for(const Z in u)gh(u[Z],i,n,Z);if(a){const Z=we(a)?a.call(n):a;Reflect.ownKeys(Z).forEach(Y=>{Wn(Y,Z[Y])})}c&&Hl(c,e,"c");function $(Z,Y){_e(Y)?Y.forEach(ne=>Z(ne.bind(n))):Y&&Z(Y.bind(n))}if($(lh,d),$(ft,f),$(Um,h),$(qm,m),$(Bm,b),$(Hm,v),$(Zm,w),$(Wm,C),$(jm,F),$(so,_),$(uo,g),$(Gm,x),_e(N))if(N.length){const Z=e.exposed||(e.exposed={});N.forEach(Y=>{Object.defineProperty(Z,Y,{get:()=>n[Y],set:ne=>n[Y]=ne})})}else e.exposed||(e.exposed={});S&&e.render===dn&&(e.render=S),P!=null&&(e.inheritAttrs=P),E&&(e.components=E),z&&(e.directives=z),x&&uh(e)}function eg(e,t,n=dn){_e(e)&&(e=ba(e));for(const i in e){const o=e[i];let r;Ue(o)?"default"in o?r=Zt(o.from||i,o.default,!0):r=Zt(o.from||i):r=Zt(o),Ce(r)?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>r.value,set:s=>r.value=s}):t[i]=r}}function Hl(e,t,n){Xt(_e(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,n)}function gh(e,t,n,i){let o=i.includes(".")?Mh(n,i):()=>n[i];if(Je(e)){const r=t[e];we(r)&&ke(o,r)}else if(we(e))ke(o,e.bind(n));else if(Ue(e))if(_e(e))e.forEach(r=>gh(r,t,n,i));else{const r=we(e.handler)?e.handler.bind(n):t[e.handler];we(r)&&ke(o,r,e)}}function _h(e){const t=e.type,{mixins:n,extends:i}=t,{mixins:o,optionsCache:r,config:{optionMergeStrategies:s}}=e.appContext,u=r.get(t);let a;return u?a=u:!o.length&&!n&&!i?a=t:(a={},o.length&&o.forEach(l=>qr(a,l,s,!0)),qr(a,t,s)),Ue(t)&&r.set(t,a),a}function qr(e,t,n,i=!1){const{mixins:o,extends:r}=t;r&&qr(e,r,n,!0),o&&o.forEach(s=>qr(e,s,n,!0));for(const s in t)if(!(i&&s==="expose")){const u=tg[s]||n&&n[s];e[s]=u?u(e[s],t[s]):t[s]}return e}const tg={data:Vl,props:Ul,emits:Ul,methods:_o,computed:_o,beforeCreate:yt,created:yt,beforeMount:yt,mounted:yt,beforeUpdate:yt,updated:yt,beforeDestroy:yt,beforeUnmount:yt,destroyed:yt,unmounted:yt,activated:yt,deactivated:yt,errorCaptured:yt,serverPrefetch:yt,components:_o,directives:_o,watch:ig,provide:Vl,inject:ng};function Vl(e,t){return t?e?function(){return dt(we(e)?e.call(this,this):e,we(t)?t.call(this,this):t)}:t:e}function ng(e,t){return _o(ba(e),ba(t))}function ba(e){if(_e(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function yt(e,t){return e?[...new Set([].concat(e,t))]:t}function _o(e,t){return e?dt(Object.create(null),e,t):t}function Ul(e,t){return e?_e(e)&&_e(t)?[...new Set([...e,...t])]:dt(Object.create(null),Bl(e),Bl(t??{})):t}function ig(e,t){if(!e)return t;if(!t)return e;const n=dt(Object.create(null),e);for(const i in t)n[i]=yt(e[i],t[i]);return n}function vh(){return{app:null,config:{isNativeTag:Vp,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let og=0;function rg(e,t){return function(i,o=null){we(i)||(i=dt({},i)),o!=null&&!Ue(o)&&(o=null);const r=vh(),s=new WeakSet,u=[];let a=!1;const l=r.app={_uid:og++,_component:i,_props:o,_container:null,_context:r,_instance:null,version:Rg,get config(){return r.config},set config(c){},use(c,...d){return s.has(c)||(c&&we(c.install)?(s.add(c),c.install(l,...d)):we(c)&&(s.add(c),c(l,...d))),l},mixin(c){return r.mixins.includes(c)||r.mixins.push(c),l},component(c,d){return d?(r.components[c]=d,l):r.components[c]},directive(c,d){return d?(r.directives[c]=d,l):r.directives[c]},mount(c,d,f){if(!a){const h=l._ceVNode||he(i,o);return h.appContext=r,f===!0?f="svg":f===!1&&(f=void 0),e(h,c,f),a=!0,l._container=c,c.__vue_app__=l,Cs(h.component)}},onUnmount(c){u.push(c)},unmount(){a&&(Xt(u,l._instance,16),e(null,l._container),delete l._container.__vue_app__)},provide(c,d){return r.provides[c]=d,l},runWithContext(c){const d=Hi;Hi=l;try{return c()}finally{Hi=d}}};return l}}let Hi=null;function Wn(e,t){if(pt){let n=pt.provides;const i=pt.parent&&pt.parent.provides;i===n&&(n=pt.provides=Object.create(i)),n[e]=t}}function Zt(e,t,n=!1){const i=pt||ct;if(i||Hi){const o=Hi?Hi._context.provides:i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(o&&e in o)return o[e];if(arguments.length>1)return n&&we(t)?t.call(i&&i.proxy):t}}const bh={},yh=()=>Object.create(bh),wh=e=>Object.getPrototypeOf(e)===bh;function sg(e,t,n,i=!1){const o={},r=yh();e.propsDefaults=Object.create(null),xh(e,t,o,r);for(const s in e.propsOptions[0])s in o||(o[s]=void 0);n?e.props=i?o:ym(o):e.type.props?e.props=o:e.props=r,e.attrs=r}function ug(e,t,n,i){const{props:o,attrs:r,vnode:{patchFlag:s}}=e,u=Fe(o),[a]=e.propsOptions;let l=!1;if((i||s>0)&&!(s&16)){if(s&8){const c=e.vnode.dynamicProps;for(let d=0;d<c.length;d++){let f=c[d];if(ws(e.emitsOptions,f))continue;const h=t[f];if(a)if(He(r,f))h!==r[f]&&(r[f]=h,l=!0);else{const m=Ht(f);o[m]=ya(a,u,m,h,e,!1)}else h!==r[f]&&(r[f]=h,l=!0)}}}else{xh(e,t,o,r)&&(l=!0);let c;for(const d in u)(!t||!He(t,d)&&((c=Ai(d))===d||!He(t,c)))&&(a?n&&(n[d]!==void 0||n[c]!==void 0)&&(o[d]=ya(a,u,d,void 0,e,!0)):delete o[d]);if(r!==u)for(const d in r)(!t||!He(t,d))&&(delete r[d],l=!0)}l&&wn(e.attrs,"set","")}function xh(e,t,n,i){const[o,r]=e.propsOptions;let s=!1,u;if(t)for(let a in t){if(wo(a))continue;const l=t[a];let c;o&&He(o,c=Ht(a))?!r||!r.includes(c)?n[c]=l:(u||(u={}))[c]=l:ws(e.emitsOptions,a)||(!(a in i)||l!==i[a])&&(i[a]=l,s=!0)}if(r){const a=Fe(n),l=u||qe;for(let c=0;c<r.length;c++){const d=r[c];n[d]=ya(o,a,d,l[d],e,!He(l,d))}}return s}function ya(e,t,n,i,o,r){const s=e[n];if(s!=null){const u=He(s,"default");if(u&&i===void 0){const a=s.default;if(s.type!==Function&&!s.skipFactory&&we(a)){const{propsDefaults:l}=o;if(n in l)i=l[n];else{const c=ur(o);i=l[n]=a.call(null,t),c()}}else i=a;o.ce&&o.ce._setProp(n,i)}s[0]&&(r&&!u?i=!1:s[1]&&(i===""||i===Ai(n))&&(i=!0))}return i}const ag=new WeakMap;function Ch(e,t,n=!1){const i=n?ag:t.propsCache,o=i.get(e);if(o)return o;const r=e.props,s={},u=[];let a=!1;if(!we(e)){const c=d=>{a=!0;const[f,h]=Ch(d,t,!0);dt(s,f),h&&u.push(...h)};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!r&&!a)return Ue(e)&&i.set(e,Oi),Oi;if(_e(r))for(let c=0;c<r.length;c++){const d=Ht(r[c]);ql(d)&&(s[d]=qe)}else if(r)for(const c in r){const d=Ht(c);if(ql(d)){const f=r[c],h=s[d]=_e(f)||we(f)?{type:f}:dt({},f),m=h.type;let b=!1,v=!0;if(_e(m))for(let y=0;y<m.length;++y){const _=m[y],p=we(_)&&_.name;if(p==="Boolean"){b=!0;break}else p==="String"&&(v=!1)}else b=we(m)&&m.name==="Boolean";h[0]=b,h[1]=v,(b||He(h,"default"))&&u.push(d)}}const l=[s,u];return Ue(e)&&i.set(e,l),l}function ql(e){return e[0]!=="$"&&!wo(e)}const Eh=e=>e[0]==="_"||e==="$stable",rl=e=>_e(e)?e.map(an):[an(e)],lg=(e,t,n)=>{if(t._n)return t;const i=Le((...o)=>rl(t(...o)),n);return i._c=!1,i},Sh=(e,t,n)=>{const i=e._ctx;for(const o in e){if(Eh(o))continue;const r=e[o];if(we(r))t[o]=lg(o,r,i);else if(r!=null){const s=rl(r);t[o]=()=>s}}},kh=(e,t)=>{const n=rl(t);e.slots.default=()=>n},Ih=(e,t,n)=>{for(const i in t)(n||i!=="_")&&(e[i]=t[i])},cg=(e,t,n)=>{const i=e.slots=yh();if(e.vnode.shapeFlag&32){const o=t._;o?(Ih(i,t,n),n&&Af(i,"_",o,!0)):Sh(t,i)}else t&&kh(e,t)},dg=(e,t,n)=>{const{vnode:i,slots:o}=e;let r=!0,s=qe;if(i.shapeFlag&32){const u=t._;u?n&&u===1?r=!1:Ih(o,t,n):(r=!t.$stable,Sh(t,o)),s=t}else t&&(kh(e,t),s={default:1});if(r)for(const u in o)!Eh(u)&&s[u]==null&&delete o[u]},Tt=Sg;function fg(e){return hg(e)}function hg(e,t){const n=hs();n.__VUE__=!0;const{insert:i,remove:o,patchProp:r,createElement:s,createText:u,createComment:a,setText:l,setElementText:c,parentNode:d,nextSibling:f,setScopeId:h=dn,insertStaticContent:m}=e,b=(T,O,k,I=null,A=null,D=null,B=void 0,j=null,W=!!O.dynamicChildren)=>{if(T===O)return;T&&!li(T,O)&&(I=ue(T),K(T,A,D,!0),T=null),O.patchFlag===-2&&(W=!1,O.dynamicChildren=null);const{type:q,ref:ee,shapeFlag:Q}=O;switch(q){case xs:v(T,O,k,I);break;case Ct:y(T,O,k,I);break;case Mr:T==null&&_(O,k,I,B);break;case Ie:E(T,O,k,I,A,D,B,j,W);break;default:Q&1?S(T,O,k,I,A,D,B,j,W):Q&6?z(T,O,k,I,A,D,B,j,W):(Q&64||Q&128)&&q.process(T,O,k,I,A,D,B,j,W,ge)}ee!=null&&A&&Ur(ee,T&&T.ref,D,O||T,!O)},v=(T,O,k,I)=>{if(T==null)i(O.el=u(O.children),k,I);else{const A=O.el=T.el;O.children!==T.children&&l(A,O.children)}},y=(T,O,k,I)=>{T==null?i(O.el=a(O.children||""),k,I):O.el=T.el},_=(T,O,k,I)=>{[T.el,T.anchor]=m(T.children,O,k,I,T.el,T.anchor)},p=({el:T,anchor:O},k,I)=>{let A;for(;T&&T!==O;)A=f(T),i(T,k,I),T=A;i(O,k,I)},g=({el:T,anchor:O})=>{let k;for(;T&&T!==O;)k=f(T),o(T),T=k;o(O)},S=(T,O,k,I,A,D,B,j,W)=>{O.type==="svg"?B="svg":O.type==="math"&&(B="mathml"),T==null?C(O,k,I,A,D,B,j,W):x(T,O,A,D,B,j,W)},C=(T,O,k,I,A,D,B,j)=>{let W,q;const{props:ee,shapeFlag:Q,transition:re,dirs:ce}=T;if(W=T.el=s(T.type,D,ee&&ee.is,ee),Q&8?c(W,T.children):Q&16&&w(T.children,W,null,I,A,Zs(T,D),B,j),ce&&oi(T,null,I,"created"),F(W,T,T.scopeId,B,I),ee){for(const Ne in ee)Ne!=="value"&&!wo(Ne)&&r(W,Ne,null,ee[Ne],D,I);"value"in ee&&r(W,"value",null,ee.value,D),(q=ee.onVnodeBeforeMount)&&on(q,I,T)}ce&&oi(T,null,I,"beforeMount");const xe=pg(A,re);xe&&re.beforeEnter(W),i(W,O,k),((q=ee&&ee.onVnodeMounted)||xe||ce)&&Tt(()=>{q&&on(q,I,T),xe&&re.enter(W),ce&&oi(T,null,I,"mounted")},A)},F=(T,O,k,I,A)=>{if(k&&h(T,k),I)for(let D=0;D<I.length;D++)h(T,I[D]);if(A){let D=A.subTree;if(O===D||Fh(D.type)&&(D.ssContent===O||D.ssFallback===O)){const B=A.vnode;F(T,B,B.scopeId,B.slotScopeIds,A.parent)}}},w=(T,O,k,I,A,D,B,j,W=0)=>{for(let q=W;q<T.length;q++){const ee=T[q]=j?Rn(T[q]):an(T[q]);b(null,ee,O,k,I,A,D,B,j)}},x=(T,O,k,I,A,D,B)=>{const j=O.el=T.el;let{patchFlag:W,dynamicChildren:q,dirs:ee}=O;W|=T.patchFlag&16;const Q=T.props||qe,re=O.props||qe;let ce;if(k&&ri(k,!1),(ce=re.onVnodeBeforeUpdate)&&on(ce,k,O,T),ee&&oi(O,T,k,"beforeUpdate"),k&&ri(k,!0),(Q.innerHTML&&re.innerHTML==null||Q.textContent&&re.textContent==null)&&c(j,""),q?N(T.dynamicChildren,q,j,k,I,Zs(O,A),D):B||Y(T,O,j,null,k,I,Zs(O,A),D,!1),W>0){if(W&16)P(j,Q,re,k,A);else if(W&2&&Q.class!==re.class&&r(j,"class",null,re.class,A),W&4&&r(j,"style",Q.style,re.style,A),W&8){const xe=O.dynamicProps;for(let Ne=0;Ne<xe.length;Ne++){const Oe=xe[Ne],bt=Q[Oe],St=re[Oe];(St!==bt||Oe==="value")&&r(j,Oe,bt,St,A,k)}}W&1&&T.children!==O.children&&c(j,O.children)}else!B&&q==null&&P(j,Q,re,k,A);((ce=re.onVnodeUpdated)||ee)&&Tt(()=>{ce&&on(ce,k,O,T),ee&&oi(O,T,k,"updated")},I)},N=(T,O,k,I,A,D,B)=>{for(let j=0;j<O.length;j++){const W=T[j],q=O[j],ee=W.el&&(W.type===Ie||!li(W,q)||W.shapeFlag&70)?d(W.el):k;b(W,q,ee,null,I,A,D,B,!0)}},P=(T,O,k,I,A)=>{if(O!==k){if(O!==qe)for(const D in O)!wo(D)&&!(D in k)&&r(T,D,O[D],null,A,I);for(const D in k){if(wo(D))continue;const B=k[D],j=O[D];B!==j&&D!=="value"&&r(T,D,j,B,A,I)}"value"in k&&r(T,"value",O.value,k.value,A)}},E=(T,O,k,I,A,D,B,j,W)=>{const q=O.el=T?T.el:u(""),ee=O.anchor=T?T.anchor:u("");let{patchFlag:Q,dynamicChildren:re,slotScopeIds:ce}=O;ce&&(j=j?j.concat(ce):ce),T==null?(i(q,k,I),i(ee,k,I),w(O.children||[],k,ee,A,D,B,j,W)):Q>0&&Q&64&&re&&T.dynamicChildren?(N(T.dynamicChildren,re,k,A,D,B,j),(O.key!=null||A&&O===A.subTree)&&Ah(T,O,!0)):Y(T,O,k,ee,A,D,B,j,W)},z=(T,O,k,I,A,D,B,j,W)=>{O.slotScopeIds=j,T==null?O.shapeFlag&512?A.ctx.activate(O,k,I,B,W):M(O,k,I,A,D,B,W):U(T,O,W)},M=(T,O,k,I,A,D,B)=>{const j=T.component=Mg(T,I,A);if(bs(T)&&(j.ctx.renderer=ge),Ng(j,!1,B),j.asyncDep){if(A&&A.registerDep(j,$,B),!T.el){const W=j.subTree=he(Ct);y(null,W,O,k)}}else $(j,T,O,k,A,D,B)},U=(T,O,k)=>{const I=O.component=T.component;if(Cg(T,O,k))if(I.asyncDep&&!I.asyncResolved){Z(I,O,k);return}else I.next=O,I.update();else O.el=T.el,I.vnode=O},$=(T,O,k,I,A,D,B)=>{const j=()=>{if(T.isMounted){let{next:Q,bu:re,u:ce,parent:xe,vnode:Ne}=T;{const tn=Dh(T);if(tn){Q&&(Q.el=Ne.el,Z(T,Q,B)),tn.asyncDep.then(()=>{T.isUnmounted||j()});return}}let Oe=Q,bt;ri(T,!1),Q?(Q.el=Ne.el,Z(T,Q,B)):Q=Ne,re&&Dr(re),(bt=Q.props&&Q.props.onVnodeBeforeUpdate)&&on(bt,xe,Q,Ne),ri(T,!0);const St=jl(T),en=T.subTree;T.subTree=St,b(en,St,d(en.el),ue(en),T,A,D),Q.el=St.el,Oe===null&&Eg(T,St.el),ce&&Tt(ce,A),(bt=Q.props&&Q.props.onVnodeUpdated)&&Tt(()=>on(bt,xe,Q,Ne),A)}else{let Q;const{el:re,props:ce}=O,{bm:xe,m:Ne,parent:Oe,root:bt,type:St}=T,en=Bi(O);ri(T,!1),xe&&Dr(xe),!en&&(Q=ce&&ce.onVnodeBeforeMount)&&on(Q,Oe,O),ri(T,!0);{bt.ce&&bt.ce._injectChildStyle(St);const tn=T.subTree=jl(T);b(null,tn,k,I,T,A,D),O.el=tn.el}if(Ne&&Tt(Ne,A),!en&&(Q=ce&&ce.onVnodeMounted)){const tn=O;Tt(()=>on(Q,Oe,tn),A)}(O.shapeFlag&256||Oe&&Bi(Oe.vnode)&&Oe.vnode.shapeFlag&256)&&T.a&&Tt(T.a,A),T.isMounted=!0,O=k=I=null}};T.scope.on();const W=T.effect=new Pf(j);T.scope.off();const q=T.update=W.run.bind(W),ee=T.job=W.runIfDirty.bind(W);ee.i=T,ee.id=T.uid,W.scheduler=()=>il(ee),ri(T,!0),q()},Z=(T,O,k)=>{O.component=T;const I=T.vnode.props;T.vnode=O,T.next=null,ug(T,O.props,I,k),dg(T,O.children,k),ti(),zl(T),ni()},Y=(T,O,k,I,A,D,B,j,W=!1)=>{const q=T&&T.children,ee=T?T.shapeFlag:0,Q=O.children,{patchFlag:re,shapeFlag:ce}=O;if(re>0){if(re&128){ie(q,Q,k,I,A,D,B,j,W);return}else if(re&256){ne(q,Q,k,I,A,D,B,j,W);return}}ce&8?(ee&16&&J(q,A,D),Q!==q&&c(k,Q)):ee&16?ce&16?ie(q,Q,k,I,A,D,B,j,W):J(q,A,D,!0):(ee&8&&c(k,""),ce&16&&w(Q,k,I,A,D,B,j,W))},ne=(T,O,k,I,A,D,B,j,W)=>{T=T||Oi,O=O||Oi;const q=T.length,ee=O.length,Q=Math.min(q,ee);let re;for(re=0;re<Q;re++){const ce=O[re]=W?Rn(O[re]):an(O[re]);b(T[re],ce,k,null,A,D,B,j,W)}q>ee?J(T,A,D,!0,!1,Q):w(O,k,I,A,D,B,j,W,Q)},ie=(T,O,k,I,A,D,B,j,W)=>{let q=0;const ee=O.length;let Q=T.length-1,re=ee-1;for(;q<=Q&&q<=re;){const ce=T[q],xe=O[q]=W?Rn(O[q]):an(O[q]);if(li(ce,xe))b(ce,xe,k,null,A,D,B,j,W);else break;q++}for(;q<=Q&&q<=re;){const ce=T[Q],xe=O[re]=W?Rn(O[re]):an(O[re]);if(li(ce,xe))b(ce,xe,k,null,A,D,B,j,W);else break;Q--,re--}if(q>Q){if(q<=re){const ce=re+1,xe=ce<ee?O[ce].el:I;for(;q<=re;)b(null,O[q]=W?Rn(O[q]):an(O[q]),k,xe,A,D,B,j,W),q++}}else if(q>re)for(;q<=Q;)K(T[q],A,D,!0),q++;else{const ce=q,xe=q,Ne=new Map;for(q=xe;q<=re;q++){const Dt=O[q]=W?Rn(O[q]):an(O[q]);Dt.key!=null&&Ne.set(Dt.key,q)}let Oe,bt=0;const St=re-xe+1;let en=!1,tn=0;const co=new Array(St);for(q=0;q<St;q++)co[q]=0;for(q=ce;q<=Q;q++){const Dt=T[q];if(bt>=St){K(Dt,A,D,!0);continue}let nn;if(Dt.key!=null)nn=Ne.get(Dt.key);else for(Oe=xe;Oe<=re;Oe++)if(co[Oe-xe]===0&&li(Dt,O[Oe])){nn=Oe;break}nn===void 0?K(Dt,A,D,!0):(co[nn-xe]=q+1,nn>=tn?tn=nn:en=!0,b(Dt,O[nn],k,null,A,D,B,j,W),bt++)}const Ml=en?mg(co):Oi;for(Oe=Ml.length-1,q=St-1;q>=0;q--){const Dt=xe+q,nn=O[Dt],Nl=Dt+1<ee?O[Dt+1].el:I;co[q]===0?b(null,nn,k,Nl,A,D,B,j,W):en&&(Oe<0||q!==Ml[Oe]?ae(nn,k,Nl,2):Oe--)}}},ae=(T,O,k,I,A=null)=>{const{el:D,type:B,transition:j,children:W,shapeFlag:q}=T;if(q&6){ae(T.component.subTree,O,k,I);return}if(q&128){T.suspense.move(O,k,I);return}if(q&64){B.move(T,O,k,ge);return}if(B===Ie){i(D,O,k);for(let Q=0;Q<W.length;Q++)ae(W[Q],O,k,I);i(T.anchor,O,k);return}if(B===Mr){p(T,O,k);return}if(I!==2&&q&1&&j)if(I===0)j.beforeEnter(D),i(D,O,k),Tt(()=>j.enter(D),A);else{const{leave:Q,delayLeave:re,afterLeave:ce}=j,xe=()=>i(D,O,k),Ne=()=>{Q(D,()=>{xe(),ce&&ce()})};re?re(D,xe,Ne):Ne()}else i(D,O,k)},K=(T,O,k,I=!1,A=!1)=>{const{type:D,props:B,ref:j,children:W,dynamicChildren:q,shapeFlag:ee,patchFlag:Q,dirs:re,cacheIndex:ce}=T;if(Q===-2&&(A=!1),j!=null&&Ur(j,null,k,T,!0),ce!=null&&(O.renderCache[ce]=void 0),ee&256){O.ctx.deactivate(T);return}const xe=ee&1&&re,Ne=!Bi(T);let Oe;if(Ne&&(Oe=B&&B.onVnodeBeforeUnmount)&&on(Oe,O,T),ee&6)G(T.component,k,I);else{if(ee&128){T.suspense.unmount(k,I);return}xe&&oi(T,null,O,"beforeUnmount"),ee&64?T.type.remove(T,O,k,ge,I):q&&!q.hasOnce&&(D!==Ie||Q>0&&Q&64)?J(q,O,k,!1,!0):(D===Ie&&Q&384||!A&&ee&16)&&J(W,O,k),I&&R(T)}(Ne&&(Oe=B&&B.onVnodeUnmounted)||xe)&&Tt(()=>{Oe&&on(Oe,O,T),xe&&oi(T,null,O,"unmounted")},k)},R=T=>{const{type:O,el:k,anchor:I,transition:A}=T;if(O===Ie){H(k,I);return}if(O===Mr){g(T);return}const D=()=>{o(k),A&&!A.persisted&&A.afterLeave&&A.afterLeave()};if(T.shapeFlag&1&&A&&!A.persisted){const{leave:B,delayLeave:j}=A,W=()=>B(k,D);j?j(T.el,D,W):W()}else D()},H=(T,O)=>{let k;for(;T!==O;)k=f(T),o(T),T=k;o(O)},G=(T,O,k)=>{const{bum:I,scope:A,job:D,subTree:B,um:j,m:W,a:q}=T;Gl(W),Gl(q),I&&Dr(I),A.stop(),D&&(D.flags|=8,K(B,T,O,k)),j&&Tt(j,O),Tt(()=>{T.isUnmounted=!0},O),O&&O.pendingBranch&&!O.isUnmounted&&T.asyncDep&&!T.asyncResolved&&T.suspenseId===O.pendingId&&(O.deps--,O.deps===0&&O.resolve())},J=(T,O,k,I=!1,A=!1,D=0)=>{for(let B=D;B<T.length;B++)K(T[B],O,k,I,A)},ue=T=>{if(T.shapeFlag&6)return ue(T.component.subTree);if(T.shapeFlag&128)return T.suspense.next();const O=f(T.anchor||T.el),k=O&&O[Lm];return k?f(k):O};let pe=!1;const fe=(T,O,k)=>{T==null?O._vnode&&K(O._vnode,null,null,!0):b(O._vnode||null,T,O,null,null,null,k),O._vnode=T,pe||(pe=!0,zl(),Jf(),pe=!1)},ge={p:b,um:K,m:ae,r:R,mt:M,mc:w,pc:Y,pbc:N,n:ue,o:e};return{render:fe,hydrate:void 0,createApp:rg(fe)}}function Zs({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function ri({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function pg(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Ah(e,t,n=!1){const i=e.children,o=t.children;if(_e(i)&&_e(o))for(let r=0;r<i.length;r++){const s=i[r];let u=o[r];u.shapeFlag&1&&!u.dynamicChildren&&((u.patchFlag<=0||u.patchFlag===32)&&(u=o[r]=Rn(o[r]),u.el=s.el),!n&&u.patchFlag!==-2&&Ah(s,u)),u.type===xs&&(u.el=s.el)}}function mg(e){const t=e.slice(),n=[0];let i,o,r,s,u;const a=e.length;for(i=0;i<a;i++){const l=e[i];if(l!==0){if(o=n[n.length-1],e[o]<l){t[i]=o,n.push(i);continue}for(r=0,s=n.length-1;r<s;)u=r+s>>1,e[n[u]]<l?r=u+1:s=u;l<e[n[r]]&&(r>0&&(t[i]=n[r-1]),n[r]=i)}}for(r=n.length,s=n[r-1];r-- >0;)n[r]=s,s=t[s];return n}function Dh(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Dh(t)}function Gl(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const gg=Symbol.for("v-scx"),_g=()=>Zt(gg);function ke(e,t,n){return Th(e,t,n)}function Th(e,t,n=qe){const{immediate:i,deep:o,flush:r,once:s}=n,u=dt({},n),a=t&&i||!t&&r!=="post";let l;if(Lo){if(r==="sync"){const h=_g();l=h.__watcherHandles||(h.__watcherHandles=[])}else if(!a){const h=()=>{};return h.stop=dn,h.resume=dn,h.pause=dn,h}}const c=pt;u.call=(h,m,b)=>Xt(h,c,m,b);let d=!1;r==="post"?u.scheduler=h=>{Tt(h,c&&c.suspense)}:r!=="sync"&&(d=!0,u.scheduler=(h,m)=>{m?h():il(h)}),u.augmentJob=h=>{t&&(h.flags|=4),d&&(h.flags|=2,c&&(h.id=c.uid,h.i=c))};const f=Nm(e,t,u);return Lo&&(l?l.push(f):a&&f()),f}function vg(e,t,n){const i=this.proxy,o=Je(e)?e.includes(".")?Mh(i,e):()=>i[e]:e.bind(i,i);let r;we(t)?r=t:(r=t.handler,n=t);const s=ur(this),u=Th(o,r.bind(i),n);return s(),u}function Mh(e,t){const n=t.split(".");return()=>{let i=e;for(let o=0;o<n.length&&i;o++)i=i[n[o]];return i}}const bg=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Ht(t)}Modifiers`]||e[`${Ai(t)}Modifiers`];function yg(e,t,...n){if(e.isUnmounted)return;const i=e.vnode.props||qe;let o=n;const r=t.startsWith("update:"),s=r&&bg(i,t.slice(7));s&&(s.trim&&(o=n.map(c=>Je(c)?c.trim():c)),s.number&&(o=n.map(Rr)));let u,a=i[u=Hs(t)]||i[u=Hs(Ht(t))];!a&&r&&(a=i[u=Hs(Ai(t))]),a&&Xt(a,e,6,o);const l=i[u+"Once"];if(l){if(!e.emitted)e.emitted={};else if(e.emitted[u])return;e.emitted[u]=!0,Xt(l,e,6,o)}}function Nh(e,t,n=!1){const i=t.emitsCache,o=i.get(e);if(o!==void 0)return o;const r=e.emits;let s={},u=!1;if(!we(e)){const a=l=>{const c=Nh(l,t,!0);c&&(u=!0,dt(s,c))};!n&&t.mixins.length&&t.mixins.forEach(a),e.extends&&a(e.extends),e.mixins&&e.mixins.forEach(a)}return!r&&!u?(Ue(e)&&i.set(e,null),null):(_e(r)?r.forEach(a=>s[a]=null):dt(s,r),Ue(e)&&i.set(e,s),s)}function ws(e,t){return!e||!cs(t)?!1:(t=t.slice(2).replace(/Once$/,""),He(e,t[0].toLowerCase()+t.slice(1))||He(e,Ai(t))||He(e,t))}function jl(e){const{type:t,vnode:n,proxy:i,withProxy:o,propsOptions:[r],slots:s,attrs:u,emit:a,render:l,renderCache:c,props:d,data:f,setupState:h,ctx:m,inheritAttrs:b}=e,v=Vr(e);let y,_;try{if(n.shapeFlag&4){const g=o||i,S=g;y=an(l.call(S,g,c,d,h,f,m)),_=u}else{const g=t;y=an(g.length>1?g(d,{attrs:u,slots:s,emit:a}):g(d,null)),_=t.props?u:wg(u)}}catch(g){So.length=0,vs(g,e,1),y=he(Ct)}let p=y;if(_&&b!==!1){const g=Object.keys(_),{shapeFlag:S}=p;g.length&&S&7&&(r&&g.some(ja)&&(_=xg(_,r)),p=Zn(p,_,!1,!0))}return n.dirs&&(p=Zn(p,null,!1,!0),p.dirs=p.dirs?p.dirs.concat(n.dirs):n.dirs),n.transition&&Po(p,n.transition),y=p,Vr(v),y}const wg=e=>{let t;for(const n in e)(n==="class"||n==="style"||cs(n))&&((t||(t={}))[n]=e[n]);return t},xg=(e,t)=>{const n={};for(const i in e)(!ja(i)||!(i.slice(9)in t))&&(n[i]=e[i]);return n};function Cg(e,t,n){const{props:i,children:o,component:r}=e,{props:s,children:u,patchFlag:a}=t,l=r.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&a>=0){if(a&1024)return!0;if(a&16)return i?Wl(i,s,l):!!s;if(a&8){const c=t.dynamicProps;for(let d=0;d<c.length;d++){const f=c[d];if(s[f]!==i[f]&&!ws(l,f))return!0}}}else return(o||u)&&(!u||!u.$stable)?!0:i===s?!1:i?s?Wl(i,s,l):!0:!!s;return!1}function Wl(e,t,n){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let o=0;o<i.length;o++){const r=i[o];if(t[r]!==e[r]&&!ws(n,r))return!0}return!1}function Eg({vnode:e,parent:t},n){for(;t;){const i=t.subTree;if(i.suspense&&i.suspense.activeBranch===e&&(i.el=e.el),i===e)(e=t.vnode).el=n,t=t.parent;else break}}const Fh=e=>e.__isSuspense;function Sg(e,t){t&&t.pendingBranch?_e(e)?t.effects.push(...e):t.effects.push(e):Om(e)}const Ie=Symbol.for("v-fgt"),xs=Symbol.for("v-txt"),Ct=Symbol.for("v-cmt"),Mr=Symbol.for("v-stc"),So=[];let Et=null;function X(e=!1){So.push(Et=e?null:[])}function kg(){So.pop(),Et=So[So.length-1]||null}let ji=1;function Zl(e,t=!1){ji+=e,e<0&&Et&&t&&(Et.hasOnce=!0)}function Ph(e){return e.dynamicChildren=ji>0?Et||Oi:null,kg(),ji>0&&Et&&Et.push(e),e}function te(e,t,n,i,o,r){return Ph(L(e,t,n,i,o,r,!0))}function Ye(e,t,n,i,o){return Ph(he(e,t,n,i,o,!0))}function Oo(e){return e?e.__v_isVNode===!0:!1}function li(e,t){return e.type===t.type&&e.key===t.key}const Oh=({key:e})=>e??null,Nr=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Je(e)||Ce(e)||we(e)?{i:ct,r:e,k:t,f:!!n}:e:null);function L(e,t=null,n=null,i=0,o=null,r=e===Ie?0:1,s=!1,u=!1){const a={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Oh(t),ref:t&&Nr(t),scopeId:eh,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:i,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:ct};return u?(sl(a,n),r&128&&e.normalize(a)):n&&(a.shapeFlag|=Je(n)?8:16),ji>0&&!s&&Et&&(a.patchFlag>0||r&6)&&a.patchFlag!==32&&Et.push(a),a}const he=Ig;function Ig(e,t=null,n=null,i=0,o=null,r=!1){if((!e||e===dh)&&(e=Ct),Oo(e)){const u=Zn(e,t,!0);return n&&sl(u,n),ji>0&&!r&&Et&&(u.shapeFlag&6?Et[Et.indexOf(e)]=u:Et.push(u)),u.patchFlag=-2,u}if(Lg(e)&&(e=e.__vccOpts),t){t=Ag(t);let{class:u,style:a}=t;u&&!Je(u)&&(t.class=Ve(u)),Ue(a)&&(nl(a)&&!_e(a)&&(a=dt({},a)),t.style=vt(a))}const s=Je(e)?1:Fh(e)?128:th(e)?64:Ue(e)?4:we(e)?2:0;return L(e,t,n,i,o,s,r,!0)}function Ag(e){return e?nl(e)||wh(e)?dt({},e):e:null}function Zn(e,t,n=!1,i=!1){const{props:o,ref:r,patchFlag:s,children:u,transition:a}=e,l=t?ul(o||{},t):o,c={__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&Oh(l),ref:t&&t.ref?n&&r?_e(r)?r.concat(Nr(t)):[r,Nr(t)]:Nr(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:u,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Ie?s===-1?16:s|16:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:a,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Zn(e.ssContent),ssFallback:e.ssFallback&&Zn(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return a&&i&&Po(c,a.clone(c)),c}function tt(e=" ",t=0){return he(xs,null,e,t)}function Yl(e,t){const n=he(Mr,null,e);return n.staticCount=t,n}function Me(e="",t=!1){return t?(X(),Ye(Ct,null,e)):he(Ct,null,e)}function an(e){return e==null||typeof e=="boolean"?he(Ct):_e(e)?he(Ie,null,e.slice()):Oo(e)?Rn(e):he(xs,null,String(e))}function Rn(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Zn(e)}function sl(e,t){let n=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(_e(t))n=16;else if(typeof t=="object")if(i&65){const o=t.default;o&&(o._c&&(o._d=!1),sl(e,o()),o._c&&(o._d=!0));return}else{n=32;const o=t._;!o&&!wh(t)?t._ctx=ct:o===3&&ct&&(ct.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else we(t)?(t={default:t,_ctx:ct},n=32):(t=String(t),i&64?(n=16,t=[tt(t)]):n=8);e.children=t,e.shapeFlag|=n}function ul(...e){const t={};for(let n=0;n<e.length;n++){const i=e[n];for(const o in i)if(o==="class")t.class!==i.class&&(t.class=Ve([t.class,i.class]));else if(o==="style")t.style=vt([t.style,i.style]);else if(cs(o)){const r=t[o],s=i[o];s&&r!==s&&!(_e(r)&&r.includes(s))&&(t[o]=r?[].concat(r,s):s)}else o!==""&&(t[o]=i[o])}return t}function on(e,t,n,i=null){Xt(e,t,7,[n,i])}const Dg=vh();let Tg=0;function Mg(e,t,n){const i=e.type,o=(t?t.appContext:e.appContext)||Dg,r={uid:Tg++,vnode:e,type:i,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Nf(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ch(i,o),emitsOptions:Nh(i,o),emit:null,emitted:null,propsDefaults:qe,inheritAttrs:i.inheritAttrs,ctx:qe,data:qe,props:qe,attrs:qe,slots:qe,refs:qe,setupState:qe,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=yg.bind(null,r),e.ce&&e.ce(r),r}let pt=null;const ii=()=>pt||ct;let Gr,wa;{const e=hs(),t=(n,i)=>{let o;return(o=e[n])||(o=e[n]=[]),o.push(i),r=>{o.length>1?o.forEach(s=>s(r)):o[0](r)}};Gr=t("__VUE_INSTANCE_SETTERS__",n=>pt=n),wa=t("__VUE_SSR_SETTERS__",n=>Lo=n)}const ur=e=>{const t=pt;return Gr(e),e.scope.on(),()=>{e.scope.off(),Gr(t)}},Xl=()=>{pt&&pt.scope.off(),Gr(null)};function Lh(e){return e.vnode.shapeFlag&4}let Lo=!1;function Ng(e,t=!1,n=!1){t&&wa(t);const{props:i,children:o}=e.vnode,r=Lh(e);sg(e,i,r,t),cg(e,o,n);const s=r?Fg(e,t):void 0;return t&&wa(!1),s}function Fg(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Ym);const{setup:i}=n;if(i){ti();const o=e.setupContext=i.length>1?Rh(e):null,r=ur(e),s=sr(i,e,0,[e.props,o]),u=Sf(s);if(ni(),r(),(u||e.sp)&&!Bi(e)&&uh(e),u){if(s.then(Xl,Xl),t)return s.then(a=>{Kl(e,a)}).catch(a=>{vs(a,e,0)});e.asyncDep=s}else Kl(e,s)}else zh(e)}function Kl(e,t,n){we(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Ue(t)&&(e.setupState=Zf(t)),zh(e)}function zh(e,t,n){const i=e.type;e.render||(e.render=i.render||dn);{const o=ur(e);ti();try{Qm(e)}finally{ni(),o()}}}const Pg={get(e,t){return mt(e,"get",""),e[t]}};function Rh(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,Pg),slots:e.slots,emit:e.emit,expose:t}}function Cs(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Zf(Ri(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Eo)return Eo[n](e)},has(t,n){return n in t||n in Eo}})):e.proxy}function Og(e,t=!0){return we(e)?e.displayName||e.name:e.name||t&&e.__name}function Lg(e){return we(e)&&"__vccOpts"in e}const ve=(e,t)=>Tm(e,t,Lo);function Be(e,t,n){const i=arguments.length;return i===2?Ue(t)&&!_e(t)?Oo(t)?he(e,null,[t]):he(e,t):he(e,null,t):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&Oo(n)&&(n=[n]),he(e,t,n))}function zg(e,t){const n=e.memo;if(n.length!=t.length)return!1;for(let i=0;i<n.length;i++)if(In(n[i],t[i]))return!1;return ji>0&&Et&&Et.push(e),!0}const Rg="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let xa;const Jl=typeof window<"u"&&window.trustedTypes;if(Jl)try{xa=Jl.createPolicy("vue",{createHTML:e=>e})}catch{}const $h=xa?e=>xa.createHTML(e):e=>e,$g="http://www.w3.org/2000/svg",Bg="http://www.w3.org/1998/Math/MathML",yn=typeof document<"u"?document:null,Ql=yn&&yn.createElement("template"),Hg={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,i)=>{const o=t==="svg"?yn.createElementNS($g,e):t==="mathml"?yn.createElementNS(Bg,e):n?yn.createElement(e,{is:n}):yn.createElement(e);return e==="select"&&i&&i.multiple!=null&&o.setAttribute("multiple",i.multiple),o},createText:e=>yn.createTextNode(e),createComment:e=>yn.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>yn.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,i,o,r){const s=n?n.previousSibling:t.lastChild;if(o&&(o===r||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),n),!(o===r||!(o=o.nextSibling)););else{Ql.innerHTML=$h(i==="svg"?`<svg>${e}</svg>`:i==="mathml"?`<math>${e}</math>`:e);const u=Ql.content;if(i==="svg"||i==="mathml"){const a=u.firstChild;for(;a.firstChild;)u.appendChild(a.firstChild);u.removeChild(a)}t.insertBefore(u,n)}return[s?s.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Fn="transition",ho="animation",zo=Symbol("_vtc"),Bh={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Vg=dt({},nh,Bh),Ug=e=>(e.displayName="Transition",e.props=Vg,e),qg=Ug((e,{slots:t})=>Be($m,Gg(e),t)),si=(e,t=[])=>{_e(e)?e.forEach(n=>n(...t)):e&&e(...t)},ec=e=>e?_e(e)?e.some(t=>t.length>1):e.length>1:!1;function Gg(e){const t={};for(const E in e)E in Bh||(t[E]=e[E]);if(e.css===!1)return t;const{name:n="v",type:i,duration:o,enterFromClass:r=`${n}-enter-from`,enterActiveClass:s=`${n}-enter-active`,enterToClass:u=`${n}-enter-to`,appearFromClass:a=r,appearActiveClass:l=s,appearToClass:c=u,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:h=`${n}-leave-to`}=e,m=jg(o),b=m&&m[0],v=m&&m[1],{onBeforeEnter:y,onEnter:_,onEnterCancelled:p,onLeave:g,onLeaveCancelled:S,onBeforeAppear:C=y,onAppear:F=_,onAppearCancelled:w=p}=t,x=(E,z,M,U)=>{E._enterCancelled=U,ui(E,z?c:u),ui(E,z?l:s),M&&M()},N=(E,z)=>{E._isLeaving=!1,ui(E,d),ui(E,h),ui(E,f),z&&z()},P=E=>(z,M)=>{const U=E?F:_,$=()=>x(z,E,M);si(U,[z,$]),tc(()=>{ui(z,E?a:r),vn(z,E?c:u),ec(U)||nc(z,i,b,$)})};return dt(t,{onBeforeEnter(E){si(y,[E]),vn(E,r),vn(E,s)},onBeforeAppear(E){si(C,[E]),vn(E,a),vn(E,l)},onEnter:P(!1),onAppear:P(!0),onLeave(E,z){E._isLeaving=!0;const M=()=>N(E,z);vn(E,d),E._enterCancelled?(vn(E,f),rc()):(rc(),vn(E,f)),tc(()=>{E._isLeaving&&(ui(E,d),vn(E,h),ec(g)||nc(E,i,v,M))}),si(g,[E,M])},onEnterCancelled(E){x(E,!1,void 0,!0),si(p,[E])},onAppearCancelled(E){x(E,!0,void 0,!0),si(w,[E])},onLeaveCancelled(E){N(E),si(S,[E])}})}function jg(e){if(e==null)return null;if(Ue(e))return[Ys(e.enter),Ys(e.leave)];{const t=Ys(e);return[t,t]}}function Ys(e){return Wp(e)}function vn(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[zo]||(e[zo]=new Set)).add(t)}function ui(e,t){t.split(/\s+/).forEach(i=>i&&e.classList.remove(i));const n=e[zo];n&&(n.delete(t),n.size||(e[zo]=void 0))}function tc(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let Wg=0;function nc(e,t,n,i){const o=e._endId=++Wg,r=()=>{o===e._endId&&i()};if(n!=null)return setTimeout(r,n);const{type:s,timeout:u,propCount:a}=Zg(e,t);if(!s)return i();const l=s+"end";let c=0;const d=()=>{e.removeEventListener(l,f),r()},f=h=>{h.target===e&&++c>=a&&d()};setTimeout(()=>{c<a&&d()},u+1),e.addEventListener(l,f)}function Zg(e,t){const n=window.getComputedStyle(e),i=m=>(n[m]||"").split(", "),o=i(`${Fn}Delay`),r=i(`${Fn}Duration`),s=ic(o,r),u=i(`${ho}Delay`),a=i(`${ho}Duration`),l=ic(u,a);let c=null,d=0,f=0;t===Fn?s>0&&(c=Fn,d=s,f=r.length):t===ho?l>0&&(c=ho,d=l,f=a.length):(d=Math.max(s,l),c=d>0?s>l?Fn:ho:null,f=c?c===Fn?r.length:a.length:0);const h=c===Fn&&/\b(transform|all)(,|$)/.test(i(`${Fn}Property`).toString());return{type:c,timeout:d,propCount:f,hasTransform:h}}function ic(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,i)=>oc(n)+oc(e[i])))}function oc(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function rc(){return document.body.offsetHeight}function Yg(e,t,n){const i=e[zo];i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const jr=Symbol("_vod"),Hh=Symbol("_vsh"),_t={beforeMount(e,{value:t},{transition:n}){e[jr]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):po(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:i}){!t!=!n&&(i?t?(i.beforeEnter(e),po(e,!0),i.enter(e)):i.leave(e,()=>{po(e,!1)}):po(e,t))},beforeUnmount(e,{value:t}){po(e,t)}};function po(e,t){e.style.display=t?e[jr]:"none",e[Hh]=!t}const Xg=Symbol(""),Kg=/(^|;)\s*display\s*:/;function Jg(e,t,n){const i=e.style,o=Je(n);let r=!1;if(n&&!o){if(t)if(Je(t))for(const s of t.split(";")){const u=s.slice(0,s.indexOf(":")).trim();n[u]==null&&Fr(i,u,"")}else for(const s in t)n[s]==null&&Fr(i,s,"");for(const s in n)s==="display"&&(r=!0),Fr(i,s,n[s])}else if(o){if(t!==n){const s=i[Xg];s&&(n+=";"+s),i.cssText=n,r=Kg.test(n)}}else t&&e.removeAttribute("style");jr in e&&(e[jr]=r?i.display:"",e[Hh]&&(i.display="none"))}const sc=/\s*!important$/;function Fr(e,t,n){if(_e(n))n.forEach(i=>Fr(e,t,i));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const i=Qg(e,t);sc.test(n)?e.setProperty(Ai(i),n.replace(sc,""),"important"):e[i]=n}}const uc=["Webkit","Moz","ms"],Xs={};function Qg(e,t){const n=Xs[t];if(n)return n;let i=Ht(t);if(i!=="filter"&&i in e)return Xs[t]=i;i=fs(i);for(let o=0;o<uc.length;o++){const r=uc[o]+i;if(r in e)return Xs[t]=r}return t}const ac="http://www.w3.org/1999/xlink";function lc(e,t,n,i,o,r=Qp(t)){i&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(ac,t.slice(6,t.length)):e.setAttributeNS(ac,t,n):n==null||r&&!Df(n)?e.removeAttribute(t):e.setAttribute(t,r?"":Yt(n)?String(n):n)}function cc(e,t,n,i,o){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?$h(n):n);return}const r=e.tagName;if(t==="value"&&r!=="PROGRESS"&&!r.includes("-")){const u=r==="OPTION"?e.getAttribute("value")||"":e.value,a=n==null?e.type==="checkbox"?"on":"":String(n);(u!==a||!("_value"in e))&&(e.value=a),n==null&&e.removeAttribute(t),e._value=n;return}let s=!1;if(n===""||n==null){const u=typeof e[t];u==="boolean"?n=Df(n):n==null&&u==="string"?(n="",s=!0):u==="number"&&(n=0,s=!0)}try{e[t]=n}catch{}s&&e.removeAttribute(o||t)}function Vn(e,t,n,i){e.addEventListener(t,n,i)}function e1(e,t,n,i){e.removeEventListener(t,n,i)}const dc=Symbol("_vei");function t1(e,t,n,i,o=null){const r=e[dc]||(e[dc]={}),s=r[t];if(i&&s)s.value=i;else{const[u,a]=n1(t);if(i){const l=r[t]=r1(i,o);Vn(e,u,l,a)}else s&&(e1(e,u,s,a),r[t]=void 0)}}const fc=/(?:Once|Passive|Capture)$/;function n1(e){let t;if(fc.test(e)){t={};let i;for(;i=e.match(fc);)e=e.slice(0,e.length-i[0].length),t[i[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Ai(e.slice(2)),t]}let Ks=0;const i1=Promise.resolve(),o1=()=>Ks||(i1.then(()=>Ks=0),Ks=Date.now());function r1(e,t){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;Xt(s1(i,n.value),t,5,[i])};return n.value=e,n.attached=o1(),n}function s1(e,t){if(_e(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(i=>o=>!o._stopped&&i&&i(o))}else return t}const hc=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,u1=(e,t,n,i,o,r)=>{const s=o==="svg";t==="class"?Yg(e,i,s):t==="style"?Jg(e,n,i):cs(t)?ja(t)||t1(e,t,n,i,r):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):a1(e,t,i,s))?(cc(e,t,i),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&lc(e,t,i,s,r,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Je(i))?cc(e,Ht(t),i,r,t):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),lc(e,t,i,s))};function a1(e,t,n,i){if(i)return!!(t==="innerHTML"||t==="textContent"||t in e&&hc(t)&&we(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const o=e.tagName;if(o==="IMG"||o==="VIDEO"||o==="CANVAS"||o==="SOURCE")return!1}return hc(t)&&Je(n)?!1:t in e}const Wi=e=>{const t=e.props["onUpdate:modelValue"]||!1;return _e(t)?n=>Dr(t,n):t};function l1(e){e.target.composing=!0}function pc(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const An=Symbol("_assign"),Ca={created(e,{modifiers:{lazy:t,trim:n,number:i}},o){e[An]=Wi(o);const r=i||o.props&&o.props.type==="number";Vn(e,t?"change":"input",s=>{if(s.target.composing)return;let u=e.value;n&&(u=u.trim()),r&&(u=Rr(u)),e[An](u)}),n&&Vn(e,"change",()=>{e.value=e.value.trim()}),t||(Vn(e,"compositionstart",l1),Vn(e,"compositionend",pc),Vn(e,"change",pc))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:i,trim:o,number:r}},s){if(e[An]=Wi(s),e.composing)return;const u=(r||e.type==="number")&&!/^0\d/.test(e.value)?Rr(e.value):e.value,a=t??"";u!==a&&(document.activeElement===e&&e.type!=="range"&&(i&&t===n||o&&e.value.trim()===a)||(e.value=a))}},rn={deep:!0,created(e,t,n){e[An]=Wi(n),Vn(e,"change",()=>{const i=e._modelValue,o=Ro(e),r=e.checked,s=e[An];if(_e(i)){const u=Ya(i,o),a=u!==-1;if(r&&!a)s(i.concat(o));else if(!r&&a){const l=[...i];l.splice(u,1),s(l)}}else if(ro(i)){const u=new Set(i);r?u.add(o):u.delete(o),s(u)}else s(Uh(e,r))})},mounted:mc,beforeUpdate(e,t,n){e[An]=Wi(n),mc(e,t,n)}};function mc(e,{value:t,oldValue:n},i){e._modelValue=t;let o;if(_e(t))o=Ya(t,i.props.value)>-1;else if(ro(t))o=t.has(i.props.value);else{if(t===n)return;o=rr(t,Uh(e,!0))}e.checked!==o&&(e.checked=o)}const Vh={deep:!0,created(e,{value:t,modifiers:{number:n}},i){const o=ro(t);Vn(e,"change",()=>{const r=Array.prototype.filter.call(e.options,s=>s.selected).map(s=>n?Rr(Ro(s)):Ro(s));e[An](e.multiple?o?new Set(r):r:r[0]),e._assigning=!0,lt(()=>{e._assigning=!1})}),e[An]=Wi(i)},mounted(e,{value:t}){gc(e,t)},beforeUpdate(e,t,n){e[An]=Wi(n)},updated(e,{value:t}){e._assigning||gc(e,t)}};function gc(e,t){const n=e.multiple,i=_e(t);if(!(n&&!i&&!ro(t))){for(let o=0,r=e.options.length;o<r;o++){const s=e.options[o],u=Ro(s);if(n)if(i){const a=typeof u;a==="string"||a==="number"?s.selected=t.some(l=>String(l)===String(u)):s.selected=Ya(t,u)>-1}else s.selected=t.has(u);else if(rr(Ro(s),t)){e.selectedIndex!==o&&(e.selectedIndex=o);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Ro(e){return"_value"in e?e._value:e.value}function Uh(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const c1=["ctrl","shift","alt","meta"],d1={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>c1.some(n=>e[`${n}Key`]&&!t.includes(n))},Ti=(e,t)=>{const n=e._withMods||(e._withMods={}),i=t.join(".");return n[i]||(n[i]=(o,...r)=>{for(let s=0;s<t.length;s++){const u=d1[t[s]];if(u&&u(o,t))return}return e(o,...r)})},f1=dt({patchProp:u1},Hg);let _c;function h1(){return _c||(_c=fg(f1))}const p1=(...e)=>{const t=h1().createApp(...e),{mount:n}=t;return t.mount=i=>{const o=g1(i);if(!o)return;const r=t._component;!we(r)&&!r.render&&!r.template&&(r.template=o.innerHTML),o.nodeType===1&&(o.textContent="");const s=n(o,!1,m1(o));return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),s},t};function m1(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function g1(e){return Je(e)?document.querySelector(e):e}class al extends Error{constructor(t,n){super(n),this.type=t}}class gi extends al{constructor(t,n){super("Configuration",t),this.node=n}}class _1 extends al{constructor(t){super("PopoutBlocked",t)}}class v1 extends al{constructor(t){super("Bind",t)}}class Es extends Error{constructor(t,n,i){super(`${t}: ${n}${i===void 0?"":": "+i}`)}}class Re extends Es{constructor(t,n){super("Assert",t,n)}}class Ft extends Es{constructor(t,n,i){super("UnreachableCase",t,`${n}${i===void 0?"":": "+i}`)}}class Ze extends Es{constructor(t,n){super("UnexpectedNull",t,n)}}class Se extends Es{constructor(t,n){super("UnexpectedUndefined",t,n)}}var Wr;(function(e){let t=!1;const n={PopoutCannotBeCreatedWithGroundItemConfig:{id:0,default:"Popout cannot be created with ground ItemConfig"},PleaseRegisterAConstructorFunction:{id:1,default:"Please register a constructor function"},ComponentTypeNotRegisteredAndBindComponentEventHandlerNotAssigned:{id:2,default:"Component type not registered and BindComponentEvent handler not assigned"},ComponentIsAlreadyRegistered:{id:3,default:"Component is already registered"},ComponentIsNotVirtuable:{id:4,default:"Component is not virtuable. Requires rootHtmlElement field/getter"},VirtualComponentDoesNotHaveRootHtmlElement:{id:5,default:'Virtual component does not have getter "rootHtmlElement"'},ItemConfigIsNotTypeComponent:{id:6,default:"ItemConfig is not of type component"},InvalidNumberPartInSizeString:{id:7,default:"Invalid number part in size string"},UnknownUnitInSizeString:{id:8,default:"Unknown unit in size string"},UnsupportedUnitInSizeString:{id:9,default:"Unsupported unit in size string"}};e.idCount=Object.keys(n).length;const i=Object.values(n);function o(){if(!t)for(let r=0;r<e.idCount;r++){const s=i[r];if(s.id!==r)throw new Re("INSI00110",`${r}: ${s.id}`);_i[r]=s.default}t=!0}e.checkInitialise=o})(Wr||(Wr={}));const _i=new Array(Wr.idCount);var ko;(function(e){e.defaultComponentBaseZIndex="auto",e.defaultComponentDragZIndex="32",e.defaultComponentStackMaximisedZIndex="41"})(ko||(ko={}));var Zr;(function(e){e.width="width",e.height="height"})(Zr||(Zr={}));var Yn;(function(e){e.top="top",e.left="left",e.right="right",e.bottom="bottom"})(Yn||(Yn={}));var Io;(function(e){e.base="base",e.drag="drag",e.stackMaximised="stackMaximised"})(Io||(Io={}));const b1={base:ko.defaultComponentBaseZIndex,drag:ko.defaultComponentDragZIndex,stackMaximised:ko.defaultComponentStackMaximisedZIndex};var vc;(function(e){function t(i){return n(i)}e.isJson=t;function n(i){return!Array.isArray(i)&&i!==null&&typeof i=="object"}e.isJsonObject=n})(vc||(vc={}));var oe;(function(e){e.ground="ground",e.row="row",e.column="column",e.stack="stack",e.component="component"})(oe||(oe={}));var $o;(function(e){e.none="none",e.always="always",e.onload="onload"})($o||($o={}));var Pe;(function(e){e.Pixel="px",e.Percent="%",e.Fractional="fr",e.Em="em"})(Pe||(Pe={}));(function(e){function t(i){switch(i){case e.Pixel:return e.Pixel;case e.Percent:return e.Percent;case e.Fractional:return e.Fractional;case e.Em:return e.Em;default:return}}e.tryParse=t;function n(i){switch(i){case e.Pixel:return e.Pixel;case e.Percent:return e.Percent;case e.Fractional:return e.Fractional;case e.Em:return e.Em;default:throw new Ft("SUEF44998",i)}}e.format=n})(Pe||(Pe={}));function $e(e){return e.toString(10)+"px"}function Pi(e){const t=e.replace("px","");return parseFloat(t)}function y1(e){e=e.trimStart();const t=e.length;if(t===0)return{numericPart:"",firstNonNumericCharPart:""};{let n=t,i=!1;for(let s=0;s<t;s++){const u=e[s];if(!w1(u))if(u!=="."){n=s;break}else if(i){n=s;break}else i=!0}const o=e.substring(0,n),r=e.substring(n).trim();return{numericPart:o,firstNonNumericCharPart:r}}}function w1(e){return e>="0"&&e<="9"}function x1(e){return e.offsetWidth}function Rt(e,t){const n=$e(t);e.style.width=n}function C1(e){return e.offsetHeight}function $t(e,t){const n=$e(t);e.style.height=n}function qn(e){return{width:e.offsetWidth,height:e.offsetHeight}}function vi(e,t){t?e.style.display="":e.style.display="none"}function ci(e,t){if(t!==void 0){for(const n in t)if(t.hasOwnProperty(n)){const i=t[n],o=e[n];e[n]=Bo(o,i)}}return e}function Bo(e,t){if(typeof t!="object")return t;if(Array.isArray(t)){const n=t.length,i=new Array(n);for(let o=0;o<n;o++){const r=t[o];i[o]=Bo({},r)}return i}else{if(t===null)return null;{const n=t;return e===void 0?ci({},n):typeof e!="object"?ci({},n):Array.isArray(e)?ci({},n):ci(e===null?{}:e,n)}}}function E1(e,t){const n=t.indexOf(e);if(n===-1)throw new Error("Can't remove item from array. Item is not in the array");t.splice(n,1)}function qh(){return(Math.random()*1e15).toString(36).replace(".","")}function S1(e){return e instanceof Error?e.message:typeof e=="string"?e:"Unknown Error"}var Ho;(function(e){const t=["settings","hasHeaders","constrainDragToContainer","selectionEnabled","dimensions","borderWidth","minItemHeight","minItemWidth","headerHeight","dragProxyWidth","dragProxyHeight","labels","close","maximise","minimise","popout","content","componentType","componentState","id","width","type","height","isClosable","title","popoutWholeStack","openPopouts","parentId","activeItemIndex","reorderEnabled","borderGrabWidth"],n=[!0,!1,"row","column","stack","component","close","maximise","minimise","open in new window"];function i(){if(t.length>36)throw new Error("Too many keys in config minifier map")}e.checkInitialise=i;function o(h,m){const b={};for(const v in h)if(h.hasOwnProperty(v)){let y;m?y=u(v):y=a(v);const _=h[v];b[y]=s(_,m)}return b}e.translateObject=o;function r(h,m){const b=h.length,v=new Array(b);for(let y=0;y<b;y++){const _=h[y];v[y]=s(_,m)}return v}function s(h,m){return typeof h=="object"?h===null?null:Array.isArray(h)?r(h,m):o(h,m):m?l(h):c(h)}function u(h){if(typeof h=="string"&&h.length===1)return"___"+h;const m=d(h);return m===-1?h:m.toString(36)}function a(h){return h.length===1?t[parseInt(h,36)]:h.substr(0,3)==="___"?h[3]:h}function l(h){if(typeof h=="string"&&h.length===1)return"___"+h;const m=f(h);return m===-1?h:m.toString(36)}function c(h){return typeof h=="string"&&h.length===1?n[parseInt(h,36)]:typeof h=="string"&&h.substr(0,3)==="___"?h[3]:h}function d(h){for(let m=0;m<t.length;m++)if(t[m]===h)return m;return-1}function f(h){for(let m=0;m<n.length;m++)if(n[m]===h)return m;return-1}})(Ho||(Ho={}));var De;(function(e){e.defaults={type:oe.ground,content:[],size:1,sizeUnit:Pe.Fractional,minSize:void 0,minSizeUnit:Pe.Pixel,id:"",isClosable:!0};function t(s,u){switch(s.type){case oe.ground:case oe.row:case oe.column:return Yi.createCopy(s,u);case oe.stack:return Tn.createCopy(s,u);case oe.component:return Zi.createCopy(s);default:throw new Ft("CICC91354",s.type,"Invalid Config Item type specified")}}e.createCopy=t;function n(s){switch(s){case oe.ground:throw new Re("CICCDR91562");case oe.row:case oe.column:return Yi.createDefault(s);case oe.stack:return Tn.createDefault();case oe.component:return Zi.createDefault();default:throw new Ft("CICCDD91563",s,"Invalid Config Item type specified")}}e.createDefault=n;function i(s){return s.type===oe.component}e.isComponentItem=i;function o(s){return s.type===oe.stack}e.isStackItem=o;function r(s){return s.type===oe.ground}e.isGroundItem=r})(De||(De={}));var Vt;(function(e){e.defaultMaximised=!1,function(t){function n(i,o){if(i!==void 0)return{show:o??i.show,popout:i.popout,close:i.close,maximise:i.maximise,minimise:i.minimise,tabDropdown:i.tabDropdown}}t.createCopy=n}(e.Header||(e.Header={}))})(Vt||(Vt={}));var Tn;(function(e){e.defaultActiveItemIndex=0;function t(o,r){return{type:o.type,content:n(r!==void 0?r:o.content),size:o.size,sizeUnit:o.sizeUnit,minSize:o.minSize,minSizeUnit:o.minSizeUnit,id:o.id,maximised:o.maximised,isClosable:o.isClosable,activeItemIndex:o.activeItemIndex,header:Vt.Header.createCopy(o.header)}}e.createCopy=t;function n(o){const r=o.length,s=new Array(r);for(let u=0;u<r;u++)s[u]=De.createCopy(o[u]);return s}e.copyContent=n;function i(){return{type:oe.stack,content:[],size:De.defaults.size,sizeUnit:De.defaults.sizeUnit,minSize:De.defaults.minSize,minSizeUnit:De.defaults.minSizeUnit,id:De.defaults.id,maximised:Vt.defaultMaximised,isClosable:De.defaults.isClosable,activeItemIndex:e.defaultActiveItemIndex,header:void 0}}e.createDefault=i})(Tn||(Tn={}));var Zi;(function(e){e.defaultReorderEnabled=!0;function t(r){const s=r.componentType;if(typeof s=="string")return s}e.resolveComponentTypeName=t;function n(r){return{type:r.type,content:[],size:r.size,sizeUnit:r.sizeUnit,minSize:r.minSize,minSizeUnit:r.minSizeUnit,id:r.id,maximised:r.maximised,isClosable:r.isClosable,reorderEnabled:r.reorderEnabled,title:r.title,header:Vt.Header.createCopy(r.header),componentType:r.componentType,componentState:Bo(void 0,r.componentState)}}e.createCopy=n;function i(r="",s,u=""){return{type:oe.component,content:[],size:De.defaults.size,sizeUnit:De.defaults.sizeUnit,minSize:De.defaults.minSize,minSizeUnit:De.defaults.minSizeUnit,id:De.defaults.id,maximised:Vt.defaultMaximised,isClosable:De.defaults.isClosable,reorderEnabled:e.defaultReorderEnabled,title:u,header:void 0,componentType:r,componentState:s}}e.createDefault=i;function o(r){return Bo({},r)}e.copyComponentType=o})(Zi||(Zi={}));var Yi;(function(e){function t(r){switch(r.type){case oe.row:case oe.column:case oe.stack:case oe.component:return!0;case oe.ground:return!1;default:throw new Ft("CROCOSPCICIC13687",r.type)}}e.isChildItemConfig=t;function n(r,s){return{type:r.type,content:i(s!==void 0?s:r.content),size:r.size,sizeUnit:r.sizeUnit,minSize:r.minSize,minSizeUnit:r.minSizeUnit,id:r.id,isClosable:r.isClosable}}e.createCopy=n;function i(r){const s=r.length,u=new Array(s);for(let a=0;a<s;a++)u[a]=De.createCopy(r[a]);return u}e.copyContent=i;function o(r){return{type:r,content:[],size:De.defaults.size,sizeUnit:De.defaults.sizeUnit,minSize:De.defaults.minSize,minSizeUnit:De.defaults.minSizeUnit,id:De.defaults.id,isClosable:De.defaults.isClosable}}e.createDefault=o})(Yi||(Yi={}));var Ei;(function(e){function t(i){return De.createCopy(i)}e.createCopy=t;function n(i){switch(i.type){case oe.row:case oe.column:case oe.stack:case oe.component:return!0;case oe.ground:return!1;default:throw new Ft("CROCOSPCICIC13687",i.type)}}e.isRootItemConfig=n})(Ei||(Ei={}));var Ea;(function(e){function t(n){const i=n===void 0?[]:[n];return{type:oe.ground,content:i,size:100,sizeUnit:Pe.Percent,minSize:0,minSizeUnit:Pe.Pixel,id:"",isClosable:!1,title:"",reorderEnabled:!1}}e.create=t})(Ea||(Ea={}));var ye;(function(e){(function(u){u.defaults={constrainDragToContainer:!0,reorderEnabled:!0,popoutWholeStack:!1,blockedPopoutsThrowError:!0,closePopoutsOnUnload:!0,responsiveMode:$o.none,tabOverlapAllowance:0,reorderOnTabMenuClick:!0,tabControlOffset:10,popInOnClose:!1};function a(l){return{constrainDragToContainer:l.constrainDragToContainer,reorderEnabled:l.reorderEnabled,popoutWholeStack:l.popoutWholeStack,blockedPopoutsThrowError:l.blockedPopoutsThrowError,closePopoutsOnUnload:l.closePopoutsOnUnload,responsiveMode:l.responsiveMode,tabOverlapAllowance:l.tabOverlapAllowance,reorderOnTabMenuClick:l.reorderOnTabMenuClick,tabControlOffset:l.tabControlOffset,popInOnClose:l.popInOnClose}}u.createCopy=a})(e.Settings||(e.Settings={})),function(u){function a(l){return{borderWidth:l.borderWidth,borderGrabWidth:l.borderGrabWidth,defaultMinItemHeight:l.defaultMinItemHeight,defaultMinItemHeightUnit:l.defaultMinItemHeightUnit,defaultMinItemWidth:l.defaultMinItemWidth,defaultMinItemWidthUnit:l.defaultMinItemWidthUnit,headerHeight:l.headerHeight,dragProxyWidth:l.dragProxyWidth,dragProxyHeight:l.dragProxyHeight}}u.createCopy=a,u.defaults={borderWidth:5,borderGrabWidth:5,defaultMinItemHeight:0,defaultMinItemHeightUnit:Pe.Pixel,defaultMinItemWidth:10,defaultMinItemWidthUnit:Pe.Pixel,headerHeight:20,dragProxyWidth:300,dragProxyHeight:200}}(e.Dimensions||(e.Dimensions={})),function(u){function a(l){return{show:l.show,popout:l.popout,dock:l.dock,close:l.close,maximise:l.maximise,minimise:l.minimise,tabDropdown:l.tabDropdown}}u.createCopy=a,u.defaults={show:Yn.top,popout:"open in new window",dock:"dock",maximise:"maximise",minimise:"minimise",close:"close",tabDropdown:"additional tabs"}}(e.Header||(e.Header={}));function t(u){return"parentId"in u}e.isPopout=t;function n(){return{root:void 0,openPopouts:[],dimensions:e.Dimensions.defaults,settings:e.Settings.defaults,header:e.Header.defaults,resolved:!0}}e.createDefault=n;function i(u){return t(u)?Vo.createCopy(u):{root:u.root===void 0?void 0:Ei.createCopy(u.root),openPopouts:e.copyOpenPopouts(u.openPopouts),settings:e.Settings.createCopy(u.settings),dimensions:e.Dimensions.createCopy(u.dimensions),header:e.Header.createCopy(u.header),resolved:u.resolved}}e.createCopy=i;function o(u){const a=u.length,l=new Array(a);for(let c=0;c<a;c++)l[c]=Vo.createCopy(u[c]);return l}e.copyOpenPopouts=o;function r(u){return Ho.translateObject(u,!0)}e.minifyConfig=r;function s(u){return Ho.translateObject(u,!1)}e.unminifyConfig=s})(ye||(ye={}));var Vo;(function(e){(function(n){function i(o){return{width:o.width,height:o.height,left:o.left,top:o.top}}n.createCopy=i,n.defaults={width:null,height:null,left:null,top:null}})(e.Window||(e.Window={}));function t(n){return{root:n.root===void 0?void 0:Ei.createCopy(n.root),openPopouts:ye.copyOpenPopouts(n.openPopouts),settings:ye.Settings.createCopy(n.settings),dimensions:ye.Dimensions.createCopy(n.dimensions),header:ye.Header.createCopy(n.header),parentId:n.parentId,indexInParent:n.indexInParent,window:e.Window.createCopy(n.window),resolved:n.resolved}}e.createCopy=t})(Vo||(Vo={}));var Ke;(function(e){function t(f,h){switch(f.type){case oe.ground:throw new gi("ItemConfig cannot specify type ground",JSON.stringify(f));case oe.row:case oe.column:return Yr.resolve(f,h);case oe.stack:return Uo.resolve(f,h);case oe.component:return Xn.resolve(f,h);default:throw new Ft("UCUICR55499",f.type)}}e.resolve=t;function n(f){if(f===void 0)return[];{const h=f.length,m=new Array(h);for(let b=0;b<h;b++)m[b]=e.resolve(f[b],!1);return m}}e.resolveContent=n;function i(f){return f===void 0?De.defaults.id:Array.isArray(f)?f.length===0?De.defaults.id:f[0]:f}e.resolveId=i;function o(f,h,m,b){if(f!==void 0)return Xr(f,[Pe.Percent,Pe.Fractional]);if(h!==void 0||m!==void 0){if(h!==void 0)return{size:h,sizeUnit:Pe.Percent};if(m!==void 0)return{size:m,sizeUnit:Pe.Percent};throw new Se("CRS33390")}else return b?{size:50,sizeUnit:Pe.Percent}:{size:De.defaults.size,sizeUnit:De.defaults.sizeUnit}}e.resolveSize=o;function r(f,h,m){if(f!==void 0)return Xr(f,[Pe.Pixel]);{const b=h!==void 0;return b||m!==void 0?b?{size:h,sizeUnit:Pe.Pixel}:{size:m,sizeUnit:Pe.Pixel}:{size:De.defaults.minSize,sizeUnit:De.defaults.minSizeUnit}}}e.resolveMinSize=r;function s(f){return f.size!==void 0?1:f.width!==void 0||f.height!==void 0?2:0}e.calculateSizeWidthHeightSpecificationType=s;function u(f){return f.type===oe.ground}e.isGround=u;function a(f){return f.type===oe.row}e.isRow=a;function l(f){return f.type===oe.column}e.isColumn=l;function c(f){return f.type===oe.stack}e.isStack=c;function d(f){return f.type===oe.component}e.isComponent=d})(Ke||(Ke={}));var Xi;(function(e){const t="__glMaximised";(function(i){function o(r,s){var u;if(!(r===void 0&&s===void 0))return{show:(u=r==null?void 0:r.show)!==null&&u!==void 0?u:s===void 0?void 0:s?ye.Header.defaults.show:!1,popout:r==null?void 0:r.popout,maximise:r==null?void 0:r.maximise,close:r==null?void 0:r.close,minimise:r==null?void 0:r.minimise,tabDropdown:r==null?void 0:r.tabDropdown}}i.resolve=o})(e.Header||(e.Header={}));function n(i){let o,r=i.id,s=!1;if(r===void 0)o=De.defaults.id;else if(Array.isArray(r)){const a=r.findIndex(l=>l===t);a>0&&(s=!0,r=r.splice(a,1)),r.length>0?o=r[0]:o=De.defaults.id}else o=r;let u;return i.maximised!==void 0?u=i.maximised:u=s,{id:o,maximised:u}}e.resolveIdAndMaximised=n})(Xi||(Xi={}));var Uo;(function(e){function t(r,s){var u,a;const{id:l,maximised:c}=Xi.resolveIdAndMaximised(r),{size:d,sizeUnit:f}=Ke.resolveSize(r.size,r.width,r.height,s),{size:h,sizeUnit:m}=Ke.resolveMinSize(r.minSize,r.minWidth,r.minHeight);return{type:oe.stack,content:i(r.content),size:d,sizeUnit:f,minSize:h,minSizeUnit:m,id:l,maximised:c,isClosable:(u=r.isClosable)!==null&&u!==void 0?u:De.defaults.isClosable,activeItemIndex:(a=r.activeItemIndex)!==null&&a!==void 0?a:Tn.defaultActiveItemIndex,header:Xi.Header.resolve(r.header,r.hasHeaders)}}e.resolve=t;function n(r){return{type:oe.stack,content:o(r.content),size:qo(r.size,r.sizeUnit),minSize:ll(r.minSize,r.minSizeUnit),id:r.id,maximised:r.maximised,isClosable:r.isClosable,activeItemIndex:r.activeItemIndex,header:Vt.Header.createCopy(r.header)}}e.fromResolved=n;function i(r){if(r===void 0)return[];{const s=r.length,u=new Array(s);for(let a=0;a<s;a++){const l=r[a],c=Ke.resolve(l,!1);if(De.isComponentItem(c))u[a]=c;else throw new Re("UCUSICRC91114",JSON.stringify(c))}return u}}function o(r){const s=r.length,u=new Array(s);for(let a=0;a<s;a++){const l=r[a];u[a]=Xn.fromResolved(l)}return u}})(Uo||(Uo={}));var Xn;(function(e){function t(o,r){var s,u,a;let l=o.componentType;if(l===void 0&&(l=o.componentName),l===void 0)throw new Error("ComponentItemConfig.componentType is undefined");{const{id:c,maximised:d}=Xi.resolveIdAndMaximised(o);let f;o.title===void 0||o.title===""?f=e.componentTypeToTitle(l):f=o.title;const{size:h,sizeUnit:m}=Ke.resolveSize(o.size,o.width,o.height,r),{size:b,sizeUnit:v}=Ke.resolveMinSize(o.minSize,o.minWidth,o.minHeight);return{type:o.type,content:[],size:h,sizeUnit:m,minSize:b,minSizeUnit:v,id:c,maximised:d,isClosable:(s=o.isClosable)!==null&&s!==void 0?s:De.defaults.isClosable,reorderEnabled:(u=o.reorderEnabled)!==null&&u!==void 0?u:Zi.defaultReorderEnabled,title:f,header:Xi.Header.resolve(o.header,o.hasHeaders),componentType:l,componentState:(a=o.componentState)!==null&&a!==void 0?a:{}}}}e.resolve=t;function n(o){return{type:oe.component,size:qo(o.size,o.sizeUnit),minSize:ll(o.minSize,o.minSizeUnit),id:o.id,maximised:o.maximised,isClosable:o.isClosable,reorderEnabled:o.reorderEnabled,title:o.title,header:Vt.Header.createCopy(o.header),componentType:o.componentType,componentState:Bo(void 0,o.componentState)}}e.fromResolved=n;function i(o){switch(typeof o){case"string":return o;case"number":return o.toString();case"boolean":return o.toString();default:return""}}e.componentTypeToTitle=i})(Xn||(Xn={}));var Yr;(function(e){function t(s){switch(s.type){case oe.row:case oe.column:case oe.stack:case oe.component:return!0;case oe.ground:return!1;default:throw new Ft("UROCOSPCICIC13687",s.type)}}e.isChildItemConfig=t;function n(s,u){var a;const{size:l,sizeUnit:c}=Ke.resolveSize(s.size,s.width,s.height,u),{size:d,sizeUnit:f}=Ke.resolveMinSize(s.minSize,s.minWidth,s.minHeight);return{type:s.type,content:e.resolveContent(s.content),size:l,sizeUnit:c,minSize:d,minSizeUnit:f,id:Ke.resolveId(s.id),isClosable:(a=s.isClosable)!==null&&a!==void 0?a:De.defaults.isClosable}}e.resolve=n;function i(s){return{type:s.type,content:r(s.content),size:qo(s.size,s.sizeUnit),minSize:ll(s.minSize,s.minSizeUnit),id:s.id,isClosable:s.isClosable}}e.fromResolved=i;function o(s){if(s===void 0)return[];{const u=s.length,a=new Array(u);let l=!1,c=!1;for(let h=0;h<u;h++){const m=s[h];if(e.isChildItemConfig(m)){if(!c){const b=Ke.calculateSizeWidthHeightSpecificationType(m);switch(b){case 0:break;case 2:l=!0;break;case 1:c=!0;break;default:throw new Ft("ROCICRC87556",b)}}a[h]=m}else throw new gi("ItemConfig is not Row, Column or Stack",m)}let d;c?d=!1:l?d=!0:d=!1;const f=new Array(u);for(let h=0;h<u;h++){const m=a[h],b=Ke.resolve(m,d);if(Yi.isChildItemConfig(b))f[h]=b;else throw new Re("UROCOSPIC99512",JSON.stringify(b))}return f}}e.resolveContent=o;function r(s){const u=s.length,a=new Array(u);for(let l=0;l<u;l++){const c=s[l],d=c.type;let f;switch(d){case oe.row:case oe.column:f=e.fromResolved(c);break;case oe.stack:f=Uo.fromResolved(c);break;case oe.component:f=Xn.fromResolved(c);break;default:throw new Ft("ROCICFRC44797",d)}a[l]=f}return a}})(Yr||(Yr={}));var Ki;(function(e){function t(o){switch(o.type){case oe.row:case oe.column:case oe.stack:case oe.component:return!0;case oe.ground:return!1;default:throw new Ft("URICIR23687",o.type)}}e.isRootItemConfig=t;function n(o){if(o!==void 0){const r=Ke.resolve(o,!1);if(Ei.isRootItemConfig(r))return r;throw new gi("ItemConfig is not Row, Column or Stack",JSON.stringify(o))}}e.resolve=n;function i(o){if(o!==void 0){const r=o.type;switch(r){case oe.row:case oe.column:return Yr.fromResolved(o);case oe.stack:return Uo.fromResolved(o);case oe.component:return Xn.fromResolved(o);default:throw new Ft("RICFROU89921",r)}}}e.fromResolvedOrUndefined=i})(Ki||(Ki={}));var Nt;(function(e){(function(s){function u(a){var l,c,d,f,h,m,b,v,y,_;return{constrainDragToContainer:(l=a==null?void 0:a.constrainDragToContainer)!==null&&l!==void 0?l:ye.Settings.defaults.constrainDragToContainer,reorderEnabled:(c=a==null?void 0:a.reorderEnabled)!==null&&c!==void 0?c:ye.Settings.defaults.reorderEnabled,popoutWholeStack:(d=a==null?void 0:a.popoutWholeStack)!==null&&d!==void 0?d:ye.Settings.defaults.popoutWholeStack,blockedPopoutsThrowError:(f=a==null?void 0:a.blockedPopoutsThrowError)!==null&&f!==void 0?f:ye.Settings.defaults.blockedPopoutsThrowError,closePopoutsOnUnload:(h=a==null?void 0:a.closePopoutsOnUnload)!==null&&h!==void 0?h:ye.Settings.defaults.closePopoutsOnUnload,responsiveMode:(m=a==null?void 0:a.responsiveMode)!==null&&m!==void 0?m:ye.Settings.defaults.responsiveMode,tabOverlapAllowance:(b=a==null?void 0:a.tabOverlapAllowance)!==null&&b!==void 0?b:ye.Settings.defaults.tabOverlapAllowance,reorderOnTabMenuClick:(v=a==null?void 0:a.reorderOnTabMenuClick)!==null&&v!==void 0?v:ye.Settings.defaults.reorderOnTabMenuClick,tabControlOffset:(y=a==null?void 0:a.tabControlOffset)!==null&&y!==void 0?y:ye.Settings.defaults.tabControlOffset,popInOnClose:(_=a==null?void 0:a.popInOnClose)!==null&&_!==void 0?_:ye.Settings.defaults.popInOnClose}}s.resolve=u})(e.Settings||(e.Settings={})),function(s){function u(d){var f,h,m,b,v;const{size:y,sizeUnit:_}=s.resolveDefaultMinItemHeight(d),{size:p,sizeUnit:g}=s.resolveDefaultMinItemWidth(d);return{borderWidth:(f=d==null?void 0:d.borderWidth)!==null&&f!==void 0?f:ye.Dimensions.defaults.borderWidth,borderGrabWidth:(h=d==null?void 0:d.borderGrabWidth)!==null&&h!==void 0?h:ye.Dimensions.defaults.borderGrabWidth,defaultMinItemHeight:y,defaultMinItemHeightUnit:_,defaultMinItemWidth:p,defaultMinItemWidthUnit:g,headerHeight:(m=d==null?void 0:d.headerHeight)!==null&&m!==void 0?m:ye.Dimensions.defaults.headerHeight,dragProxyWidth:(b=d==null?void 0:d.dragProxyWidth)!==null&&b!==void 0?b:ye.Dimensions.defaults.dragProxyWidth,dragProxyHeight:(v=d==null?void 0:d.dragProxyHeight)!==null&&v!==void 0?v:ye.Dimensions.defaults.dragProxyHeight}}s.resolve=u;function a(d){return{borderWidth:d.borderWidth,borderGrabWidth:d.borderGrabWidth,defaultMinItemHeight:qo(d.defaultMinItemHeight,d.defaultMinItemHeightUnit),defaultMinItemWidth:qo(d.defaultMinItemWidth,d.defaultMinItemWidthUnit),headerHeight:d.headerHeight,dragProxyWidth:d.dragProxyWidth,dragProxyHeight:d.dragProxyHeight}}s.fromResolved=a;function l(d){const f=d==null?void 0:d.defaultMinItemHeight;return f===void 0?{size:ye.Dimensions.defaults.defaultMinItemHeight,sizeUnit:ye.Dimensions.defaults.defaultMinItemHeightUnit}:Xr(f,[Pe.Pixel])}s.resolveDefaultMinItemHeight=l;function c(d){const f=d==null?void 0:d.defaultMinItemWidth;return f===void 0?{size:ye.Dimensions.defaults.defaultMinItemWidth,sizeUnit:ye.Dimensions.defaults.defaultMinItemWidthUnit}:Xr(f,[Pe.Pixel])}s.resolveDefaultMinItemWidth=c}(e.Dimensions||(e.Dimensions={})),function(s){function u(a,l,c){var d,f,h,m,b,v,y,_,p,g,S,C;let F;return(a==null?void 0:a.show)!==void 0?F=a.show:l!==void 0&&l.hasHeaders!==void 0?F=l.hasHeaders?ye.Header.defaults.show:!1:F=ye.Header.defaults.show,{show:F,popout:(f=(d=a==null?void 0:a.popout)!==null&&d!==void 0?d:c==null?void 0:c.popout)!==null&&f!==void 0?f:(l==null?void 0:l.showPopoutIcon)===!1?!1:ye.Header.defaults.popout,dock:(m=(h=a==null?void 0:a.popin)!==null&&h!==void 0?h:c==null?void 0:c.popin)!==null&&m!==void 0?m:ye.Header.defaults.dock,maximise:(v=(b=a==null?void 0:a.maximise)!==null&&b!==void 0?b:c==null?void 0:c.maximise)!==null&&v!==void 0?v:(l==null?void 0:l.showMaximiseIcon)===!1?!1:ye.Header.defaults.maximise,close:(_=(y=a==null?void 0:a.close)!==null&&y!==void 0?y:c==null?void 0:c.close)!==null&&_!==void 0?_:(l==null?void 0:l.showCloseIcon)===!1?!1:ye.Header.defaults.close,minimise:(g=(p=a==null?void 0:a.minimise)!==null&&p!==void 0?p:c==null?void 0:c.minimise)!==null&&g!==void 0?g:ye.Header.defaults.minimise,tabDropdown:(C=(S=a==null?void 0:a.tabDropdown)!==null&&S!==void 0?S:c==null?void 0:c.tabDropdown)!==null&&C!==void 0?C:ye.Header.defaults.tabDropdown}}s.resolve=u}(e.Header||(e.Header={}));function t(s){return"parentId"in s||"indexInParent"in s||"window"in s}e.isPopout=t;function n(s){if(t(s))return Ao.resolve(s);{let u;return s.root!==void 0?u=s.root:s.content!==void 0&&s.content.length>0?u=s.content[0]:u=void 0,{resolved:!0,root:Ki.resolve(u),openPopouts:e.resolveOpenPopouts(s.openPopouts),dimensions:e.Dimensions.resolve(s.dimensions),settings:e.Settings.resolve(s.settings),header:e.Header.resolve(s.header,s.settings,s.labels)}}}e.resolve=n;function i(s){return{root:Ki.fromResolvedOrUndefined(s.root),openPopouts:Ao.fromResolvedArray(s.openPopouts),settings:ye.Settings.createCopy(s.settings),dimensions:e.Dimensions.fromResolved(s.dimensions),header:ye.Header.createCopy(s.header)}}e.fromResolved=i;function o(s){const u=s;return u.resolved!==void 0&&u.resolved===!0}e.isResolved=o;function r(s){if(s===void 0)return[];{const u=s.length,a=new Array(u);for(let l=0;l<u;l++)a[l]=Ao.resolve(s[l]);return a}}e.resolveOpenPopouts=r})(Nt||(Nt={}));var Ao;(function(e){(function(o){function r(u,a){var l,c,d,f,h,m,b,v;let y;const _=Vo.Window.defaults;return u!==void 0?y={width:(l=u.width)!==null&&l!==void 0?l:_.width,height:(c=u.height)!==null&&c!==void 0?c:_.height,left:(d=u.left)!==null&&d!==void 0?d:_.left,top:(f=u.top)!==null&&f!==void 0?f:_.top}:y={width:(h=a==null?void 0:a.width)!==null&&h!==void 0?h:_.width,height:(m=a==null?void 0:a.height)!==null&&m!==void 0?m:_.height,left:(b=a==null?void 0:a.left)!==null&&b!==void 0?b:_.left,top:(v=a==null?void 0:a.top)!==null&&v!==void 0?v:_.top},y}o.resolve=r;function s(u){return{width:u.width===null?void 0:u.width,height:u.height===null?void 0:u.height,left:u.left===null?void 0:u.left,top:u.top===null?void 0:u.top}}o.fromResolved=s})(e.Window||(e.Window={}));function t(o){var r,s;let u;return o.root!==void 0?u=o.root:o.content!==void 0&&o.content.length>0?u=o.content[0]:u=void 0,{root:Ki.resolve(u),openPopouts:Nt.resolveOpenPopouts(o.openPopouts),dimensions:Nt.Dimensions.resolve(o.dimensions),settings:Nt.Settings.resolve(o.settings),header:Nt.Header.resolve(o.header,o.settings,o.labels),parentId:(r=o.parentId)!==null&&r!==void 0?r:null,indexInParent:(s=o.indexInParent)!==null&&s!==void 0?s:null,window:e.Window.resolve(o.window,o.dimensions),resolved:!0}}e.resolve=t;function n(o){return{root:Ki.fromResolvedOrUndefined(o.root),openPopouts:i(o.openPopouts),dimensions:Nt.Dimensions.fromResolved(o.dimensions),settings:ye.Settings.createCopy(o.settings),header:ye.Header.createCopy(o.header),parentId:o.parentId,indexInParent:o.indexInParent,window:e.Window.fromResolved(o.window)}}e.fromResolved=n;function i(o){const r=o.length,s=new Array(r);for(let u=0;u<r;u++){const a=o[u];s[u]=e.fromResolved(a)}return s}e.fromResolvedArray=i})(Ao||(Ao={}));function Xr(e,t){const{numericPart:n,firstNonNumericCharPart:i}=y1(e),o=Number.parseInt(n,10);if(isNaN(o))throw new gi(`${_i[7]}: ${e}`);{const r=Pe.tryParse(i);if(r===void 0)throw new gi(`${_i[8]}: ${e}`);if(t.includes(r))return{size:o,sizeUnit:r};throw new gi(`${_i[9]}: ${e}`)}}function qo(e,t){return e.toString(10)+Pe.format(t)}function ll(e,t){if(e!==void 0)return e.toString(10)+Pe.format(t)}class Qe{constructor(){this._allEventSubscriptions=[],this._subscriptionsMap=new Map,this.unbind=this.removeEventListener,this.trigger=this.emit}tryBubbleEvent(t,n){}emit(t,...n){let i=this._subscriptionsMap.get(t);if(i!==void 0){i=i.slice();for(let o=0;o<i.length;o++){const r=i[o];r(...n)}}this.emitAllEvent(t,n),this.tryBubbleEvent(t,n)}emitUnknown(t,...n){let i=this._subscriptionsMap.get(t);if(i!==void 0){i=i.slice();for(let o=0;o<i.length;o++)i[o](...n)}this.emitAllEvent(t,n),this.tryBubbleEvent(t,n)}emitBaseBubblingEvent(t){const n=new Qe.BubblingEvent(t,this);this.emitUnknown(t,n)}emitUnknownBubblingEvent(t){const n=new Qe.BubblingEvent(t,this);this.emitUnknown(t,n)}removeEventListener(t,n){const i=n;this.removeUnknownEventListener(t,i)}off(t,n){this.removeEventListener(t,n)}addEventListener(t,n){const i=n;this.addUnknownEventListener(t,i)}on(t,n){this.addEventListener(t,n)}addUnknownEventListener(t,n){if(t===Qe.ALL_EVENT)this._allEventSubscriptions.push(n);else{let i=this._subscriptionsMap.get(t);i!==void 0?i.push(n):(i=[n],this._subscriptionsMap.set(t,i))}}removeUnknownEventListener(t,n){if(t===Qe.ALL_EVENT)this.removeSubscription(t,this._allEventSubscriptions,n);else{const i=this._subscriptionsMap.get(t);if(i===void 0)throw new Error("No subscribtions to unsubscribe for event "+t);this.removeSubscription(t,i,n)}}removeSubscription(t,n,i){const o=n.indexOf(i);if(o<0)throw new Error("Nothing to unbind for "+t);n.splice(o,1)}emitAllEvent(t,n){const i=this._allEventSubscriptions.length;if(i>0){const o=n.slice();o.unshift(t);const r=this._allEventSubscriptions.slice();for(let s=0;s<i;s++)r[s](...o)}}}(function(e){e.ALL_EVENT="__all",e.headerClickEventName="stackHeaderClick",e.headerTouchStartEventName="stackHeaderTouchStart";class t{constructor(r,s){this._name=r,this._target=s,this._isPropagationStopped=!1}get name(){return this._name}get target(){return this._target}get origin(){return this._target}get isPropagationStopped(){return this._isPropagationStopped}stopPropagation(){this._isPropagationStopped=!0}}e.BubblingEvent=t;class n extends t{constructor(r,s,u){super(r,s),this._mouseEvent=u}get mouseEvent(){return this._mouseEvent}}e.ClickBubblingEvent=n;class i extends t{constructor(r,s,u){super(r,s),this._touchEvent=u}get touchEvent(){return this._touchEvent}}e.TouchStartBubblingEvent=i})(Qe||(Qe={}));class k1 extends Qe{constructor(t,n,i,o,r,s,u,a,l){super(),this._config=t,this._parent=n,this._layoutManager=i,this._element=o,this._updateItemConfigEvent=r,this._showEvent=s,this._hideEvent=u,this._focusEvent=a,this._blurEvent=l,this._stackMaximised=!1,this._width=0,this._height=0,this._visible=!0,this._isShownWithZeroDimensions=!0,this._componentType=t.componentType,this._isClosable=t.isClosable,this._initialState=t.componentState,this._state=this._initialState,this._boundComponent=this.layoutManager.bindComponent(this,t),this.updateElementPositionPropertyFromBoundComponent()}get width(){return this._width}get height(){return this._height}get parent(){return this._parent}get componentName(){return this._componentType}get componentType(){return this._componentType}get virtual(){return this._boundComponent.virtual}get component(){return this._boundComponent.component}get tab(){return this._tab}get title(){return this._parent.title}get layoutManager(){return this._layoutManager}get isHidden(){return!this._visible}get visible(){return this._visible}get state(){return this._state}get initialState(){return this._initialState}get element(){return this._element}destroy(){this.releaseComponent(),this.stateRequestEvent=void 0,this.emit("destroy")}getElement(){return this._element}hide(){this._hideEvent()}show(){this._showEvent()}focus(t=!1){this._focusEvent(t)}blur(t=!1){this._blurEvent(t)}setSize(t,n){let i=this._parent;if(i.isColumn||i.isRow||i.parent===null)throw new Re("ICSSPRC","ComponentContainer cannot have RowColumn Parent");{let o;do o=i,i=i.parent;while(i!==null&&!i.isColumn&&!i.isRow);if(i===null)return!1;{const r=i.isColumn?"height":"width",s=this[r];if(s===null)throw new Ze("ICSSCS11194");{const u=r==="height"?n:t,a=s*(1/(o.size/100)),l=u/a*100,c=(o.size-l)/(i.contentItems.length-1);for(let d=0;d<i.contentItems.length;d++){const f=i.contentItems[d];f===o?f.size=l:f.size+=c}return i.updateSize(!1),!0}}}}close(){this._isClosable&&(this.emit("close"),this._parent.close())}replaceComponent(t){if(this.releaseComponent(),Ke.isComponent(t)){const n=Xn.resolve(t,!1);if(this._initialState=n.componentState,this._state=this._initialState,this._componentType=n.componentType,this._updateItemConfigEvent(n),this._boundComponent=this.layoutManager.bindComponent(this,n),this.updateElementPositionPropertyFromBoundComponent(),this._boundComponent.virtual){if(this.virtualVisibilityChangeRequiredEvent!==void 0&&this.virtualVisibilityChangeRequiredEvent(this,this._visible),this.virtualRectingRequiredEvent!==void 0){this._layoutManager.fireBeforeVirtualRectingEvent(1);try{this.virtualRectingRequiredEvent(this,this._width,this._height)}finally{this._layoutManager.fireAfterVirtualRectingEvent()}}this.setBaseLogicalZIndex()}this.emit("stateChanged")}else throw new Error("ReplaceComponent not passed a component ItemConfig")}getState(){return this._state}extendState(t){const n=ci(this._state,t);this.setState(n)}setState(t){this._state=t,this._parent.emitBaseBubblingEvent("stateChanged")}setTitle(t){this._parent.setTitle(t)}setTab(t){this._tab=t,this.emit("tab",t)}setVisibility(t){this._boundComponent.virtual&&this.virtualVisibilityChangeRequiredEvent!==void 0&&this.virtualVisibilityChangeRequiredEvent(this,t),t?this._visible?this._isShownWithZeroDimensions&&(this._height!==0||this._width!==0)&&(this._isShownWithZeroDimensions=!1,this.setSizeToNodeSize(this._width,this._height,!0),this.emitShow()):(this._visible=!0,this._height===0&&this._width===0?this._isShownWithZeroDimensions=!0:(this._isShownWithZeroDimensions=!1,this.setSizeToNodeSize(this._width,this._height,!0),this.emitShow())):this._visible&&(this._visible=!1,this._isShownWithZeroDimensions=!1,this.emitHide())}setBaseLogicalZIndex(){this.setLogicalZIndex(Io.base)}setLogicalZIndex(t){t!==this._logicalZIndex&&(this._logicalZIndex=t,this.notifyVirtualZIndexChangeRequired())}enterDragMode(t,n){this._width=t,this._height=n,Rt(this._element,t),$t(this._element,n),this.setLogicalZIndex(Io.drag),this.drag()}exitDragMode(){this.setBaseLogicalZIndex()}enterStackMaximised(){this._stackMaximised=!0,this.setLogicalZIndex(Io.stackMaximised)}exitStackMaximised(){this.setBaseLogicalZIndex(),this._stackMaximised=!1}drag(){if(this._boundComponent.virtual&&this.virtualRectingRequiredEvent!==void 0){this._layoutManager.fireBeforeVirtualRectingEvent(1);try{this.virtualRectingRequiredEvent(this,this._width,this._height)}finally{this._layoutManager.fireAfterVirtualRectingEvent()}}}setSizeToNodeSize(t,n,i){(t!==this._width||n!==this._height||i)&&(this._width=t,this._height=n,Rt(this._element,t),$t(this._element,n),this._boundComponent.virtual?this.addVirtualSizedContainerToLayoutManager():(this.emit("resize"),this.checkShownFromZeroDimensions()))}notifyVirtualRectingRequired(){this.virtualRectingRequiredEvent!==void 0&&(this.virtualRectingRequiredEvent(this,this._width,this._height),this.emit("resize"),this.checkShownFromZeroDimensions())}notifyVirtualZIndexChangeRequired(){if(this.virtualZIndexChangeRequiredEvent!==void 0){const t=this._logicalZIndex,n=b1[t];this.virtualZIndexChangeRequiredEvent(this,t,n)}}updateElementPositionPropertyFromBoundComponent(){this._boundComponent.virtual?this._element.style.position="static":this._element.style.position=""}addVirtualSizedContainerToLayoutManager(){this._layoutManager.beginVirtualSizedContainerAdding();try{this._layoutManager.addVirtualSizedContainer(this)}finally{this._layoutManager.endVirtualSizedContainerAdding()}}checkShownFromZeroDimensions(){this._isShownWithZeroDimensions&&(this._height!==0||this._width!==0)&&(this._isShownWithZeroDimensions=!1,this.emitShow())}emitShow(){this.emit("shown"),this.emit("show")}emitHide(){this.emit("hide")}releaseComponent(){this._stackMaximised&&this.exitStackMaximised(),this.emit("beforeComponentRelease",this._boundComponent.component),this.layoutManager.unbindComponent(this,this._boundComponent.virtual,this._boundComponent.component)}}class I1 extends Qe{constructor(t,n,i){super(),this._config=t,this._initialWindowSize=n,this._layoutManager=i,this._isInitialised=!1,this._popoutWindow=null,this.createWindow()}toConfig(){var t,n;if(this._isInitialised===!1)throw new Error("Can't create config, layout not yet initialised");const o=this.getGlInstance().saveLayout();let r,s;this._popoutWindow===null?(r=null,s=null):(r=(t=this._popoutWindow.screenX)!==null&&t!==void 0?t:this._popoutWindow.screenLeft,s=(n=this._popoutWindow.screenY)!==null&&n!==void 0?n:this._popoutWindow.screenTop);const u={width:this.getGlInstance().width,height:this.getGlInstance().height,left:r,top:s};return{root:o.root,openPopouts:o.openPopouts,settings:o.settings,dimensions:o.dimensions,header:o.header,window:u,parentId:this._config.parentId,indexInParent:this._config.indexInParent,resolved:!0}}getGlInstance(){if(this._popoutWindow===null)throw new Ze("BPGGI24693");return this._popoutWindow.__glInstance}getWindow(){if(this._popoutWindow===null)throw new Ze("BPGW087215");return this._popoutWindow}close(){if(this.getGlInstance())this.getGlInstance().closeWindow();else try{this.getWindow().close()}catch{}}popIn(){let t,n=this._config.indexInParent;if(!this._config.parentId)return;const i=this.getGlInstance().saveLayout(),r=ci({},i).root;if(r===void 0)throw new Se("BPPIR19998");const s=this._layoutManager.groundItem;if(s===void 0)throw new Se("BPPIG34972");t=s.getItemsByPopInParentId(this._config.parentId)[0],t||(s.contentItems.length>0?t=s.contentItems[0]:t=s,n=0);const u=this._layoutManager.createAndInitContentItem(r,t);t.addChild(u,n),this._layoutManager.layoutConfig.settings.popInOnClose?this._onClose():this.close()}createWindow(){const t=this.createUrl(),n=Math.floor(Math.random()*1e6).toString(36),i=this.serializeWindowFeatures({width:this._initialWindowSize.width,height:this._initialWindowSize.height,innerWidth:this._initialWindowSize.width,innerHeight:this._initialWindowSize.height,menubar:"no",toolbar:"no",location:"no",personalbar:"no",resizable:"yes",scrollbars:"no",status:"no"});if(this._popoutWindow=globalThis.open(t,n,i),!this._popoutWindow){if(this._layoutManager.layoutConfig.settings.blockedPopoutsThrowError===!0)throw new _1("Popout blocked");return}this._popoutWindow.addEventListener("load",()=>this.positionWindow(),{passive:!0}),this._popoutWindow.addEventListener("beforeunload",()=>{this._layoutManager.layoutConfig.settings.popInOnClose?this.popIn():this._onClose()},{passive:!0}),this._checkReadyInterval=setInterval(()=>this.checkReady(),10)}checkReady(){if(this._popoutWindow===null)throw new Ze("BPCR01844");this._popoutWindow.__glInstance&&this._popoutWindow.__glInstance.isInitialised&&(this.onInitialised(),this._checkReadyInterval!==void 0&&(clearInterval(this._checkReadyInterval),this._checkReadyInterval=void 0))}serializeWindowFeatures(t){const n=[];for(const i in t)n.push(i+"="+t[i].toString());return n.join(",")}createUrl(){const t="gl-window-config-"+qh(),n=ye.minifyConfig(this._config);try{localStorage.setItem(t,JSON.stringify(n))}catch(o){throw new Error("Error while writing to localStorage "+S1(o))}const i=new URL(location.href);return i.searchParams.set("gl-window",t),i.toString()}positionWindow(){if(this._popoutWindow===null)throw new Error("BrowserPopout.positionWindow: null popoutWindow");this._popoutWindow.moveTo(this._initialWindowSize.left,this._initialWindowSize.top),this._popoutWindow.focus()}onInitialised(){this._isInitialised=!0,this.getGlInstance().on("popIn",()=>this.popIn()),this.emit("initialised")}_onClose(){setTimeout(()=>this.emit("closed"),50)}}class Mt extends Qe{constructor(t,n,i,o){super(),this.layoutManager=t,this._parent=i,this._element=o,this._popInParentIds=[],this._type=n.type,this._id=n.id,this._isInitialised=!1,this.isGround=!1,this.isRow=!1,this.isColumn=!1,this.isStack=!1,this.isComponent=!1,this.size=n.size,this.sizeUnit=n.sizeUnit,this.minSize=n.minSize,this.minSizeUnit=n.minSizeUnit,this._isClosable=n.isClosable,this._pendingEventPropagations={},this._throttledEvents=["stateChanged"],this._contentItems=this.createContentItems(n.content)}get type(){return this._type}get id(){return this._id}set id(t){this._id=t}get popInParentIds(){return this._popInParentIds}get parent(){return this._parent}get contentItems(){return this._contentItems}get isClosable(){return this._isClosable}get element(){return this._element}get isInitialised(){return this._isInitialised}static isStack(t){return t.isStack}static isComponentItem(t){return t.isComponent}static isComponentParentableItem(t){return t.isStack||t.isGround}removeChild(t,n=!1){const i=this._contentItems.indexOf(t);if(i===-1)throw new Error("Can't remove child item. Unknown content item");if(n||this._contentItems[i].destroy(),this._contentItems.splice(i,1),this._contentItems.length>0)this.updateSize(!1);else if(!this.isGround&&this._isClosable===!0){if(this._parent===null)throw new Ze("CIUC00874");this._parent.removeChild(this)}}addChild(t,n,i){return n??(n=this._contentItems.length),this._contentItems.splice(n,0,t),t.setParent(this),this._isInitialised===!0&&t._isInitialised===!1&&t.init(),n}replaceChild(t,n,i=!1){const o=this._contentItems.indexOf(t),r=t._element.parentNode;if(o===-1)throw new Re("CIRCI23232","Can't replace child. oldChild is not child of this");if(r===null)throw new Ze("CIRCP23232");if(r.replaceChild(n._element,t._element),i===!0&&(t._parent=null,t.destroy()),this._contentItems[o]=n,n.setParent(this),n.size=t.size,n.sizeUnit=t.sizeUnit,n.minSize=t.minSize,n.minSizeUnit=t.minSizeUnit,n._parent===null)throw new Ze("CIRCNC45699");n._parent._isInitialised===!0&&n._isInitialised===!1&&n.init(),this.updateSize(!1)}remove(){if(this._parent===null)throw new Ze("CIR11110");this._parent.removeChild(this)}popout(){const t=qh(),n=this.layoutManager.createPopoutFromContentItem(this,void 0,t,void 0);return this.emitBaseBubblingEvent("stateChanged"),n}calculateConfigContent(){const t=this._contentItems,n=t.length,i=new Array(n);for(let o=0;o<n;o++){const r=t[o];i[o]=r.toConfig()}return i}highlightDropZone(t,n,i){const o=this.layoutManager.dropTargetIndicator;if(o===null)throw new Ze("ACIHDZ5593");o.highlightArea(i,1)}onDrop(t,n){this.addChild(t)}show(){this.layoutManager.beginSizeInvalidation();try{vi(this._element,!0);for(let t=0;t<this._contentItems.length;t++)this._contentItems[t].show()}finally{this.layoutManager.endSizeInvalidation()}}destroy(){for(let t=0;t<this._contentItems.length;t++)this._contentItems[t].destroy();this._contentItems=[],this.emitBaseBubblingEvent("beforeItemDestroyed"),this._element.remove(),this.emitBaseBubblingEvent("itemDestroyed")}getElementArea(t){t=t??this._element;const n=t.getBoundingClientRect(),i=n.top+document.body.scrollTop,o=n.left+document.body.scrollLeft,r=n.width,s=n.height;return{x1:o,y1:i,x2:o+r,y2:i+s,surface:r*s,contentItem:this}}init(){this._isInitialised=!0,this.emitBaseBubblingEvent("itemCreated"),this.emitUnknownBubblingEvent(this.type+"Created")}setParent(t){this._parent=t}addPopInParentId(t){this.popInParentIds.includes(t)||this.popInParentIds.push(t)}initContentItems(){for(let t=0;t<this._contentItems.length;t++)this._contentItems[t].init()}hide(){this.layoutManager.beginSizeInvalidation();try{vi(this._element,!1)}finally{this.layoutManager.endSizeInvalidation()}}updateContentItemsSize(t){for(let n=0;n<this._contentItems.length;n++)this._contentItems[n].updateSize(t)}createContentItems(t){const n=t.length,i=new Array(n);for(let o=0;o<t.length;o++)i[o]=this.layoutManager.createContentItem(t[o],this);return i}propagateEvent(t,n){if(n.length===1){const i=n[0];i instanceof Qe.BubblingEvent&&i.isPropagationStopped===!1&&this._isInitialised===!0&&(this.isGround===!1&&this._parent?this._parent.emitUnknown(t,i):this.scheduleEventPropagationToLayoutManager(t,i))}}tryBubbleEvent(t,n){if(n.length===1){const i=n[0];i instanceof Qe.BubblingEvent&&i.isPropagationStopped===!1&&this._isInitialised===!0&&(this.isGround===!1&&this._parent?this._parent.emitUnknown(t,i):this.scheduleEventPropagationToLayoutManager(t,i))}}scheduleEventPropagationToLayoutManager(t,n){this._throttledEvents.indexOf(t)===-1?this.layoutManager.emitUnknown(t,n):this._pendingEventPropagations[t]!==!0&&(this._pendingEventPropagations[t]=!0,globalThis.requestAnimationFrame(()=>this.propagateEventToLayoutManager(t,n)))}propagateEventToLayoutManager(t,n){this._pendingEventPropagations[t]=!1,this.layoutManager.emitUnknown(t,n)}}class hi extends Mt{constructor(t,n,i){super(t,n,i,document.createElement("div")),this._parentItem=i,this._focused=!1,this.isComponent=!0,this._reorderEnabled=n.reorderEnabled,this.applyUpdatableConfig(n),this._initialWantMaximise=n.maximised;const o=document.createElement("div");o.classList.add("lm_content"),this.element.appendChild(o),this._container=new k1(n,this,t,o,r=>this.handleUpdateItemConfigEvent(r),()=>this.show(),()=>this.hide(),r=>this.focus(r),r=>this.blur(r))}get componentName(){return this._container.componentType}get componentType(){return this._container.componentType}get reorderEnabled(){return this._reorderEnabled}get initialWantMaximise(){return this._initialWantMaximise}get component(){return this._container.component}get container(){return this._container}get parentItem(){return this._parentItem}get headerConfig(){return this._headerConfig}get title(){return this._title}get tab(){return this._tab}get focused(){return this._focused}destroy(){this._container.destroy(),super.destroy()}applyUpdatableConfig(t){this.setTitle(t.title),this._headerConfig=t.header}toConfig(){const t=this._container.stateRequestEvent,n=t===void 0?this._container.state:t();return{type:oe.component,content:[],size:this.size,sizeUnit:this.sizeUnit,minSize:this.minSize,minSizeUnit:this.minSizeUnit,id:this.id,maximised:!1,isClosable:this.isClosable,reorderEnabled:this._reorderEnabled,title:this._title,header:Vt.Header.createCopy(this._headerConfig),componentType:Zi.copyComponentType(this.componentType),componentState:n}}close(){if(this.parent===null)throw new Ze("CIC68883");this.parent.removeChild(this,!1)}enterDragMode(t,n){Rt(this.element,t),$t(this.element,n),this._container.enterDragMode(t,n)}exitDragMode(){this._container.exitDragMode()}enterStackMaximised(){this._container.enterStackMaximised()}exitStackMaximised(){this._container.exitStackMaximised()}drag(){this._container.drag()}updateSize(t){this.updateNodeSize(t)}init(){this.updateNodeSize(!1),super.init(),this._container.emit("open"),this.initContentItems()}setTitle(t){this._title=t,this.emit("titleChanged",t),this.emit("stateChanged")}setTab(t){this._tab=t,this.emit("tab",t),this._container.setTab(t)}hide(){super.hide(),this._container.setVisibility(!1)}show(){super.show(),this._container.setVisibility(!0)}focus(t=!1){this.parentItem.setActiveComponentItem(this,!0,t)}setFocused(t){this._focused=!0,this.tab.setFocused(),t||this.emitBaseBubblingEvent("focus")}blur(t=!1){this._focused&&this.layoutManager.setFocusedComponentItem(void 0,t)}setBlurred(t){this._focused=!1,this.tab.setBlurred(),t||this.emitBaseBubblingEvent("blur")}setParent(t){this._parentItem=t,super.setParent(t)}handleUpdateItemConfigEvent(t){this.applyUpdatableConfig(t)}updateNodeSize(t){if(this.element.style.display!=="none"){const{width:n,height:i}=qn(this.element);this._container.setSizeToNodeSize(n,i,t)}}}class Gh extends Mt{constructor(){super(...arguments),this._focused=!1}get focused(){return this._focused}setFocusedValue(t){this._focused=t}}class cl extends Qe{constructor(t,n){super(),this._eElement=t,this._pointerTracking=!1,this._pointerDownEventListener=i=>this.onPointerDown(i),this._pointerMoveEventListener=i=>this.onPointerMove(i),this._pointerUpEventListener=i=>this.onPointerUp(i),this._timeout=void 0,this._allowableTargets=[t,...n],this._oDocument=document,this._eBody=document.body,this._nDelay=1800,this._nDistance=10,this._nX=0,this._nY=0,this._nOriginalX=0,this._nOriginalY=0,this._dragging=!1,this._eElement.addEventListener("pointerdown",this._pointerDownEventListener,{passive:!0})}destroy(){this.checkRemovePointerTrackingEventListeners(),this._eElement.removeEventListener("pointerdown",this._pointerDownEventListener)}cancelDrag(){this.processDragStop(void 0)}onPointerDown(t){if(this._allowableTargets.includes(t.target)&&t.isPrimary){const n=this.getPointerCoordinates(t);this.processPointerDown(n)}}processPointerDown(t){this._nOriginalX=t.x,this._nOriginalY=t.y,this._oDocument.addEventListener("pointermove",this._pointerMoveEventListener),this._oDocument.addEventListener("pointerup",this._pointerUpEventListener,{passive:!0}),this._pointerTracking=!0,this._timeout=setTimeout(()=>{try{this.startDrag()}catch(n){throw console.error(n),n}},this._nDelay)}onPointerMove(t){this._pointerTracking&&(this.processDragMove(t),t.preventDefault())}processDragMove(t){this._nX=t.pageX-this._nOriginalX,this._nY=t.pageY-this._nOriginalY,this._dragging===!1&&(Math.abs(this._nX)>this._nDistance||Math.abs(this._nY)>this._nDistance)&&this.startDrag(),this._dragging&&this.emit("drag",this._nX,this._nY,t)}onPointerUp(t){this.processDragStop(t)}processDragStop(t){var n;this._timeout!==void 0&&(clearTimeout(this._timeout),this._timeout=void 0),this.checkRemovePointerTrackingEventListeners(),this._dragging===!0&&(this._eBody.classList.remove("lm_dragging"),this._eElement.classList.remove("lm_dragging"),(n=this._oDocument.querySelector("iframe"))===null||n===void 0||n.style.setProperty("pointer-events",""),this._dragging=!1,this.emit("dragStop",t))}checkRemovePointerTrackingEventListeners(){this._pointerTracking&&(this._oDocument.removeEventListener("pointermove",this._pointerMoveEventListener),this._oDocument.removeEventListener("pointerup",this._pointerUpEventListener),this._pointerTracking=!1)}startDrag(){var t;this._timeout!==void 0&&(clearTimeout(this._timeout),this._timeout=void 0),this._dragging=!0,this._eBody.classList.add("lm_dragging"),this._eElement.classList.add("lm_dragging"),(t=this._oDocument.querySelector("iframe"))===null||t===void 0||t.style.setProperty("pointer-events","none"),this.emit("dragStart",this._nOriginalX,this._nOriginalY)}getPointerCoordinates(t){return{x:t.pageX,y:t.pageY}}}class A1{constructor(t,n,i){this._isVertical=t,this._size=n,this._grabSize=i<this._size?this._size:i,this._element=document.createElement("div"),this._element.classList.add("lm_splitter");const o=document.createElement("div");o.classList.add("lm_drag_handle");const r=this._grabSize-this._size,s=r/2;this._isVertical?(o.style.top=$e(-s),o.style.height=$e(this._size+r),this._element.classList.add("lm_vertical"),this._element.style.height=$e(this._size)):(o.style.left=$e(-s),o.style.width=$e(this._size+r),this._element.classList.add("lm_horizontal"),this._element.style.width=$e(this._size)),this._element.appendChild(o),this._dragListener=new cl(this._element,[o])}get element(){return this._element}destroy(){this._element.remove()}on(t,n){this._dragListener.on(t,n)}}class Si extends Mt{constructor(t,n,i,o){switch(super(n,i,o,Si.createElement(document,t)),this._rowOrColumnParent=o,this._splitter=[],this.isRow=!t,this.isColumn=t,this._childElementContainer=this.element,this._splitterSize=n.layoutConfig.dimensions.borderWidth,this._splitterGrabSize=n.layoutConfig.dimensions.borderGrabWidth,this._isColumn=t,this._dimension=t?"height":"width",this._splitterPosition=null,this._splitterMinPosition=null,this._splitterMaxPosition=null,i.type){case oe.row:case oe.column:this._configType=i.type;break;default:throw new Re("ROCCCT00925")}}newComponent(t,n,i,o){const r={type:"component",componentType:t,componentState:n,title:i};return this.newItem(r,o)}addComponent(t,n,i,o){const r={type:"component",componentType:t,componentState:n,title:i};return this.addItem(r,o)}newItem(t,n){n=this.addItem(t,n);const i=this.contentItems[n];return Mt.isStack(i)&&Ke.isComponent(t)?i.contentItems[0]:i}addItem(t,n){this.layoutManager.checkMinimiseMaximisedStack();const i=Ke.resolve(t,!1),o=this.layoutManager.createAndInitContentItem(i,this);return this.addChild(o,n,!1)}addChild(t,n,i){if(n===void 0&&(n=this.contentItems.length),this.contentItems.length>0){const r=this.createSplitter(Math.max(0,n-1)).element;n>0?(this.contentItems[n-1].element.insertAdjacentElement("afterend",r),r.insertAdjacentElement("afterend",t.element)):(this.contentItems[0].element.insertAdjacentElement("beforebegin",r),r.insertAdjacentElement("beforebegin",t.element))}else this._childElementContainer.appendChild(t.element);super.addChild(t,n);const o=1/this.contentItems.length*100;if(i===!0)return this.emitBaseBubblingEvent("stateChanged"),n;for(let r=0;r<this.contentItems.length;r++){const s=this.contentItems[r];if(s===t)t.size=o;else{const u=s.size*=(100-o)/100;s.size=u}}return this.updateSize(!1),this.emitBaseBubblingEvent("stateChanged"),n}removeChild(t,n){const i=this.contentItems.indexOf(t),o=Math.max(i-1,0);if(i===-1)throw new Error("Can't remove child. ContentItem is not child of this Row or Column");if(this._splitter[o]&&(this._splitter[o].destroy(),this._splitter.splice(o,1)),super.removeChild(t,n),this.contentItems.length===1&&this.isClosable===!0){const r=this.contentItems[0];this.contentItems.length=0,this._rowOrColumnParent.replaceChild(this,r,!0)}else this.updateSize(!1),this.emitBaseBubblingEvent("stateChanged")}replaceChild(t,n){const i=t.size;super.replaceChild(t,n),n.size=i,this.updateSize(!1),this.emitBaseBubblingEvent("stateChanged")}updateSize(t){this.layoutManager.beginVirtualSizedContainerAdding();try{this.updateNodeSize(),this.updateContentItemsSize(t)}finally{this.layoutManager.endVirtualSizedContainerAdding()}}init(){if(this.isInitialised!==!0){this.updateNodeSize();for(let t=0;t<this.contentItems.length;t++)this._childElementContainer.appendChild(this.contentItems[t].element);super.init();for(let t=0;t<this.contentItems.length-1;t++)this.contentItems[t].element.insertAdjacentElement("afterend",this.createSplitter(t).element);this.initContentItems()}}toConfig(){return{type:this.type,content:this.calculateConfigContent(),size:this.size,sizeUnit:this.sizeUnit,minSize:this.minSize,minSizeUnit:this.minSizeUnit,id:this.id,isClosable:this.isClosable}}setParent(t){this._rowOrColumnParent=t,super.setParent(t)}updateNodeSize(){this.contentItems.length>0&&(this.calculateRelativeSizes(),this.setAbsoluteSizes()),this.emitBaseBubblingEvent("stateChanged"),this.emit("resize")}setAbsoluteSizes(){const t=this.calculateAbsoluteSizes();for(let n=0;n<this.contentItems.length;n++)t.additionalPixel-n>0&&t.itemSizes[n]++,this._isColumn?(Rt(this.contentItems[n].element,t.crossAxisSize),$t(this.contentItems[n].element,t.itemSizes[n])):(Rt(this.contentItems[n].element,t.itemSizes[n]),$t(this.contentItems[n].element,t.crossAxisSize))}calculateAbsoluteSizes(){const t=(this.contentItems.length-1)*this._splitterSize,{width:n,height:i}=qn(this.element);let o,r;this._isColumn?(o=i-t,r=n):(o=n-t,r=i);let s=0;const u=[];for(let l=0;l<this.contentItems.length;l++){const c=this.contentItems[l];let d;if(c.sizeUnit===Pe.Percent)d=Math.floor(o*(c.size/100));else throw new Re("ROCCAS6692");s+=d,u.push(d)}const a=Math.floor(o-s);return{itemSizes:u,additionalPixel:a,totalSize:o,crossAxisSize:r}}calculateRelativeSizes(){let t=0;const n=[];let i=0;for(let o=0;o<this.contentItems.length;o++){const r=this.contentItems[o];switch(r.sizeUnit){case Pe.Percent:{t+=r.size;break}case Pe.Fractional:{n.push(r),i+=r.size;break}default:throw new Re("ROCCRS49110",JSON.stringify(r))}}if(Math.round(t)===100){this.respectMinItemSize();return}else if(Math.round(t)<100&&n.length>0){const o=100-t;for(let r=0;r<n.length;r++){const s=n[r];s.size=o*(s.size/i),s.sizeUnit=Pe.Percent}this.respectMinItemSize();return}else{if(Math.round(t)>100&&n.length>0){for(let o=0;o<n.length;o++){const r=n[o];r.size=50*(r.size/i),r.sizeUnit=Pe.Percent}t+=50}for(let o=0;o<this.contentItems.length;o++){const r=this.contentItems[o];r.size=r.size/t*100}this.respectMinItemSize()}}respectMinItemSize(){const t=this.calculateContentItemMinSize(this);if(!(t<=0||this.contentItems.length<=1)){let n=0,i=0;const o=[],r=[],s=this.calculateAbsoluteSizes();for(let u=0;u<s.itemSizes.length;u++){const a=s.itemSizes[u];let l;a<t?(i+=t-a,l={size:t}):(n+=a-t,l={size:a},o.push(l)),r.push(l)}if(i===0||i>n)return;{const u=i/n;let a=i;for(let l=0;l<o.length;l++){const c=o[l],d=Math.round((c.size-t)*u);a-=d,c.size-=d}a!==0&&(r[r.length-1].size-=a);for(let l=0;l<this.contentItems.length;l++){const c=this.contentItems[l];c.size=r[l].size/s.totalSize*100}}}}createSplitter(t){const n=new A1(this._isColumn,this._splitterSize,this._splitterGrabSize);return n.on("drag",(i,o)=>this.onSplitterDrag(n,i,o)),n.on("dragStop",()=>this.onSplitterDragStop(n)),n.on("dragStart",()=>this.onSplitterDragStart(n)),this._splitter.splice(t,0,n),n}getSplitItems(t){const n=this._splitter.indexOf(t);return{before:this.contentItems[n],after:this.contentItems[n+1]}}calculateContentItemMinSize(t){const n=t.minSize;if(n!==void 0){if(t.minSizeUnit===Pe.Pixel)return n;throw new Re("ROCGMD98831",JSON.stringify(t))}else{const i=this.layoutManager.layoutConfig.dimensions;return this._isColumn?i.defaultMinItemHeight:i.defaultMinItemWidth}}calculateContentItemsTotalMinSize(t){let n=0;for(const i of t)n+=this.calculateContentItemMinSize(i);return n}onSplitterDragStart(t){const n=this.getSplitItems(t),i=Pi(n.before.element.style[this._dimension]),o=Pi(n.after.element.style[this._dimension]),r=this.calculateContentItemsTotalMinSize(n.before.contentItems),s=this.calculateContentItemsTotalMinSize(n.after.contentItems);this._splitterPosition=0,this._splitterMinPosition=-1*(i-r),this._splitterMaxPosition=o-s}onSplitterDrag(t,n,i){let o=this._isColumn?i:n;if(this._splitterMinPosition===null||this._splitterMaxPosition===null)throw new Ze("ROCOSD59226");o=Math.max(o,this._splitterMinPosition),o=Math.min(o,this._splitterMaxPosition),this._splitterPosition=o;const r=$e(o);this._isColumn?t.element.style.top=r:t.element.style.left=r}onSplitterDragStop(t){if(this._splitterPosition===null)throw new Ze("ROCOSDS66932");{const n=this.getSplitItems(t),i=Pi(n.before.element.style[this._dimension]),o=Pi(n.after.element.style[this._dimension]),r=(this._splitterPosition+i)/(i+o),s=n.before.size+n.after.size;n.before.size=r*s,n.after.size=(1-r)*s,t.element.style.top=$e(0),t.element.style.left=$e(0),globalThis.requestAnimationFrame(()=>this.updateSize(!1))}}}(function(e){function t(o,r){return r==="width"?x1(o):C1(o)}e.getElementDimensionSize=t;function n(o,r,s){return r==="width"?Rt(o,s):$t(o,s)}e.setElementDimensionSize=n;function i(o,r){const s=o.createElement("div");return s.classList.add("lm_item"),r?s.classList.add("lm_column"):s.classList.add("lm_row"),s}e.createElement=i})(Si||(Si={}));class Kn extends Gh{constructor(t,n,i){super(t,Ea.create(n),null,Kn.createElement(document)),this.isGround=!0,this._childElementContainer=this.element,this._containerElement=i;let o=null;for(;;){const r=o?o.previousSibling:this._containerElement.lastChild;if(r instanceof Element&&r.classList.contains("lm_content"))o=r;else break}this._containerElement.insertBefore(this.element,o)}init(){if(this.isInitialised!==!0){this.updateNodeSize();for(let t=0;t<this.contentItems.length;t++)this._childElementContainer.appendChild(this.contentItems[t].element);super.init(),this.initContentItems()}}loadRoot(t){if(this.clearRoot(),t!==void 0){const n=this.layoutManager.createAndInitContentItem(t,this);this.addChild(n,0)}}clearRoot(){const t=this.contentItems;switch(t.length){case 0:return;case 1:{t[0].remove();return}default:throw new Re("GILR07721")}}addItem(t,n){this.layoutManager.checkMinimiseMaximisedStack();const i=Ke.resolve(t,!1);let o;if(this.contentItems.length>0?o=this.contentItems[0]:o=this,o.isComponent)throw new Error("Cannot add item as child to ComponentItem");{const r=this.layoutManager.createAndInitContentItem(i,o);return n=o.addChild(r,n),o===this?-1:n}}loadComponentAsRoot(t){this.clearRoot();const n=Ke.resolve(t,!1);if(n.maximised)throw new Error("Root Component cannot be maximised");{const i=new hi(this.layoutManager,n,this);i.init(),this.addChild(i,0)}}addChild(t,n){if(this.contentItems.length>0)throw new Error("Ground node can only have a single child");return this._childElementContainer.appendChild(t.element),n=super.addChild(t,n),this.updateSize(!1),this.emitBaseBubblingEvent("stateChanged"),n}calculateConfigContent(){const t=this.contentItems,n=t.length,i=new Array(n);for(let o=0;o<n;o++){const s=t[o].toConfig();if(Ei.isRootItemConfig(s))i[o]=s;else throw new Re("RCCC66832")}return i}setSize(t,n){t===void 0||n===void 0?this.updateSize(!1):(Rt(this.element,t),$t(this.element,n),this.contentItems.length>0&&(Rt(this.contentItems[0].element,t),$t(this.contentItems[0].element,n)),this.updateContentItemsSize(!1))}updateSize(t){this.layoutManager.beginVirtualSizedContainerAdding();try{this.updateNodeSize(),this.updateContentItemsSize(t)}finally{this.layoutManager.endVirtualSizedContainerAdding()}}createSideAreas(){const n=Kn.Area.oppositeSides,i=new Array(Object.keys(n).length);let o=0;for(const r in n){const s=r,u=this.getElementArea();if(u===null)throw new Ze("RCSA77553");u.side=s,n[s][1]==="2"?u[s]=u[n[s]]-50:u[s]=u[n[s]]+50,u.surface=(u.x2-u.x1)*(u.y2-u.y1),i[o++]=u}return i}highlightDropZone(t,n,i){this.layoutManager.tabDropPlaceholder.remove(),super.highlightDropZone(t,n,i)}onDrop(t,n){if(t.isComponent){const i=Tn.createDefault(),o=t;i.header=Vt.Header.createCopy(o.headerConfig);const r=this.layoutManager.createAndInitContentItem(i,this);r.addChild(t),t=r}if(this.contentItems.length===0)this.addChild(t);else{if(t.type===oe.row||t.type===oe.column){const s=Tn.createDefault(),u=this.layoutManager.createContentItem(s,this);u.addChild(t),t=u}const i=n.side[0]=="x"?oe.row:oe.column,o=n.side[1]=="2",r=this.contentItems[0];if(!(r instanceof Si)||r.type!==i){const s=De.createDefault(i),u=this.layoutManager.createContentItem(s,this);this.replaceChild(r,u),u.addChild(t,o?0:void 0,!0),u.addChild(r,o?void 0:0,!0),r.size=50,t.size=50,t.sizeUnit=Pe.Percent,u.updateSize(!1)}else{const s=r.contentItems[o?0:r.contentItems.length-1];r.addChild(t,o?0:void 0,!0),s.size*=.5,t.size=s.size,t.sizeUnit=Pe.Percent,r.updateSize(!1)}}}dock(){throw new Re("GID87731")}validateDocking(){throw new Re("GIVD87732")}getAllContentItems(){const t=[this];return this.deepGetAllContentItems(this.contentItems,t),t}getConfigMaximisedItems(){const t=[];return this.deepFilterContentItems(this.contentItems,t,n=>Mt.isStack(n)&&n.initialWantMaximise?!0:!!(Mt.isComponentItem(n)&&n.initialWantMaximise)),t}getItemsByPopInParentId(t){const n=[];return this.deepFilterContentItems(this.contentItems,n,i=>i.popInParentIds.includes(t)),n}toConfig(){throw new Error("Cannot generate GroundItem config")}setActiveComponentItem(t,n,i){}updateNodeSize(){const{width:t,height:n}=qn(this._containerElement);Rt(this.element,t),$t(this.element,n),this.contentItems.length>0&&(Rt(this.contentItems[0].element,t),$t(this.contentItems[0].element,n))}deepGetAllContentItems(t,n){for(let i=0;i<t.length;i++){const o=t[i];n.push(o),this.deepGetAllContentItems(o.contentItems,n)}}deepFilterContentItems(t,n,i){for(let o=0;o<t.length;o++){const r=t[o];i(r)&&n.push(r),this.deepFilterContentItems(r.contentItems,n,i)}}}(function(e){(function(n){n.oppositeSides={y2:"y1",x2:"x1",y1:"y2",x1:"x2"}})(e.Area||(e.Area={}));function t(n){const i=n.createElement("div");return i.classList.add("lm_goldenlayout"),i.classList.add("lm_item"),i.classList.add("lm_root"),i}e.createElement=t})(Kn||(Kn={}));class vr{constructor(t,n,i,o){this._header=t,this._pushEvent=o,this._clickEventListener=r=>this.onClick(r),this._touchStartEventListener=r=>this.onTouchStart(r),this._element=document.createElement("div"),this._element.classList.add(i),this._element.title=n,this._header.on("destroy",()=>this.destroy()),this._element.addEventListener("click",this._clickEventListener,{passive:!0}),this._element.addEventListener("touchstart",this._touchStartEventListener,{passive:!0}),this._header.controlsContainerElement.appendChild(this._element)}get element(){return this._element}destroy(){var t;this._element.removeEventListener("click",this._clickEventListener),this._element.removeEventListener("touchstart",this._touchStartEventListener),(t=this._element.parentNode)===null||t===void 0||t.removeChild(this._element)}onClick(t){this._pushEvent(t)}onTouchStart(t){this._pushEvent(t)}}class D1{constructor(t,n,i,o,r){var s;this._layoutManager=t,this._componentItem=n,this._closeEvent=i,this._focusEvent=o,this._dragStartEvent=r,this._isActive=!1,this._tabClickListener=a=>this.onTabClickDown(a),this._tabTouchStartListener=a=>this.onTabTouchStart(a),this._closeClickListener=()=>this.onCloseClick(),this._closeTouchStartListener=()=>this.onCloseTouchStart(),this._dragStartListener=(a,l)=>this.onDragStart(a,l),this._contentItemDestroyListener=()=>this.onContentItemDestroy(),this._tabTitleChangedListener=a=>this.setTitle(a),this._element=document.createElement("div"),this._element.classList.add("lm_tab"),this._titleElement=document.createElement("span"),this._titleElement.classList.add("lm_title"),this._closeElement=document.createElement("div"),this._closeElement.classList.add("lm_close_tab"),this._element.appendChild(this._titleElement),this._element.appendChild(this._closeElement),n.isClosable?this._closeElement.style.display="":this._closeElement.style.display="none",this.setTitle(n.title),this._componentItem.on("titleChanged",this._tabTitleChangedListener),((s=n.reorderEnabled)!==null&&s!==void 0?s:this._layoutManager.layoutConfig.settings.reorderEnabled)&&this.enableReorder(),this._element.addEventListener("click",this._tabClickListener,{passive:!0}),this._element.addEventListener("touchstart",this._tabTouchStartListener,{passive:!0}),this._componentItem.isClosable?(this._closeElement.addEventListener("click",this._closeClickListener,{passive:!0}),this._closeElement.addEventListener("touchstart",this._closeTouchStartListener,{passive:!0})):(this._closeElement.remove(),this._closeElement=void 0),this._componentItem.setTab(this),this._layoutManager.emit("tabCreated",this)}get isActive(){return this._isActive}get componentItem(){return this._componentItem}get contentItem(){return this._componentItem}get element(){return this._element}get titleElement(){return this._titleElement}get closeElement(){return this._closeElement}get reorderEnabled(){return this._dragListener!==void 0}set reorderEnabled(t){t!==this.reorderEnabled&&(t?this.enableReorder():this.disableReorder())}setTitle(t){this._titleElement.innerText=t,this._element.title=t}setActive(t){t!==this._isActive&&(this._isActive=t,t?this._element.classList.add("lm_active"):this._element.classList.remove("lm_active"))}destroy(){var t,n;this._closeEvent=void 0,this._focusEvent=void 0,this._dragStartEvent=void 0,this._element.removeEventListener("click",this._tabClickListener),this._element.removeEventListener("touchstart",this._tabTouchStartListener),(t=this._closeElement)===null||t===void 0||t.removeEventListener("click",this._closeClickListener),(n=this._closeElement)===null||n===void 0||n.removeEventListener("touchstart",this._closeTouchStartListener),this._componentItem.off("titleChanged",this._tabTitleChangedListener),this.reorderEnabled&&this.disableReorder(),this._element.remove()}setBlurred(){this._element.classList.remove("lm_focused"),this._titleElement.classList.remove("lm_focused")}setFocused(){this._element.classList.add("lm_focused"),this._titleElement.classList.add("lm_focused")}onDragStart(t,n){if(this._dragListener===void 0)throw new Se("TODSDLU10093");if(this._dragStartEvent===void 0)throw new Se("TODS23309");this._dragStartEvent(t,n,this._dragListener,this.componentItem)}onContentItemDestroy(){this._dragListener!==void 0&&(this._dragListener.destroy(),this._dragListener=void 0)}onTabClickDown(t){const n=t.target;(n===this._element||n===this._titleElement)&&(t.button===0?this.notifyFocus():t.button===1&&this._componentItem.isClosable&&this.notifyClose())}onTabTouchStart(t){t.target===this._element&&this.notifyFocus()}onCloseClick(){this.notifyClose()}onCloseTouchStart(){this.notifyClose()}notifyClose(){if(this._closeEvent===void 0)throw new Se("TNC15007");this._closeEvent(this._componentItem)}notifyFocus(){if(this._focusEvent===void 0)throw new Se("TNA15007");this._focusEvent(this._componentItem)}enableReorder(){this._dragListener=new cl(this._element,[this._titleElement]),this._dragListener.on("dragStart",this._dragStartListener),this._componentItem.on("destroy",this._contentItemDestroyListener)}disableReorder(){if(this._dragListener===void 0)throw new Se("TDR87745");this._componentItem.off("destroy",this._contentItemDestroyListener),this._dragListener.off("dragStart",this._dragStartListener),this._dragListener=void 0}}class T1{constructor(t,n,i,o,r){this._layoutManager=t,this._componentRemoveEvent=n,this._componentFocusEvent=i,this._componentDragStartEvent=o,this._dropdownActiveChangedEvent=r,this._tabs=[],this._lastVisibleTabIndex=-1,this._dropdownActive=!1,this._element=document.createElement("section"),this._element.classList.add("lm_tabs"),this._dropdownElement=document.createElement("section"),this._dropdownElement.classList.add("lm_tabdropdown_list"),this._dropdownElement.style.display="none"}get tabs(){return this._tabs}get tabCount(){return this._tabs.length}get lastVisibleTabIndex(){return this._lastVisibleTabIndex}get element(){return this._element}get dropdownElement(){return this._dropdownElement}get dropdownActive(){return this._dropdownActive}destroy(){for(let t=0;t<this._tabs.length;t++)this._tabs[t].destroy()}createTab(t,n){for(let o=0;o<this._tabs.length;o++)if(this._tabs[o].componentItem===t)return;const i=new D1(this._layoutManager,t,o=>this.handleTabCloseEvent(o),o=>this.handleTabFocusEvent(o),(o,r,s,u)=>this.handleTabDragStartEvent(o,r,s,u));n===void 0&&(n=this._tabs.length),this._tabs.splice(n,0,i),n<this._element.childNodes.length?this._element.insertBefore(i.element,this._element.childNodes[n]):this._element.appendChild(i.element)}removeTab(t){for(let n=0;n<this._tabs.length;n++)if(this._tabs[n].componentItem===t){this._tabs[n].destroy(),this._tabs.splice(n,1);return}throw new Error("contentItem is not controlled by this header")}processActiveComponentChanged(t){let n=-1;for(let i=0;i<this._tabs.length;i++){const o=this._tabs[i].componentItem===t;this._tabs[i].setActive(o),o&&(n=i)}if(n<0)throw new Re("HSACI56632");if(this._layoutManager.layoutConfig.settings.reorderOnTabMenuClick&&this._lastVisibleTabIndex!==-1&&n>this._lastVisibleTabIndex){const i=this._tabs[n];for(let o=n;o>0;o--)this._tabs[o]=this._tabs[o-1];this._tabs[0]=i}}updateTabSizes(t,n){let i=!1;this.tryUpdateTabSizes(i,t,n)||(i=!0,this.tryUpdateTabSizes(i,t,n)),i!==this._dropdownActive&&(this._dropdownActive=i,this._dropdownActiveChangedEvent())}tryUpdateTabSizes(t,n,i){if(this._tabs.length>0){if(i===void 0)throw new Error("non-empty tabs must have active component item");let o=0,r=!1;const s=this._layoutManager.layoutConfig.settings.tabOverlapAllowance,u=this._tabs.indexOf(i.tab),a=this._tabs[u];this._lastVisibleTabIndex=-1;for(let l=0;l<this._tabs.length;l++){const c=this._tabs[l].element;c.parentElement!==this._element&&this._element.appendChild(c);const d=getComputedStyle(a.element).marginRight,f=Pi(d),h=c.offsetWidth+f;o+=h;let m=0;if(u<=l)m=o;else{const b=getComputedStyle(a.element).marginRight,v=Pi(b);m=o+a.element.offsetWidth+v}if(m>n){if(r)l===u&&(c.style.zIndex="auto",c.style.marginLeft="",c.parentElement!==this._element&&this._element.appendChild(c));else{let b;if(u>0&&u<=l?b=(m-n)/(l-1):b=(m-n)/l,b<s){for(let v=0;v<=l;v++){const y=v!==u&&v!==0?"-"+$e(b):"";this._tabs[v].element.style.zIndex=$e(l-v),this._tabs[v].element.style.marginLeft=y}this._lastVisibleTabIndex=l,c.parentElement!==this._element&&this._element.appendChild(c)}else r=!0}if(r&&l!==u)if(t)c.style.zIndex="auto",c.style.marginLeft="",c.parentElement!==this._dropdownElement&&this._dropdownElement.appendChild(c);else return!1}else this._lastVisibleTabIndex=l,c.style.zIndex="auto",c.style.marginLeft="",c.parentElement!==this._element&&this._element.appendChild(c)}}return!0}showAdditionalTabsDropdown(){this._dropdownElement.style.display=""}hideAdditionalTabsDropdown(){this._dropdownElement.style.display="none"}handleTabCloseEvent(t){this._componentRemoveEvent(t)}handleTabFocusEvent(t){this._componentFocusEvent(t)}handleTabDragStartEvent(t,n,i,o){this._componentDragStartEvent(t,n,i,o)}}class M1 extends Qe{constructor(t,n,i,o,r,s,u,a,l,c,d,f,h){super(),this._layoutManager=t,this._parent=n,this._configClosable=o,this._getActiveComponentItemEvent=r,this._popoutEvent=u,this._maximiseToggleEvent=a,this._clickEvent=l,this._touchStartEvent=c,this._componentRemoveEvent=d,this._componentFocusEvent=f,this._componentDragStartEvent=h,this._clickListener=m=>this.onClick(m),this._touchStartListener=m=>this.onTouchStart(m),this._rowColumnClosable=!0,this._closeButton=null,this._popoutButton=null,this._tabsContainer=new T1(this._layoutManager,m=>this.handleTabInitiatedComponentRemoveEvent(m),m=>this.handleTabInitiatedComponentFocusEvent(m),(m,b,v,y)=>this.handleTabInitiatedDragStartEvent(m,b,v,y),()=>this.processTabDropdownActiveChanged()),this._show=i.show,this._popoutEnabled=i.popoutEnabled,this._popoutLabel=i.popoutLabel,this._maximiseEnabled=i.maximiseEnabled,this._maximiseLabel=i.maximiseLabel,this._minimiseEnabled=i.minimiseEnabled,this._minimiseLabel=i.minimiseLabel,this._closeEnabled=i.closeEnabled,this._closeLabel=i.closeLabel,this._tabDropdownEnabled=i.tabDropdownEnabled,this._tabDropdownLabel=i.tabDropdownLabel,this.setSide(i.side),this._canRemoveComponent=this._configClosable,this._element=document.createElement("section"),this._element.classList.add("lm_header"),this._controlsContainerElement=document.createElement("section"),this._controlsContainerElement.classList.add("lm_controls"),this._element.appendChild(this._tabsContainer.element),this._element.appendChild(this._controlsContainerElement),this._element.appendChild(this._tabsContainer.dropdownElement),this._element.addEventListener("click",this._clickListener,{passive:!0}),this._element.addEventListener("touchstart",this._touchStartListener,{passive:!0}),this._documentMouseUpListener=()=>this._tabsContainer.hideAdditionalTabsDropdown(),globalThis.document.addEventListener("mouseup",this._documentMouseUpListener,{passive:!0}),this._tabControlOffset=this._layoutManager.layoutConfig.settings.tabControlOffset,this._tabDropdownEnabled&&(this._tabDropdownButton=new vr(this,this._tabDropdownLabel,"lm_tabdropdown",()=>this._tabsContainer.showAdditionalTabsDropdown())),this._popoutEnabled&&(this._popoutButton=new vr(this,this._popoutLabel,"lm_popout",()=>this.handleButtonPopoutEvent())),this._maximiseEnabled&&(this._maximiseButton=new vr(this,this._maximiseLabel,"lm_maximise",m=>this.handleButtonMaximiseToggleEvent(m))),this._configClosable&&(this._closeButton=new vr(this,this._closeLabel,"lm_close",()=>s())),this.processTabDropdownActiveChanged()}get show(){return this._show}get side(){return this._side}get leftRightSided(){return this._leftRightSided}get layoutManager(){return this._layoutManager}get parent(){return this._parent}get tabs(){return this._tabsContainer.tabs}get lastVisibleTabIndex(){return this._tabsContainer.lastVisibleTabIndex}get element(){return this._element}get tabsContainerElement(){return this._tabsContainer.element}get controlsContainerElement(){return this._controlsContainerElement}destroy(){this.emit("destroy"),this._popoutEvent=void 0,this._maximiseToggleEvent=void 0,this._clickEvent=void 0,this._touchStartEvent=void 0,this._componentRemoveEvent=void 0,this._componentFocusEvent=void 0,this._componentDragStartEvent=void 0,this._tabsContainer.destroy(),globalThis.document.removeEventListener("mouseup",this._documentMouseUpListener),this._element.remove()}createTab(t,n){this._tabsContainer.createTab(t,n)}removeTab(t){this._tabsContainer.removeTab(t)}processActiveComponentChanged(t){this._tabsContainer.processActiveComponentChanged(t),this.updateTabSizes()}setSide(t){this._side=t,this._leftRightSided=[Yn.right,Yn.left].includes(this._side)}setRowColumnClosable(t){this._rowColumnClosable=t,this.updateClosability()}updateClosability(){let t;if(!this._configClosable)t=!1;else if(!this._rowColumnClosable)t=!1;else{t=!0;const n=this.tabs.length;for(let i=0;i<n;i++)if(!this._tabsContainer.tabs[i].componentItem.isClosable){t=!1;break}}this._closeButton!==null&&vi(this._closeButton.element,t),this._popoutButton!==null&&vi(this._popoutButton.element,t),this._canRemoveComponent=t||this._tabsContainer.tabCount>1}applyFocusedValue(t){t?this._element.classList.add("lm_focused"):this._element.classList.remove("lm_focused")}processMaximised(){if(this._maximiseButton===void 0)throw new Se("HPMAX16997");this._maximiseButton.element.setAttribute("title",this._minimiseLabel)}processMinimised(){if(this._maximiseButton===void 0)throw new Se("HPMIN16997");this._maximiseButton.element.setAttribute("title",this._maximiseLabel)}updateTabSizes(){if(this._tabsContainer.tabCount>0){const t=this._show?this._layoutManager.layoutConfig.dimensions.headerHeight:0;this._leftRightSided?(this._element.style.height="",this._element.style.width=$e(t)):(this._element.style.width="",this._element.style.height=$e(t));let n;this._leftRightSided?n=this._element.offsetHeight-this._controlsContainerElement.offsetHeight-this._tabControlOffset:n=this._element.offsetWidth-this._controlsContainerElement.offsetWidth-this._tabControlOffset,this._tabsContainer.updateTabSizes(n,this._getActiveComponentItemEvent())}}handleTabInitiatedComponentRemoveEvent(t){if(this._canRemoveComponent){if(this._componentRemoveEvent===void 0)throw new Se("HHTCE22294");this._componentRemoveEvent(t)}}handleTabInitiatedComponentFocusEvent(t){if(this._componentFocusEvent===void 0)throw new Se("HHTAE22294");this._componentFocusEvent(t)}handleTabInitiatedDragStartEvent(t,n,i,o){if(!this._canRemoveComponent)i.cancelDrag();else{if(this._componentDragStartEvent===void 0)throw new Se("HHTDSE22294");this._componentDragStartEvent(t,n,i,o)}}processTabDropdownActiveChanged(){this._tabDropdownButton!==void 0&&vi(this._tabDropdownButton.element,this._tabsContainer.dropdownActive)}handleButtonPopoutEvent(){if(this._layoutManager.layoutConfig.settings.popoutWholeStack){if(this._popoutEvent===void 0)throw new Se("HHBPOE17834");this._popoutEvent()}else{const t=this._getActiveComponentItemEvent();t&&t.popout()}}handleButtonMaximiseToggleEvent(t){if(this._maximiseToggleEvent===void 0)throw new Se("HHBMTE16834");this._maximiseToggleEvent()}onClick(t){t.target===this._element&&this.notifyClick(t)}onTouchStart(t){t.target===this._element&&this.notifyTouchStart(t)}notifyClick(t){if(this._clickEvent===void 0)throw new Se("HNHC46834");this._clickEvent(t)}notifyTouchStart(t){if(this._touchStartEvent===void 0)throw new Se("HNHTS46834");this._touchStartEvent(t)}}class En extends Gh{constructor(t,n,i){var o,r,s,u,a,l,c,d,f,h,m,b,v,y,_,p,g,S,C;super(t,n,i,En.createElement(document)),this._headerSideChanged=!1,this._resizeListener=()=>this.handleResize(),this._maximisedListener=()=>this.handleMaximised(),this._minimisedListener=()=>this.handleMinimised(),this._headerConfig=n.header;const F=t.layoutConfig.header,w=n.content;let x;w.length!==1?x=void 0:x=w[0].header,this._initialWantMaximise=n.maximised,this._initialActiveItemIndex=(o=n.activeItemIndex)!==null&&o!==void 0?o:0;const N=(u=(s=(r=this._headerConfig)===null||r===void 0?void 0:r.show)!==null&&s!==void 0?s:x==null?void 0:x.show)!==null&&u!==void 0?u:F.show,P=(c=(l=(a=this._headerConfig)===null||a===void 0?void 0:a.popout)!==null&&l!==void 0?l:x==null?void 0:x.popout)!==null&&c!==void 0?c:F.popout,E=(h=(f=(d=this._headerConfig)===null||d===void 0?void 0:d.maximise)!==null&&f!==void 0?f:x==null?void 0:x.maximise)!==null&&h!==void 0?h:F.maximise,z=(v=(b=(m=this._headerConfig)===null||m===void 0?void 0:m.close)!==null&&b!==void 0?b:x==null?void 0:x.close)!==null&&v!==void 0?v:F.close,M=(p=(_=(y=this._headerConfig)===null||y===void 0?void 0:y.minimise)!==null&&_!==void 0?_:x==null?void 0:x.minimise)!==null&&p!==void 0?p:F.minimise,U=(C=(S=(g=this._headerConfig)===null||g===void 0?void 0:g.tabDropdown)!==null&&S!==void 0?S:x==null?void 0:x.tabDropdown)!==null&&C!==void 0?C:F.tabDropdown;this._maximisedEnabled=E!==!1;const $={show:N!==!1,side:N===!1?Yn.top:N,popoutEnabled:P!==!1,popoutLabel:P===!1?"":P,maximiseEnabled:this._maximisedEnabled,maximiseLabel:E===!1?"":E,closeEnabled:z!==!1,closeLabel:z===!1?"":z,minimiseEnabled:!0,minimiseLabel:M,tabDropdownEnabled:U!==!1,tabDropdownLabel:U===!1?"":U};this._header=new M1(t,this,$,n.isClosable&&z!==!1,()=>this.getActiveComponentItem(),()=>this.remove(),()=>this.handlePopoutEvent(),()=>this.toggleMaximise(),Z=>this.handleHeaderClickEvent(Z),Z=>this.handleHeaderTouchStartEvent(Z),Z=>this.handleHeaderComponentRemoveEvent(Z),Z=>this.handleHeaderComponentFocusEvent(Z),(Z,Y,ne,ie)=>this.handleHeaderComponentStartDragEvent(Z,Y,ne,ie)),this.isStack=!0,this._childElementContainer=document.createElement("section"),this._childElementContainer.classList.add("lm_items"),this.on("resize",this._resizeListener),this._maximisedEnabled&&(this.on("maximised",this._maximisedListener),this.on("minimised",this._minimisedListener)),this.element.appendChild(this._header.element),this.element.appendChild(this._childElementContainer),this.setupHeaderPosition(),this._header.updateClosability()}get childElementContainer(){return this._childElementContainer}get header(){return this._header}get headerShow(){return this._header.show}get headerSide(){return this._header.side}get headerLeftRightSided(){return this._header.leftRightSided}get contentAreaDimensions(){return this._contentAreaDimensions}get initialWantMaximise(){return this._initialWantMaximise}get isMaximised(){return this===this.layoutManager.maximisedStack}get stackParent(){if(!this.parent)throw new Error("Stack should always have a parent");return this.parent}updateSize(t){this.layoutManager.beginVirtualSizedContainerAdding();try{this.updateNodeSize(),this.updateContentItemsSize(t)}finally{this.layoutManager.endVirtualSizedContainerAdding()}}init(){if(this.isInitialised===!0)return;this.updateNodeSize();for(let i=0;i<this.contentItems.length;i++)this._childElementContainer.appendChild(this.contentItems[i].element);super.init();const t=this.contentItems,n=t.length;if(n>0){if(this._initialActiveItemIndex<0||this._initialActiveItemIndex>=n)throw new Error(`ActiveItemIndex out of range: ${this._initialActiveItemIndex} id: ${this.id}`);for(let i=0;i<n;i++){const o=t[i];if(o instanceof hi)this._header.createTab(o,i),o.hide(),o.container.setBaseLogicalZIndex();else throw new Error(`Stack Content Item is not of type ComponentItem: ${i} id: ${this.id}`)}this.setActiveComponentItem(t[this._initialActiveItemIndex],!1),this._header.updateTabSizes()}this._header.updateClosability(),this.initContentItems()}setActiveContentItem(t){if(Mt.isComponentItem(t))this.setActiveComponentItem(t,!1);else throw new Error("Stack.setActiveContentItem: item is not a ComponentItem")}setActiveComponentItem(t,n,i=!1){if(this._activeComponentItem!==t){if(this.contentItems.indexOf(t)===-1)throw new Error("componentItem is not a child of this stack");this.layoutManager.beginSizeInvalidation();try{this._activeComponentItem!==void 0&&this._activeComponentItem.hide(),this._activeComponentItem=t,this._header.processActiveComponentChanged(t),t.show()}finally{this.layoutManager.endSizeInvalidation()}this.emit("activeContentItemChanged",t),this.layoutManager.emit("activeContentItemChanged",t),this.emitStateChangedEvent()}(this.focused||n)&&this.layoutManager.setFocusedComponentItem(t,i)}getActiveContentItem(){var t;return(t=this.getActiveComponentItem())!==null&&t!==void 0?t:null}getActiveComponentItem(){return this._activeComponentItem}focusActiveContentItem(){var t;(t=this._activeComponentItem)===null||t===void 0||t.focus()}setFocusedValue(t){this._header.applyFocusedValue(t),super.setFocusedValue(t)}setRowColumnClosable(t){this._header.setRowColumnClosable(t)}newComponent(t,n,i,o){const r={type:"component",componentType:t,componentState:n,title:i};return this.newItem(r,o)}addComponent(t,n,i,o){const r={type:"component",componentType:t,componentState:n,title:i};return this.addItem(r,o)}newItem(t,n){return n=this.addItem(t,n),this.contentItems[n]}addItem(t,n){this.layoutManager.checkMinimiseMaximisedStack();const i=Ke.resolve(t,!1),o=this.layoutManager.createAndInitContentItem(i,this);return this.addChild(o,n)}addChild(t,n,i=!1){if(n!==void 0&&n>this.contentItems.length)throw n-=1,new Re("SAC99728");if(t instanceof hi)return n=super.addChild(t,n),this._childElementContainer.appendChild(t.element),this._header.createTab(t,n),this.setActiveComponentItem(t,i),this._header.updateTabSizes(),this.updateSize(!1),t.container.setBaseLogicalZIndex(),this._header.updateClosability(),this.emitStateChangedEvent(),n;throw new Re("SACC88532")}removeChild(t,n){const i=t,o=this.contentItems.indexOf(i),r=this.contentItems.length===1;if(this._activeComponentItem===i&&(i.focused&&i.blur(),!r)){const s=o===0?1:o-1;this.setActiveComponentItem(this.contentItems[s],!1)}this._header.removeTab(i),super.removeChild(i,n),r||this._header.updateClosability(),this.emitStateChangedEvent()}toggleMaximise(){this.isMaximised?this.minimise():this.maximise()}maximise(){if(!this.isMaximised){this.layoutManager.setMaximisedStack(this);const t=this.contentItems,n=t.length;for(let i=0;i<n;i++){const o=t[i];if(o instanceof hi)o.enterStackMaximised();else throw new Re("SMAXI87773")}this.emitStateChangedEvent()}}minimise(){if(this.isMaximised){this.layoutManager.setMaximisedStack(void 0);const t=this.contentItems,n=t.length;for(let i=0;i<n;i++){const o=t[i];if(o instanceof hi)o.exitStackMaximised();else throw new Re("SMINI87773")}this.emitStateChangedEvent()}}destroy(){var t;!((t=this._activeComponentItem)===null||t===void 0)&&t.focused&&this._activeComponentItem.blur(),super.destroy(),this.off("resize",this._resizeListener),this._maximisedEnabled&&(this.off("maximised",this._maximisedListener),this.off("minimised",this._minimisedListener)),this._header.destroy()}toConfig(){let t;if(this._activeComponentItem&&(t=this.contentItems.indexOf(this._activeComponentItem),t<0))throw new Error("active component item not found in stack");if(this.contentItems.length>0&&t===void 0)throw new Error("expected non-empty stack to have an active component item");return{type:"stack",content:this.calculateConfigContent(),size:this.size,sizeUnit:this.sizeUnit,minSize:this.minSize,minSizeUnit:this.minSizeUnit,id:this.id,isClosable:this.isClosable,maximised:this.isMaximised,header:this.createHeaderConfig(),activeItemIndex:t}}onDrop(t,n){if(this._dropSegment==="header"){if(this.resetHeaderDropZone(),this._dropIndex===void 0)throw new Se("SODDI68990");this.addChild(t,this._dropIndex);return}if(this._dropSegment==="body"){this.addChild(t,0,!0);return}const i=this._dropSegment==="top"||this._dropSegment==="bottom",o=this._dropSegment==="left"||this._dropSegment==="right",r=this._dropSegment==="top"||this._dropSegment==="left",s=i&&this.stackParent.isColumn||o&&this.stackParent.isRow;if(t.isComponent){const u=Tn.createDefault();u.header=this.createHeaderConfig();const a=this.layoutManager.createAndInitContentItem(u,this);a.addChild(t),t=a}if(t.type===oe.row||t.type===oe.column){const u=Tn.createDefault();u.header=this.createHeaderConfig();const a=this.layoutManager.createContentItem(u,this);a.addChild(t),t=a}if(s){const u=this.stackParent.contentItems.indexOf(this);this.stackParent.addChild(t,r?u:u+1,!0),this.size*=.5,t.size=this.size,t.sizeUnit=this.sizeUnit,this.stackParent.updateSize(!1)}else{const u=i?oe.column:oe.row,a=De.createDefault(u),l=this.layoutManager.createContentItem(a,this);this.stackParent.replaceChild(this,l),l.addChild(t,r?0:void 0,!0),l.addChild(this,r?void 0:0,!0),this.size=50,t.size=50,t.sizeUnit=Pe.Percent,l.updateSize(!1)}}highlightDropZone(t,n){for(const i in this._contentAreaDimensions){const o=i,r=this._contentAreaDimensions[o].hoverArea;if(r.x1<t&&r.x2>t&&r.y1<n&&r.y2>n){o==="header"?(this._dropSegment="header",this.highlightHeaderDropZone(this._header.leftRightSided?n:t)):(this.resetHeaderDropZone(),this.highlightBodyDropZone(o));return}}}getArea(){if(this.element.style.display==="none")return null;const t=super.getElementArea(this._header.element),n=super.getElementArea(this._childElementContainer);if(t===null||n===null)throw new Ze("SGAHC13086");const i=n.x2-n.x1,o=n.y2-n.y1;return this._contentAreaDimensions={header:{hoverArea:{x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2},highlightArea:{x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2}}},this.contentItems.length===0?(this._contentAreaDimensions.body={hoverArea:{x1:n.x1,y1:n.y1,x2:n.x2,y2:n.y2},highlightArea:{x1:n.x1,y1:n.y1,x2:n.x2,y2:n.y2}},super.getElementArea(this.element)):(this._contentAreaDimensions.left={hoverArea:{x1:n.x1,y1:n.y1,x2:n.x1+i*.25,y2:n.y2},highlightArea:{x1:n.x1,y1:n.y1,x2:n.x1+i*.5,y2:n.y2}},this._contentAreaDimensions.top={hoverArea:{x1:n.x1+i*.25,y1:n.y1,x2:n.x1+i*.75,y2:n.y1+o*.5},highlightArea:{x1:n.x1,y1:n.y1,x2:n.x2,y2:n.y1+o*.5}},this._contentAreaDimensions.right={hoverArea:{x1:n.x1+i*.75,y1:n.y1,x2:n.x2,y2:n.y2},highlightArea:{x1:n.x1+i*.5,y1:n.y1,x2:n.x2,y2:n.y2}},this._contentAreaDimensions.bottom={hoverArea:{x1:n.x1+i*.25,y1:n.y1+o*.5,x2:n.x1+i*.75,y2:n.y2},highlightArea:{x1:n.x1,y1:n.y1+o*.5,x2:n.x2,y2:n.y2}},super.getElementArea(this.element))}positionHeader(t){this._header.side!==t&&(this._header.setSide(t),this._headerSideChanged=!0,this.setupHeaderPosition())}updateNodeSize(){if(this.element.style.display!=="none"){const t=qn(this.element);if(this._header.show){const n=this._header.leftRightSided?Zr.width:Zr.height;t[n]-=this.layoutManager.layoutConfig.dimensions.headerHeight}this._childElementContainer.style.width=$e(t.width),this._childElementContainer.style.height=$e(t.height);for(let n=0;n<this.contentItems.length;n++)this.contentItems[n].element.style.width=$e(t.width),this.contentItems[n].element.style.height=$e(t.height);this.emit("resize"),this.emitStateChangedEvent()}}highlightHeaderDropZone(t){const n=this._header.lastVisibleTabIndex+1,o=this._header.tabsContainerElement.childNodes,r=new Array(n);let s=0,u=0;for(;u<n;){const c=o[s++];c!==this.layoutManager.tabDropPlaceholder&&(r[u++]=c)}const a=this.layoutManager.dropTargetIndicator;if(a===null)throw new Ze("SHHDZDTI97110");let l;if(n===0){const c=this._header.element.getBoundingClientRect(),d=c.top+document.body.scrollTop,f=c.left+document.body.scrollLeft;l={x1:f,x2:f+100,y1:d+c.height-20,y2:d+c.height},this._dropIndex=0}else{let c=0,d=!1,f,h,m,b;do{b=r[c];const S=b.getBoundingClientRect(),C=S.top+document.body.scrollTop,F=S.left+document.body.scrollLeft;this._header.leftRightSided?(h=C,f=F,m=S.height):(h=F,f=C,m=S.width),t>=h&&t<h+m?d=!0:c++}while(c<n&&!d);if(d===!1&&t<h)return;const v=h+m/2;t<v?(this._dropIndex=c,b.insertAdjacentElement("beforebegin",this.layoutManager.tabDropPlaceholder)):(this._dropIndex=Math.min(c+1,n),b.insertAdjacentElement("afterend",this.layoutManager.tabDropPlaceholder));const y=this.layoutManager.tabDropPlaceholder.getBoundingClientRect(),_=y.top+document.body.scrollTop,p=y.left+document.body.scrollLeft,g=y.width;if(this._header.leftRightSided){const S=_;l={x1:f,x2:f+b.clientHeight,y1:S,y2:S+g}}else{const S=p;l={x1:S,x2:S+g,y1:f,y2:f+b.clientHeight}}}a.highlightArea(l,0)}resetHeaderDropZone(){this.layoutManager.tabDropPlaceholder.remove()}setupHeaderPosition(){vi(this._header.element,this._header.show),this.element.classList.remove("lm_left","lm_right","lm_bottom"),this._header.leftRightSided&&this.element.classList.add("lm_"+this._header.side),this.updateSize(!1)}highlightBodyDropZone(t){if(this._contentAreaDimensions===void 0)throw new Se("SHBDZC82265");{const n=this._contentAreaDimensions[t].highlightArea,i=this.layoutManager.dropTargetIndicator;if(i===null)throw new Ze("SHBDZD96110");i.highlightArea(n,1),this._dropSegment=t}}handleResize(){this._header.updateTabSizes()}handleMaximised(){this._header.processMaximised()}handleMinimised(){this._header.processMinimised()}handlePopoutEvent(){this.popout()}handleHeaderClickEvent(t){const n=Qe.headerClickEventName,i=new Qe.ClickBubblingEvent(n,this,t);this.emit(n,i)}handleHeaderTouchStartEvent(t){const n=Qe.headerTouchStartEventName,i=new Qe.TouchStartBubblingEvent(n,this,t);this.emit(n,i)}handleHeaderComponentRemoveEvent(t){this.removeChild(t,!1)}handleHeaderComponentFocusEvent(t){this.setActiveComponentItem(t,!0)}handleHeaderComponentStartDragEvent(t,n,i,o){this.isMaximised===!0&&this.toggleMaximise(),this.layoutManager.startComponentDrag(t,n,i,o,this)}createHeaderConfig(){if(this._headerSideChanged){const t=this._header.show?this._header.side:!1;let n=Vt.Header.createCopy(this._headerConfig,t);return n===void 0&&(n={show:t,popout:void 0,maximise:void 0,close:void 0,minimise:void 0,tabDropdown:void 0}),n}else return Vt.Header.createCopy(this._headerConfig)}emitStateChangedEvent(){this.emitBaseBubblingEvent("stateChanged")}}(function(e){function t(n){const i=n.createElement("div");return i.classList.add("lm_item"),i.classList.add("lm_stack"),i}e.createElement=t})(En||(En={}));class jh extends Qe{constructor(t,n,i,o,r,s){if(super(),this._dragListener=i,this._layoutManager=o,this._componentItem=r,this._originalParent=s,this._area=null,this._lastValidArea=null,this._dragListener.on("drag",(u,a,l)=>this.onDrag(u,a,l)),this._dragListener.on("dragStop",()=>this.onDrop()),this.createDragProxyElements(t,n),this._componentItem.parent===null)throw new Ze("DPC10097");this._componentItemFocused=this._componentItem.focused,this._componentItemFocused&&this._componentItem.blur(),this._componentItem.parent.removeChild(this._componentItem,!0),this.setDimensions(),document.body.appendChild(this._element),this.determineMinMaxXY(),this._layoutManager.calculateItemAreas(),this.setDropPosition(t,n)}get element(){return this._element}createDragProxyElements(t,n){this._element=document.createElement("div"),this._element.classList.add("lm_dragProxy");const i=document.createElement("div");i.classList.add("lm_header");const o=document.createElement("div");o.classList.add("lm_tabs");const r=document.createElement("div");r.classList.add("lm_tab");const s=document.createElement("span");s.classList.add("lm_title"),r.appendChild(s),o.appendChild(r),i.appendChild(o),this._proxyContainerElement=document.createElement("div"),this._proxyContainerElement.classList.add("lm_content"),this._element.appendChild(i),this._element.appendChild(this._proxyContainerElement),this._originalParent instanceof En&&this._originalParent.headerShow&&(this._sided=this._originalParent.headerLeftRightSided,this._element.classList.add("lm_"+this._originalParent.headerSide),[Yn.right,Yn.bottom].indexOf(this._originalParent.headerSide)>=0&&this._proxyContainerElement.insertAdjacentElement("afterend",i)),this._element.style.left=$e(t),this._element.style.top=$e(n),r.setAttribute("title",this._componentItem.title),s.insertAdjacentText("afterbegin",this._componentItem.title),this._proxyContainerElement.appendChild(this._componentItem.element)}determineMinMaxXY(){const t=this._layoutManager.groundItem;if(t===void 0)throw new Se("DPDMMXY73109");{const i=t.element.getBoundingClientRect();this._minX=i.left+document.body.scrollLeft,this._minY=i.top+document.body.scrollTop,this._maxX=this._minX+i.width,this._maxY=this._minY+i.height}}onDrag(t,n,i){const o=i.pageX,r=i.pageY;this.setDropPosition(o,r),this._componentItem.drag()}setDropPosition(t,n){this._layoutManager.layoutConfig.settings.constrainDragToContainer&&(t<=this._minX?t=Math.ceil(this._minX):t>=this._maxX&&(t=Math.floor(this._maxX)),n<=this._minY?n=Math.ceil(this._minY):n>=this._maxY&&(n=Math.floor(this._maxY))),this._element.style.left=$e(t),this._element.style.top=$e(n),this._area=this._layoutManager.getArea(t,n),this._area!==null&&(this._lastValidArea=this._area,this._area.contentItem.highlightDropZone(t,n,this._area))}onDrop(){const t=this._layoutManager.dropTargetIndicator;if(t===null)throw new Ze("DPOD30011");t.hide(),this._componentItem.exitDragMode();let n;this._area!==null?(n=this._componentItem,this._area.contentItem.onDrop(n,this._area)):this._lastValidArea!==null?(n=this._componentItem,this._lastValidArea.contentItem.onDrop(n,this._lastValidArea)):this._originalParent?(n=this._componentItem,this._originalParent.addChild(n)):this._componentItem.destroy(),this._element.remove(),this._layoutManager.emit("itemDropped",this._componentItem),this._componentItemFocused&&n!==void 0&&n.focus()}setDimensions(){const t=this._layoutManager.layoutConfig.dimensions;if(t===void 0)throw new Error("DragProxy.setDimensions: dimensions undefined");let n=t.dragProxyWidth,i=t.dragProxyHeight;if(n===void 0||i===void 0)throw new Error("DragProxy.setDimensions: width and/or height undefined");const o=this._layoutManager.layoutConfig.header.show===!1?0:t.headerHeight;this._element.style.width=$e(n),this._element.style.height=$e(i),n-=this._sided?o:0,i-=this._sided?0:o,this._proxyContainerElement.style.width=$e(n),this._proxyContainerElement.style.height=$e(i),this._componentItem.enterDragMode(n,i),this._componentItem.show()}}class Go{constructor(t,n,i,o,r,s,u){this._layoutManager=t,this._element=n,this._extraAllowableChildTargets=i,this._componentTypeOrFtn=o,this._componentState=r,this._title=s,this._id=u,this._dragListener=null,this._dummyGroundContainer=document.createElement("div");const a=Yi.createDefault("row");this._dummyGroundContentItem=new Kn(this._layoutManager,a,this._dummyGroundContainer),this.createDragListener()}destroy(){this.removeDragListener()}createDragListener(){this.removeDragListener(),this._dragListener=new cl(this._element,this._extraAllowableChildTargets),this._dragListener.on("dragStart",(t,n)=>this.onDragStart(t,n)),this._dragListener.on("dragStop",()=>this.onDragStop())}onDragStart(t,n){var i;const o="component";let r;if(typeof this._componentTypeOrFtn=="function"){const a=this._componentTypeOrFtn();Go.isDragSourceComponentItemConfig(a)?r={type:o,componentState:a.state,componentType:a.type,title:(i=a.title)!==null&&i!==void 0?i:this._title}:r=a}else r={type:o,componentState:this._componentState,componentType:this._componentTypeOrFtn,title:this._title,id:this._id};const s=Xn.resolve(r,!1),u=new hi(this._layoutManager,s,this._dummyGroundContentItem);if(this._dummyGroundContentItem.contentItems.push(u),this._dragListener===null)throw new Ze("DSODSD66746");{const a=new jh(t,n,this._dragListener,this._layoutManager,u,this._dummyGroundContentItem),l=this._layoutManager.transitionIndicator;if(l===null)throw new Ze("DSODST66746");l.transitionElements(this._element,a.element)}}onDragStop(){this.createDragListener()}removeDragListener(){this._dragListener!==null&&(this._dragListener.destroy(),this._dragListener=null)}}(function(e){function t(n){return!("componentType"in n)}e.isDragSourceComponentItemConfig=t})(Go||(Go={}));class N1{constructor(){this._element=document.createElement("div"),this._element.classList.add("lm_dropTargetIndicator");const t=document.createElement("div");t.classList.add("lm_inner"),this._element.appendChild(t),document.body.appendChild(this._element)}destroy(){this._element.remove()}highlightArea(t,n){this._element.style.left=$e(t.x1+n),this._element.style.top=$e(t.y1+n),this._element.style.width=$e(t.x2-t.x1-n),this._element.style.height=$e(t.y2-t.y1-n),this._element.style.display="block"}hide(){vi(this._element,!1)}}class F1{constructor(){this._element=document.createElement("div"),this._element.classList.add("lm_transition_indicator"),document.body.appendChild(this._element),this._toElement=null,this._fromDimensions=null,this._totalAnimationDuration=200,this._animationStartTime=null}destroy(){this._element.remove()}transitionElements(t,n){}nextAnimationFrame(){}measure(t){const n=t.getBoundingClientRect();return{left:n.left,top:n.top,width:t.offsetWidth,height:t.offsetHeight}}}class bi extends Qe{constructor(t){super(),this._layoutManager=t,this._childEventListener=n=>this.onEventFromChild(n),globalThis.addEventListener(bi.ChildEventName,this._childEventListener,{passive:!0})}emit(t,...n){t==="userBroadcast"?this.emitUserBroadcast(...n):super.emit(t,...n)}emitUserBroadcast(...t){this.handleUserBroadcastEvent("userBroadcast",t)}destroy(){globalThis.removeEventListener(bi.ChildEventName,this._childEventListener)}handleUserBroadcastEvent(t,n){this._layoutManager.isSubWindow?this.propagateToParent(t,n):this.propagateToThisAndSubtree(t,n)}onEventFromChild(t){const n=t.detail;this.handleUserBroadcastEvent(n.eventName,n.args)}propagateToParent(t,n){const o={bubbles:!0,cancelable:!0,detail:{layoutManager:this._layoutManager,eventName:t,args:n}},r=new CustomEvent(bi.ChildEventName,o),s=globalThis.opener;if(s===null)throw new Ze("EHPTP15778");s.dispatchEvent(r)}propagateToThisAndSubtree(t,n){this.emitUnknown(t,...n);for(let i=0;i<this._layoutManager.openPopouts.length;i++){const o=this._layoutManager.openPopouts[i].getGlInstance();o&&o.eventHub.propagateToThisAndSubtree(t,n)}}}(function(e){e.ChildEventName="gl_child_event"})(bi||(bi={}));class yi extends Qe{constructor(t){super(),this.resizeWithContainerAutomatically=!1,this.resizeDebounceInterval=100,this.resizeDebounceExtendedWhenPossible=!0,this._isInitialised=!1,this._groundItem=void 0,this._openPopouts=[],this._dropTargetIndicator=null,this._transitionIndicator=null,this._itemAreas=[],this._maximisePlaceholder=yi.createMaximisePlaceElement(document),this._tabDropPlaceholder=yi.createTabDropPlaceholderElement(document),this._dragSources=[],this._updatingColumnsResponsive=!1,this._firstLoad=!0,this._eventHub=new bi(this),this._width=null,this._height=null,this._virtualSizedContainers=[],this._virtualSizedContainerAddingBeginCount=0,this._sizeInvalidationBeginCount=0,this._resizeObserver=new ResizeObserver(()=>this.handleContainerResize()),this._windowBeforeUnloadListener=()=>this.onBeforeUnload(),this._windowBeforeUnloadListening=!1,this._maximisedStackBeforeDestroyedListener=n=>this.cleanupBeforeMaximisedStackDestroyed(n),this.isSubWindow=t.isSubWindow,this._constructorOrSubWindowLayoutConfig=t.constructorOrSubWindowLayoutConfig,Wr.checkInitialise(),Ho.checkInitialise(),t.containerElement!==void 0&&(this._containerElement=t.containerElement)}get container(){return this._containerElement}get isInitialised(){return this._isInitialised}get groundItem(){return this._groundItem}get root(){return this._groundItem}get openPopouts(){return this._openPopouts}get dropTargetIndicator(){return this._dropTargetIndicator}get transitionIndicator(){return this._transitionIndicator}get width(){return this._width}get height(){return this._height}get eventHub(){return this._eventHub}get rootItem(){if(this._groundItem===void 0)throw new Error("Cannot access rootItem before init");return this._groundItem.contentItems.length===0?void 0:this._groundItem.contentItems[0]}get focusedComponentItem(){return this._focusedComponentItem}get tabDropPlaceholder(){return this._tabDropPlaceholder}get maximisedStack(){return this._maximisedStack}get deprecatedConstructor(){return!this.isSubWindow&&this._constructorOrSubWindowLayoutConfig!==void 0}destroy(){if(this._isInitialised){this._windowBeforeUnloadListening&&(globalThis.removeEventListener("beforeunload",this._windowBeforeUnloadListener),this._windowBeforeUnloadListening=!1),this.layoutConfig.settings.closePopoutsOnUnload===!0&&this.closeAllOpenPopouts(),this._resizeObserver.disconnect(),this.checkClearResizeTimeout(),this._groundItem!==void 0&&this._groundItem.destroy(),this._tabDropPlaceholder.remove(),this._dropTargetIndicator!==null&&this._dropTargetIndicator.destroy(),this._transitionIndicator!==null&&this._transitionIndicator.destroy(),this._eventHub.destroy();for(const t of this._dragSources)t.destroy();this._dragSources=[],this._isInitialised=!1}}minifyConfig(t){return ye.minifyConfig(t)}unminifyConfig(t){return ye.unminifyConfig(t)}init(){this.setContainer(),this._dropTargetIndicator=new N1,this._transitionIndicator=new F1,this.updateSizeFromContainer();let t;if(this.isSubWindow){if(this._constructorOrSubWindowLayoutConfig===void 0)throw new Se("LMIU07155");{const i=this._constructorOrSubWindowLayoutConfig.root;if(i===void 0)throw new Re("LMIC07156");if(Ke.isComponent(i))t=i;else throw new Re("LMIC07157");const o=Nt.resolve(this._constructorOrSubWindowLayoutConfig);this.layoutConfig=Object.assign(Object.assign({},o),{root:void 0})}}else this._constructorOrSubWindowLayoutConfig===void 0?this.layoutConfig=ye.createDefault():this.layoutConfig=Nt.resolve(this._constructorOrSubWindowLayoutConfig);const n=this.layoutConfig;this._groundItem=new Kn(this,n.root,this._containerElement),this._groundItem.init(),this.checkLoadedLayoutMaximiseItem(),this._resizeObserver.observe(this._containerElement),this._isInitialised=!0,this.adjustColumnsResponsive(),this.emit("initialised"),t!==void 0&&this.loadComponentAsRoot(t)}loadLayout(t){if(this.isInitialised){if(this._groundItem===void 0)throw new Se("LMLL11119");this.createSubWindows(),this.layoutConfig=Nt.resolve(t),this._groundItem.loadRoot(this.layoutConfig.root),this.checkLoadedLayoutMaximiseItem(),this.adjustColumnsResponsive()}else throw new Error("GoldenLayout: Need to call init() if LayoutConfig with defined root passed to constructor")}saveLayout(){if(this._isInitialised===!1)throw new Error("Can't create config, layout not yet initialised");if(this._groundItem===void 0)throw new Se("LMTC18244");{const t=this._groundItem.calculateConfigContent();let n;t.length!==1?n=void 0:n=t[0],this.reconcilePopoutWindows();const i=[];for(let r=0;r<this._openPopouts.length;r++)i.push(this._openPopouts[r].toConfig());return{root:n,openPopouts:i,settings:ye.Settings.createCopy(this.layoutConfig.settings),dimensions:ye.Dimensions.createCopy(this.layoutConfig.dimensions),header:ye.Header.createCopy(this.layoutConfig.header),resolved:!0}}}clear(){if(this._groundItem===void 0)throw new Se("LMCL11129");this._groundItem.clearRoot()}toConfig(){return this.saveLayout()}newComponent(t,n,i){const o=this.newComponentAtLocation(t,n,i);if(o===void 0)throw new Re("LMNC65588");return o}newComponentAtLocation(t,n,i,o){if(this._groundItem===void 0)throw new Error("Cannot add component before init");{const r=this.addComponentAtLocation(t,n,i,o);if(r===void 0)return;{const s=r.parentItem.contentItems[r.index];if(Mt.isComponentItem(s))return s;throw new Re("LMNC992877533")}}}addComponent(t,n,i){const o=this.addComponentAtLocation(t,n,i);if(o===void 0)throw new Re("LMAC99943");return o}addComponentAtLocation(t,n,i,o){const r={type:"component",componentType:t,componentState:n,title:i};return this.addItemAtLocation(r,o)}newItem(t){const n=this.newItemAtLocation(t);if(n===void 0)throw new Re("LMNC65588");return n}newItemAtLocation(t,n){if(this._groundItem===void 0)throw new Error("Cannot add component before init");{const i=this.addItemAtLocation(t,n);return i===void 0?void 0:i.parentItem.contentItems[i.index]}}addItem(t){const n=this.addItemAtLocation(t);if(n===void 0)throw new Re("LMAI99943");return n}addItemAtLocation(t,n){if(this._groundItem===void 0)throw new Error("Cannot add component before init");{n===void 0&&(n=yi.defaultLocationSelectors);const i=this.findFirstLocation(n);if(i===void 0)return;{let o=i.parentItem,r;switch(o.type){case oe.ground:{r=o.addItem(t,i.index),r>=0?o=this._groundItem.contentItems[0]:r=0;break}case oe.row:case oe.column:{r=o.addItem(t,i.index);break}case oe.stack:if(Ke.isComponent(t)){r=o.addItem(t,i.index);break}else throw Error(_i[6]);case oe.component:throw new Re("LMAIALC87444602");default:throw new Ft("LMAIALU98881733",o.type)}if(Ke.isComponent(t)){const s=o.contentItems[r];Mt.isStack(s)&&(o=s,r=0)}return i.parentItem=o,i.index=r,i}}}loadComponentAsRoot(t){if(this._groundItem===void 0)throw new Error("Cannot add item before init");this._groundItem.loadComponentAsRoot(t)}updateSize(t,n){this.setSize(t,n)}setSize(t,n){if(this._width=t,this._height=n,this._isInitialised===!0){if(this._groundItem===void 0)throw new Se("LMUS18881");if(this._groundItem.setSize(this._width,this._height),this._maximisedStack){const{width:i,height:o}=qn(this._containerElement);Rt(this._maximisedStack.element,i),$t(this._maximisedStack.element,o),this._maximisedStack.updateSize(!1)}this.adjustColumnsResponsive()}}beginSizeInvalidation(){this._sizeInvalidationBeginCount++}endSizeInvalidation(){--this._sizeInvalidationBeginCount===0&&this.updateSizeFromContainer()}updateSizeFromContainer(){const{width:t,height:n}=qn(this._containerElement);this.setSize(t,n)}updateRootSize(t=!1){if(this._groundItem===void 0)throw new Se("LMURS28881");this._groundItem.updateSize(t)}createAndInitContentItem(t,n){const i=this.createContentItem(t,n);return i.init(),i}createContentItem(t,n){if(typeof t.type!="string")throw new gi("Missing parameter 'type'",JSON.stringify(t));return De.isComponentItem(t)&&!(n instanceof En)&&n&&!(this.isSubWindow===!0&&n instanceof Kn)&&(t={type:oe.stack,content:[t],size:t.size,sizeUnit:t.sizeUnit,minSize:t.minSize,minSizeUnit:t.minSizeUnit,id:t.id,maximised:t.maximised,isClosable:t.isClosable,activeItemIndex:0,header:void 0}),this.createContentItemFromConfig(t,n)}findFirstComponentItemById(t){if(this._groundItem===void 0)throw new Se("LMFFCIBI82446");return this.findFirstContentItemTypeByIdRecursive(oe.component,t,this._groundItem)}createPopout(t,n,i,o){return t instanceof Mt?this.createPopoutFromContentItem(t,n,i,o):this.createPopoutFromItemConfig(t,n,i,o)}createPopoutFromContentItem(t,n,i,o){let r=t.parent,s=t;for(;r!==null&&r.contentItems.length===1&&!r.isGround;)s=r,r=r.parent;if(r===null)throw new Ze("LMCPFCI00834");{if(o===void 0&&(o=r.contentItems.indexOf(s)),i!==null&&r.addPopInParentId(i),n===void 0){const a=globalThis.screenX||globalThis.screenLeft,l=globalThis.screenY||globalThis.screenTop,c=t.element.offsetLeft,d=t.element.offsetTop,{width:f,height:h}=qn(t.element);n={left:a+c,top:l+d,width:f,height:h}}const u=t.toConfig();if(t.remove(),Ei.isRootItemConfig(u))return this.createPopoutFromItemConfig(u,n,i,o);throw new Error(`${_i[0]}`)}}beginVirtualSizedContainerAdding(){++this._virtualSizedContainerAddingBeginCount===0&&(this._virtualSizedContainers.length=0)}addVirtualSizedContainer(t){this._virtualSizedContainers.push(t)}endVirtualSizedContainerAdding(){if(--this._virtualSizedContainerAddingBeginCount===0){const t=this._virtualSizedContainers.length;if(t>0){this.fireBeforeVirtualRectingEvent(t);for(let n=0;n<t;n++)this._virtualSizedContainers[n].notifyVirtualRectingRequired();this.fireAfterVirtualRectingEvent(),this._virtualSizedContainers.length=0}}}fireBeforeVirtualRectingEvent(t){this.beforeVirtualRectingEvent!==void 0&&this.beforeVirtualRectingEvent(t)}fireAfterVirtualRectingEvent(){this.afterVirtualRectingEvent!==void 0&&this.afterVirtualRectingEvent()}createPopoutFromItemConfig(t,n,i,o){const r=this.toConfig(),s={root:t,openPopouts:[],settings:r.settings,dimensions:r.dimensions,header:r.header,window:n,parentId:i,indexInParent:o,resolved:!0};return this.createPopoutFromPopoutLayoutConfig(s)}createPopoutFromPopoutLayoutConfig(t){var n,i,o,r;const s=t.window,u={left:(n=s.left)!==null&&n!==void 0?n:globalThis.screenX||globalThis.screenLeft+20,top:(i=s.top)!==null&&i!==void 0?i:globalThis.screenY||globalThis.screenTop+20,width:(o=s.width)!==null&&o!==void 0?o:500,height:(r=s.height)!==null&&r!==void 0?r:309},a=new I1(t,u,this);return a.on("initialised",()=>this.emit("windowOpened",a)),a.on("closed",()=>this.reconcilePopoutWindows()),this._openPopouts.push(a),this.layoutConfig.settings.closePopoutsOnUnload&&!this._windowBeforeUnloadListening&&(globalThis.addEventListener("beforeunload",this._windowBeforeUnloadListener,{passive:!0}),this._windowBeforeUnloadListening=!0),a}closeAllOpenPopouts(){for(let t=0;t<this._openPopouts.length;t++)this._openPopouts[t].close();this._openPopouts.length=0,this._windowBeforeUnloadListening&&(globalThis.removeEventListener("beforeunload",this._windowBeforeUnloadListener),this._windowBeforeUnloadListening=!1)}newDragSource(t,n,i,o,r){const s=new Go(this,t,[],n,i,o,r);return this._dragSources.push(s),s}removeDragSource(t){E1(t,this._dragSources),t.destroy()}startComponentDrag(t,n,i,o,r){new jh(t,n,i,this,o,r)}focusComponent(t,n=!1){t.focus(n)}clearComponentFocus(t=!1){this.setFocusedComponentItem(void 0,t)}setFocusedComponentItem(t,n=!1){if(t!==this._focusedComponentItem){let i;if(t===void 0||(i=t.parentItem),this._focusedComponentItem!==void 0){const o=this._focusedComponentItem;this._focusedComponentItem=void 0,o.setBlurred(n);const r=o.parentItem;i===r?i=void 0:r.setFocusedValue(!1)}t!==void 0&&(this._focusedComponentItem=t,t.setFocused(n),i!==void 0&&i.setFocusedValue(!0))}}createContentItemFromConfig(t,n){switch(t.type){case oe.ground:throw new Re("LMCCIFC68871");case oe.row:return new Si(!1,this,t,n);case oe.column:return new Si(!0,this,t,n);case oe.stack:return new En(this,t,n);case oe.component:return new hi(this,t,n);default:throw new Ft("CCC913564",t.type,"Invalid Config Item type specified")}}setMaximisedStack(t){t===void 0?this._maximisedStack!==void 0&&this.processMinimiseMaximisedStack():t!==this._maximisedStack&&(this._maximisedStack!==void 0&&this.processMinimiseMaximisedStack(),this.processMaximiseStack(t))}checkMinimiseMaximisedStack(){this._maximisedStack!==void 0&&this._maximisedStack.minimise()}cleanupBeforeMaximisedStackDestroyed(t){this._maximisedStack!==null&&this._maximisedStack===t.target&&(this._maximisedStack.off("beforeItemDestroyed",this._maximisedStackBeforeDestroyedListener),this._maximisedStack=void 0)}closeWindow(){globalThis.setTimeout(()=>globalThis.close(),1)}getArea(t,n){let i=null,o=1/0;for(let r=0;r<this._itemAreas.length;r++){const s=this._itemAreas[r];t>=s.x1&&t<s.x2&&n>=s.y1&&n<s.y2&&o>s.surface&&(o=s.surface,i=s)}return i}calculateItemAreas(){const t=this.getAllContentItems(),n=this._groundItem;if(n===void 0)throw new Se("LMCIAR44365");if(t.length===1){const i=n.getElementArea();if(i===null)throw new Ze("LMCIARA44365");this._itemAreas=[i];return}else{n.contentItems[0].isStack?this._itemAreas=[]:this._itemAreas=n.createSideAreas();for(let i=0;i<t.length;i++){const o=t[i];if(Mt.isStack(o)){const r=o.getArea();if(r===null)continue;{this._itemAreas.push(r);const s=o.contentAreaDimensions;if(s===void 0)throw new Se("LMCIASC45599");{const u=s.header.highlightArea,a=(u.x2-u.x1)*(u.y2-u.y1),l={x1:u.x1,x2:u.x2,y1:u.y1,y2:u.y2,contentItem:o,surface:a};this._itemAreas.push(l)}}}}}}checkLoadedLayoutMaximiseItem(){if(this._groundItem===void 0)throw new Se("LMCLLMI43432");{const t=this._groundItem.getConfigMaximisedItems();if(t.length>0){let n=t[0];if(Mt.isComponentItem(n)){const i=n.parent;if(i===null)throw new Ze("LMXLLMI69999");n=i}if(Mt.isStack(n))n.maximise();else throw new Re("LMCLLMI19993")}}}processMaximiseStack(t){if(this._maximisedStack=t,t.on("beforeItemDestroyed",this._maximisedStackBeforeDestroyedListener),t.element.classList.add("lm_maximised"),t.element.insertAdjacentElement("afterend",this._maximisePlaceholder),this._groundItem===void 0)throw new Se("LMMXI19993");{this._groundItem.element.prepend(t.element);const{width:n,height:i}=qn(this._containerElement);Rt(t.element,n),$t(t.element,i),t.updateSize(!0),t.focusActiveContentItem(),this._maximisedStack.emit("maximised"),this.emit("stateChanged")}}processMinimiseMaximisedStack(){if(this._maximisedStack===void 0)throw new Re("LMMMS74422");{const t=this._maximisedStack;if(t.parent===null)throw new Ze("LMMI13668");t.element.classList.remove("lm_maximised"),this._maximisePlaceholder.insertAdjacentElement("afterend",t.element),this._maximisePlaceholder.remove(),this.updateRootSize(!0),this._maximisedStack=void 0,t.off("beforeItemDestroyed",this._maximisedStackBeforeDestroyedListener),t.emit("minimised"),this.emit("stateChanged")}}reconcilePopoutWindows(){const t=[];for(let n=0;n<this._openPopouts.length;n++)this._openPopouts[n].getWindow().closed===!1?t.push(this._openPopouts[n]):this.emit("windowClosed",this._openPopouts[n]);this._openPopouts.length!==t.length&&(this._openPopouts=t,this.emit("stateChanged"))}getAllContentItems(){if(this._groundItem===void 0)throw new Se("LMGACI13130");return this._groundItem.getAllContentItems()}createSubWindows(){for(let t=0;t<this.layoutConfig.openPopouts.length;t++){const n=this.layoutConfig.openPopouts[t];this.createPopoutFromPopoutLayoutConfig(n)}}handleContainerResize(){this.resizeWithContainerAutomatically&&this.processResizeWithDebounce()}processResizeWithDebounce(){this.resizeDebounceExtendedWhenPossible&&this.checkClearResizeTimeout(),this._resizeTimeoutId===void 0&&(this._resizeTimeoutId=setTimeout(()=>{this._resizeTimeoutId=void 0,this.beginSizeInvalidation(),this.endSizeInvalidation()},this.resizeDebounceInterval))}checkClearResizeTimeout(){this._resizeTimeoutId!==void 0&&(clearTimeout(this._resizeTimeoutId),this._resizeTimeoutId=void 0)}setContainer(){var t;const n=document.body,i=(t=this._containerElement)!==null&&t!==void 0?t:n;if(i===n){this.resizeWithContainerAutomatically=!0;const o=document.documentElement;o.style.height="100%",o.style.margin="0",o.style.padding="0",o.style.overflow="clip",n.style.height="100%",n.style.margin="0",n.style.padding="0",n.style.overflow="clip"}this._containerElement=i}onBeforeUnload(){this.destroy()}adjustColumnsResponsive(){if(this._groundItem===void 0)throw new Se("LMACR20883");if(this._firstLoad=!1,this.useResponsiveLayout()&&!this._updatingColumnsResponsive&&this._groundItem.contentItems.length>0&&this._groundItem.contentItems[0].isRow){if(this._groundItem===void 0||this._width===null)throw new Se("LMACR77412");{const t=this._groundItem.contentItems[0].contentItems.length;if(t<=1)return;{const n=this.layoutConfig.dimensions.defaultMinItemWidth;if(t*n<=this._width)return;{this._updatingColumnsResponsive=!0;const o=Math.max(Math.floor(this._width/n),1),r=t-o,s=this._groundItem.contentItems[0],u=this.getAllStacks();if(u.length===0)throw new Re("LMACRS77413");{const a=u[0];for(let l=0;l<r;l++){const c=s.contentItems[s.contentItems.length-1];this.addChildContentItemsToContainer(a,c)}this._updatingColumnsResponsive=!1}}}}}}useResponsiveLayout(){const t=this.layoutConfig.settings,n=t.responsiveMode===$o.always,i=t.responsiveMode===$o.onload&&this._firstLoad;return n||i}addChildContentItemsToContainer(t,n){const i=n.contentItems;if(n instanceof En)for(let o=0;o<i.length;o++){const r=i[o];n.removeChild(r,!0),t.addChild(r)}else for(let o=0;o<i.length;o++){const r=i[o];this.addChildContentItemsToContainer(t,r)}}getAllStacks(){if(this._groundItem===void 0)throw new Se("LMFASC52778");{const t=[];return this.findAllStacksRecursive(t,this._groundItem),t}}findFirstContentItemType(t){if(this._groundItem===void 0)throw new Se("LMFFCIT82446");return this.findFirstContentItemTypeRecursive(t,this._groundItem)}findFirstContentItemTypeRecursive(t,n){const i=n.contentItems,o=i.length;if(o!==0){for(let r=0;r<o;r++){const s=i[r];if(s.type===t)return s}for(let r=0;r<o;r++){const s=i[r],u=this.findFirstContentItemTypeRecursive(t,s);if(u!==void 0)return u}return}}findFirstContentItemTypeByIdRecursive(t,n,i){const o=i.contentItems,r=o.length;if(r!==0){for(let s=0;s<r;s++){const u=o[s];if(u.type===t&&u.id===n)return u}for(let s=0;s<r;s++){const u=o[s],a=this.findFirstContentItemTypeByIdRecursive(t,n,u);if(a!==void 0)return a}return}}findAllStacksRecursive(t,n){const i=n.contentItems;for(let o=0;o<i.length;o++){const r=i[o];r instanceof En?t.push(r):r.isComponent||this.findAllStacksRecursive(t,r)}}findFirstLocation(t){const n=t.length;for(let i=0;i<n;i++){const o=t[i],r=this.findLocation(o);if(r!==void 0)return r}}findLocation(t){const n=t.index;switch(t.typeId){case 0:{if(this._focusedComponentItem===void 0)return;{const i=this._focusedComponentItem.parentItem,o=i.contentItems,r=o.length;if(n===void 0)return{parentItem:i,index:r};{const u=o.indexOf(this._focusedComponentItem)+n;return u<0||u>r?void 0:{parentItem:i,index:u}}}}case 1:{if(this._focusedComponentItem===void 0)return;{const i=this._focusedComponentItem.parentItem;return this.tryCreateLocationFromParentItem(i,n)}}case 2:{const i=this.findFirstContentItemType(oe.stack);return i===void 0?void 0:this.tryCreateLocationFromParentItem(i,n)}case 3:{let i=this.findFirstContentItemType(oe.row);return i!==void 0?this.tryCreateLocationFromParentItem(i,n):(i=this.findFirstContentItemType(oe.column),i!==void 0?this.tryCreateLocationFromParentItem(i,n):void 0)}case 4:{const i=this.findFirstContentItemType(oe.row);return i===void 0?void 0:this.tryCreateLocationFromParentItem(i,n)}case 5:{const i=this.findFirstContentItemType(oe.column);return i===void 0?void 0:this.tryCreateLocationFromParentItem(i,n)}case 6:{if(this._groundItem===void 0)throw new Se("LMFLRIF18244");return this.rootItem!==void 0?void 0:n===void 0||n===0?{parentItem:this._groundItem,index:0}:void 0}case 7:{if(this._groundItem===void 0)throw new Se("LMFLF18244");{const i=this._groundItem.contentItems;if(i.length===0)return n===void 0||n===0?{parentItem:this._groundItem,index:0}:void 0;{const o=i[0];return this.tryCreateLocationFromParentItem(o,n)}}}}}tryCreateLocationFromParentItem(t,n){const o=t.contentItems.length;return n===void 0?{parentItem:t,index:o}:n<0||n>o?void 0:{parentItem:t,index:n}}}(function(e){function t(i){const o=i.createElement("div");return o.classList.add("lm_maximise_place"),o}e.createMaximisePlaceElement=t;function n(i){const o=i.createElement("div");return o.classList.add("lm_drop_tab_placeholder"),o}e.createTabDropPlaceholderElement=n,e.defaultLocationSelectors=[{typeId:1,index:void 0},{typeId:2,index:void 0},{typeId:3,index:void 0},{typeId:7,index:void 0}],e.afterFocusedItemIfPossibleLocationSelectors=[{typeId:0,index:1},{typeId:2,index:void 0},{typeId:3,index:void 0},{typeId:7,index:void 0}]})(yi||(yi={}));class jo extends yi{constructor(t,n,i,o){if(super(jo.createLayoutManagerConstructorParameters(t,n)),this._bindComponentEventHanlderPassedInConstructor=!1,this._creationTimeoutPassed=!1,n!==void 0&&typeof n=="function"&&(this.bindComponentEvent=n,this._bindComponentEventHanlderPassedInConstructor=!0,i!==void 0&&(this.unbindComponentEvent=i)),!this._bindComponentEventHanlderPassedInConstructor&&this.isSubWindow){if(this._constructorOrSubWindowLayoutConfig===void 0)throw new Se("VLC98823");{const r=Nt.resolve(this._constructorOrSubWindowLayoutConfig);this.layoutConfig=Object.assign(Object.assign({},r),{root:void 0})}}o!==!0&&(this.deprecatedConstructor||this.init())}destroy(){this.bindComponentEvent=void 0,this.unbindComponentEvent=void 0,super.destroy()}init(){if(!this._bindComponentEventHanlderPassedInConstructor&&(document.readyState==="loading"||document.body===null)){document.addEventListener("DOMContentLoaded",()=>this.init(),{passive:!0});return}if(!this._bindComponentEventHanlderPassedInConstructor&&this.isSubWindow===!0&&!this._creationTimeoutPassed){setTimeout(()=>this.init(),7),this._creationTimeoutPassed=!0;return}this.isSubWindow===!0&&(this._bindComponentEventHanlderPassedInConstructor||this.clearHtmlAndAdjustStylesForSubWindow(),window.__glInstance=this),super.init()}clearHtmlAndAdjustStylesForSubWindow(){const t=document.head,n=new Array(4);n[0]=document.querySelectorAll("body link"),n[1]=document.querySelectorAll("body style"),n[2]=document.querySelectorAll("template"),n[3]=document.querySelectorAll(".gl_keep");for(let o=0;o<n.length;o++){const r=n[o];for(let s=0;s<r.length;s++){const u=r[s];t.appendChild(u)}}const i=document.body;i.innerHTML="",i.style.visibility="visible",this.checkAddDefaultPopinButton(),document.body.offsetHeight}checkAddDefaultPopinButton(){if(this.layoutConfig.settings.popInOnClose)return!1;{const t=document.createElement("div");t.classList.add("lm_popin"),t.setAttribute("title",this.layoutConfig.header.dock);const n=document.createElement("div");n.classList.add("lm_icon");const i=document.createElement("div");return i.classList.add("lm_bg"),t.appendChild(n),t.appendChild(i),t.addEventListener("click",()=>this.emit("popIn")),document.body.appendChild(t),!0}}bindComponent(t,n){if(this.bindComponentEvent!==void 0)return this.bindComponentEvent(t,n);if(this.getComponentEvent!==void 0)return{virtual:!1,component:this.getComponentEvent(t,n)};{const o=`${_i[2]}: ${JSON.stringify(n)}`;throw new v1(o)}}unbindComponent(t,n,i){if(this.unbindComponentEvent!==void 0)this.unbindComponentEvent(t);else if(!n&&this.releaseComponentEvent!==void 0){if(i===void 0)throw new Se("VCUCRCU333998");this.releaseComponentEvent(t,i)}}}(function(e){let t=!1;function n(i,o){const r=t?null:new URL(document.location.href).searchParams.get("gl-window");t=!0;const s=r!==null;let u,a;if(r!==null){const l=localStorage.getItem(r);if(l===null)throw new Error("Null gl-window Config");localStorage.removeItem(r);const c=JSON.parse(l),d=ye.unminifyConfig(c);a=Nt.fromResolved(d),i instanceof HTMLElement&&(u=i)}else i===void 0?a=void 0:i instanceof HTMLElement?(a=void 0,u=i):a=i,u===void 0&&o instanceof HTMLElement&&(u=o);return{constructorOrSubWindowLayoutConfig:a,isSubWindow:s,containerElement:u}}e.createLayoutManagerConstructorParameters=n})(jo||(jo={}));const P1={root:{type:oe.row,content:[{type:"component",title:"",header:{show:"top",popout:!1},componentType:"JsonEditor",componentState:void 0,width:25},{type:"component",title:"NodeFLow",header:{show:"top",popout:!1},componentType:"NodeFlow",width:75}]}},Wh={miniRow:P1},O1={class:"main-bar menus-1"},L1={class:"menus-2"},z1={class:"menus-2"},R1={class:"menus-2"},$1={class:"menus-2"},B1={class:"menus-2"},H1={class:"menu-1",style:{padding:"0 28px 0 16px","font-weight":"bold","font-size":"16px",float:"right"}},V1={href:"https://github.com/LincZero/obsidian-node-flow/"},U1={xmlns:"http://www.w3.org/2000/svg",class:"icon github-icon",viewBox:"0 0 1024 1024",fill:"currentColor","aria-label":"github icon",name:"github",style:{width:"1.25rem",height:"1.25rem","vertical-align":"middle"}},q1={class:"menus-2"},G1=be({__name:"TabBar",setup(e){let t=Zt("LAYOUT"),n=le("");const i=le(null);le("*");const o=()=>{i.value&&i.value.click()},r=c=>{c.target.closest(".menus-1")||(n.value="")};ft(()=>{document.addEventListener("click",r)}),so(()=>{document.removeEventListener("click",r)});const s=()=>{t!=null&&t.value&&t.value.loadGLLayout(Wh.miniRow)},u=(c,d)=>{t!=null&&t.value&&t.value.addGlComponent(c,d)},a=()=>{if(!(t!=null&&t.value))return;const c=t.value.getLayoutConfig();localStorage.setItem("gl_config",JSON.stringify(c))},l=()=>{const c=localStorage.getItem("gl_config");if(!c||!(t!=null&&t.value))return;const d=JSON.parse(c);t.value.loadGLLayout(d)};return(c,d)=>(X(),te("div",O1,[d[33]||(d[33]=L("div",{class:"menu-1",style:{padding:"0 16px","font-weight":"bold","font-size":"16px",color:"#11b981"}},"NodeFlow App",-1)),L("div",{class:"menu-1",onClick:d[0]||(d[0]=Ti(f=>Ce(n)?n.value=V(n)==="menuFile"?"":"menuFile":n=V(n)==="menuFile"?"":"menuFile",["stop"])),onMouseover:d[1]||(d[1]=f=>Ce(n)?n.value=V(n)===""?"":"menuFile":n=V(n)===""?"":"menuFile")},[d[22]||(d[22]=tt(" (F) ")),ze(L("div",L1,[L("div",{class:"menu-2",onClick:o},[d[20]||(d[20]=tt(" ")),L("input",{type:"file",accept:".json",text:"",ref_key:"fileInputEl",ref:i},null,512)]),d[21]||(d[21]=L("div",{class:"menu-2"},"",-1))],512),[[_t,V(n)==="menuFile"]])],32),L("div",{class:"menu-1",onClick:d[2]||(d[2]=Ti(f=>Ce(n)?n.value=V(n)==="menuEdit"?"":"menuEdit":n=V(n)==="menuEdit"?"":"menuEdit",["stop"])),onMouseover:d[3]||(d[3]=f=>Ce(n)?n.value=V(n)===""?"":"menuEdit":n=V(n)===""?"":"menuEdit")},[d[24]||(d[24]=tt(" (E) ")),ze(L("div",z1,d[23]||(d[23]=[L("div",{class:"menu-2"},"",-1),L("div",{class:"menu-2",disabled:""},"",-1)]),512),[[_t,V(n)==="menuEdit"]])],32),L("div",{class:"menu-1",onClick:d[10]||(d[10]=Ti(f=>Ce(n)?n.value=V(n)==="menuView"?"":"menuView":n=V(n)==="menuView"?"":"menuView",["stop"])),onMouseover:d[11]||(d[11]=f=>Ce(n)?n.value=V(n)===""?"":"menuView":n=V(n)===""?"":"menuView")},[d[27]||(d[27]=tt(" (V) ")),ze(L("div",R1,[L("div",{class:"menu-2",onClick:a},""),L("div",{class:"menu-2",onClick:l},""),L("div",{class:"menu-2",onClick:s},""),d[25]||(d[25]=L("hr",{class:"menu-2"},null,-1)),L("div",{class:"menu-2",onClick:d[4]||(d[4]=f=>u("GoldenFlowEdit",""))},""),L("div",{class:"menu-2",onClick:d[5]||(d[5]=f=>u("GoldenJsonEdit","Json"))},"json"),L("div",{class:"menu-2",onClick:d[6]||(d[6]=f=>u("GoldenConsole",""))},""),L("div",{class:"menu-2",onClick:d[7]||(d[7]=f=>u("GoldenChart",""))},""),L("div",{class:"menu-2",onClick:d[8]||(d[8]=f=>u("GoldenDocs",""))},""),L("div",{class:"menu-2",onClick:d[9]||(d[9]=f=>u("GoldenNull",""))},""),d[26]||(d[26]=L("div",null,null,-1))],512),[[_t,V(n)==="menuView"]])],32),L("div",{class:"menu-1",onClick:d[12]||(d[12]=Ti(f=>Ce(n)?n.value=V(n)==="menuTool"?"":"menuTool":n=V(n)==="menuTool"?"":"menuTool",["stop"])),onMouseover:d[13]||(d[13]=f=>Ce(n)?n.value=V(n)===""?"":"menuTool":n=V(n)===""?"":"menuTool")},[d[28]||(d[28]=tt(" (T) ")),ze(L("div",$1,null,512),[[_t,V(n)==="menuTool"]])],32),L("div",{class:"menu-1",onClick:d[16]||(d[16]=Ti(f=>Ce(n)?n.value=V(n)==="menuHelp"?"":"menuHelp":n=V(n)==="menuHelp"?"":"menuHelp",["stop"])),onMouseover:d[17]||(d[17]=f=>Ce(n)?n.value=V(n)===""?"":"menuHelp":n=V(n)===""?"":"menuHelp")},[d[29]||(d[29]=tt(" (H) ")),ze(L("div",B1,[L("div",{class:"menu-2",onClick:d[14]||(d[14]=f=>u("GoldenDocs",""))},""),L("div",{class:"menu-2",onClick:d[15]||(d[15]=f=>console.log(""))},"")],512),[[_t,V(n)==="menuHelp"]])],32),L("div",H1,[L("a",V1,[(X(),te("svg",U1,d[30]||(d[30]=[L("path",{d:"M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"},null,-1)])))])]),d[34]||(d[34]=Yl('<div class="menu-1" style="padding:0 16px;font-weight:bold;font-size:16px;float:right;" data-v-37a52d52><a href="https://linczero.github.io/obsidian-node-flow/" data-v-37a52d52></a></div><div class="menu-1" style="padding:0 16px;font-weight:bold;font-size:16px;float:right;" data-v-37a52d52><a href="https://linczero.github.io/MdNote_Public/ProductDoc/Plugin/NodeFlow/README.show.html" data-v-37a52d52></a></div><div class="menu-1" style="padding:0 16px;font-weight:bold;font-size:16px;float:right;" data-v-37a52d52><a href="https://linczero.github.io/MdNote_Public/ProductDoc/Plugin/NodeFlow/docs/zh/" data-v-37a52d52></a></div>',3)),L("div",{class:"menu-1",style:{padding:"0 16px","font-weight":"bold","font-size":"16px",float:"right"},onClick:d[18]||(d[18]=Ti(f=>Ce(n)?n.value=V(n)==="serialLinks"?"":"serialLinks":n=V(n)==="serialLinks"?"":"serialLinks",["stop"])),onMouseover:d[19]||(d[19]=f=>Ce(n)?n.value=V(n)===""?"":"serialLinks":n=V(n)===""?"":"serialLinks")},[d[32]||(d[32]=tt("  ")),ze(L("div",q1,d[31]||(d[31]=[Yl('<div class="menu-2" data-v-37a52d52><a href="https://any-block.github.io/obsidian-any-block/" data-v-37a52d52>AnyBlock</a></div><div class="menu-2" data-v-37a52d52><a href="https://linczero.github.io/obsidian-node-flow/" data-v-37a52d52>NodeFlow</a></div><div class="menu-2" data-v-37a52d52><a href="https://linczero.github.io/obsidian-chat-view-qq/" data-v-37a52d52>ChatView</a></div><div data-v-37a52d52></div>',4)]),512),[[_t,V(n)==="serialLinks"]])],32)]))}}),rt=(e,t)=>{const n=e.__vccOpts||e;for(const[i,o]of t)n[i]=o;return n},j1=rt(G1,[["__scopeId","data-v-37a52d52"]]),W1=be({__name:"GlComponent",setup(e,{expose:t}){const n=le(null),i=u=>u.toString(10)+"px";return t({setPosAndSize:(u,a,l,c)=>{if(n.value){const d=n.value;d.style.left=i(u),d.style.top=i(a),d.style.width=i(l),d.style.height=i(c)}},setVisibility:u=>{if(n.value){const a=n.value;u?a.style.display="":a.style.display="none"}},setZIndex:u=>{if(n.value){const a=n.value;a.style.zIndex=u}}}),(u,a)=>(X(),te("div",{ref_key:"GlComponent",ref:n,style:{position:"absolute",overflow:"hidden"}},[It(u.$slots,"default")],512))}}),Z1={style:{position:"relative"}},Y1={style:{position:"absolute",width:"100%",height:"100%"}},X1=be({__name:"GoldenLayout",props:{config:{type:Object,default:()=>({})}},setup(e,{expose:t}){const n=e,i=le(null);let o;const r=_s(le("glc_")),s=new Map,u=le(new Map),a=[];let l=0,c;const d=ii(),f=d.slots,h=async(y,_)=>{const p=f[y];if(!p)throw new Error(`addComponent: Component '${y}' not found in slots`);let g=l;return a.length>0?g=a.pop():l++,u.value.set(g,()=>p(_)),g},m=async(y,_,p=void 0)=>{if(y.length==0)throw new Error("addGlComponent: Component's type is empty");const g=await h(y,p);await lt(),o.addComponent(y,{refId:g,...p||{}},_)},b=async y=>{o.clear(),u.value.clear();const _=y.resolved?Nt.fromResolved(y):y;let p=[_.root.content],g=0;for(;p.length>0;){const S=p.shift();for(let C of S)C.type=="component"?(g=await h(C.componentType,C.componentState),typeof C.componentState=="object"?C.componentState.refId=g:C.componentState={refId:g}):C.content.length>0&&p.push(C.content)}await lt(),o.loadLayout(_)},v=()=>o.saveLayout();return ft(()=>{if(i.value==null)throw new Error("Golden Layout can't find the root DOM!");const y=()=>{const w=i.value;let x=w?w.offsetWidth:0,N=w?w.offsetHeight:0;o.setSize(x,N)};window.addEventListener("resize",y,{passive:!0});const _=w=>{c=i.value.getBoundingClientRect()},p=(w,x,N)=>{const P=s.get(w);if(!P||!(P!=null&&P.glc))throw new Error("handleContainerVirtualRectingRequiredEvent: Component not found");const E=w.element.getBoundingClientRect(),z=E.left-c.left,M=E.top-c.top;P.glc.setPosAndSize(z,M,x,N)},g=(w,x)=>{const N=s.get(w);if(!N||!(N!=null&&N.glc))throw new Error("handleContainerVirtualVisibilityChangeRequiredEvent: Component not found");N.glc.setVisibility(x)},S=(w,x,N)=>{const P=s.get(w);if(!P||!(P!=null&&P.glc))throw new Error("handleContainerVirtualZIndexChangeRequiredEvent: Component not found");P.glc.setZIndex(N)},C=(w,x)=>{let N=-1;if(x&&x.componentState)N=x.componentState.refId;else throw new Error("bindComponentEventListener: component's ref id is required");const P=r.value+N,E=d==null?void 0:d.refs[P];return s.set(w,{refId:N,glc:E[0]}),w.virtualRectingRequiredEvent=(z,M,U)=>p(z,M,U),w.virtualVisibilityChangeRequiredEvent=(z,M)=>g(z,M),w.virtualZIndexChangeRequiredEvent=(z,M,U)=>S(z,M,U),{component:E,virtual:!0}},F=w=>{const x=s.get(w);if(!x||!(x!=null&&x.glc))throw new Error("handleUnbindComponentEvent: Component not found");s.delete(w),u.value.delete(x.refId),a.push(x.refId)};o=new jo(i.value,C,F),o.beforeVirtualRectingEvent=_,n.config&&b(n.config)}),t({addGlComponent:m,loadGLLayout:b,getLayoutConfig:v}),(y,_)=>(X(),te("div",Z1,[L("div",{ref_key:"GLRoot",ref:i,style:{position:"absolute",width:"100%",height:"100%"}},null,512),L("div",Y1,[(X(!0),te(Ie,null,ht(u.value,p=>(X(),Ye(W1,{key:p[0],ref_for:!0,ref:V(r)+p[0]},{default:Le(()=>[(X(),Ye(fh(p[1])))]),_:2},1024))),128))])]))}});function K1(e){if(e.startsWith("demo"))if(e=="demo")e=Zh;else if(e=="demo2")e=Sa;else if(e=="demoRPC")e=e_;else if(e=="demoHttp")e=Yh;else if(e=="demoFlow")e=Q1;else return{code:-1,msg:`error demo: ${e}

support: demo, demo2, demoRPC, demoHttp, demoFlow
`,data:{}};let t;const n=J1(e);if(n.code!=0)return n;t=n.data;{if(t.length!=2)return{code:-1,msg:"error: without rootNode: nodes and edges",data:{}};let i=[];{let r=function(s){for(let u of s){if(u.self_data.type!="n"&&u.self_data.type!="node"&&u.self_data.type!="g"&&u.self_data.type!="group")continue;const a={id:u.self_data.id,data:{type:u.self_data.type,label:u.self_data.name,items:u.self_data.items},position:{x:0,y:0},...u.self_data.parentId==""||u.self_data.parentId=="nodes"?{}:{parentNode:u.self_data.parentId},type:"item"};i.push(a),r(u.children)}};r(t[0].children)}let o=[];{let r=function(u){for(let a of u){if(a.self_data.type!="e"&&a.self_data.type!="edge")continue;const l=a.self_data.from_socket.toLowerCase().charCodeAt(0)%20;o.push({id:a.self_data.id,style:{stroke:s[l]},source:a.self_data.from_node,sourceHandle:a.self_data.from_socket,target:a.self_data.to_node,targetHandle:a.self_data.to_socket}),r(a.children)}};const s=["#ff0000","#ff4d00","#ff9900","#ffe600","#ccff00","#80ff00","#33ff00","#00ff1a","#00ff66","#00ffb3","#00ffff","#00b3ff","#0066ff","#001aff","#3300ff","#8000ff","#cc00ff","#ff00e6","#ff0099","#ff004c"];r(t[1].children)}return{code:0,msg:"",data:{nodes:i,edges:o}}}}function J1(e){let t=0,n=[];try{let i=[],o=[],r=0,s,u,a,l,c,d,f=null,h=null;const m=e.split(`
`);for(r=0;r<m.length;r++){let b=function(){const y=a,_=y.trimEnd().split(`
`).length==1,p=y.split(",");let g=[];for(let S of p)g.push(S.trim().split(":"));if(g[3]&&_)d.self_data={type:"edge",id:""+t++,parentId:"",parent:null,from_node:g[0][0],from_socket:g[1][0],to_node:g[2][0],to_socket:g[3][0],name:g[4]?g[4][0]:""};else if(g[1])d.self_data={type:"socket",refType:g[1]&&["i","input","o","output","v","value","io"].includes(g[1][0])?g[1][0]:"value",valueType:g[1]&&g[1][1]?g[1][1]:"item-string",id:g[0][0],name:g[0][1]??g[0][0],parentId:"",parent:null,value:y.substring(p[0].length+p[1].length+2).trimStart(),items:[]};else if(g[0]&&g[0][0]!=""&&c>1)d.self_data={type:"socket",refType:"v",valueType:"item-item",id:g[0][0],name:g[0][1]??g[0][0],parentId:"",parent:null,value:"",items:[]};else if(g[0]&&g[0][0]!="")d.self_data={type:"node",id:g[0][0],name:g[0][1]??g[0][0],parentId:"",parent:null,items:[]};else return!1;return o=o.slice(0,i.length),o[c]=d,!0};if(s=f??m[r],u=h??s.match(/(^\s*)(- )?(.*)/),!u||!u[2])continue;for(a=u[3];!(r>=m.length-1);){if(f=m[r+1],h=f.match(/(^\s*)(- )?(.*)/),!h){r++;continue}if(!h[2]){s+=`
`+h[3],a+=`
`+h[3],r++;continue}break}l=u[1].length;{c=-1;for(let y=0;y<i.length;y++)if(i[y]>=l){i=i.slice(0,y+1),c=y;break}c==-1&&(i.push(l),c=i.length-1)}if(d={self:a,children:[],self_data:null},!b()){console.error("error: inline parse fail. line:",r);continue}if(c==0)n.push(d);else{const y=o[c-1];if(y.self_data.type!="n"&&y.self_data.type!="node"&&y.self_data.type!="g"&&y.self_data.type!="group"&&y.self_data.type!="s"&&y.self_data.type!="socket")continue;d.self_data.parentId=y.self_data.id,d.self_data.parent=y,(d.self_data.type=="socket"||d.self_data.type=="s"||d.self_data.type=="node"||d.self_data.type=="n")&&y.self_data.items.push(d.self_data),y.children.push(d)}}}catch(i){return{code:-1,msg:"error: list parse fail: "+i,data:[]}}return{code:0,msg:"",data:n}}const Zh=`- nodes
  - NodeTitle
    - only name, i
    - i2, i, *i2
    - i3, i, mul line
      i3-2
      i3-3
    - i4, i, *i4
    - only name, o
    - o2, o, *o2
    - o3, o, *o3
    - o4, o, mul line
      o4-2
      o4-3
    - v2, v, *v2
    - v4, , mul line
      v4-2
      v4-3
    - v3, , *v3
    - v5:color, :item-color, #008888
    - v6:, :item-markdown, only value
      **v6-1**
      *v6-2*
    - v7, :item-enum, option1|option2|option3
    - v8 only name, 
    - v9, :item-item, l
      - only name2, i
      - i22, i, *i2
      - v91, :item-item, l
        - v911, 
      - v92, :item-item, l
        - v921, 
    - v10,,over
- edges
`,Sa=`- nodes
  - 
    - , :item-start
    - Flow:, io:item-flow
    - i, i
    - o, o
    - color, :item-color, #0ff
  - 
    - FlowDelay:, io:item-flowdelay, 2000
    - i, i
    - o, o
  - 
    - FlowReq:Http, io:item-flowreq, https://httpbin.org/get
    - i, i
    - o, o
  - 
    - FlowEval:, io:item-floweval, var a = 2
let b = a
console.log('debug output', b, ctx)
    - i, i
    - o, o
    - debug, :item-debug
    - feat, :item-feat
  - 2:
    - FlowReq:Http, io:item-flowreq, http://127.0.0.1:9863/test
    - i, i
    - o, o
  - t1
    - flowStart, :item-start
    - fDefault, :item-fdefault
    - o, o, testData
  - t2
    - fDefault, :item-fdefault
    - o, i, none
    - oo, o, test222
  - t3
    - fDefault, :item-fdefault
    - o, i, none
    - , :item-debug
- edges
  - , FlowReq, , FlowEval
  - , Flow, , FlowDelay
  - , FlowDelay, , FlowReq
  - , o, , i
  - t1, o, t2, o
  - t2, oo, t3, o
`,Q1=`- nodes
  - node1
    - nflow, o
  - node2
    - nflow, o
  - node3
    - nflow, i
    - , :item-markdown, 
(1) 
(2) 
  - node4
    - flow, o:item-flow
  - node5
    - nflow, o
  - node6
    - flow, i:item-flow
    - nflow, i
    - , :item-markdown,
(1) flow
(2) flowflow
(3) 
- edges
  - node1, nflow, node3, nflow
  - node2, nflow, node3, nflow
  - node4, flow, node6, flow
  - node5, nflow, node6, nflow
`,e_=`- nodes
  - ST
    - ,, 
    - flow2:, :item-start
    - fDefault, o:item-fdefault
  - 
    - , o
    - ,, 0.0.0.0
    - ,, 0
  - 
    - , o
    - ,, 127.0.0.1
    - ,, 8811
  - 0001:TCP
    - ,, 
    - flow1:, i:item-flow
    - flow2:, o:item-flow
    - (), i
    - (), i
    - , o, 0001
    - ,, tcp
    - ,, 
    - ,, -1
    - ,, bufferWirte/bufferRead
    - ,, (libevent)
    - ,, 1
  - 0002:
    - ,, 
    - flow1:, i:item-flow
    - flow2:, o:item-flow
    - flow3:, o:item-flow
    - , i, 0001
    - ,, 1
    - ,, {null4}{len4}{null16}\\
  {timestamp8}{str(register)76}
    - ,, {any4}{len4}
  - 0003:
    - ,, 
    - flow1:, i:item-flow
    - flow2:, o:item-flow
    - flow3:, o:item-flow
    - , i, 0001
    - ,, -1
    - ,, {null4}{len4}{null16}
    - ,, {any4}{len4}{any32}\\
  {str(heartbeat)}
  - 0004:UDP
    - ,, 
    - flow1:, i:item-flow
    - flow2:, o:item-flow
    - (), i
    - (), i
    - , o, 0004
    - ,, tcp
    - ,, 
    - ,, sendto/recvfrom
    - ,, 
    - ,, 1
  - 0005:
    - ,, 
    - flow1:, i:item-flow
    - flow2:, o:item-flow
    - flow3:, o:item-flow
    - , i, 0004
    - ,, -1
    - (ms),, -1
    - (Mbps),, 2
    - ,, {statis0}{null4}
    - ,, _
    - ,, 
    - ,, 1
- edges
  - , , 0001, ()
  - , , 0001, ()
  - , , 0004, ()
  - , , 0004, ()
  - 0001, , 0002, 
  - 0001, , 0003, 
  - 0004, , 0005, 
  - ST, fDefault, 0001, flow1
  - 0001, flow2, 0002, flow1
  - 0002, flow2, 0003, flow1
  - 0003, flow2, 0004, flow1
  - 0004, flow2, 0005, flow1
`,Yh=`- nodes
  - 
    - Flow:, o:item-start
    - fDefault, :item-fdefault
    - i, i
    - o, o
    - color, value:item-color, #0ff
  - 
    - FlowDelay:, io:item-flowdelay, 2000
    - i, i
    - o, o
  - 
    - FlowReq:Http, io:item-flowreq, 
    - i, i
    - o, o
  - 2:
    - flow1:Http, i:item-flow
    - flow2:, o:item-flow
    - flow3:, o:item-flow
    - str:web, i, http://127.0.0.1:9863/test
    - json1:, i, {}
    - json:, o
  - 
    - fdefault, :item-fdefault
    - json, o
    - 1, , json
  - 
    - FlowEval:, io:item-floweval, console.log('debug output')
    - i, i
    - o, o
    - debug, value:item-debug, 
    - feat, value:item-feat, 
  - 
    - FlowEval:, io:item-floweval, console.error('debug failed')
  - Json
    - fdefault, :item-fdefault
    - json, i, 
- edges
  - , json, 2, json1
  - , Flow, , FlowDelay
  - , o, , i
  - , FlowDelay, , FlowReq
  - , FlowReq, 2, flow1
  - 2, flow2, , FlowEval
  - 2, flow3, , FlowEval
  - 2, json, Json, json
`;function t_(e){if(typeof e=="string")if(e=="demo")e=JSON.parse(JSON.stringify(Xh));else if(e=="demo2")e=JSON.parse(JSON.stringify(Kh));else return{code:-1,msg:"error demo: "+e,data:{}};try{let t=[];e.nodes.forEach(a=>{t.push({id:""+a.id,position:{x:a.pos[0],y:a.pos[1]-30},data:{label:a.hasOwnProperty("title")?a.title:a.type,type:a.type,inputs:a.inputs,outputs:a.outputs,widgets_values:a.widgets_values},...a.hasOwnProperty("size")?{width:a.size[0]+"px",height:a.size[1]+30+"px"}:{},type:"comfyui"})});let i=[];const o=e.links,r=["#ff0000","#ff4d00","#ff9900","#ffe600","#ccff00","#80ff00","#33ff00","#00ff1a","#00ff66","#00ffb3","#00ffff","#00b3ff","#0066ff","#001aff","#3300ff","#8000ff","#cc00ff","#ff00e6","#ff0099","#ff004c"];o.forEach(a=>{const l=a[5].toLowerCase().charCodeAt(0)%20;i.push({id:""+a[0],style:{stroke:r[l]},source:""+a[1],sourceHandle:"source-"+a[2],target:""+a[3],targetHandle:"target-"+a[4]})});const s=e.groups;let u=0;return s.forEach(a=>{t.push({id:"group-"+u++,position:{x:a.bounding[0],y:a.bounding[1]},width:a.bounding[2]+"px",height:a.bounding[3]+30+"px",data:{label:a.title},...a.hasOwnProperty("color")?{style:{backgroundColor:a.color+"44",zIndex:-1}}:{},type:"comfyui-group"})}),{code:0,msg:"",data:{nodes:t,edges:i}}}catch(t){return{code:-1,msg:"error: comfyui json parse fail: "+t,data:{}}}}const Xh={last_node_id:9,last_link_id:9,nodes:[{id:6,type:"CLIPTextEncode",pos:{0:373,1:47},size:{0:422.84503173828125,1:164.31304931640625},flags:{},order:2,mode:0,inputs:[{name:"clip",type:"CLIP",link:3}],outputs:[{name:"CONDITIONING",type:"CONDITIONING",links:[4],slot_index:0}],properties:{"Node name for S&R":"CLIPTextEncode"},widgets_values:["beautiful scenery nature glass bottle landscape, , purple galaxy bottle,"]},{id:7,type:"CLIPTextEncode",pos:{0:408,1:569},size:{0:425.27801513671875,1:180.6060791015625},flags:{},order:3,mode:0,inputs:[{name:"clip",type:"CLIP",link:5}],outputs:[{name:"CONDITIONING",type:"CONDITIONING",links:[6],slot_index:0}],properties:{"Node name for S&R":"CLIPTextEncode"},widgets_values:["text, watermark"]},{id:5,type:"EmptyLatentImage",pos:{0:489,1:809},size:{0:315,1:106},flags:{},order:0,mode:0,inputs:[],outputs:[{name:"LATENT",type:"LATENT",links:[2],slot_index:0}],properties:{"Node name for S&R":"EmptyLatentImage"},widgets_values:[512,512,1]},{id:8,type:"VAEDecode",pos:{0:1325,1:336},size:{0:210,1:46},flags:{},order:5,mode:0,inputs:[{name:"samples",type:"LATENT",link:7},{name:"vae",type:"VAE",link:8}],outputs:[{name:"IMAGE",type:"IMAGE",links:[9],slot_index:0}],properties:{"Node name for S&R":"VAEDecode"},widgets_values:[]},{id:9,type:"SaveImage",pos:{0:1577,1:335},size:[210,270],flags:{},order:6,mode:0,inputs:[{name:"images",type:"IMAGE",link:9}],outputs:[],properties:{},widgets_values:["ComfyUI"]},{id:3,type:"KSampler",pos:{0:941,1:377},size:{0:315,1:262},flags:{},order:4,mode:0,inputs:[{name:"model",type:"MODEL",link:1},{name:"positive",type:"CONDITIONING",link:4},{name:"negative",type:"CONDITIONING",link:6},{name:"latent_image",type:"LATENT",link:2}],outputs:[{name:"LATENT",type:"LATENT",links:[7],slot_index:0}],properties:{"Node name for S&R":"KSampler"},widgets_values:[984943483018319,"randomize",20,8,"euler","normal",1]},{id:4,type:"CheckpointLoaderSimple",pos:{0:19,1:438},size:{0:315,1:98},flags:{},order:1,mode:0,inputs:[],outputs:[{name:"MODEL",type:"MODEL",links:[1],slot_index:0},{name:"CLIP",type:"CLIP",links:[3,5],slot_index:1},{name:"VAE",type:"VAE",links:[8],slot_index:2}],properties:{"Node name for S&R":"CheckpointLoaderSimple"},widgets_values:["abyssorangemix2SFW_abyssorangemix2Sfw.safetensors"]}],links:[[1,4,0,3,0,"MODEL"],[2,5,0,3,3,"LATENT"],[3,4,1,6,0,"CLIP"],[4,6,0,3,1,"CONDITIONING"],[5,4,1,7,0,"CLIP"],[6,7,0,3,2,"CONDITIONING"],[7,3,0,8,0,"LATENT"],[8,4,2,8,1,"VAE"],[9,8,0,9,0,"IMAGE"]],groups:[],config:{},extra:{ds:{scale:1.1000000000000003,offset:[105.73286361205797,93.22187298366379]}},version:.4},Kh={last_node_id:103,last_link_id:127,nodes:[{id:52,type:"ADE_StandardUniformContextOptions",pos:[1689,830],size:{0:327.6000061035156,1:222},flags:{},order:0,mode:0,inputs:[{link:null,name:"prev_context",type:"CONTEXT_OPTIONS",label:""},{link:null,name:"view_opts",type:"VIEW_OPTS",label:""}],outputs:[{links:[40],name:"CONTEXT_OPTS",shape:3,type:"CONTEXT_OPTIONS",label:""}],properties:{"Node name for S&R":"ADE_StandardUniformContextOptions"},widgets_values:[16,1,4,"pyramid",!1,0,1]},{id:49,type:"ADE_ApplyAnimateDiffModelSimple",pos:[1703,675],size:{0:304.79998779296875,1:106},flags:{},order:11,mode:0,inputs:[{link:37,name:"motion_model",type:"MOTION_MODEL_ADE",label:""},{link:null,name:"motion_lora",slot_index:1,type:"MOTION_LORA",label:"LoRA"},{link:null,name:"scale_multival",type:"MULTIVAL",label:""},{link:null,name:"effect_multival",type:"MULTIVAL",label:""},{link:null,name:"ad_keyframes",type:"AD_KEYFRAMES",label:"AD"}],outputs:[{links:[38],name:"M_MODELS",shape:3,slot_index:0,type:"M_MODELS",label:""}],properties:{"Node name for S&R":"ADE_ApplyAnimateDiffModelSimple"}},{id:47,type:"ADE_LoadAnimateDiffModel",pos:[1190,600],size:{0:340,1:60},flags:{},order:1,mode:0,inputs:[{link:null,name:"ad_settings",type:"AD_SETTINGS",label:"AD"}],outputs:[{links:[37],name:"MOTION_MODEL",shape:3,slot_index:0,type:"MOTION_MODEL_ADE",label:""}],properties:{"Node name for S&R":"ADE_LoadAnimateDiffModel"},widgets_values:["AnimateLCM\\sd15_t2v_beta.ckpt"]},{id:70,type:"ControlNetLoaderAdvanced",pos:[900,1390],size:{0:367.79998779296875,1:58},flags:{},order:2,mode:0,inputs:[{name:"timestep_keyframe",type:"TIMESTEP_KEYFRAME",link:null,label:""}],outputs:[{name:"CONTROL_NET",type:"CONTROL_NET",links:[75],shape:3,label:"ControlNet"}],properties:{"Node name for S&R":"ControlNetLoaderAdvanced"},widgets_values:["1.5\\control_v11p_sd15_openpose.pth"]},{id:69,type:"ACN_AdvancedControlNetApply",pos:[1680,1110],size:{0:355.20001220703125,1:266},flags:{},order:20,mode:0,inputs:[{name:"positive",type:"CONDITIONING",link:71,label:""},{name:"negative",type:"CONDITIONING",link:72,label:""},{name:"control_net",type:"CONTROL_NET",link:75,label:"ControlNet",slot_index:2},{name:"image",type:"IMAGE",link:119,label:"",slot_index:3},{name:"mask_optional",type:"MASK",link:null,label:""},{name:"timestep_kf",type:"TIMESTEP_KEYFRAME",link:null,label:"",slot_index:5},{name:"latent_kf_override",type:"LATENT_KEYFRAME",link:null,label:"Latent"},{name:"weights_override",type:"CONTROL_NET_WEIGHTS",link:null,label:"ControlNet"},{name:"model_optional",type:"MODEL",link:null,slot_index:8}],outputs:[{name:"positive",type:"CONDITIONING",links:[73],shape:3,label:"",slot_index:0},{name:"negative",type:"CONDITIONING",links:[74],shape:3,label:"",slot_index:1},{name:"model_opt",type:"MODEL",links:null,shape:3,slot_index:2}],properties:{"Node name for S&R":"ACN_AdvancedControlNetApply"},widgets_values:[1,0,1]},{id:60,type:"LCMScheduler",pos:[2150,1500],size:{0:315,1:82},flags:{},order:18,mode:0,inputs:[{link:66,name:"model",slot_index:0,type:"MODEL",label:"model"}],outputs:[{links:[55],name:"SIGMAS",shape:3,type:"SIGMAS",label:"SIGMAS"}],properties:{"Node name for S&R":"LCMScheduler"},widgets_values:[10,1]},{id:59,type:"SamplerLCMCycle",pos:[2170,1300],size:{0:315,1:130},flags:{},order:3,mode:0,outputs:[{links:[54],name:"SAMPLER",shape:3,type:"SAMPLER",label:"SAMPLER"}],properties:{"Node name for S&R":"SamplerLCMCycle"},widgets_values:[2,2,!1,0]},{id:63,type:"BNK_CLIPTextEncodeAdvanced",pos:[920,1140],size:{0:400,1:200},flags:{},order:16,mode:0,inputs:[{link:65,name:"clip",type:"CLIP",label:"CLIP"}],outputs:[{links:[72],name:"CONDITIONING",shape:3,type:"CONDITIONING",label:"",slot_index:0}],properties:{"Node name for S&R":"BNK_CLIPTextEncodeAdvanced"},widgets_values:["(worst quality:1.3), unfinished sketch, blurry, normal, mundane, boring, everyday, safe, ordinary, monochrome, greyscale, text, watermark","mean","A1111"]},{id:62,type:"BNK_CLIPTextEncodeAdvanced",pos:[920,860],size:{0:400,1:200},flags:{},order:15,mode:0,inputs:[{link:64,name:"clip",slot_index:0,type:"CLIP",label:"CLIP"}],outputs:[{links:[71],name:"CONDITIONING",shape:3,type:"CONDITIONING",label:"",slot_index:0}],properties:{"Node name for S&R":"BNK_CLIPTextEncodeAdvanced"},widgets_values:["(best quality, masterpiece), 1boy, mechano punk plaza, blue eyes, dancing","mean","A1111"]},{id:92,type:"IPAdapterApply",pos:[2672.018828230932,342.46597762958794],size:{0:315,1:258},flags:{},order:19,mode:0,inputs:[{name:"ipadapter",type:"IPADAPTER",link:103,label:"IP"},{name:"clip_vision",type:"CLIP_VISION",link:104,label:"CLIP",slot_index:1},{name:"image",type:"IMAGE",link:105,label:""},{name:"model",type:"MODEL",link:106,label:""},{name:"attn_mask",type:"MASK",link:null,label:""}],outputs:[{name:"MODEL",type:"MODEL",links:[107],shape:3,label:"",slot_index:0}],properties:{"Node name for S&R":"IPAdapterApply"},widgets_values:[1,0,"original",0,1,!1]},{id:94,type:"CheckpointLoader|pysssss",pos:[1050,390],size:{0:410,1:122},flags:{},order:4,mode:0,outputs:[{name:"MODEL",type:"MODEL",links:[112],shape:3,label:"",slot_index:0},{name:"CLIP",type:"CLIP",links:[113],shape:3,label:"CLIP",slot_index:1},{name:"VAE",type:"VAE",links:null,shape:3,label:"VAE"}],properties:{"Node name for S&R":"CheckpointLoader|pysssss"},widgets_values:[{content:"sd1.5\\\\darkSushiMixMix_225D.safetensors",image:"checkpoints/sd1.5\\\\darkSushiMixMix_225D.jpg"},"[none]"]},{id:50,type:"ADE_UseEvolvedSampling",pos:[2130,870],size:{0:315,1:118},flags:{},order:14,mode:0,inputs:[{link:62,name:"model",slot_index:0,type:"MODEL",label:""},{link:38,name:"m_models",slot_index:1,type:"M_MODELS",label:""},{link:40,name:"context_options",slot_index:2,type:"CONTEXT_OPTIONS",label:""},{link:null,name:"sample_settings",type:"SAMPLE_SETTINGS",label:""}],outputs:[{links:[66,106],name:"MODEL",shape:3,slot_index:0,type:"MODEL",label:""}],properties:{"Node name for S&R":"ADE_UseEvolvedSampling"},widgets_values:["lcm[100_ots]"]},{id:93,type:"CLIPVisionLoader",pos:[2160,400],size:{0:315,1:58},flags:{},order:5,mode:0,outputs:[{name:"CLIP_VISION",type:"CLIP_VISION",links:[104],shape:3,label:"CLIP"}],properties:{"Node name for S&R":"CLIPVisionLoader"},widgets_values:["clip_h.pth"]},{id:64,type:"LoraLoader",pos:[1620,450],size:{0:460,1:150},flags:{},order:12,mode:0,inputs:[{link:112,name:"model",type:"MODEL",label:""},{link:113,name:"clip",slot_index:1,type:"CLIP",label:"CLIP"}],outputs:[{links:[62],name:"MODEL",shape:3,slot_index:0,type:"MODEL",label:""},{links:[64,65],name:"CLIP",shape:3,slot_index:1,type:"CLIP",label:"CLIP"}],properties:{"Node name for S&R":"LoraLoader"},widgets_values:["AnimateLCM\\sd15_lora_t2v_beta.safetensors",1,1]},{id:91,type:"IPAdapterModelLoader",pos:[1650,330],size:{0:450,1:60},flags:{},order:6,mode:0,outputs:[{name:"IPADAPTER",type:"IPADAPTER",links:[103],shape:3,label:"IP",slot_index:0}],properties:{"Node name for S&R":"IPAdapterModelLoader"},widgets_values:["IP\\1.5\\H\\ip-adapter-plus_sd15.bin"]},{id:58,type:"SamplerCustom",pos:[2550,910],size:{0:355.20001220703125,1:230},flags:{},order:21,mode:0,inputs:[{link:107,name:"model",type:"MODEL",label:""},{link:73,name:"positive",slot_index:1,type:"CONDITIONING",label:""},{link:74,name:"negative",slot_index:2,type:"CONDITIONING",label:""},{link:54,name:"sampler",slot_index:3,type:"SAMPLER",label:""},{link:55,name:"sigmas",slot_index:4,type:"SIGMAS",label:"Sigmas"},{link:102,name:"latent_image",slot_index:5,type:"LATENT",label:"Latent"}],outputs:[{links:[],name:"output",shape:3,slot_index:0,type:"LATENT",label:""},{links:[53],name:"denoised_output",shape:3,slot_index:1,type:"LATENT",label:""}],properties:{"Node name for S&R":"SamplerCustom"},widgets_values:[!0,0,"fixed",1.8]},{id:67,type:"VAELoader",pos:[2580,1200],size:{0:315,1:58},flags:{},order:7,mode:0,outputs:[{links:[69],name:"VAE",shape:3,type:"VAE"}],properties:{"Node name for S&R":"VAELoader"},widgets_values:["kl-f8-anime2.ckpt"]},{id:80,type:"EmptyLatentImage",pos:[1700,1540],size:{0:320,1:110},flags:{},order:17,mode:0,inputs:[{name:"width",type:"INT",link:86,widget:{name:"width"},label:""},{name:"height",type:"INT",link:87,widget:{name:"height"},label:""},{name:"batch_size",type:"INT",link:88,widget:{name:"batch_size"},label:""}],outputs:[{name:"LATENT",type:"LATENT",links:[102],shape:3,label:"Latent",slot_index:0}],properties:{"Node name for S&R":"EmptyLatentImage"},widgets_values:[512,512,1]},{id:81,type:"ImageSizeAndBatchSize",pos:[1270,1630],size:{0:210,1:66},flags:{},order:13,mode:0,inputs:[{name:"image",type:"IMAGE",link:120,label:"",slot_index:0}],outputs:[{name:"width",type:"INT",links:[86],shape:3,label:"",slot_index:0},{name:"height",type:"INT",links:[87],shape:3,label:"",slot_index:1},{name:"batch_size",type:"INT",links:[88],shape:3,label:"",slot_index:2}],properties:{"Node name for S&R":"ImageSizeAndBatchSize"}},{id:97,type:"VHS_LoadVideo",pos:[910,1540],size:[210,360],flags:{},order:8,mode:0,inputs:[{name:"batch_manager",type:"VHS_BatchManager",link:null}],outputs:[{name:"IMAGE",type:"IMAGE",links:[119,120],shape:3,label:"",slot_index:0},{name:"frame_count",type:"INT",links:null,shape:3,label:""},{name:"audio",type:"VHS_AUDIO",links:null,shape:3}],properties:{"Node name for S&R":"VHS_LoadVideo"},widgets_values:{video:"cxk_00003_.gif",force_rate:0,force_size:"Disabled",custom_width:512,custom_height:512,frame_load_cap:160,skip_first_frames:50,select_every_nth:1,"choose video to upload":"image",videopreview:{hidden:!1,paused:!1,params:{frame_load_cap:160,skip_first_frames:50,force_rate:0,filename:"cxk_00003_.gif",type:"input",format:"image/gif",select_every_nth:1}}}},{id:86,type:"LoadImage",pos:[2190,510],size:{0:250,1:310},flags:{},order:9,mode:0,outputs:[{name:"IMAGE",type:"IMAGE",links:[105],shape:3,label:"",slot_index:0},{name:"MASK",type:"MASK",links:null,shape:3,label:""}],properties:{"Node name for S&R":"LoadImage"},widgets_values:["00581-420388937-((masterpiece)), (((best quality))), ((ultra-detailed)), (adult_2), ((illustration)), (cute detailed face_1.25),1girl, robotic u.png","image"]},{id:102,type:"VHS_LoadAudio",pos:[3320,1130],size:{0:315,1:82},flags:{},order:10,mode:0,outputs:[{name:"audio",type:"VHS_AUDIO",links:[126],shape:3,label:"",slot_index:0}],properties:{"Node name for S&R":"VHS_LoadAudio"},widgets_values:{audio_file:"C:\\ComfyUI_windows_portable\\ComfyUI\\input\\audio.mp3",seek_seconds:0}},{id:56,type:"VAEDecode",pos:[3e3,1030],size:{0:210,1:46},flags:{},order:22,mode:0,inputs:[{link:53,name:"samples",type:"LATENT",label:"Latent"},{link:69,name:"vae",slot_index:1,type:"VAE",label:"VAE"}],outputs:[{links:[121,127],name:"IMAGE",shape:3,slot_index:0,type:"IMAGE",label:""}],properties:{"Node name for S&R":"VAEDecode"}},{id:103,type:"SaveImage",pos:[3372.826571377841,1362.901866566051],size:{0:315,1:58},flags:{},order:24,mode:0,inputs:[{name:"images",type:"IMAGE",link:127,label:""}],properties:{},widgets_values:["111"]},{id:96,type:"VHS_VideoCombine",pos:[3790,1e3],size:[320,290],flags:{},order:23,mode:0,inputs:[{name:"images",type:"IMAGE",link:121,label:""},{name:"audio",type:"VHS_AUDIO",link:126,label:"",slot_index:1},{name:"batch_manager",type:"VHS_BatchManager",link:null,label:""}],outputs:[{name:"Filenames",type:"VHS_FILENAMES",links:null,shape:3,label:""}],properties:{"Node name for S&R":"VHS_VideoCombine"},widgets_values:{frame_rate:10,loop_count:0,filename_prefix:"AnimateDiff/comfy",format:"video/h265-mp4",pix_fmt:"yuv420p",crf:22,save_metadata:!0,pingpong:!0,save_output:!0,videopreview:{hidden:!1,paused:!1,params:{filename:"comfy_00011-audio.mp4",subfolder:"AnimateDiff",type:"output",format:"video/h265-mp4"}}}}],links:[[37,47,0,49,0,"MOTION_MODEL_ADE"],[38,49,0,50,1,"M_MODELS"],[40,52,0,50,2,"CONTEXT_OPTIONS"],[53,58,1,56,0,"LATENT"],[54,59,0,58,3,"SAMPLER"],[55,60,0,58,4,"SIGMAS"],[62,64,0,50,0,"MODEL"],[64,64,1,62,0,"CLIP"],[65,64,1,63,0,"CLIP"],[66,50,0,60,0,"MODEL"],[69,67,0,56,1,"VAE"],[71,62,0,69,0,"CONDITIONING"],[72,63,0,69,1,"CONDITIONING"],[73,69,0,58,1,"CONDITIONING"],[74,69,1,58,2,"CONDITIONING"],[75,70,0,69,2,"CONTROL_NET"],[86,81,0,80,0,"INT"],[87,81,1,80,1,"INT"],[88,81,2,80,2,"INT"],[102,80,0,58,5,"LATENT"],[103,91,0,92,0,"IPADAPTER"],[104,93,0,92,1,"CLIP_VISION"],[105,86,0,92,2,"IMAGE"],[106,50,0,92,3,"MODEL"],[107,92,0,58,0,"MODEL"],[112,94,0,64,0,"MODEL"],[113,94,1,64,1,"CLIP"],[119,97,0,69,3,"IMAGE"],[120,97,0,81,0,"IMAGE"],[121,56,0,96,0,"IMAGE"],[126,102,0,96,1,"VHS_AUDIO"],[127,56,0,103,0,"IMAGE"]],groups:[],config:{},extra:{},version:.4};function n_(e){if(typeof e=="string")if(e=="demo")e=JSON.parse(JSON.stringify(Jh));else return{code:-1,msg:"error demo: "+e,data:{}};try{let t=[];e.nodes.forEach(r=>{t.push({id:r.id,position:{x:r.x,y:r.y},...r.width?{width:r.width+"px"}:{},...r.height?{height:r.height+"px"}:{},data:{label:r.hasOwnProperty("text")?r.text:r.hasOwnProperty("file")?r.file:r.hasOwnProperty("label")?r.label:"Error Type: "+r.type,type:r.type},type:"obcanvas",...r.type=="group"?{style:{zIndex:"-1"}}:{}})});let i=[];return e.edges.forEach(r=>{i.push({id:r.id,source:r.fromNode,target:r.toNode,sourceHandle:r.fromSide,targetHandle:r.toSide,markerEnd:"arrowclosed"})}),{code:0,msg:"",data:{nodes:t,edges:i}}}catch(t){return{code:-1,msg:"error: obcanvas json parse fail: "+t,data:{}}}}const Jh={nodes:[{id:"d1acdb5136ffb1f1",x:25,y:70,width:250,height:60,type:"text",text:`## Title

**Test** *1*
`},{id:"f7dc36d69da1bb36",x:330,y:70,width:250,height:60,type:"text",text:`~~Test~~ ==2==
`}],edges:[{id:"fc3f1bc43902aac9",fromNode:"d1acdb5136ffb1f1",fromSide:"right",toNode:"f7dc36d69da1bb36",toSide:"left"}]};function i_(e){if(typeof e=="string")if(e=="demo")e=JSON.parse(JSON.stringify(Qh));else if(e=="demo2")e=JSON.parse(JSON.stringify(e0));else if(e=="demo3")e=JSON.parse(JSON.stringify(t0));else return{code:-1,msg:"error demo: "+e,data:{}};for(let t of e.nodes)t.hasOwnProperty("position")||(t.position={x:0,y:0}),t.hasOwnProperty("data")||(t.data={label:""}),t.type||(t.type="process");return{code:0,msg:"",data:e}}const Qh={nodes:[{id:"1",type:"input",position:{x:250,y:5},data:{label:"Node 11"}},{id:"2",position:{x:100,y:100},data:{label:"Node 12"}},{id:"3",type:"output",position:{x:400,y:200},data:{label:"Node 13"}},{id:"4",type:"special",position:{x:600,y:100},data:{label:"Node 14",hello:"world"}}],edges:[{id:"e1->2",source:"1",target:"2"},{id:"e2->3",source:"2",target:"3",animated:!0},{id:"e3->4",type:"special",source:"3",target:"4",data:{hello:"world"}}]},e0={nodes:[{id:"1"},{id:"2"},{id:"2a"},{id:"2b"},{id:"2c"},{id:"2d"},{id:"3"},{id:"4"},{id:"5"},{id:"6"},{id:"7"}],edges:[{id:"e1-2",source:"1",target:"2",type:"animation",animated:!0},{id:"e1-3",source:"1",target:"3",type:"animation",animated:!0},{id:"e2-2a",source:"2",target:"2a",type:"animation",animated:!0},{id:"e2-2b",source:"2",target:"2b",type:"animation",animated:!0},{id:"e2-2c",source:"2",target:"2c",type:"animation",animated:!0},{id:"e2c-2d",source:"2c",target:"2d",type:"animation",animated:!0},{id:"e3-7",source:"3",target:"4",type:"animation",animated:!0},{id:"e4-5",source:"4",target:"5",type:"animation",animated:!0},{id:"e5-6",source:"5",target:"6",type:"animation",animated:!0},{id:"e5-7",source:"5",target:"7",type:"animation",animated:!0}]},t0={nodes:[{id:"1",type:"color-selector",data:{color:"#6F3381"},position:{x:0,y:50}},{id:"2",type:"color-output",position:{x:350,y:114},targetPosition:"left"}],edges:[{id:"e1a-2",source:"1",sourceHandle:"a",target:"2",animated:!0,style:{stroke:"#6F3381"}}]};let zt={app:null,ctx:null,cahce_workspace:null,isDebug:!1,md:null,fn_renderMarkdown:()=>{},fn_request:()=>{},fn_newView:async()=>{}};function o_(e){if(e.startsWith("demo"))if(e=="demo")e=n0;else return{code:-1,msg:"error demo: "+e,data:{}};let t=0,n=[];try{let i=[],o=[],r,s,u,a;for(r of e.split(`
`)){const l=r.match(/(^\s*)(- )?(.*)/);if(l){if(!l[2]){if(i.length==0){zt.isDebug&&console.warn(": ");continue}const c=o[o.length-1];if(c.self+=`
`+l[3],!c.self_data.hasOwnProperty("value")){zt.isDebug&&console.warn(": vlaue");continue}c.self_data.value+=(c.self_data.value==""?"":`
`)+l[3];continue}s=l[1].length;{u=-1;for(let c=0;c<i.length;c++)if(i[c]>=s){i=i.slice(0,c+1),u=c;break}u==-1&&(i.push(s),u=i.length-1)}{let c=[];const f=l[3].split(",");for(let h of f)c.push(h.trim().split(":"));c[3]?a={self:l[3],children:[],self_data:{type:"edge",id:""+t++,parentId:"",parent:null,from_node:c[0][0],from_socket:c[1][0],to_node:c[2][0],to_socket:c[3][0],name:c[4]?c[4][0]:""}}:c[1]?a={self:l[3],children:[],self_data:{type:c[1]&&["i","input","o","output","v","value"].includes(c[1][0])?c[1][0]:"value",id:c[0][0],name:c[0][1]??c[0][0],parentId:"",parent:null,value:c[2]?c[2][0]:""}}:a={self:l[3],children:[],self_data:{type:"node",id:c[0][0],name:c[0][1]??c[0][0],parentId:"",parent:null,children:{inputs:[],outputs:[],values:[]}}},o=o.slice(0,i.length),o[u]=a}if(u==0)n.push(a);else{const c=o[u-1];if(c.self_data.type!="n"&&c.self_data.type!="node"&&c.self_data.type!="g"&&c.self_data.type!="group")continue;c.children.push(a),a.self_data.parentId=c.self_data.id,a.self_data.parent=c,a.self_data.type=="input"||a.self_data.type=="i"?(c.self_data.type="node",c.self_data.children.inputs.push(a)):a.self_data.type=="output"||a.self_data.type=="o"?(c.self_data.type="node",c.self_data.children.outputs.push(a)):a.self_data.type=="value"||a.self_data.type=="v"?(c.self_data.type="node",c.self_data.children.values.push(a)):(a.self_data.type=="node"||a.self_data.type=="n")&&(c.self_data.type="group")}}}}catch(i){return{code:-1,msg:"error: list parse fail: "+i,data:{}}}{if(n.length!=2)return{code:-1,msg:"error: without rootNode: nodes and edges",data:{}};let i=[];{let r=function(s){for(let u of s){if(u.self_data.type!="n"&&u.self_data.type!="node"&&u.self_data.type!="g"&&u.self_data.type!="group")continue;const a={id:u.self_data.id,data:{type:u.self_data.type,label:u.self_data.name,inputs:u.self_data.children.inputs.map(l=>({id:l.self_data.id,name:l.self_data.name,value:l.self_data.value})),outputs:u.self_data.children.outputs.map(l=>({id:l.self_data.id,name:l.self_data.name,value:l.self_data.value})),values:u.self_data.children.values.map(l=>({id:l.self_data.id,name:l.self_data.name,value:l.self_data.value}))},position:{x:0,y:0},...u.self_data.parentId==""||u.self_data.parentId=="nodes"?{}:{parentNode:u.self_data.parentId},type:"common"};i.push(a),r(u.children)}};r(n[0].children)}let o=[];{let r=function(u){for(let a of u){if(a.self_data.type!="e"&&a.self_data.type!="edge")continue;const l=a.self_data.from_socket.toLowerCase().charCodeAt(0)%20;o.push({id:a.self_data.id,style:{stroke:s[l]},source:a.self_data.from_node,sourceHandle:a.self_data.from_socket,target:a.self_data.to_node,targetHandle:a.self_data.to_socket}),r(a.children)}};const s=["#ff0000","#ff4d00","#ff9900","#ffe600","#ccff00","#80ff00","#33ff00","#00ff1a","#00ff66","#00ffb3","#00ffff","#00b3ff","#0066ff","#001aff","#3300ff","#8000ff","#cc00ff","#ff00e6","#ff0099","#ff004c"];r(n[1].children)}return{code:0,msg:"",data:{nodes:i,edges:o}}}}const n0=`- nodes
  - node1:KSample
    - Latent, o
    - model, i
    - positive, i
    - negative, i
    - Latent, i
    - seed,
    - control_after_generate,, randomize
    - steps,, 20
    - CFG,, 8.0
    - sampler_name,, euler
    - scheduler,, normal
    - denoise,, 1.00
    - io defaultTest, i , test
    - io defaultTest, o, test
    - t1:noValueTest,
    - t2:,, noKeyTest
      mul lines test
  - node2:KSample
    - , o
    - , i
    - , i
    - , i
    - , i
    - ,
    - ,
    - ,
    - CFG,
    - /,
    - ,
    - ,
  - translate
- edges
  - node1,Latent, translate,l
  - translate,r, node2, 
`;function r_(e){if(typeof e=="string")if(e.startsWith("demo"))e=JSON.parse(JSON.stringify(i0));else return{code:-1,msg:"error demo: "+e,data:{}};for(let t of e.nodes)t.hasOwnProperty("position")||(t.position={x:0,y:0}),(!t.hasOwnProperty("valueType")||t.valueType=="")&&(t.valueType="item-string"),t.type="item";return{code:0,msg:"",data:e}}const i0={nodes:[{id:"6",data:{label:"itemData testData",valueType:"itemData valueType",items:[{id:"01",name:"null",refType:"input",valueType:"item-string",value:""},{id:"02",name:"null",refType:"output",valueType:"item-string",value:""},{id:"03",name:"color",refType:"input",valueType:"item-color",value:"#2283fc"},{id:"1",name:"number",refType:"input",valueType:"item-string",value:"123"},{id:"2",name:"number",refType:"output",valueType:"item-string",value:"456"},{id:"3",name:"vName",refType:"value",valueType:"item-string",value:"vValue"},{id:"4",name:"clip",refType:"input",valueType:"item-string",value:""},{id:"5",name:"clip",refType:"output",valueType:"item-string",value:""},{id:"6",name:"selectName",refType:"value",valueType:"item-enum",value:"select1|select2|select3"},{id:"7",name:"markdown",refType:"value",valueType:"item-markdown",value:`## Markdown

**bord** *italic* ==highlight== ~~del~~`}]}}]},s_={class:"json-editor"},u_=["value"],a_=be({__name:"JsonEditor",props:{nfData:{}},setup(e){const t=e,n=[{name:"listitem-nest",type:"nodeflow-listitem",content:Zh},{name:"listitem-http-old",type:"nodeflow-listitem",content:Sa},{name:"listitem-http-new",type:"nodeflow-listitem",content:Yh},{name:"comfyUI-1",type:"nodeflow-comfyui",content:JSON.stringify(Xh,null,2)},{name:"comfyUI-2",type:"nodeflow-comfyui",content:JSON.stringify(Kh,null,2)},{name:"obcanvas",type:"nodeflow-obcanvas",content:JSON.stringify(Jh,null,2)},{name:"vueflow",type:"nodeflow-vueflow",content:JSON.stringify(Qh,null,2)},{name:"vueflow-autoPos",type:"nodeflow-vueflow",content:JSON.stringify(e0,null,2)},{name:"vueflow-custom",type:"nodeflow-vueflow",content:JSON.stringify(t0,null,2)},{name:"list",type:"nodeflow-list",content:n0},{name:"item-moreType",type:"nodeflow-item",content:JSON.stringify(i0,null,2)}];function i(o){const r=o.target.value;t.nfData.type=n[r].type,t.nfData.rawContent=n[r].content}return t.nfData.type=le("nodeflow-listitem"),t.nfData.rawContent=le(Sa),(o,r)=>(X(),te("div",s_,[r[2]||(r[2]=L("div",{class:"item"},"",-1)),L("select",{class:"item",onChange:i,value:"1"},[(X(),te(Ie,null,ht(n,(s,u)=>L("option",{value:u},Ee(s.name),9,u_)),64))],32),ze(L("input",{class:"item","onUpdate:modelValue":r[0]||(r[0]=s=>o.nfData.type=s)},null,512),[[Ca,o.nfData.type]]),ze(L("textarea",{spellcheck:"false",class:"item","onUpdate:modelValue":r[1]||(r[1]=s=>o.nfData.rawContent=s)},null,512),[[Ca,o.nfData.rawContent]])]))}}),l_=rt(a_,[["__scopeId","data-v-b9cea878"]]);function c_(e="nodeflow-vueflow",t="{nodes:[],edges:[]}"){let n;if(t.trim()=="")return{code:-1,msg:"error: content is empty",data:{}};if(t.startsWith("demo"))n=t;else if(e==="nodeflow-list"||e==="nodeflow-listitem")n=t;else try{if(n=JSON.parse(t),!n)return{code:-1,msg:"Error: not a legitimate json",data:{}}}catch(o){return{code:-1,msg:"Error: not a legitimate json: "+o,data:{}}}let i;if(e=="nodeflow-comfyui")i=t_(n);else if(e=="nodeflow-obcanvas")i=n_(n);else if(e=="nodeflow-vueflow")i=i_(n);else if(e=="nodeflow-list")i=o_(n);else if(e=="nodeflow-item")i=r_(n);else if(e=="nodeflow-listitem")i=K1(n);else return{code:-1,msg:"error: invalid json type: "+e,data:{}};return i.code!=0?i:i.data.hasOwnProperty("nodes")?(i.data.hasOwnProperty("edges")||(i.data.edges=[]),i):{code:-1,msg:"json without nodes attrs",data:{}}}function d_(e){return{data:{nodes:[{id:"ERROR",position:{x:0,y:0},type:"common",data:{label:"ERROR",inputs:[],outputs:[],values:[{id:"0",name:"",value:e}]}}],edges:[]}}}function Ss(e){return Xa()?(Tr(e),!0):!1}function Cn(e){return typeof e=="function"?e():V(e)}const f_=typeof window<"u"&&typeof document<"u",h_=e=>typeof e<"u",p_=Object.prototype.toString,m_=e=>p_.call(e)==="[object Object]",g_=()=>{};function __(e,t){function n(...i){return new Promise((o,r)=>{Promise.resolve(e(()=>t.apply(this,i),{fn:t,thisArg:this,args:i})).then(o).catch(r)})}return n}const o0=e=>e();function v_(e=o0){const t=le(!0);function n(){t.value=!1}function i(){t.value=!0}const o=(...r)=>{t.value&&e(...r)};return{isActive:_s(t),pause:n,resume:i,eventFilter:o}}function bc(e,t=!1,n="Timeout"){return new Promise((i,o)=>{setTimeout(t?()=>o(n):i,e)})}function b_(e,t,n={}){const{eventFilter:i=o0,...o}=n;return ke(e,__(i,t),o)}function Mi(e,t,n={}){const{eventFilter:i,...o}=n,{eventFilter:r,pause:s,resume:u,isActive:a}=v_(i);return{stop:b_(e,t,{...o,eventFilter:r}),pause:s,resume:u,isActive:a}}function y_(e,t={}){if(!Ce(e))return km(e);const n=Array.isArray(e.value)?Array.from({length:e.value.length}):{};for(const i in e.value)n[i]=Sm(()=>({get(){return e.value[i]},set(o){var r;if((r=Cn(t.replaceRef))!=null?r:!0)if(Array.isArray(e.value)){const u=[...e.value];u[i]=o,e.value=u}else{const u={...e.value,[i]:o};Object.setPrototypeOf(u,Object.getPrototypeOf(e.value)),e.value=u}else e.value[i]=o}}));return n}function ka(e,t=!1){function n(d,{flush:f="sync",deep:h=!1,timeout:m,throwOnTimeout:b}={}){let v=null;const _=[new Promise(p=>{v=ke(e,g=>{d(g)!==t&&(v==null||v(),p(g))},{flush:f,deep:h,immediate:!0})})];return m!=null&&_.push(bc(m,b).then(()=>Cn(e)).finally(()=>v==null?void 0:v())),Promise.race(_)}function i(d,f){if(!Ce(d))return n(g=>g===d,f);const{flush:h="sync",deep:m=!1,timeout:b,throwOnTimeout:v}=f??{};let y=null;const p=[new Promise(g=>{y=ke([e,d],([S,C])=>{t!==(S===C)&&(y==null||y(),g(S))},{flush:h,deep:m,immediate:!0})})];return b!=null&&p.push(bc(b,v).then(()=>Cn(e)).finally(()=>(y==null||y(),Cn(e)))),Promise.race(p)}function o(d){return n(f=>!!f,d)}function r(d){return i(null,d)}function s(d){return i(void 0,d)}function u(d){return n(Number.isNaN,d)}function a(d,f){return n(h=>{const m=Array.from(h);return m.includes(d)||m.includes(Cn(d))},f)}function l(d){return c(1,d)}function c(d=1,f){let h=-1;return n(()=>(h+=1,h>=d),f)}return Array.isArray(Cn(e))?{toMatch:n,toContains:a,changed:l,changedTimes:c,get not(){return ka(e,!t)}}:{toMatch:n,toBe:i,toBeTruthy:o,toBeNull:r,toBeNaN:u,toBeUndefined:s,changed:l,changedTimes:c,get not(){return ka(e,!t)}}}function Ia(e){return ka(e)}function w_(e){var t;const n=Cn(e);return(t=n==null?void 0:n.$el)!=null?t:n}const r0=f_?window:void 0;function s0(...e){let t,n,i,o;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,i,o]=e,t=r0):[t,n,i,o]=e,!t)return g_;Array.isArray(n)||(n=[n]),Array.isArray(i)||(i=[i]);const r=[],s=()=>{r.forEach(c=>c()),r.length=0},u=(c,d,f,h)=>(c.addEventListener(d,f,h),()=>c.removeEventListener(d,f,h)),a=ke(()=>[w_(t),Cn(o)],([c,d])=>{if(s(),!c)return;const f=m_(d)?{...d}:d;r.push(...n.flatMap(h=>i.map(m=>u(c,h,m,f))))},{immediate:!0,flush:"post"}),l=()=>{a(),s()};return Ss(l),l}function x_(e){return typeof e=="function"?e:typeof e=="string"?t=>t.key===e:Array.isArray(e)?t=>e.includes(t.key):()=>!0}function yc(...e){let t,n,i={};e.length===3?(t=e[0],n=e[1],i=e[2]):e.length===2?typeof e[1]=="object"?(t=!0,n=e[0],i=e[1]):(t=e[0],n=e[1]):(t=!0,n=e[0]);const{target:o=r0,eventName:r="keydown",passive:s=!1,dedupe:u=!1}=i,a=x_(t);return s0(o,r,c=>{c.repeat&&Cn(u)||a(c)&&n(c)},s)}function C_(e){return JSON.parse(JSON.stringify(e))}function Js(e,t,n,i={}){var o,r,s;const{clone:u=!1,passive:a=!1,eventName:l,deep:c=!1,defaultValue:d,shouldEmit:f}=i,h=ii(),m=n||(h==null?void 0:h.emit)||((o=h==null?void 0:h.$emit)==null?void 0:o.bind(h))||((s=(r=h==null?void 0:h.proxy)==null?void 0:r.$emit)==null?void 0:s.bind(h==null?void 0:h.proxy));let b=l;t||(t="modelValue"),b=b||`update:${t.toString()}`;const v=p=>u?typeof u=="function"?u(p):C_(p):p,y=()=>h_(e[t])?v(e[t]):d,_=p=>{f?f(p)&&m(b,p):m(b,p)};if(a){const p=y(),g=le(p);let S=!1;return ke(()=>e[t],C=>{S||(S=!0,g.value=v(C),lt(()=>S=!1))}),ke(g,C=>{!S&&(C!==e[t]||c)&&_(C)},{deep:c}),g}else return ve({get(){return y()},set(p){_(p)}})}var E_={value:()=>{}};function ks(){for(var e=0,t=arguments.length,n={},i;e<t;++e){if(!(i=arguments[e]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new Pr(n)}function Pr(e){this._=e}function S_(e,t){return e.trim().split(/^|\s+/).map(function(n){var i="",o=n.indexOf(".");if(o>=0&&(i=n.slice(o+1),n=n.slice(0,o)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}Pr.prototype=ks.prototype={constructor:Pr,on:function(e,t){var n=this._,i=S_(e+"",n),o,r=-1,s=i.length;if(arguments.length<2){for(;++r<s;)if((o=(e=i[r]).type)&&(o=k_(n[o],e.name)))return o;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++r<s;)if(o=(e=i[r]).type)n[o]=wc(n[o],e.name,t);else if(t==null)for(o in n)n[o]=wc(n[o],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Pr(e)},call:function(e,t){if((o=arguments.length-2)>0)for(var n=new Array(o),i=0,o,r;i<o;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],o=0,r=i.length;o<r;++o)i[o].value.apply(t,n)}};function k_(e,t){for(var n=0,i=e.length,o;n<i;++n)if((o=e[n]).name===t)return o.value}function wc(e,t,n){for(var i=0,o=e.length;i<o;++i)if(e[i].name===t){e[i]=E_,e=e.slice(0,i).concat(e.slice(i+1));break}return n!=null&&e.push({name:t,value:n}),e}var Aa="http://www.w3.org/1999/xhtml";const xc={svg:"http://www.w3.org/2000/svg",xhtml:Aa,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Is(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),xc.hasOwnProperty(t)?{space:xc[t],local:e}:e}function I_(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Aa&&t.documentElement.namespaceURI===Aa?t.createElement(e):t.createElementNS(n,e)}}function A_(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function u0(e){var t=Is(e);return(t.local?A_:I_)(t)}function D_(){}function dl(e){return e==null?D_:function(){return this.querySelector(e)}}function T_(e){typeof e!="function"&&(e=dl(e));for(var t=this._groups,n=t.length,i=new Array(n),o=0;o<n;++o)for(var r=t[o],s=r.length,u=i[o]=new Array(s),a,l,c=0;c<s;++c)(a=r[c])&&(l=e.call(a,a.__data__,c,r))&&("__data__"in a&&(l.__data__=a.__data__),u[c]=l);return new Pt(i,this._parents)}function M_(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function N_(){return[]}function a0(e){return e==null?N_:function(){return this.querySelectorAll(e)}}function F_(e){return function(){return M_(e.apply(this,arguments))}}function P_(e){typeof e=="function"?e=F_(e):e=a0(e);for(var t=this._groups,n=t.length,i=[],o=[],r=0;r<n;++r)for(var s=t[r],u=s.length,a,l=0;l<u;++l)(a=s[l])&&(i.push(e.call(a,a.__data__,l,s)),o.push(a));return new Pt(i,o)}function l0(e){return function(){return this.matches(e)}}function c0(e){return function(t){return t.matches(e)}}var O_=Array.prototype.find;function L_(e){return function(){return O_.call(this.children,e)}}function z_(){return this.firstElementChild}function R_(e){return this.select(e==null?z_:L_(typeof e=="function"?e:c0(e)))}var $_=Array.prototype.filter;function B_(){return Array.from(this.children)}function H_(e){return function(){return $_.call(this.children,e)}}function V_(e){return this.selectAll(e==null?B_:H_(typeof e=="function"?e:c0(e)))}function U_(e){typeof e!="function"&&(e=l0(e));for(var t=this._groups,n=t.length,i=new Array(n),o=0;o<n;++o)for(var r=t[o],s=r.length,u=i[o]=[],a,l=0;l<s;++l)(a=r[l])&&e.call(a,a.__data__,l,r)&&u.push(a);return new Pt(i,this._parents)}function d0(e){return new Array(e.length)}function q_(){return new Pt(this._enter||this._groups.map(d0),this._parents)}function Kr(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Kr.prototype={constructor:Kr,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function G_(e){return function(){return e}}function j_(e,t,n,i,o,r){for(var s=0,u,a=t.length,l=r.length;s<l;++s)(u=t[s])?(u.__data__=r[s],i[s]=u):n[s]=new Kr(e,r[s]);for(;s<a;++s)(u=t[s])&&(o[s]=u)}function W_(e,t,n,i,o,r,s){var u,a,l=new Map,c=t.length,d=r.length,f=new Array(c),h;for(u=0;u<c;++u)(a=t[u])&&(f[u]=h=s.call(a,a.__data__,u,t)+"",l.has(h)?o[u]=a:l.set(h,a));for(u=0;u<d;++u)h=s.call(e,r[u],u,r)+"",(a=l.get(h))?(i[u]=a,a.__data__=r[u],l.delete(h)):n[u]=new Kr(e,r[u]);for(u=0;u<c;++u)(a=t[u])&&l.get(f[u])===a&&(o[u]=a)}function Z_(e){return e.__data__}function Y_(e,t){if(!arguments.length)return Array.from(this,Z_);var n=t?W_:j_,i=this._parents,o=this._groups;typeof e!="function"&&(e=G_(e));for(var r=o.length,s=new Array(r),u=new Array(r),a=new Array(r),l=0;l<r;++l){var c=i[l],d=o[l],f=d.length,h=X_(e.call(c,c&&c.__data__,l,i)),m=h.length,b=u[l]=new Array(m),v=s[l]=new Array(m),y=a[l]=new Array(f);n(c,d,b,v,y,h,t);for(var _=0,p=0,g,S;_<m;++_)if(g=b[_]){for(_>=p&&(p=_+1);!(S=v[p])&&++p<m;);g._next=S||null}}return s=new Pt(s,i),s._enter=u,s._exit=a,s}function X_(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function K_(){return new Pt(this._exit||this._groups.map(d0),this._parents)}function J_(e,t,n){var i=this.enter(),o=this,r=this.exit();return typeof e=="function"?(i=e(i),i&&(i=i.selection())):i=i.append(e+""),t!=null&&(o=t(o),o&&(o=o.selection())),n==null?r.remove():n(r),i&&o?i.merge(o).order():o}function Q_(e){for(var t=e.selection?e.selection():e,n=this._groups,i=t._groups,o=n.length,r=i.length,s=Math.min(o,r),u=new Array(o),a=0;a<s;++a)for(var l=n[a],c=i[a],d=l.length,f=u[a]=new Array(d),h,m=0;m<d;++m)(h=l[m]||c[m])&&(f[m]=h);for(;a<o;++a)u[a]=n[a];return new Pt(u,this._parents)}function ev(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var i=e[t],o=i.length-1,r=i[o],s;--o>=0;)(s=i[o])&&(r&&s.compareDocumentPosition(r)^4&&r.parentNode.insertBefore(s,r),r=s);return this}function tv(e){e||(e=nv);function t(d,f){return d&&f?e(d.__data__,f.__data__):!d-!f}for(var n=this._groups,i=n.length,o=new Array(i),r=0;r<i;++r){for(var s=n[r],u=s.length,a=o[r]=new Array(u),l,c=0;c<u;++c)(l=s[c])&&(a[c]=l);a.sort(t)}return new Pt(o,this._parents).order()}function nv(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function iv(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function ov(){return Array.from(this)}function rv(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],o=0,r=i.length;o<r;++o){var s=i[o];if(s)return s}return null}function sv(){let e=0;for(const t of this)++e;return e}function uv(){return!this.node()}function av(e){for(var t=this._groups,n=0,i=t.length;n<i;++n)for(var o=t[n],r=0,s=o.length,u;r<s;++r)(u=o[r])&&e.call(u,u.__data__,r,o);return this}function lv(e){return function(){this.removeAttribute(e)}}function cv(e){return function(){this.removeAttributeNS(e.space,e.local)}}function dv(e,t){return function(){this.setAttribute(e,t)}}function fv(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function hv(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function pv(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function mv(e,t){var n=Is(e);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((t==null?n.local?cv:lv:typeof t=="function"?n.local?pv:hv:n.local?fv:dv)(n,t))}function f0(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function gv(e){return function(){this.style.removeProperty(e)}}function _v(e,t,n){return function(){this.style.setProperty(e,t,n)}}function vv(e,t,n){return function(){var i=t.apply(this,arguments);i==null?this.style.removeProperty(e):this.style.setProperty(e,i,n)}}function bv(e,t,n){return arguments.length>1?this.each((t==null?gv:typeof t=="function"?vv:_v)(e,t,n??"")):Ji(this.node(),e)}function Ji(e,t){return e.style.getPropertyValue(t)||f0(e).getComputedStyle(e,null).getPropertyValue(t)}function yv(e){return function(){delete this[e]}}function wv(e,t){return function(){this[e]=t}}function xv(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Cv(e,t){return arguments.length>1?this.each((t==null?yv:typeof t=="function"?xv:wv)(e,t)):this.node()[e]}function h0(e){return e.trim().split(/^|\s+/)}function fl(e){return e.classList||new p0(e)}function p0(e){this._node=e,this._names=h0(e.getAttribute("class")||"")}p0.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function m0(e,t){for(var n=fl(e),i=-1,o=t.length;++i<o;)n.add(t[i])}function g0(e,t){for(var n=fl(e),i=-1,o=t.length;++i<o;)n.remove(t[i])}function Ev(e){return function(){m0(this,e)}}function Sv(e){return function(){g0(this,e)}}function kv(e,t){return function(){(t.apply(this,arguments)?m0:g0)(this,e)}}function Iv(e,t){var n=h0(e+"");if(arguments.length<2){for(var i=fl(this.node()),o=-1,r=n.length;++o<r;)if(!i.contains(n[o]))return!1;return!0}return this.each((typeof t=="function"?kv:t?Ev:Sv)(n,t))}function Av(){this.textContent=""}function Dv(e){return function(){this.textContent=e}}function Tv(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Mv(e){return arguments.length?this.each(e==null?Av:(typeof e=="function"?Tv:Dv)(e)):this.node().textContent}function Nv(){this.innerHTML=""}function Fv(e){return function(){this.innerHTML=e}}function Pv(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Ov(e){return arguments.length?this.each(e==null?Nv:(typeof e=="function"?Pv:Fv)(e)):this.node().innerHTML}function Lv(){this.nextSibling&&this.parentNode.appendChild(this)}function zv(){return this.each(Lv)}function Rv(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function $v(){return this.each(Rv)}function Bv(e){var t=typeof e=="function"?e:u0(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Hv(){return null}function Vv(e,t){var n=typeof e=="function"?e:u0(e),i=t==null?Hv:typeof t=="function"?t:dl(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function Uv(){var e=this.parentNode;e&&e.removeChild(this)}function qv(){return this.each(Uv)}function Gv(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function jv(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Wv(e){return this.select(e?jv:Gv)}function Zv(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Yv(e){return function(t){e.call(this,t,this.__data__)}}function Xv(e){return e.trim().split(/^|\s+/).map(function(t){var n="",i=t.indexOf(".");return i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),{type:t,name:n}})}function Kv(e){return function(){var t=this.__on;if(t){for(var n=0,i=-1,o=t.length,r;n<o;++n)r=t[n],(!e.type||r.type===e.type)&&r.name===e.name?this.removeEventListener(r.type,r.listener,r.options):t[++i]=r;++i?t.length=i:delete this.__on}}}function Jv(e,t,n){return function(){var i=this.__on,o,r=Yv(t);if(i){for(var s=0,u=i.length;s<u;++s)if((o=i[s]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=r,o.options=n),o.value=t;return}}this.addEventListener(e.type,r,n),o={type:e.type,name:e.name,value:t,listener:r,options:n},i?i.push(o):this.__on=[o]}}function Qv(e,t,n){var i=Xv(e+""),o,r=i.length,s;if(arguments.length<2){var u=this.node().__on;if(u){for(var a=0,l=u.length,c;a<l;++a)for(o=0,c=u[a];o<r;++o)if((s=i[o]).type===c.type&&s.name===c.name)return c.value}return}for(u=t?Jv:Kv,o=0;o<r;++o)this.each(u(i[o],t,n));return this}function _0(e,t,n){var i=f0(e),o=i.CustomEvent;typeof o=="function"?o=new o(t,n):(o=i.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function eb(e,t){return function(){return _0(this,e,t)}}function tb(e,t){return function(){return _0(this,e,t.apply(this,arguments))}}function nb(e,t){return this.each((typeof t=="function"?tb:eb)(e,t))}function*ib(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],o=0,r=i.length,s;o<r;++o)(s=i[o])&&(yield s)}var v0=[null];function Pt(e,t){this._groups=e,this._parents=t}function ar(){return new Pt([[document.documentElement]],v0)}function ob(){return this}Pt.prototype=ar.prototype={constructor:Pt,select:T_,selectAll:P_,selectChild:R_,selectChildren:V_,filter:U_,data:Y_,enter:q_,exit:K_,join:J_,merge:Q_,selection:ob,order:ev,sort:tv,call:iv,nodes:ov,node:rv,size:sv,empty:uv,each:av,attr:mv,style:bv,property:Cv,classed:Iv,text:Mv,html:Ov,raise:zv,lower:$v,append:Bv,insert:Vv,remove:qv,clone:Wv,datum:Zv,on:Qv,dispatch:nb,[Symbol.iterator]:ib};function Gt(e){return typeof e=="string"?new Pt([[document.querySelector(e)]],[document.documentElement]):new Pt([[e]],v0)}function rb(e){let t;for(;t=e.sourceEvent;)e=t;return e}function un(e,t){if(e=rb(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,i=i.matrixTransform(t.getScreenCTM().inverse()),[i.x,i.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}const sb={passive:!1},Wo={capture:!0,passive:!1};function Qs(e){e.stopImmediatePropagation()}function Vi(e){e.preventDefault(),e.stopImmediatePropagation()}function b0(e){var t=e.document.documentElement,n=Gt(e).on("dragstart.drag",Vi,Wo);"onselectstart"in t?n.on("selectstart.drag",Vi,Wo):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function y0(e,t){var n=e.document.documentElement,i=Gt(e).on("dragstart.drag",null);t&&(i.on("click.drag",Vi,Wo),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const br=e=>()=>e;function Da(e,{sourceEvent:t,subject:n,target:i,identifier:o,active:r,x:s,y:u,dx:a,dy:l,dispatch:c}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:r,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:u,enumerable:!0,configurable:!0},dx:{value:a,enumerable:!0,configurable:!0},dy:{value:l,enumerable:!0,configurable:!0},_:{value:c}})}Da.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function ub(e){return!e.ctrlKey&&!e.button}function ab(){return this.parentNode}function lb(e,t){return t??{x:e.x,y:e.y}}function cb(){return navigator.maxTouchPoints||"ontouchstart"in this}function db(){var e=ub,t=ab,n=lb,i=cb,o={},r=ks("start","drag","end"),s=0,u,a,l,c,d=0;function f(g){g.on("mousedown.drag",h).filter(i).on("touchstart.drag",v).on("touchmove.drag",y,sb).on("touchend.drag touchcancel.drag",_).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(g,S){if(!(c||!e.call(this,g,S))){var C=p(this,t.call(this,g,S),g,S,"mouse");C&&(Gt(g.view).on("mousemove.drag",m,Wo).on("mouseup.drag",b,Wo),b0(g.view),Qs(g),l=!1,u=g.clientX,a=g.clientY,C("start",g))}}function m(g){if(Vi(g),!l){var S=g.clientX-u,C=g.clientY-a;l=S*S+C*C>d}o.mouse("drag",g)}function b(g){Gt(g.view).on("mousemove.drag mouseup.drag",null),y0(g.view,l),Vi(g),o.mouse("end",g)}function v(g,S){if(e.call(this,g,S)){var C=g.changedTouches,F=t.call(this,g,S),w=C.length,x,N;for(x=0;x<w;++x)(N=p(this,F,g,S,C[x].identifier,C[x]))&&(Qs(g),N("start",g,C[x]))}}function y(g){var S=g.changedTouches,C=S.length,F,w;for(F=0;F<C;++F)(w=o[S[F].identifier])&&(Vi(g),w("drag",g,S[F]))}function _(g){var S=g.changedTouches,C=S.length,F,w;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),F=0;F<C;++F)(w=o[S[F].identifier])&&(Qs(g),w("end",g,S[F]))}function p(g,S,C,F,w,x){var N=r.copy(),P=un(x||C,S),E,z,M;if((M=n.call(g,new Da("beforestart",{sourceEvent:C,target:f,identifier:w,active:s,x:P[0],y:P[1],dx:0,dy:0,dispatch:N}),F))!=null)return E=M.x-P[0]||0,z=M.y-P[1]||0,function U($,Z,Y){var ne=P,ie;switch($){case"start":o[w]=U,ie=s++;break;case"end":delete o[w],--s;case"drag":P=un(Y||Z,S),ie=s;break}N.call($,g,new Da($,{sourceEvent:Z,subject:M,target:f,identifier:w,active:ie,x:P[0]+E,y:P[1]+z,dx:P[0]-ne[0],dy:P[1]-ne[1],dispatch:N}),F)}}return f.filter=function(g){return arguments.length?(e=typeof g=="function"?g:br(!!g),f):e},f.container=function(g){return arguments.length?(t=typeof g=="function"?g:br(g),f):t},f.subject=function(g){return arguments.length?(n=typeof g=="function"?g:br(g),f):n},f.touchable=function(g){return arguments.length?(i=typeof g=="function"?g:br(!!g),f):i},f.on=function(){var g=r.on.apply(r,arguments);return g===r?f:g},f.clickDistance=function(g){return arguments.length?(d=(g=+g)*g,f):Math.sqrt(d)},f}function hl(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function w0(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}function lr(){}var Zo=.7,Jr=1/Zo,Ui="\\s*([+-]?\\d+)\\s*",Yo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",fn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",fb=/^#([0-9a-f]{3,8})$/,hb=new RegExp(`^rgb\\(${Ui},${Ui},${Ui}\\)$`),pb=new RegExp(`^rgb\\(${fn},${fn},${fn}\\)$`),mb=new RegExp(`^rgba\\(${Ui},${Ui},${Ui},${Yo}\\)$`),gb=new RegExp(`^rgba\\(${fn},${fn},${fn},${Yo}\\)$`),_b=new RegExp(`^hsl\\(${Yo},${fn},${fn}\\)$`),vb=new RegExp(`^hsla\\(${Yo},${fn},${fn},${Yo}\\)$`),Cc={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};hl(lr,Xo,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Ec,formatHex:Ec,formatHex8:bb,formatHsl:yb,formatRgb:Sc,toString:Sc});function Ec(){return this.rgb().formatHex()}function bb(){return this.rgb().formatHex8()}function yb(){return x0(this).formatHsl()}function Sc(){return this.rgb().formatRgb()}function Xo(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=fb.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?kc(t):n===3?new kt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?yr(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?yr(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=hb.exec(e))?new kt(t[1],t[2],t[3],1):(t=pb.exec(e))?new kt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=mb.exec(e))?yr(t[1],t[2],t[3],t[4]):(t=gb.exec(e))?yr(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=_b.exec(e))?Dc(t[1],t[2]/100,t[3]/100,1):(t=vb.exec(e))?Dc(t[1],t[2]/100,t[3]/100,t[4]):Cc.hasOwnProperty(e)?kc(Cc[e]):e==="transparent"?new kt(NaN,NaN,NaN,0):null}function kc(e){return new kt(e>>16&255,e>>8&255,e&255,1)}function yr(e,t,n,i){return i<=0&&(e=t=n=NaN),new kt(e,t,n,i)}function wb(e){return e instanceof lr||(e=Xo(e)),e?(e=e.rgb(),new kt(e.r,e.g,e.b,e.opacity)):new kt}function Ta(e,t,n,i){return arguments.length===1?wb(e):new kt(e,t,n,i??1)}function kt(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}hl(kt,Ta,w0(lr,{brighter(e){return e=e==null?Jr:Math.pow(Jr,e),new kt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Zo:Math.pow(Zo,e),new kt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new kt(wi(this.r),wi(this.g),wi(this.b),Qr(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ic,formatHex:Ic,formatHex8:xb,formatRgb:Ac,toString:Ac}));function Ic(){return`#${pi(this.r)}${pi(this.g)}${pi(this.b)}`}function xb(){return`#${pi(this.r)}${pi(this.g)}${pi(this.b)}${pi((isNaN(this.opacity)?1:this.opacity)*255)}`}function Ac(){const e=Qr(this.opacity);return`${e===1?"rgb(":"rgba("}${wi(this.r)}, ${wi(this.g)}, ${wi(this.b)}${e===1?")":`, ${e})`}`}function Qr(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function wi(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function pi(e){return e=wi(e),(e<16?"0":"")+e.toString(16)}function Dc(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new jt(e,t,n,i)}function x0(e){if(e instanceof jt)return new jt(e.h,e.s,e.l,e.opacity);if(e instanceof lr||(e=Xo(e)),!e)return new jt;if(e instanceof jt)return e;e=e.rgb();var t=e.r/255,n=e.g/255,i=e.b/255,o=Math.min(t,n,i),r=Math.max(t,n,i),s=NaN,u=r-o,a=(r+o)/2;return u?(t===r?s=(n-i)/u+(n<i)*6:n===r?s=(i-t)/u+2:s=(t-n)/u+4,u/=a<.5?r+o:2-r-o,s*=60):u=a>0&&a<1?0:s,new jt(s,u,a,e.opacity)}function Cb(e,t,n,i){return arguments.length===1?x0(e):new jt(e,t,n,i??1)}function jt(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}hl(jt,Cb,w0(lr,{brighter(e){return e=e==null?Jr:Math.pow(Jr,e),new jt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Zo:Math.pow(Zo,e),new jt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,o=2*n-i;return new kt(eu(e>=240?e-240:e+120,o,i),eu(e,o,i),eu(e<120?e+240:e-120,o,i),this.opacity)},clamp(){return new jt(Tc(this.h),wr(this.s),wr(this.l),Qr(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Qr(this.opacity);return`${e===1?"hsl(":"hsla("}${Tc(this.h)}, ${wr(this.s)*100}%, ${wr(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Tc(e){return e=(e||0)%360,e<0?e+360:e}function wr(e){return Math.max(0,Math.min(1,e||0))}function eu(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const C0=e=>()=>e;function Eb(e,t){return function(n){return e+n*t}}function Sb(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(i){return Math.pow(e+i*t,n)}}function kb(e){return(e=+e)==1?E0:function(t,n){return n-t?Sb(t,n,e):C0(isNaN(t)?n:t)}}function E0(e,t){var n=t-e;return n?Eb(e,n):C0(isNaN(e)?t:e)}const Mc=function e(t){var n=kb(t);function i(o,r){var s=n((o=Ta(o)).r,(r=Ta(r)).r),u=n(o.g,r.g),a=n(o.b,r.b),l=E0(o.opacity,r.opacity);return function(c){return o.r=s(c),o.g=u(c),o.b=a(c),o.opacity=l(c),o+""}}return i.gamma=e,i}(1);function $n(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var Ma=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,tu=new RegExp(Ma.source,"g");function Ib(e){return function(){return e}}function Ab(e){return function(t){return e(t)+""}}function Db(e,t){var n=Ma.lastIndex=tu.lastIndex=0,i,o,r,s=-1,u=[],a=[];for(e=e+"",t=t+"";(i=Ma.exec(e))&&(o=tu.exec(t));)(r=o.index)>n&&(r=t.slice(n,r),u[s]?u[s]+=r:u[++s]=r),(i=i[0])===(o=o[0])?u[s]?u[s]+=o:u[++s]=o:(u[++s]=null,a.push({i:s,x:$n(i,o)})),n=tu.lastIndex;return n<t.length&&(r=t.slice(n),u[s]?u[s]+=r:u[++s]=r),u.length<2?a[0]?Ab(a[0].x):Ib(t):(t=a.length,function(l){for(var c=0,d;c<t;++c)u[(d=a[c]).i]=d.x(l);return u.join("")})}var Nc=180/Math.PI,Na={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function S0(e,t,n,i,o,r){var s,u,a;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(a=e*n+t*i)&&(n-=e*a,i-=t*a),(u=Math.sqrt(n*n+i*i))&&(n/=u,i/=u,a/=u),e*i<t*n&&(e=-e,t=-t,a=-a,s=-s),{translateX:o,translateY:r,rotate:Math.atan2(t,e)*Nc,skewX:Math.atan(a)*Nc,scaleX:s,scaleY:u}}var xr;function Tb(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Na:S0(t.a,t.b,t.c,t.d,t.e,t.f)}function Mb(e){return e==null||(xr||(xr=document.createElementNS("http://www.w3.org/2000/svg","g")),xr.setAttribute("transform",e),!(e=xr.transform.baseVal.consolidate()))?Na:(e=e.matrix,S0(e.a,e.b,e.c,e.d,e.e,e.f))}function k0(e,t,n,i){function o(l){return l.length?l.pop()+" ":""}function r(l,c,d,f,h,m){if(l!==d||c!==f){var b=h.push("translate(",null,t,null,n);m.push({i:b-4,x:$n(l,d)},{i:b-2,x:$n(c,f)})}else(d||f)&&h.push("translate("+d+t+f+n)}function s(l,c,d,f){l!==c?(l-c>180?c+=360:c-l>180&&(l+=360),f.push({i:d.push(o(d)+"rotate(",null,i)-2,x:$n(l,c)})):c&&d.push(o(d)+"rotate("+c+i)}function u(l,c,d,f){l!==c?f.push({i:d.push(o(d)+"skewX(",null,i)-2,x:$n(l,c)}):c&&d.push(o(d)+"skewX("+c+i)}function a(l,c,d,f,h,m){if(l!==d||c!==f){var b=h.push(o(h)+"scale(",null,",",null,")");m.push({i:b-4,x:$n(l,d)},{i:b-2,x:$n(c,f)})}else(d!==1||f!==1)&&h.push(o(h)+"scale("+d+","+f+")")}return function(l,c){var d=[],f=[];return l=e(l),c=e(c),r(l.translateX,l.translateY,c.translateX,c.translateY,d,f),s(l.rotate,c.rotate,d,f),u(l.skewX,c.skewX,d,f),a(l.scaleX,l.scaleY,c.scaleX,c.scaleY,d,f),l=c=null,function(h){for(var m=-1,b=f.length,v;++m<b;)d[(v=f[m]).i]=v.x(h);return d.join("")}}}var Nb=k0(Tb,"px, ","px)","deg)"),Fb=k0(Mb,", ",")",")"),Pb=1e-12;function Fc(e){return((e=Math.exp(e))+1/e)/2}function Ob(e){return((e=Math.exp(e))-1/e)/2}function Lb(e){return((e=Math.exp(2*e))-1)/(e+1)}const zb=function e(t,n,i){function o(r,s){var u=r[0],a=r[1],l=r[2],c=s[0],d=s[1],f=s[2],h=c-u,m=d-a,b=h*h+m*m,v,y;if(b<Pb)y=Math.log(f/l)/t,v=function(F){return[u+F*h,a+F*m,l*Math.exp(t*F*y)]};else{var _=Math.sqrt(b),p=(f*f-l*l+i*b)/(2*l*n*_),g=(f*f-l*l-i*b)/(2*f*n*_),S=Math.log(Math.sqrt(p*p+1)-p),C=Math.log(Math.sqrt(g*g+1)-g);y=(C-S)/t,v=function(F){var w=F*y,x=Fc(S),N=l/(n*_)*(x*Lb(t*w+S)-Ob(S));return[u+N*h,a+N*m,l*x/Fc(t*w+S)]}}return v.duration=y*1e3*t/Math.SQRT2,v}return o.rho=function(r){var s=Math.max(.001,+r),u=s*s,a=u*u;return e(s,u,a)},o}(Math.SQRT2,2,4);var Qi=0,vo=0,mo=0,I0=1e3,es,bo,ts=0,ki=0,As=0,Ko=typeof performance=="object"&&performance.now?performance:Date,A0=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function pl(){return ki||(A0(Rb),ki=Ko.now()+As)}function Rb(){ki=0}function ns(){this._call=this._time=this._next=null}ns.prototype=D0.prototype={constructor:ns,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?pl():+n)+(t==null?0:+t),!this._next&&bo!==this&&(bo?bo._next=this:es=this,bo=this),this._call=e,this._time=n,Fa()},stop:function(){this._call&&(this._call=null,this._time=1/0,Fa())}};function D0(e,t,n){var i=new ns;return i.restart(e,t,n),i}function $b(){pl(),++Qi;for(var e=es,t;e;)(t=ki-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Qi}function Pc(){ki=(ts=Ko.now())+As,Qi=vo=0;try{$b()}finally{Qi=0,Hb(),ki=0}}function Bb(){var e=Ko.now(),t=e-ts;t>I0&&(As-=t,ts=e)}function Hb(){for(var e,t=es,n,i=1/0;t;)t._call?(i>t._time&&(i=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:es=n);bo=e,Fa(i)}function Fa(e){if(!Qi){vo&&(vo=clearTimeout(vo));var t=e-ki;t>24?(e<1/0&&(vo=setTimeout(Pc,e-Ko.now()-As)),mo&&(mo=clearInterval(mo))):(mo||(ts=Ko.now(),mo=setInterval(Bb,I0)),Qi=1,A0(Pc))}}function Oc(e,t,n){var i=new ns;return t=t==null?0:+t,i.restart(o=>{i.stop(),e(o+t)},t,n),i}var Vb=ks("start","end","cancel","interrupt"),Ub=[],T0=0,Lc=1,Pa=2,Or=3,zc=4,Oa=5,Lr=6;function Ds(e,t,n,i,o,r){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;qb(e,n,{name:t,index:i,group:o,on:Vb,tween:Ub,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:T0})}function ml(e,t){var n=Jt(e,t);if(n.state>T0)throw new Error("too late; already scheduled");return n}function pn(e,t){var n=Jt(e,t);if(n.state>Or)throw new Error("too late; already running");return n}function Jt(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function qb(e,t,n){var i=e.__transition,o;i[t]=n,n.timer=D0(r,0,n.time);function r(l){n.state=Lc,n.timer.restart(s,n.delay,n.time),n.delay<=l&&s(l-n.delay)}function s(l){var c,d,f,h;if(n.state!==Lc)return a();for(c in i)if(h=i[c],h.name===n.name){if(h.state===Or)return Oc(s);h.state===zc?(h.state=Lr,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete i[c]):+c<t&&(h.state=Lr,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete i[c])}if(Oc(function(){n.state===Or&&(n.state=zc,n.timer.restart(u,n.delay,n.time),u(l))}),n.state=Pa,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Pa){for(n.state=Or,o=new Array(f=n.tween.length),c=0,d=-1;c<f;++c)(h=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(o[++d]=h);o.length=d+1}}function u(l){for(var c=l<n.duration?n.ease.call(null,l/n.duration):(n.timer.restart(a),n.state=Oa,1),d=-1,f=o.length;++d<f;)o[d].call(e,c);n.state===Oa&&(n.on.call("end",e,e.__data__,n.index,n.group),a())}function a(){n.state=Lr,n.timer.stop(),delete i[t];for(var l in i)return;delete e.__transition}}function zr(e,t){var n=e.__transition,i,o,r=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((i=n[s]).name!==t){r=!1;continue}o=i.state>Pa&&i.state<Oa,i.state=Lr,i.timer.stop(),i.on.call(o?"interrupt":"cancel",e,e.__data__,i.index,i.group),delete n[s]}r&&delete e.__transition}}function Gb(e){return this.each(function(){zr(this,e)})}function jb(e,t){var n,i;return function(){var o=pn(this,e),r=o.tween;if(r!==n){i=n=r;for(var s=0,u=i.length;s<u;++s)if(i[s].name===t){i=i.slice(),i.splice(s,1);break}}o.tween=i}}function Wb(e,t,n){var i,o;if(typeof n!="function")throw new Error;return function(){var r=pn(this,e),s=r.tween;if(s!==i){o=(i=s).slice();for(var u={name:t,value:n},a=0,l=o.length;a<l;++a)if(o[a].name===t){o[a]=u;break}a===l&&o.push(u)}r.tween=o}}function Zb(e,t){var n=this._id;if(e+="",arguments.length<2){for(var i=Jt(this.node(),n).tween,o=0,r=i.length,s;o<r;++o)if((s=i[o]).name===e)return s.value;return null}return this.each((t==null?jb:Wb)(n,e,t))}function gl(e,t,n){var i=e._id;return e.each(function(){var o=pn(this,i);(o.value||(o.value={}))[t]=n.apply(this,arguments)}),function(o){return Jt(o,i).value[t]}}function M0(e,t){var n;return(typeof t=="number"?$n:t instanceof Xo?Mc:(n=Xo(t))?(t=n,Mc):Db)(e,t)}function Yb(e){return function(){this.removeAttribute(e)}}function Xb(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Kb(e,t,n){var i,o=n+"",r;return function(){var s=this.getAttribute(e);return s===o?null:s===i?r:r=t(i=s,n)}}function Jb(e,t,n){var i,o=n+"",r;return function(){var s=this.getAttributeNS(e.space,e.local);return s===o?null:s===i?r:r=t(i=s,n)}}function Qb(e,t,n){var i,o,r;return function(){var s,u=n(this),a;return u==null?void this.removeAttribute(e):(s=this.getAttribute(e),a=u+"",s===a?null:s===i&&a===o?r:(o=a,r=t(i=s,u)))}}function ey(e,t,n){var i,o,r;return function(){var s,u=n(this),a;return u==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),a=u+"",s===a?null:s===i&&a===o?r:(o=a,r=t(i=s,u)))}}function ty(e,t){var n=Is(e),i=n==="transform"?Fb:M0;return this.attrTween(e,typeof t=="function"?(n.local?ey:Qb)(n,i,gl(this,"attr."+e,t)):t==null?(n.local?Xb:Yb)(n):(n.local?Jb:Kb)(n,i,t))}function ny(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function iy(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function oy(e,t){var n,i;function o(){var r=t.apply(this,arguments);return r!==i&&(n=(i=r)&&iy(e,r)),n}return o._value=t,o}function ry(e,t){var n,i;function o(){var r=t.apply(this,arguments);return r!==i&&(n=(i=r)&&ny(e,r)),n}return o._value=t,o}function sy(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var i=Is(e);return this.tween(n,(i.local?oy:ry)(i,t))}function uy(e,t){return function(){ml(this,e).delay=+t.apply(this,arguments)}}function ay(e,t){return t=+t,function(){ml(this,e).delay=t}}function ly(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?uy:ay)(t,e)):Jt(this.node(),t).delay}function cy(e,t){return function(){pn(this,e).duration=+t.apply(this,arguments)}}function dy(e,t){return t=+t,function(){pn(this,e).duration=t}}function fy(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?cy:dy)(t,e)):Jt(this.node(),t).duration}function hy(e,t){if(typeof t!="function")throw new Error;return function(){pn(this,e).ease=t}}function py(e){var t=this._id;return arguments.length?this.each(hy(t,e)):Jt(this.node(),t).ease}function my(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;pn(this,e).ease=n}}function gy(e){if(typeof e!="function")throw new Error;return this.each(my(this._id,e))}function _y(e){typeof e!="function"&&(e=l0(e));for(var t=this._groups,n=t.length,i=new Array(n),o=0;o<n;++o)for(var r=t[o],s=r.length,u=i[o]=[],a,l=0;l<s;++l)(a=r[l])&&e.call(a,a.__data__,l,r)&&u.push(a);return new Mn(i,this._parents,this._name,this._id)}function vy(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,i=t.length,o=n.length,r=Math.min(i,o),s=new Array(i),u=0;u<r;++u)for(var a=t[u],l=n[u],c=a.length,d=s[u]=new Array(c),f,h=0;h<c;++h)(f=a[h]||l[h])&&(d[h]=f);for(;u<i;++u)s[u]=t[u];return new Mn(s,this._parents,this._name,this._id)}function by(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function yy(e,t,n){var i,o,r=by(t)?ml:pn;return function(){var s=r(this,e),u=s.on;u!==i&&(o=(i=u).copy()).on(t,n),s.on=o}}function wy(e,t){var n=this._id;return arguments.length<2?Jt(this.node(),n).on.on(e):this.each(yy(n,e,t))}function xy(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function Cy(){return this.on("end.remove",xy(this._id))}function Ey(e){var t=this._name,n=this._id;typeof e!="function"&&(e=dl(e));for(var i=this._groups,o=i.length,r=new Array(o),s=0;s<o;++s)for(var u=i[s],a=u.length,l=r[s]=new Array(a),c,d,f=0;f<a;++f)(c=u[f])&&(d=e.call(c,c.__data__,f,u))&&("__data__"in c&&(d.__data__=c.__data__),l[f]=d,Ds(l[f],t,n,f,l,Jt(c,n)));return new Mn(r,this._parents,t,n)}function Sy(e){var t=this._name,n=this._id;typeof e!="function"&&(e=a0(e));for(var i=this._groups,o=i.length,r=[],s=[],u=0;u<o;++u)for(var a=i[u],l=a.length,c,d=0;d<l;++d)if(c=a[d]){for(var f=e.call(c,c.__data__,d,a),h,m=Jt(c,n),b=0,v=f.length;b<v;++b)(h=f[b])&&Ds(h,t,n,b,f,m);r.push(f),s.push(c)}return new Mn(r,s,t,n)}var ky=ar.prototype.constructor;function Iy(){return new ky(this._groups,this._parents)}function Ay(e,t){var n,i,o;return function(){var r=Ji(this,e),s=(this.style.removeProperty(e),Ji(this,e));return r===s?null:r===n&&s===i?o:o=t(n=r,i=s)}}function N0(e){return function(){this.style.removeProperty(e)}}function Dy(e,t,n){var i,o=n+"",r;return function(){var s=Ji(this,e);return s===o?null:s===i?r:r=t(i=s,n)}}function Ty(e,t,n){var i,o,r;return function(){var s=Ji(this,e),u=n(this),a=u+"";return u==null&&(a=u=(this.style.removeProperty(e),Ji(this,e))),s===a?null:s===i&&a===o?r:(o=a,r=t(i=s,u))}}function My(e,t){var n,i,o,r="style."+t,s="end."+r,u;return function(){var a=pn(this,e),l=a.on,c=a.value[r]==null?u||(u=N0(t)):void 0;(l!==n||o!==c)&&(i=(n=l).copy()).on(s,o=c),a.on=i}}function Ny(e,t,n){var i=(e+="")=="transform"?Nb:M0;return t==null?this.styleTween(e,Ay(e,i)).on("end.style."+e,N0(e)):typeof t=="function"?this.styleTween(e,Ty(e,i,gl(this,"style."+e,t))).each(My(this._id,e)):this.styleTween(e,Dy(e,i,t),n).on("end.style."+e,null)}function Fy(e,t,n){return function(i){this.style.setProperty(e,t.call(this,i),n)}}function Py(e,t,n){var i,o;function r(){var s=t.apply(this,arguments);return s!==o&&(i=(o=s)&&Fy(e,s,n)),i}return r._value=t,r}function Oy(e,t,n){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(t==null)return this.tween(i,null);if(typeof t!="function")throw new Error;return this.tween(i,Py(e,t,n??""))}function Ly(e){return function(){this.textContent=e}}function zy(e){return function(){var t=e(this);this.textContent=t??""}}function Ry(e){return this.tween("text",typeof e=="function"?zy(gl(this,"text",e)):Ly(e==null?"":e+""))}function $y(e){return function(t){this.textContent=e.call(this,t)}}function By(e){var t,n;function i(){var o=e.apply(this,arguments);return o!==n&&(t=(n=o)&&$y(o)),t}return i._value=e,i}function Hy(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,By(e))}function Vy(){for(var e=this._name,t=this._id,n=F0(),i=this._groups,o=i.length,r=0;r<o;++r)for(var s=i[r],u=s.length,a,l=0;l<u;++l)if(a=s[l]){var c=Jt(a,t);Ds(a,e,n,l,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Mn(i,this._parents,e,n)}function Uy(){var e,t,n=this,i=n._id,o=n.size();return new Promise(function(r,s){var u={value:s},a={value:function(){--o===0&&r()}};n.each(function(){var l=pn(this,i),c=l.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(u),t._.interrupt.push(u),t._.end.push(a)),l.on=t}),o===0&&r()})}var qy=0;function Mn(e,t,n,i){this._groups=e,this._parents=t,this._name=n,this._id=i}function F0(){return++qy}var bn=ar.prototype;Mn.prototype={constructor:Mn,select:Ey,selectAll:Sy,selectChild:bn.selectChild,selectChildren:bn.selectChildren,filter:_y,merge:vy,selection:Iy,transition:Vy,call:bn.call,nodes:bn.nodes,node:bn.node,size:bn.size,empty:bn.empty,each:bn.each,on:wy,attr:ty,attrTween:sy,style:Ny,styleTween:Oy,text:Ry,textTween:Hy,remove:Cy,tween:Zb,delay:ly,duration:fy,ease:py,easeVarying:gy,end:Uy,[Symbol.iterator]:bn[Symbol.iterator]};function Gy(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var jy={time:null,delay:0,duration:250,ease:Gy};function Wy(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function Zy(e){var t,n;e instanceof Mn?(t=e._id,e=e._name):(t=F0(),(n=jy).time=pl(),e=e==null?null:e+"");for(var i=this._groups,o=i.length,r=0;r<o;++r)for(var s=i[r],u=s.length,a,l=0;l<u;++l)(a=s[l])&&Ds(a,e,t,l,s,n||Wy(a,t));return new Mn(i,this._parents,e,t)}ar.prototype.interrupt=Gb;ar.prototype.transition=Zy;const Cr=e=>()=>e;function Yy(e,{sourceEvent:t,target:n,transform:i,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:o}})}function Sn(e,t,n){this.k=e,this.x=t,this.y=n}Sn.prototype={constructor:Sn,scale:function(e){return e===1?this:new Sn(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Sn(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var eo=new Sn(1,0,0);Sn.prototype;function nu(e){e.stopImmediatePropagation()}function go(e){e.preventDefault(),e.stopImmediatePropagation()}function Xy(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function Ky(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Rc(){return this.__zoom||eo}function Jy(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function Qy(){return navigator.maxTouchPoints||"ontouchstart"in this}function e2(e,t,n){var i=e.invertX(t[0][0])-n[0][0],o=e.invertX(t[1][0])-n[1][0],r=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o),s>r?(r+s)/2:Math.min(0,r)||Math.max(0,s))}function t2(){var e=Xy,t=Ky,n=e2,i=Jy,o=Qy,r=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],u=250,a=zb,l=ks("start","zoom","end"),c,d,f,h=500,m=150,b=0,v=10;function y(M){M.property("__zoom",Rc).on("wheel.zoom",w,{passive:!1}).on("mousedown.zoom",x).on("dblclick.zoom",N).filter(o).on("touchstart.zoom",P).on("touchmove.zoom",E).on("touchend.zoom touchcancel.zoom",z).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}y.transform=function(M,U,$,Z){var Y=M.selection?M.selection():M;Y.property("__zoom",Rc),M!==Y?S(M,U,$,Z):Y.interrupt().each(function(){C(this,arguments).event(Z).start().zoom(null,typeof U=="function"?U.apply(this,arguments):U).end()})},y.scaleBy=function(M,U,$,Z){y.scaleTo(M,function(){var Y=this.__zoom.k,ne=typeof U=="function"?U.apply(this,arguments):U;return Y*ne},$,Z)},y.scaleTo=function(M,U,$,Z){y.transform(M,function(){var Y=t.apply(this,arguments),ne=this.__zoom,ie=$==null?g(Y):typeof $=="function"?$.apply(this,arguments):$,ae=ne.invert(ie),K=typeof U=="function"?U.apply(this,arguments):U;return n(p(_(ne,K),ie,ae),Y,s)},$,Z)},y.translateBy=function(M,U,$,Z){y.transform(M,function(){return n(this.__zoom.translate(typeof U=="function"?U.apply(this,arguments):U,typeof $=="function"?$.apply(this,arguments):$),t.apply(this,arguments),s)},null,Z)},y.translateTo=function(M,U,$,Z,Y){y.transform(M,function(){var ne=t.apply(this,arguments),ie=this.__zoom,ae=Z==null?g(ne):typeof Z=="function"?Z.apply(this,arguments):Z;return n(eo.translate(ae[0],ae[1]).scale(ie.k).translate(typeof U=="function"?-U.apply(this,arguments):-U,typeof $=="function"?-$.apply(this,arguments):-$),ne,s)},Z,Y)};function _(M,U){return U=Math.max(r[0],Math.min(r[1],U)),U===M.k?M:new Sn(U,M.x,M.y)}function p(M,U,$){var Z=U[0]-$[0]*M.k,Y=U[1]-$[1]*M.k;return Z===M.x&&Y===M.y?M:new Sn(M.k,Z,Y)}function g(M){return[(+M[0][0]+ +M[1][0])/2,(+M[0][1]+ +M[1][1])/2]}function S(M,U,$,Z){M.on("start.zoom",function(){C(this,arguments).event(Z).start()}).on("interrupt.zoom end.zoom",function(){C(this,arguments).event(Z).end()}).tween("zoom",function(){var Y=this,ne=arguments,ie=C(Y,ne).event(Z),ae=t.apply(Y,ne),K=$==null?g(ae):typeof $=="function"?$.apply(Y,ne):$,R=Math.max(ae[1][0]-ae[0][0],ae[1][1]-ae[0][1]),H=Y.__zoom,G=typeof U=="function"?U.apply(Y,ne):U,J=a(H.invert(K).concat(R/H.k),G.invert(K).concat(R/G.k));return function(ue){if(ue===1)ue=G;else{var pe=J(ue),fe=R/pe[2];ue=new Sn(fe,K[0]-pe[0]*fe,K[1]-pe[1]*fe)}ie.zoom(null,ue)}})}function C(M,U,$){return!$&&M.__zooming||new F(M,U)}function F(M,U){this.that=M,this.args=U,this.active=0,this.sourceEvent=null,this.extent=t.apply(M,U),this.taps=0}F.prototype={event:function(M){return M&&(this.sourceEvent=M),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(M,U){return this.mouse&&M!=="mouse"&&(this.mouse[1]=U.invert(this.mouse[0])),this.touch0&&M!=="touch"&&(this.touch0[1]=U.invert(this.touch0[0])),this.touch1&&M!=="touch"&&(this.touch1[1]=U.invert(this.touch1[0])),this.that.__zoom=U,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(M){var U=Gt(this.that).datum();l.call(M,this.that,new Yy(M,{sourceEvent:this.sourceEvent,target:y,transform:this.that.__zoom,dispatch:l}),U)}};function w(M,...U){if(!e.apply(this,arguments))return;var $=C(this,U).event(M),Z=this.__zoom,Y=Math.max(r[0],Math.min(r[1],Z.k*Math.pow(2,i.apply(this,arguments)))),ne=un(M);if($.wheel)($.mouse[0][0]!==ne[0]||$.mouse[0][1]!==ne[1])&&($.mouse[1]=Z.invert($.mouse[0]=ne)),clearTimeout($.wheel);else{if(Z.k===Y)return;$.mouse=[ne,Z.invert(ne)],zr(this),$.start()}go(M),$.wheel=setTimeout(ie,m),$.zoom("mouse",n(p(_(Z,Y),$.mouse[0],$.mouse[1]),$.extent,s));function ie(){$.wheel=null,$.end()}}function x(M,...U){if(f||!e.apply(this,arguments))return;var $=M.currentTarget,Z=C(this,U,!0).event(M),Y=Gt(M.view).on("mousemove.zoom",K,!0).on("mouseup.zoom",R,!0),ne=un(M,$),ie=M.clientX,ae=M.clientY;b0(M.view),nu(M),Z.mouse=[ne,this.__zoom.invert(ne)],zr(this),Z.start();function K(H){if(go(H),!Z.moved){var G=H.clientX-ie,J=H.clientY-ae;Z.moved=G*G+J*J>b}Z.event(H).zoom("mouse",n(p(Z.that.__zoom,Z.mouse[0]=un(H,$),Z.mouse[1]),Z.extent,s))}function R(H){Y.on("mousemove.zoom mouseup.zoom",null),y0(H.view,Z.moved),go(H),Z.event(H).end()}}function N(M,...U){if(e.apply(this,arguments)){var $=this.__zoom,Z=un(M.changedTouches?M.changedTouches[0]:M,this),Y=$.invert(Z),ne=$.k*(M.shiftKey?.5:2),ie=n(p(_($,ne),Z,Y),t.apply(this,U),s);go(M),u>0?Gt(this).transition().duration(u).call(S,ie,Z,M):Gt(this).call(y.transform,ie,Z,M)}}function P(M,...U){if(e.apply(this,arguments)){var $=M.touches,Z=$.length,Y=C(this,U,M.changedTouches.length===Z).event(M),ne,ie,ae,K;for(nu(M),ie=0;ie<Z;++ie)ae=$[ie],K=un(ae,this),K=[K,this.__zoom.invert(K),ae.identifier],Y.touch0?!Y.touch1&&Y.touch0[2]!==K[2]&&(Y.touch1=K,Y.taps=0):(Y.touch0=K,ne=!0,Y.taps=1+!!c);c&&(c=clearTimeout(c)),ne&&(Y.taps<2&&(d=K[0],c=setTimeout(function(){c=null},h)),zr(this),Y.start())}}function E(M,...U){if(this.__zooming){var $=C(this,U).event(M),Z=M.changedTouches,Y=Z.length,ne,ie,ae,K;for(go(M),ne=0;ne<Y;++ne)ie=Z[ne],ae=un(ie,this),$.touch0&&$.touch0[2]===ie.identifier?$.touch0[0]=ae:$.touch1&&$.touch1[2]===ie.identifier&&($.touch1[0]=ae);if(ie=$.that.__zoom,$.touch1){var R=$.touch0[0],H=$.touch0[1],G=$.touch1[0],J=$.touch1[1],ue=(ue=G[0]-R[0])*ue+(ue=G[1]-R[1])*ue,pe=(pe=J[0]-H[0])*pe+(pe=J[1]-H[1])*pe;ie=_(ie,Math.sqrt(ue/pe)),ae=[(R[0]+G[0])/2,(R[1]+G[1])/2],K=[(H[0]+J[0])/2,(H[1]+J[1])/2]}else if($.touch0)ae=$.touch0[0],K=$.touch0[1];else return;$.zoom("touch",n(p(ie,ae,K),$.extent,s))}}function z(M,...U){if(this.__zooming){var $=C(this,U).event(M),Z=M.changedTouches,Y=Z.length,ne,ie;for(nu(M),f&&clearTimeout(f),f=setTimeout(function(){f=null},h),ne=0;ne<Y;++ne)ie=Z[ne],$.touch0&&$.touch0[2]===ie.identifier?delete $.touch0:$.touch1&&$.touch1[2]===ie.identifier&&delete $.touch1;if($.touch1&&!$.touch0&&($.touch0=$.touch1,delete $.touch1),$.touch0)$.touch0[1]=this.__zoom.invert($.touch0[0]);else if($.end(),$.taps===2&&(ie=un(ie,this),Math.hypot(d[0]-ie[0],d[1]-ie[1])<v)){var ae=Gt(this).on("dblclick.zoom");ae&&ae.apply(this,arguments)}}}return y.wheelDelta=function(M){return arguments.length?(i=typeof M=="function"?M:Cr(+M),y):i},y.filter=function(M){return arguments.length?(e=typeof M=="function"?M:Cr(!!M),y):e},y.touchable=function(M){return arguments.length?(o=typeof M=="function"?M:Cr(!!M),y):o},y.extent=function(M){return arguments.length?(t=typeof M=="function"?M:Cr([[+M[0][0],+M[0][1]],[+M[1][0],+M[1][1]]]),y):t},y.scaleExtent=function(M){return arguments.length?(r[0]=+M[0],r[1]=+M[1],y):[r[0],r[1]]},y.translateExtent=function(M){return arguments.length?(s[0][0]=+M[0][0],s[1][0]=+M[1][0],s[0][1]=+M[0][1],s[1][1]=+M[1][1],y):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},y.constrain=function(M){return arguments.length?(n=M,y):n},y.duration=function(M){return arguments.length?(u=+M,y):u},y.interpolate=function(M){return arguments.length?(a=M,y):a},y.on=function(){var M=l.on.apply(l,arguments);return M===l?y:M},y.clickDistance=function(M){return arguments.length?(b=(M=+M)*M,y):Math.sqrt(b)},y.tapDistance=function(M){return arguments.length?(v=+M,y):v},y}var se=(e=>(e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom",e))(se||{}),_l=(e=>(e.Partial="partial",e.Full="full",e))(_l||{}),di=(e=>(e.Bezier="default",e.SimpleBezier="simple-bezier",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e))(di||{}),Jn=(e=>(e.Strict="strict",e.Loose="loose",e))(Jn||{}),La=(e=>(e.Arrow="arrow",e.ArrowClosed="arrowclosed",e))(La||{}),Do=(e=>(e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal",e))(Do||{});function za(e){var t,n;const i=((n=(t=e.composedPath)==null?void 0:t.call(e))==null?void 0:n[0])||e.target,o=typeof(i==null?void 0:i.hasAttribute)=="function"?i.hasAttribute("contenteditable"):!1,r=typeof(i==null?void 0:i.closest)=="function"?i.closest(".nokey"):null;return["INPUT","SELECT","TEXTAREA"].includes(i==null?void 0:i.nodeName)||o||!!r}function n2(e){return e.ctrlKey||e.metaKey||e.shiftKey}function $c(e,t,n,i){const o=t.replace("+",`
`).replace(`

`,`
+`).split(`
`).map(s=>s.trim().toLowerCase());if(o.length===1)return e.toLowerCase()===t.toLowerCase();i||n.add(e.toLowerCase());const r=o.every((s,u)=>n.has(s)&&Array.from(n.values())[u]===o[u]);return i&&n.delete(e.toLowerCase()),r}function i2(e,t){return n=>{if(!n.code&&!n.key)return!1;const i=o2(n.code,e);return Array.isArray(e)?e.some(o=>$c(n[i],o,t,n.type==="keyup")):$c(n[i],e,t,n.type==="keyup")}}function o2(e,t){return t.includes(e)?"code":"key"}function To(e,t){const n=We(()=>Ae(t==null?void 0:t.actInsideInputWithModifier)??!1),i=We(()=>Ae(t==null?void 0:t.target)??window),o=le(Ae(e)===!0);let r=!1;const s=new Set;let u=l(Ae(e));ke(()=>Ae(e),(c,d)=>{typeof d=="boolean"&&typeof c!="boolean"&&a(),u=l(c)},{immediate:!0}),s0(["blur","contextmenu"],a),yc((...c)=>u(...c),c=>{r=n2(c),!((!r||r&&!n.value)&&za(c))&&(c.preventDefault(),o.value=!0)},{eventName:"keydown",target:i}),yc((...c)=>u(...c),c=>{if(o.value){if((!r||r&&!n.value)&&za(c))return;r=!1,o.value=!1}},{eventName:"keyup",target:i});function a(){r=!1,s.clear(),o.value=Ae(e)===!0}function l(c){return c===null?(a(),()=>!1):typeof c=="boolean"?(a(),o.value=c,()=>!1):Array.isArray(c)||typeof c=="string"?i2(c,s):c}return o}const P0="vue-flow__node-desc",O0="vue-flow__edge-desc",r2="vue-flow__aria-live",L0=["Enter"," ","Escape"],qi={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};function is(e){return{...e.computedPosition||{x:0,y:0},width:e.dimensions.width||0,height:e.dimensions.height||0}}function os(e,t){const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),i=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*i)}function Ts(e){return{width:e.offsetWidth,height:e.offsetHeight}}function Ii(e,t=0,n=1){return Math.min(Math.max(e,t),n)}function z0(e,t){return{x:Ii(e.x,t[0][0],t[1][0]),y:Ii(e.y,t[0][1],t[1][1])}}function Bc(e){const t=e.getRootNode();return"elementFromPoint"in t?t:window.document}function Qn(e){return e&&typeof e=="object"&&"id"in e&&"source"in e&&"target"in e}function xi(e){return e&&typeof e=="object"&&"id"in e&&"position"in e&&!Qn(e)}function yo(e){return xi(e)&&"computedPosition"in e}function Er(e){return!Number.isNaN(e)&&Number.isFinite(e)}function s2(e){return Er(e.width)&&Er(e.height)&&Er(e.x)&&Er(e.y)}function u2(e,t,n){const i={id:e.id.toString(),type:e.type??"default",dimensions:Ri({width:0,height:0}),computedPosition:Ri({z:0,...e.position}),handleBounds:{source:[],target:[]},draggable:void 0,selectable:void 0,connectable:void 0,focusable:void 0,selected:!1,dragging:!1,resizing:!1,initialized:!1,isParent:!1,position:{x:0,y:0},data:nt(e.data)?e.data:{},events:Ri(nt(e.events)?e.events:{})};return Object.assign(t??i,e,{id:e.id.toString(),parentNode:n})}function R0(e,t,n){var i,o;const r={id:e.id.toString(),type:e.type??(t==null?void 0:t.type)??"default",source:e.source.toString(),target:e.target.toString(),sourceHandle:(i=e.sourceHandle)==null?void 0:i.toString(),targetHandle:(o=e.targetHandle)==null?void 0:o.toString(),updatable:e.updatable??(n==null?void 0:n.updatable),selectable:e.selectable??(n==null?void 0:n.selectable),focusable:e.focusable??(n==null?void 0:n.focusable),data:nt(e.data)?e.data:{},events:Ri(nt(e.events)?e.events:{}),label:e.label??"",interactionWidth:e.interactionWidth??(n==null?void 0:n.interactionWidth),...n??{}};return Object.assign(t??r,e,{id:e.id.toString()})}function $0(e,t,n,i){const o=typeof e=="string"?e:e.id,r=new Set,s=i==="source"?"target":"source";for(const u of n)u[s]===o&&r.add(u[i]);return t.filter(u=>r.has(u.id))}function a2(...e){if(e.length===3){const[r,s,u]=e;return $0(r,s,u,"target")}const[t,n]=e,i=typeof t=="string"?t:t.id;return n.filter(r=>Qn(r)&&r.source===i).map(r=>n.find(s=>xi(s)&&s.id===r.target))}function l2(...e){if(e.length===3){const[r,s,u]=e;return $0(r,s,u,"source")}const[t,n]=e,i=typeof t=="string"?t:t.id;return n.filter(r=>Qn(r)&&r.target===i).map(r=>n.find(s=>xi(s)&&s.id===r.source))}function B0({source:e,sourceHandle:t,target:n,targetHandle:i}){return`vueflow__edge-${e}${t??""}-${n}${i??""}`}function c2(e,t){return t.some(n=>Qn(n)&&n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle))}function Ra({x:e,y:t},{x:n,y:i,zoom:o}){return{x:e*o+n,y:t*o+i}}function Jo({x:e,y:t},{x:n,y:i,zoom:o},r=!1,s=[1,1]){const u={x:(e-n)/o,y:(t-i)/o};return r?Ms(u,s):u}function d2(e,t){return{x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}}function H0({x:e,y:t,width:n,height:i}){return{x:e,y:t,x2:e+n,y2:t+i}}function f2({x:e,y:t,x2:n,y2:i}){return{x:e,y:t,width:n-e,height:i-t}}function V0(e){let t={x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY,x2:Number.NEGATIVE_INFINITY,y2:Number.NEGATIVE_INFINITY};for(let n=0;n<e.length;n++){const i=e[n];t=d2(t,H0({...i.computedPosition,...i.dimensions}))}return f2(t)}function U0(e,t,n={x:0,y:0,zoom:1},i=!1,o=!1){const r={...Jo(t,n),width:t.width/n.zoom,height:t.height/n.zoom},s=[];for(const u of e){const{dimensions:a,selectable:l=!0,hidden:c=!1}=u,d=a.width??u.width??null,f=a.height??u.height??null;if(o&&!l||c)continue;const h=os(r,is(u)),m=d===null||f===null,b=i&&h>0,v=(d??0)*(f??0);(m||b||h>=v||u.dragging)&&s.push(u)}return s}function q0(e,t){const n=new Set;if(typeof e=="string")n.add(e);else if(e.length>=1)for(const i of e)n.add(i.id);return t.filter(i=>n.has(i.source)||n.has(i.target))}function Hc(e,t,n,i,o,r=.1,s={x:0,y:0}){const u=t/(e.width*(1+r)),a=n/(e.height*(1+r)),l=Math.min(u,a),c=Ii(l,i,o),d=e.x+e.width/2,f=e.y+e.height/2,h=t/2-d*c+(s.x??0),m=n/2-f*c+(s.y??0);return{x:h,y:m,zoom:c}}function h2(e,t){return{x:t.x+e.x,y:t.y+e.y,z:(e.z>t.z?e.z:t.z)+1}}function G0(e,t){if(!e.parentNode)return!1;const n=t(e.parentNode);return n?n.selected?!0:G0(n,t):!1}function Qo(e,t){return typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(i=>`${i}=${e[i]}`).join("&")}`}function Vc(e,t,n){return e<t?Ii(Math.abs(e-t),1,t)/t:e>n?-Ii(Math.abs(e-n),1,t)/t:0}function j0(e,t,n=15,i=40){const o=Vc(e.x,i,t.width-i)*n,r=Vc(e.y,i,t.height-i)*n;return[o,r]}function iu(e,t){if(t){const n=e.position.x+e.dimensions.width-t.dimensions.width,i=e.position.y+e.dimensions.height-t.dimensions.height;if(n>0||i>0||e.position.x<0||e.position.y<0){let o={};if(typeof t.style=="function"?o={...t.style(t)}:t.style&&(o={...t.style}),o.width=o.width??`${t.dimensions.width}px`,o.height=o.height??`${t.dimensions.height}px`,n>0)if(typeof o.width=="string"){const r=Number(o.width.replace("px",""));o.width=`${r+n}px`}else o.width+=n;if(i>0)if(typeof o.height=="string"){const r=Number(o.height.replace("px",""));o.height=`${r+i}px`}else o.height+=i;if(e.position.x<0){const r=Math.abs(e.position.x);if(t.position.x=t.position.x-r,typeof o.width=="string"){const s=Number(o.width.replace("px",""));o.width=`${s+r}px`}else o.width+=r;e.position.x=0}if(e.position.y<0){const r=Math.abs(e.position.y);if(t.position.y=t.position.y-r,typeof o.height=="string"){const s=Number(o.height.replace("px",""));o.height=`${s+r}px`}else o.height+=r;e.position.y=0}t.dimensions.width=Number(o.width.toString().replace("px","")),t.dimensions.height=Number(o.height.toString().replace("px","")),typeof t.style=="function"?t.style=r=>{const s=t.style;return{...s(r),...o}}:t.style={...t.style,...o}}}}function Uc(e,t){var n,i;const o=e.filter(s=>s.type==="add"||s.type==="remove");for(const s of o)if(s.type==="add")t.findIndex(a=>a.id===s.item.id)===-1&&t.push(s.item);else if(s.type==="remove"){const u=t.findIndex(a=>a.id===s.id);u!==-1&&t.splice(u,1)}const r=t.map(s=>s.id);for(const s of t)for(const u of e)if(u.id===s.id)switch(u.type){case"select":s.selected=u.selected;break;case"position":if(yo(s)&&(typeof u.position<"u"&&(s.position=u.position),typeof u.dragging<"u"&&(s.dragging=u.dragging),s.expandParent&&s.parentNode)){const a=t[r.indexOf(s.parentNode)];a&&yo(a)&&iu(s,a)}break;case"dimensions":if(yo(s)&&(typeof u.dimensions<"u"&&(s.dimensions=u.dimensions),typeof u.updateStyle<"u"&&u.updateStyle&&(s.style={...s.style||{},width:`${(n=u.dimensions)==null?void 0:n.width}px`,height:`${(i=u.dimensions)==null?void 0:i.height}px`}),typeof u.resizing<"u"&&(s.resizing=u.resizing),s.expandParent&&s.parentNode)){const a=t[r.indexOf(s.parentNode)];a&&yo(a)&&(!!a.dimensions.width&&!!a.dimensions.height?iu(s,a):lt(()=>{iu(s,a)}))}break}return t}function On(e,t){return{id:e,type:"select",selected:t}}function qc(e){return{item:e,type:"add"}}function Gc(e){return{id:e,type:"remove"}}function jc(e,t,n,i,o){return{id:e,source:t,target:n,sourceHandle:i||null,targetHandle:o||null,type:"remove"}}function Bn(e,t=new Set,n=!1){const i=[];for(const[o,r]of e){const s=t.has(o);!(r.selected===void 0&&!s)&&r.selected!==s&&(n&&(r.selected=s),i.push(On(r.id,s)))}return i}function de(e){const t=new Set;let n=!1;const i=()=>t.size>0;e&&(n=!0,t.add(e));const o=u=>{t.delete(u)};return{on:u=>{e&&n&&t.delete(e),t.add(u);const a=()=>{o(u),e&&n&&t.add(e)};return Ss(a),{off:a}},off:o,trigger:u=>Promise.all(Array.from(t).map(a=>a(u))),hasListeners:i,fns:t}}function Wc(e,t,n){let i=e;do{if(i&&i.matches(t))return!0;if(i===n)return!1;i=i.parentElement}while(i);return!1}function p2(e,t,n,i,o){var r,s;const u=[];for(const a of e)(a.selected||a.id===o)&&(!a.parentNode||!G0(a,i))&&(a.draggable||t&&typeof a.draggable>"u")&&u.push(Ri({id:a.id,position:a.position||{x:0,y:0},distance:{x:n.x-((r=a.computedPosition)==null?void 0:r.x)||0,y:n.y-((s=a.computedPosition)==null?void 0:s.y)||0},from:a.computedPosition,extent:a.extent,parentNode:a.parentNode,dimensions:a.dimensions,expandParent:a.expandParent}));return u}function ou({id:e,dragItems:t,findNode:n}){const i=[];for(const o of t){const r=n(o.id);r&&i.push(r)}return[e?i.find(o=>o.id===e):i[0],i]}function W0(e){if(Array.isArray(e))switch(e.length){case 1:return[e[0],e[0],e[0],e[0]];case 2:return[e[0],e[1],e[0],e[1]];case 3:return[e[0],e[1],e[2],e[1]];case 4:return e;default:return[0,0,0,0]}return[e,e,e,e]}function m2(e,t,n){const[i,o,r,s]=typeof e!="string"?W0(e.padding):[0,0,0,0];return n&&typeof n.computedPosition.x<"u"&&typeof n.computedPosition.y<"u"&&typeof n.dimensions.width<"u"&&typeof n.dimensions.height<"u"?[[n.computedPosition.x+s,n.computedPosition.y+i],[n.computedPosition.x+n.dimensions.width-o,n.computedPosition.y+n.dimensions.height-r]]:!1}function g2(e,t,n,i){let o=e.extent||n;if((o==="parent"||!Array.isArray(o)&&(o==null?void 0:o.range)==="parent")&&!e.expandParent)if(e.parentNode&&i&&e.dimensions.width&&e.dimensions.height){const r=m2(o,e,i);r&&(o=r)}else t(new st(it.NODE_EXTENT_INVALID,e.id)),o=n;else if(Array.isArray(o)){const r=(i==null?void 0:i.computedPosition.x)||0,s=(i==null?void 0:i.computedPosition.y)||0;o=[[o[0][0]+r,o[0][1]+s],[o[1][0]+r,o[1][1]+s]]}else if(o!=="parent"&&(o!=null&&o.range)&&Array.isArray(o.range)){const[r,s,u,a]=W0(o.padding),l=(i==null?void 0:i.computedPosition.x)||0,c=(i==null?void 0:i.computedPosition.y)||0;o=[[o.range[0][0]+l+a,o.range[0][1]+c+r],[o.range[1][0]+l-s,o.range[1][1]+c-u]]}return o==="parent"?[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]]:o}function _2({width:e,height:t},n){return[n[0],[n[1][0]-(e||0),n[1][1]-(t||0)]]}function vl(e,t,n,i,o){const r=_2(e.dimensions,g2(e,n,i,o)),s=z0(t,r);return{position:{x:s.x-((o==null?void 0:o.computedPosition.x)||0),y:s.y-((o==null?void 0:o.computedPosition.y)||0)},computedPosition:s}}function to(e,t,n=se.Left,i=!1){const o=((t==null?void 0:t.x)??0)+e.computedPosition.x,r=((t==null?void 0:t.y)??0)+e.computedPosition.y,{width:s,height:u}=t??y2(e);if(i)return{x:o+s/2,y:r+u/2};switch((t==null?void 0:t.position)??n){case se.Top:return{x:o+s/2,y:r};case se.Right:return{x:o+s,y:r+u/2};case se.Bottom:return{x:o+s/2,y:r+u};case se.Left:return{x:o,y:r+u/2}}}function Zc(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function v2({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:i,targetWidth:o,targetHeight:r,width:s,height:u,viewport:a}){const l={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+o),y2:Math.max(e.y+i,t.y+r)};l.x===l.x2&&(l.x2+=1),l.y===l.y2&&(l.y2+=1);const c=H0({x:(0-a.x)/a.zoom,y:(0-a.y)/a.zoom,width:s/a.zoom,height:u/a.zoom}),d=Math.max(0,Math.min(c.x2,l.x2)-Math.max(c.x,l.x)),f=Math.max(0,Math.min(c.y2,l.y2)-Math.max(c.y,l.y));return Math.ceil(d*f)>0}function b2(e,t,n=!1){const i=typeof e.zIndex=="number";let o=i?e.zIndex:0;const r=t(e.source),s=t(e.target);return!r||!s?0:(n&&(o=i?e.zIndex:Math.max(r.computedPosition.z||0,s.computedPosition.z||0)),o)}var it=(e=>(e.MISSING_STYLES="MISSING_STYLES",e.MISSING_VIEWPORT_DIMENSIONS="MISSING_VIEWPORT_DIMENSIONS",e.NODE_INVALID="NODE_INVALID",e.NODE_NOT_FOUND="NODE_NOT_FOUND",e.NODE_MISSING_PARENT="NODE_MISSING_PARENT",e.NODE_TYPE_MISSING="NODE_TYPE_MISSING",e.NODE_EXTENT_INVALID="NODE_EXTENT_INVALID",e.EDGE_INVALID="EDGE_INVALID",e.EDGE_NOT_FOUND="EDGE_NOT_FOUND",e.EDGE_SOURCE_MISSING="EDGE_SOURCE_MISSING",e.EDGE_TARGET_MISSING="EDGE_TARGET_MISSING",e.EDGE_TYPE_MISSING="EDGE_TYPE_MISSING",e.EDGE_SOURCE_TARGET_SAME="EDGE_SOURCE_TARGET_SAME",e.EDGE_SOURCE_TARGET_MISSING="EDGE_SOURCE_TARGET_MISSING",e.EDGE_ORPHANED="EDGE_ORPHANED",e.USEVUEFLOW_OPTIONS="USEVUEFLOW_OPTIONS",e))(it||{});const Yc={MISSING_STYLES:()=>"It seems that you haven't loaded the necessary styles. Please import '@vue-flow/core/dist/style.css' to ensure that the graph is rendered correctly",MISSING_VIEWPORT_DIMENSIONS:()=>"The Vue Flow parent container needs a width and a height to render the graph",NODE_INVALID:e=>`Node is invalid
Node: ${e}`,NODE_NOT_FOUND:e=>`Node not found
Node: ${e}`,NODE_MISSING_PARENT:(e,t)=>`Node is missing a parent
Node: ${e}
Parent: ${t}`,NODE_TYPE_MISSING:e=>`Node type is missing
Type: ${e}`,NODE_EXTENT_INVALID:e=>`Only child nodes can use a parent extent
Node: ${e}`,EDGE_INVALID:e=>`An edge needs a source and a target
Edge: ${e}`,EDGE_SOURCE_MISSING:(e,t)=>`Edge source is missing
Edge: ${e} 
Source: ${t}`,EDGE_TARGET_MISSING:(e,t)=>`Edge target is missing
Edge: ${e} 
Target: ${t}`,EDGE_TYPE_MISSING:e=>`Edge type is missing
Type: ${e}`,EDGE_SOURCE_TARGET_SAME:(e,t,n)=>`Edge source and target are the same
Edge: ${e} 
Source: ${t} 
Target: ${n}`,EDGE_SOURCE_TARGET_MISSING:(e,t,n)=>`Edge source or target is missing
Edge: ${e} 
Source: ${t} 
Target: ${n}`,EDGE_ORPHANED:e=>`Edge was orphaned (suddenly missing source or target) and has been removed
Edge: ${e}`,EDGE_NOT_FOUND:e=>`Edge not found
Edge: ${e}`,USEVUEFLOW_OPTIONS:()=>"The options parameter is deprecated and will be removed in the next major version. Please use the id parameter instead"};class st extends Error{constructor(t,...n){var i;super((i=Yc[t])==null?void 0:i.call(Yc,...n)),this.name="VueFlowError",this.code=t,this.args=n}}function bl(e){return"clientX"in e}function Z0(e){return"sourceEvent"in e}function jn(e,t){var n,i;const o=bl(e),r=o?e.clientX:(n=e.touches)==null?void 0:n[0].clientX,s=o?e.clientY:(i=e.touches)==null?void 0:i[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:s-((t==null?void 0:t.top)??0)}}const rs=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function y2(e){var t,n;return{width:((t=e.dimensions)==null?void 0:t.width)??e.width??0,height:((n=e.dimensions)==null?void 0:n.height)??e.height??0}}function Ms(e,t=[1,1]){return{x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}}const w2=()=>!0;function ru(e){e==null||e.classList.remove("valid","connecting","vue-flow__handle-valid","vue-flow__handle-connecting")}function x2(e,t,n){const i=[],o={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const r of t.values())os(o,is(r))>0&&i.push(r);return i}const C2=250;function E2(e,t,n,i){var o,r;let s=[],u=Number.POSITIVE_INFINITY;const a=x2(e,n,t+C2);for(const l of a){const c=[...((o=l.handleBounds)==null?void 0:o.source)??[],...((r=l.handleBounds)==null?void 0:r.target)??[]];for(const d of c){if(i.nodeId===d.nodeId&&i.type===d.type&&i.id===d.id)continue;const{x:f,y:h}=to(l,d,d.position,!0),m=Math.sqrt((f-e.x)**2+(h-e.y)**2);m>t||(m<u?(s=[{...d,x:f,y:h}],u=m):m===u&&s.push({...d,x:f,y:h}))}}if(!s.length)return null;if(s.length>1){const l=i.type==="source"?"target":"source";return s.find(c=>c.type===l)??s[0]}return s[0]}function Xc(e,{handle:t,connectionMode:n,fromNodeId:i,fromHandleId:o,fromType:r,doc:s,lib:u,flowId:a,isValidConnection:l=w2},c,d,f){const h=r==="target",m=t?s.querySelector(`.${u}-flow__handle[data-id="${a}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x:b,y:v}=jn(e),y=s.elementFromPoint(b,v),_=y!=null&&y.classList.contains(`${u}-flow__handle`)?y:m,p={handleDomNode:_,isValid:!1,connection:null,toHandle:null};if(_){const g=Y0(void 0,_),S=_.getAttribute("data-nodeid"),C=_.getAttribute("data-handleid"),F=_.classList.contains("connectable"),w=_.classList.contains("connectableend");if(!S||!g)return p;const x={source:h?S:i,sourceHandle:h?C:o,target:h?i:S,targetHandle:h?o:C};p.connection=x;const P=F&&w&&(n===Jn.Strict?h&&g==="source"||!h&&g==="target":S!==i||C!==o);p.isValid=P&&l(x,{nodes:d,edges:c,sourceNode:f(i),targetNode:f(S)}),p.toHandle=t}return p}function Y0(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function S2(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function k2(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}function I2(e,t,n,i,o,r=!1){var s,u,a;const l=i.get(e);if(!l)return null;const c=o===Jn.Strict?(s=l.handleBounds)==null?void 0:s[t]:[...((u=l.handleBounds)==null?void 0:u.source)??[],...((a=l.handleBounds)==null?void 0:a.target)??[]],d=(n?c==null?void 0:c.find(f=>f.id===n):c==null?void 0:c[0])??null;return d&&r?{...d,...to(l,d,d.position,!0)}:d}const $a={[se.Left]:se.Right,[se.Right]:se.Left,[se.Top]:se.Bottom,[se.Bottom]:se.Top},A2=["production","prod"];function ao(e,...t){X0()&&console.warn(`[Vue Flow]: ${e}`,...t)}function X0(){return!A2.includes("production")}function Kc(e,t,n,i){const o=t.querySelectorAll(`.vue-flow__handle.${e}`);return Array.from(o).map(s=>{const u=s.getBoundingClientRect();return{id:s.getAttribute("data-handleid"),position:s.getAttribute("data-handlepos"),nodeId:s.getAttribute("data-nodeid"),type:e,x:(u.left-n.left)/i,y:(u.top-n.top)/i,...Ts(s)}})}function Ba(e,t,n,i,o,r=!1,s){o.value=!1,e.selected?(r||e.selected&&t)&&(i([e]),lt(()=>{s.blur()})):n([e])}function nt(e){return typeof V(e)<"u"}function D2(e,t,n,i){if(!e||!e.source||!e.target)return n(new st(it.EDGE_INVALID,(e==null?void 0:e.id)??"[ID UNKNOWN]")),!1;let o;return Qn(e)?o=e:o={...e,id:B0(e)},o=R0(o,void 0,i),c2(o,t)?!1:o}function T2(e,t,n,i,o){if(!t.source||!t.target)return o(new st(it.EDGE_INVALID,e.id)),!1;if(!n)return o(new st(it.EDGE_NOT_FOUND,e.id)),!1;const{id:r,...s}=e;return{...s,id:i?B0(t):r,source:t.source,target:t.target,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle}}function Jc(e,t,n){const i={},o=[];for(let r=0;r<e.length;++r){const s=e[r];if(!xi(s)){n(new st(it.NODE_INVALID,s==null?void 0:s.id)||`[ID UNKNOWN|INDEX ${r}]`);continue}const u=u2(s,t(s.id),s.parentNode);s.parentNode&&(i[s.parentNode]=!0),o[r]=u}for(const r of o){const s=t(r.parentNode)||o.find(u=>u.id===r.parentNode);r.parentNode&&!s&&n(new st(it.NODE_MISSING_PARENT,r.id,r.parentNode)),(r.parentNode||i[r.id])&&(i[r.id]&&(r.isParent=!0),s&&(s.isParent=!0))}return o}function Qc(e,t,n,i,o,r){let s=o;const u=i.get(s)||new Map;i.set(s,u.set(n,t)),s=`${o}-${e}`;const a=i.get(s)||new Map;if(i.set(s,a.set(n,t)),r){s=`${o}-${e}-${r}`;const l=i.get(s)||new Map;i.set(s,l.set(n,t))}}function su(e,t,n){e.clear(),t.clear();for(const i of n){const{source:o,target:r,sourceHandle:s=null,targetHandle:u=null}=i,a={edgeId:i.id,source:o,target:r,sourceHandle:s,targetHandle:u},l=`${o}-${s}--${r}-${u}`,c=`${r}-${u}--${o}-${s}`;Qc("source",a,c,e,o,s),Qc("target",a,l,e,r,u),t.set(i.id,i)}}function ed(e,t,n){if(!n)return;const i=[];for(const o of e.keys())t.has(o)||i.push(e.get(o));i.length&&n(i)}function M2(e,t){if(!e&&!t)return!0;if(!e||!t||e.size!==t.size)return!1;if(!e.size&&!t.size)return!0;for(const n of e.keys())if(!t.has(n))return!1;return!0}function td(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function uu(e,t,n,i,o,r,s,u){const a=[];for(const l of e){const c=Qn(l)?l:D2(l,u,o,r);if(!c)continue;const d=n(c.source),f=n(c.target);if(!d||!f){o(new st(it.EDGE_SOURCE_TARGET_MISSING,c.id,c.source,c.target));continue}if(!d){o(new st(it.EDGE_SOURCE_MISSING,c.id,c.source));continue}if(!f){o(new st(it.EDGE_TARGET_MISSING,c.id,c.target));continue}if(t&&!t(c,{edges:u,nodes:s,sourceNode:d,targetNode:f})){o(new st(it.EDGE_INVALID,c.id));continue}const h=i(c.id);a.push({...R0(c,h,r),sourceNode:d,targetNode:f})}return a}const nd=Symbol("vueFlow"),K0=Symbol("nodeId"),J0=Symbol("nodeRef"),N2=Symbol("edgeId"),F2=Symbol("edgeRef"),Ns=Symbol("slots");function Q0(e){const{vueFlowRef:t,snapToGrid:n,snapGrid:i,noDragClassName:o,nodes:r,nodeExtent:s,nodeDragThreshold:u,viewport:a,autoPanOnNodeDrag:l,autoPanSpeed:c,nodesDraggable:d,panBy:f,findNode:h,multiSelectionActive:m,nodesSelectionActive:b,selectNodesOnDrag:v,removeSelectedElements:y,addSelectedNodes:_,updateNodePositions:p,emits:g}=Te(),{onStart:S,onDrag:C,onStop:F,onClick:w,el:x,disabled:N,id:P,selectable:E,dragHandle:z}=e,M=le(!1);let U=[],$,Z=null,Y={x:void 0,y:void 0},ne={x:0,y:0},ie=null,ae=!1,K=0,R=!1;const H=L2(),G=({x:me,y:T})=>{Y={x:me,y:T};let O=!1;if(U=U.map(k=>{const I={x:me-k.distance.x,y:T-k.distance.y},{computedPosition:A}=vl(k,n.value?Ms(I,i.value):I,g.error,s.value,k.parentNode?h(k.parentNode):void 0);return O=O||k.position.x!==A.x||k.position.y!==A.y,k.position=A,k}),!!O&&(p(U,!0,!0),M.value=!0,ie)){const[k,I]=ou({id:P,dragItems:U,findNode:h});C({event:ie,node:k,nodes:I})}},J=()=>{if(!Z)return;const[me,T]=j0(ne,Z,c.value);if(me!==0||T!==0){const O={x:(Y.x??0)-me/a.value.zoom,y:(Y.y??0)-T/a.value.zoom};f({x:me,y:T})&&G(O)}K=requestAnimationFrame(J)},ue=(me,T)=>{ae=!0;const O=h(P);!v.value&&!m.value&&O&&(O.selected||y()),O&&Ae(E)&&v.value&&Ba(O,m.value,_,y,b,!1,T);const k=H(me.sourceEvent);if(Y=k,U=p2(r.value,d.value,k,h,P),U.length){const[I,A]=ou({id:P,dragItems:U,findNode:h});S({event:me.sourceEvent,node:I,nodes:A})}},pe=(me,T)=>{var O;me.sourceEvent.type==="touchmove"&&me.sourceEvent.touches.length>1||(u.value===0&&ue(me,T),Y=H(me.sourceEvent),Z=((O=t.value)==null?void 0:O.getBoundingClientRect())||null,ne=jn(me.sourceEvent,Z))},fe=(me,T)=>{const O=H(me.sourceEvent);if(!R&&ae&&l.value&&(R=!0,J()),!ae){const k=O.xSnapped-(Y.x??0),I=O.ySnapped-(Y.y??0);Math.sqrt(k*k+I*I)>u.value&&ue(me,T)}(Y.x!==O.xSnapped||Y.y!==O.ySnapped)&&U.length&&ae&&(ie=me.sourceEvent,ne=jn(me.sourceEvent,Z),G(O))},ge=me=>{if(!Z0(me)&&!ae&&!M.value&&!m.value){const T=me,O=H(T),k=O.xSnapped-(Y.x??0),I=O.ySnapped-(Y.y??0),A=Math.sqrt(k*k+I*I);A!==0&&A<=u.value&&(w==null||w(T));return}if(M.value=!1,R=!1,ae=!1,Y={x:void 0,y:void 0},cancelAnimationFrame(K),U.length){p(U,!1,!1);const[T,O]=ou({id:P,dragItems:U,findNode:h});F({event:me.sourceEvent,node:T,nodes:O})}};return ke([()=>Ae(N),x],([me,T],O,k)=>{if(T){const I=Gt(T);me||($=db().on("start",A=>pe(A,T)).on("drag",A=>fe(A,T)).on("end",A=>ge(A)).filter(A=>{const D=A.target,B=Ae(z);return!A.button&&(!o.value||!Wc(D,`.${o.value}`,T)&&(!B||Wc(D,B,T)))}),I.call($)),k(()=>{I.on(".drag",null),$&&($.on("start",null),$.on("drag",null),$.on("end",null))})}}),M}function P2(){return{doubleClick:de(),click:de(),mouseEnter:de(),mouseMove:de(),mouseLeave:de(),contextMenu:de(),updateStart:de(),update:de(),updateEnd:de()}}function O2(e,t){const n=P2();return n.doubleClick.on(i=>{var o,r;t.edgeDoubleClick(i),(r=(o=e.events)==null?void 0:o.doubleClick)==null||r.call(o,i)}),n.click.on(i=>{var o,r;t.edgeClick(i),(r=(o=e.events)==null?void 0:o.click)==null||r.call(o,i)}),n.mouseEnter.on(i=>{var o,r;t.edgeMouseEnter(i),(r=(o=e.events)==null?void 0:o.mouseEnter)==null||r.call(o,i)}),n.mouseMove.on(i=>{var o,r;t.edgeMouseMove(i),(r=(o=e.events)==null?void 0:o.mouseMove)==null||r.call(o,i)}),n.mouseLeave.on(i=>{var o,r;t.edgeMouseLeave(i),(r=(o=e.events)==null?void 0:o.mouseLeave)==null||r.call(o,i)}),n.contextMenu.on(i=>{var o,r;t.edgeContextMenu(i),(r=(o=e.events)==null?void 0:o.contextMenu)==null||r.call(o,i)}),n.updateStart.on(i=>{var o,r;t.edgeUpdateStart(i),(r=(o=e.events)==null?void 0:o.updateStart)==null||r.call(o,i)}),n.update.on(i=>{var o,r;t.edgeUpdate(i),(r=(o=e.events)==null?void 0:o.update)==null||r.call(o,i)}),n.updateEnd.on(i=>{var o,r;t.edgeUpdateEnd(i),(r=(o=e.events)==null?void 0:o.updateEnd)==null||r.call(o,i)}),Object.entries(n).reduce((i,[o,r])=>(i.emit[o]=r.trigger,i.on[o]=r.on,i),{emit:{},on:{}})}function L2(){const{viewport:e,snapGrid:t,snapToGrid:n}=Te();return i=>{const o=Z0(i)?i.sourceEvent:i,{x:r,y:s}=jn(o),u=Jo({x:r,y:s},e.value),{x:a,y:l}=n.value?Ms(u,t.value):u;return{xSnapped:a,ySnapped:l,...u}}}function Sr(){return!0}function ep({handleId:e,nodeId:t,type:n,isValidConnection:i,edgeUpdaterType:o,onEdgeUpdate:r,onEdgeUpdateEnd:s}){const{id:u,vueFlowRef:a,connectionMode:l,connectionRadius:c,connectOnClick:d,connectionClickStartHandle:f,nodesConnectable:h,autoPanOnConnect:m,autoPanSpeed:b,findNode:v,panBy:y,startConnection:_,updateConnection:p,endConnection:g,emits:S,viewport:C,edges:F,nodes:w,isValidConnection:x,nodeLookup:N}=Te();let P=null,E=!1,z=null;function M($){var Z;const Y=Ae(n)==="target",ne=bl($),ie=Bc($.target);if(ne&&$.button===0||!ne){let ae=function(ee){k=jn(ee,me),G=E2(Jo(k,C.value,!1,[1,1]),c.value,N.value,D),I||(A(),I=!0);const Q=Xc(ee,{handle:G,connectionMode:l.value,fromNodeId:Ae(t),fromHandleId:Ae(e),fromType:Y?"target":"source",isValidConnection:H,doc:ie,lib:"vue",flowId:u,nodeLookup:N.value},F.value,w.value,v);z=Q.handleDomNode,P=Q.connection,E=k2(!!G,Q.isValid);const re={...q,isValid:E,to:G&&E?Ra({x:G.x,y:G.y},C.value):k,toHandle:Q.toHandle,toPosition:E&&Q.toHandle?Q.toHandle.position:$a[D.position],toNode:Q.toHandle?N.value.get(Q.toHandle.nodeId):null};if(!(E&&G&&(q!=null&&q.toHandle)&&re.toHandle&&q.toHandle.type===re.toHandle.type&&q.toHandle.nodeId===re.toHandle.nodeId&&q.toHandle.id===re.toHandle.id&&q.to.x===re.to.x&&q.to.y===re.to.y)){if(p(G&&E?Ra({x:G.x,y:G.y},C.value):k,Q.toHandle,S2(!!G,E)),q=re,!G&&!E&&!z)return ru(O);P&&P.source!==P.target&&z&&(ru(O),O=z,z.classList.add("connecting","vue-flow__handle-connecting"),z.classList.toggle("valid",!!E),z.classList.toggle("vue-flow__handle-valid",!!E))}},K=function(ee){(G||z)&&P&&E&&(r?r(ee,P):S.connect(P)),S.connectEnd(ee),o&&(s==null||s(ee)),ru(O),cancelAnimationFrame(J),g(ee),I=!1,E=!1,P=null,z=null,ie.removeEventListener("mousemove",ae),ie.removeEventListener("mouseup",K),ie.removeEventListener("touchmove",ae),ie.removeEventListener("touchend",K)};const R=v(Ae(t));let H=Ae(i)||x.value||Sr;!H&&R&&(H=(Y?R.isValidSourcePos:R.isValidTargetPos)||Sr);let G,J=0;const{x:ue,y:pe}=jn($),fe=ie==null?void 0:ie.elementFromPoint(ue,pe),ge=Y0(Ae(o),fe),me=(Z=a.value)==null?void 0:Z.getBoundingClientRect();if(!me||!ge)return;const T=I2(Ae(t),ge,Ae(e),N.value,l.value);if(!T)return;let O,k=jn($,me),I=!1;const A=()=>{if(!m.value)return;const[ee,Q]=j0(k,me,b.value);y({x:ee,y:Q}),J=requestAnimationFrame(A)},D={...T,nodeId:Ae(t),type:ge,position:T.position},B=N.value.get(Ae(t)),W={inProgress:!0,isValid:null,from:to(B,D,se.Left,!0),fromHandle:D,fromPosition:D.position,fromNode:B,to:k,toHandle:null,toPosition:$a[D.position],toNode:null};_({nodeId:Ae(t),id:Ae(e),type:ge,position:(fe==null?void 0:fe.getAttribute("data-handlepos"))||se.Top},{x:ue-me.left,y:pe-me.top}),S.connectStart({event:$,nodeId:Ae(t),handleId:Ae(e),handleType:ge});let q=W;ie.addEventListener("mousemove",ae),ie.addEventListener("mouseup",K),ie.addEventListener("touchmove",ae),ie.addEventListener("touchend",K)}}function U($){var Z,Y;if(!d.value)return;const ne=Ae(n)==="target";if(!f.value){S.clickConnectStart({event:$,nodeId:Ae(t),handleId:Ae(e)}),_({nodeId:Ae(t),type:Ae(n),id:Ae(e),position:se.Top},void 0,!0);return}let ie=Ae(i)||x.value||Sr;const ae=v(Ae(t));if(!ie&&ae&&(ie=(ne?ae.isValidSourcePos:ae.isValidTargetPos)||Sr),ae&&(typeof ae.connectable>"u"?h.value:ae.connectable)===!1)return;const K=Bc($.target),R=Xc($,{handle:{nodeId:Ae(t),id:Ae(e),type:Ae(n),position:se.Top},connectionMode:l.value,fromNodeId:f.value.nodeId,fromHandleId:f.value.id||null,fromType:f.value.type,isValidConnection:ie,doc:K,lib:"vue",flowId:u,nodeLookup:N.value},F.value,w.value,v),H=((Z=R.connection)==null?void 0:Z.source)===((Y=R.connection)==null?void 0:Y.target);R.isValid&&R.connection&&!H&&S.connect(R.connection),S.clickConnectEnd($),g($,!0)}return{handlePointerDown:M,handleClick:U}}function hn(){return Zt(K0,"")}function yl(e){const t=e??hn()??"",n=Zt(J0,le(null)),{findNode:i,edges:o,emits:r}=Te(),s=i(t);return s||r.error(new st(it.NODE_NOT_FOUND,t)),{id:t,nodeEl:n,node:s,parentNode:ve(()=>i(s.parentNode)),connectedEdges:ve(()=>q0([s],o.value))}}function z2(){return{doubleClick:de(),click:de(),mouseEnter:de(),mouseMove:de(),mouseLeave:de(),contextMenu:de(),dragStart:de(),drag:de(),dragStop:de()}}function R2(e,t){const n=z2();return n.doubleClick.on(i=>{var o,r;t.nodeDoubleClick(i),(r=(o=e.events)==null?void 0:o.doubleClick)==null||r.call(o,i)}),n.click.on(i=>{var o,r;t.nodeClick(i),(r=(o=e.events)==null?void 0:o.click)==null||r.call(o,i)}),n.mouseEnter.on(i=>{var o,r;t.nodeMouseEnter(i),(r=(o=e.events)==null?void 0:o.mouseEnter)==null||r.call(o,i)}),n.mouseMove.on(i=>{var o,r;t.nodeMouseMove(i),(r=(o=e.events)==null?void 0:o.mouseMove)==null||r.call(o,i)}),n.mouseLeave.on(i=>{var o,r;t.nodeMouseLeave(i),(r=(o=e.events)==null?void 0:o.mouseLeave)==null||r.call(o,i)}),n.contextMenu.on(i=>{var o,r;t.nodeContextMenu(i),(r=(o=e.events)==null?void 0:o.contextMenu)==null||r.call(o,i)}),n.dragStart.on(i=>{var o,r;t.nodeDragStart(i),(r=(o=e.events)==null?void 0:o.dragStart)==null||r.call(o,i)}),n.drag.on(i=>{var o,r;t.nodeDrag(i),(r=(o=e.events)==null?void 0:o.drag)==null||r.call(o,i)}),n.dragStop.on(i=>{var o,r;t.nodeDragStop(i),(r=(o=e.events)==null?void 0:o.dragStop)==null||r.call(o,i)}),Object.entries(n).reduce((i,[o,r])=>(i.emit[o]=r.trigger,i.on[o]=r.on,i),{emit:{},on:{}})}function tp(){const{getSelectedNodes:e,nodeExtent:t,updateNodePositions:n,findNode:i,snapGrid:o,snapToGrid:r,nodesDraggable:s,emits:u}=Te();return(a,l=!1)=>{const c=r.value?o.value[0]:5,d=r.value?o.value[1]:5,f=l?4:1,h=a.x*c*f,m=a.y*d*f,b=[];for(const v of e.value)if(v.draggable||s&&typeof v.draggable>"u"){const y={x:v.computedPosition.x+h,y:v.computedPosition.y+m},{computedPosition:_}=vl(v,y,u.error,t.value,v.parentNode?i(v.parentNode):void 0);b.push({id:v.id,position:_,from:v.position,distance:{x:a.x,y:a.y},dimensions:v.dimensions})}n(b,!0,!1)}}const au=.1;function Pn(){return ao("Viewport not initialized yet."),Promise.resolve(!1)}const $2={zoomIn:Pn,zoomOut:Pn,zoomTo:Pn,fitView:Pn,setCenter:Pn,fitBounds:Pn,project:e=>e,screenToFlowCoordinate:e=>e,flowToScreenCoordinate:e=>e,setViewport:Pn,setTransform:Pn,getViewport:()=>({x:0,y:0,zoom:1}),getTransform:()=>({x:0,y:0,zoom:1}),viewportInitialized:!1};function B2(e){function t(i,o){return new Promise(r=>{e.d3Selection&&e.d3Zoom?e.d3Zoom.scaleBy(lu(e.d3Selection,o,()=>{r(!0)}),i):r(!1)})}function n(i,o,r,s){return new Promise(u=>{const{x:a,y:l}=z0({x:-i,y:-o},e.translateExtent),c=eo.translate(-a,-l).scale(r);e.d3Selection&&e.d3Zoom?e.d3Zoom.transform(lu(e.d3Selection,s,()=>{u(!0)}),c):u(!1)})}return ve(()=>e.d3Zoom&&e.d3Selection&&e.dimensions.width&&e.dimensions.height?{viewportInitialized:!0,zoomIn:o=>t(1.2,o==null?void 0:o.duration),zoomOut:o=>t(1/1.2,o==null?void 0:o.duration),zoomTo:(o,r)=>new Promise(s=>{e.d3Selection&&e.d3Zoom?e.d3Zoom.scaleTo(lu(e.d3Selection,r==null?void 0:r.duration,()=>{s(!0)}),o):s(!1)}),setViewport:(o,r)=>n(o.x,o.y,o.zoom,r==null?void 0:r.duration),setTransform:(o,r)=>n(o.x,o.y,o.zoom,r==null?void 0:r.duration),getViewport:()=>({x:e.viewport.x,y:e.viewport.y,zoom:e.viewport.zoom}),getTransform:()=>({x:e.viewport.x,y:e.viewport.y,zoom:e.viewport.zoom}),fitView:(o={padding:au,includeHiddenNodes:!1,duration:0})=>{var r,s;const u=[];for(const f of e.nodes)f.dimensions.width&&f.dimensions.height&&((o==null?void 0:o.includeHiddenNodes)||!f.hidden)&&(!((r=o.nodes)!=null&&r.length)||(s=o.nodes)!=null&&s.length&&o.nodes.includes(f.id))&&u.push(f);if(!u.length)return Promise.resolve(!1);const a=V0(u),{x:l,y:c,zoom:d}=Hc(a,e.dimensions.width,e.dimensions.height,o.minZoom??e.minZoom,o.maxZoom??e.maxZoom,o.padding??au,o.offset);return n(l,c,d,o==null?void 0:o.duration)},setCenter:(o,r,s)=>{const u=typeof(s==null?void 0:s.zoom)<"u"?s.zoom:e.maxZoom,a=e.dimensions.width/2-o*u,l=e.dimensions.height/2-r*u;return n(a,l,u,s==null?void 0:s.duration)},fitBounds:(o,r={padding:au})=>{const{x:s,y:u,zoom:a}=Hc(o,e.dimensions.width,e.dimensions.height,e.minZoom,e.maxZoom,r.padding);return n(s,u,a,r==null?void 0:r.duration)},project:o=>Jo(o,e.viewport,e.snapToGrid,e.snapGrid),screenToFlowCoordinate:o=>{if(e.vueFlowRef){const{x:r,y:s}=e.vueFlowRef.getBoundingClientRect(),u={x:o.x-r,y:o.y-s};return Jo(u,e.viewport,e.snapToGrid,e.snapGrid)}return{x:0,y:0}},flowToScreenCoordinate:o=>{if(e.vueFlowRef){const{x:r,y:s}=e.vueFlowRef.getBoundingClientRect(),u={x:o.x+r,y:o.y+s};return Ra(u,e.viewport)}return{x:0,y:0}}}:$2)}function lu(e,t=0,n){return e.transition().duration(t).on("end",n)}function H2(e,t,n){const i=Ff(!0);return i.run(()=>{const o=()=>{i.run(()=>{let b,v,y=!!(n.nodes.value.length||n.edges.value.length);b=Mi([e.modelValue,()=>{var _,p;return(p=(_=e.modelValue)==null?void 0:_.value)==null?void 0:p.length}],([_])=>{_&&Array.isArray(_)&&(v==null||v.pause(),n.setElements(_),!v&&!y&&_.length?y=!0:v==null||v.resume())}),v=Mi([n.nodes,n.edges,()=>n.edges.value.length,()=>n.nodes.value.length],([_,p])=>{var g;(g=e.modelValue)!=null&&g.value&&Array.isArray(e.modelValue.value)&&(b==null||b.pause(),e.modelValue.value=[..._,...p],lt(()=>{b==null||b.resume()}))},{immediate:y}),Tr(()=>{b==null||b.stop(),v==null||v.stop()})})},r=()=>{i.run(()=>{let b,v,y=!!n.nodes.value.length;b=Mi([e.nodes,()=>{var _,p;return(p=(_=e.nodes)==null?void 0:_.value)==null?void 0:p.length}],([_])=>{_&&Array.isArray(_)&&(v==null||v.pause(),n.setNodes(_),!v&&!y&&_.length?y=!0:v==null||v.resume())}),v=Mi([n.nodes,()=>n.nodes.value.length],([_])=>{var p;(p=e.nodes)!=null&&p.value&&Array.isArray(e.nodes.value)&&(b==null||b.pause(),e.nodes.value=[..._],lt(()=>{b==null||b.resume()}))},{immediate:y}),Tr(()=>{b==null||b.stop(),v==null||v.stop()})})},s=()=>{i.run(()=>{let b,v,y=!!n.edges.value.length;b=Mi([e.edges,()=>{var _,p;return(p=(_=e.edges)==null?void 0:_.value)==null?void 0:p.length}],([_])=>{_&&Array.isArray(_)&&(v==null||v.pause(),n.setEdges(_),!v&&!y&&_.length?y=!0:v==null||v.resume())}),v=Mi([n.edges,()=>n.edges.value.length],([_])=>{var p;(p=e.edges)!=null&&p.value&&Array.isArray(e.edges.value)&&(b==null||b.pause(),e.edges.value=[..._],lt(()=>{b==null||b.resume()}))},{immediate:y}),Tr(()=>{b==null||b.stop(),v==null||v.stop()})})},u=()=>{i.run(()=>{ke(()=>t.maxZoom,()=>{t.maxZoom&&nt(t.maxZoom)&&n.setMaxZoom(t.maxZoom)},{immediate:!0})})},a=()=>{i.run(()=>{ke(()=>t.minZoom,()=>{t.minZoom&&nt(t.minZoom)&&n.setMinZoom(t.minZoom)},{immediate:!0})})},l=()=>{i.run(()=>{ke(()=>t.translateExtent,()=>{t.translateExtent&&nt(t.translateExtent)&&n.setTranslateExtent(t.translateExtent)},{immediate:!0})})},c=()=>{i.run(()=>{ke(()=>t.nodeExtent,()=>{t.nodeExtent&&nt(t.nodeExtent)&&n.setNodeExtent(t.nodeExtent)},{immediate:!0})})},d=()=>{i.run(()=>{ke(()=>t.applyDefault,()=>{nt(t.applyDefault)&&(n.applyDefault.value=t.applyDefault)},{immediate:!0})})},f=()=>{i.run(()=>{const b=async v=>{let y=v;typeof t.autoConnect=="function"&&(y=await t.autoConnect(v)),y!==!1&&n.addEdges([y])};ke(()=>t.autoConnect,()=>{nt(t.autoConnect)&&(n.autoConnect.value=t.autoConnect)},{immediate:!0}),ke(n.autoConnect,(v,y,_)=>{v?n.onConnect(b):n.hooks.value.connect.off(b),_(()=>{n.hooks.value.connect.off(b)})},{immediate:!0})})},h=()=>{const b=["id","modelValue","translateExtent","nodeExtent","edges","nodes","maxZoom","minZoom","applyDefault","autoConnect"];for(const v of Object.keys(t)){const y=v;if(!b.includes(y)){const _=We(()=>t[y]),p=n[y];Ce(p)&&i.run(()=>{ke(_,g=>{nt(g)&&(p.value=g)},{immediate:!0})})}}};(()=>{o(),r(),s(),a(),u(),l(),c(),d(),f(),h()})()}),()=>i.stop()}function V2(){return{edgesChange:de(),nodesChange:de(),nodeDoubleClick:de(),nodeClick:de(),nodeMouseEnter:de(),nodeMouseMove:de(),nodeMouseLeave:de(),nodeContextMenu:de(),nodeDragStart:de(),nodeDrag:de(),nodeDragStop:de(),nodesInitialized:de(),miniMapNodeClick:de(),miniMapNodeDoubleClick:de(),miniMapNodeMouseEnter:de(),miniMapNodeMouseMove:de(),miniMapNodeMouseLeave:de(),connect:de(),connectStart:de(),connectEnd:de(),clickConnectStart:de(),clickConnectEnd:de(),paneReady:de(),init:de(),move:de(),moveStart:de(),moveEnd:de(),selectionDragStart:de(),selectionDrag:de(),selectionDragStop:de(),selectionContextMenu:de(),selectionStart:de(),selectionEnd:de(),viewportChangeStart:de(),viewportChange:de(),viewportChangeEnd:de(),paneScroll:de(),paneClick:de(),paneContextMenu:de(),paneMouseEnter:de(),paneMouseMove:de(),paneMouseLeave:de(),edgeContextMenu:de(),edgeMouseEnter:de(),edgeMouseMove:de(),edgeMouseLeave:de(),edgeDoubleClick:de(),edgeClick:de(),edgeUpdateStart:de(),edgeUpdate:de(),edgeUpdateEnd:de(),updateNodeInternals:de(),error:de(e=>ao(e.message))}}function U2(e,t){lh(()=>{for(const[n,i]of Object.entries(t.value)){const o=r=>{e(n,r)};i.fns.add(o),Ss(()=>{i.off(o)})}})}function np(){return{vueFlowRef:null,viewportRef:null,nodes:[],edges:[],connectionLookup:new Map,nodeTypes:{},edgeTypes:{},initialized:!1,dimensions:{width:0,height:0},viewport:{x:0,y:0,zoom:1},d3Zoom:null,d3Selection:null,d3ZoomHandler:null,minZoom:.5,maxZoom:2,translateExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],nodeExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],selectionMode:_l.Full,paneDragging:!1,preventScrolling:!0,zoomOnScroll:!0,zoomOnPinch:!0,zoomOnDoubleClick:!0,panOnScroll:!1,panOnScrollSpeed:.5,panOnScrollMode:Do.Free,paneClickDistance:0,panOnDrag:!0,edgeUpdaterRadius:10,onlyRenderVisibleElements:!1,defaultViewport:{x:0,y:0,zoom:1},nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,defaultMarkerColor:"#b1b1b7",connectionLineStyle:{},connectionLineType:null,connectionLineOptions:{type:di.Bezier,style:{}},connectionMode:Jn.Loose,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectionPosition:{x:Number.NaN,y:Number.NaN},connectionRadius:20,connectOnClick:!0,connectionStatus:null,isValidConnection:null,snapGrid:[15,15],snapToGrid:!1,edgesUpdatable:!1,edgesFocusable:!0,nodesFocusable:!0,nodesConnectable:!0,nodesDraggable:!0,nodeDragThreshold:1,elementsSelectable:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,selectionKeyCode:"Shift",multiSelectionKeyCode:rs()?"Meta":"Control",zoomActivationKeyCode:rs()?"Meta":"Control",deleteKeyCode:"Backspace",panActivationKeyCode:"Space",hooks:V2(),applyDefault:!0,autoConnect:!1,fitViewOnInit:!1,fitViewOnInitDone:!1,noDragClassName:"nodrag",noWheelClassName:"nowheel",noPanClassName:"nopan",defaultEdgeOptions:void 0,elevateEdgesOnSelect:!1,elevateNodesOnSelect:!0,autoPanOnNodeDrag:!0,autoPanOnConnect:!0,autoPanSpeed:15,disableKeyboardA11y:!1,ariaLiveMessage:""}}const q2=["id","vueFlowRef","viewportRef","initialized","modelValue","nodes","edges","maxZoom","minZoom","translateExtent","hooks","defaultEdgeOptions"];function G2(e,t,n){const i=B2(e),o=k=>{const I=k??[];e.hooks.updateNodeInternals.trigger(I)},r=k=>l2(k,e.nodes,e.edges),s=k=>a2(k,e.nodes,e.edges),u=k=>q0(k,e.edges),a=({id:k,type:I,nodeId:A})=>{var D;return Array.from(((D=e.connectionLookup.get(`${A}-${I}-${k??null}`))==null?void 0:D.values())??[])},l=k=>{if(k)return t.value.get(k)},c=k=>{if(k)return n.value.get(k)},d=(k,I,A)=>{var D,B;const j=[];for(const W of k){const q={id:W.id,type:"position",dragging:A,from:W.from};if(I&&(q.position=W.position,W.parentNode)){const ee=l(W.parentNode);q.position={x:q.position.x-(((D=ee==null?void 0:ee.computedPosition)==null?void 0:D.x)??0),y:q.position.y-(((B=ee==null?void 0:ee.computedPosition)==null?void 0:B.y)??0)}}j.push(q)}j!=null&&j.length&&e.hooks.nodesChange.trigger(j)},f=k=>{if(!e.vueFlowRef)return;const I=e.vueFlowRef.querySelector(".vue-flow__transformationpane");if(!I)return;const A=window.getComputedStyle(I),{m22:D}=new window.DOMMatrixReadOnly(A.transform),B=[];for(let j=0;j<k.length;++j){const W=k[j],q=l(W.id);if(q){const ee=Ts(W.nodeElement);if(!!(ee.width&&ee.height&&(q.dimensions.width!==ee.width||q.dimensions.height!==ee.height||W.forceUpdate))){const re=W.nodeElement.getBoundingClientRect();q.dimensions=ee,q.handleBounds.source=Kc("source",W.nodeElement,re,D),q.handleBounds.target=Kc("target",W.nodeElement,re,D),B.push({id:q.id,type:"dimensions",dimensions:ee})}}}!e.fitViewOnInitDone&&e.fitViewOnInit&&i.value.fitView().then(()=>{e.fitViewOnInitDone=!0}),B.length&&e.hooks.nodesChange.trigger(B)},h=(k,I)=>{const A=new Set,D=new Set;for(const W of k)xi(W)?A.add(W.id):Qn(W)&&D.add(W.id);const B=Bn(t.value,A,!0),j=Bn(n.value,D);if(e.multiSelectionActive){for(const W of A)B.push(On(W,I));for(const W of D)j.push(On(W,I))}B.length&&e.hooks.nodesChange.trigger(B),j.length&&e.hooks.edgesChange.trigger(j)},m=k=>{if(e.multiSelectionActive){const I=k.map(A=>On(A.id,!0));e.hooks.nodesChange.trigger(I);return}e.hooks.nodesChange.trigger(Bn(t.value,new Set(k.map(I=>I.id)),!0)),e.hooks.edgesChange.trigger(Bn(n.value))},b=k=>{if(e.multiSelectionActive){const I=k.map(A=>On(A.id,!0));e.hooks.edgesChange.trigger(I);return}e.hooks.edgesChange.trigger(Bn(n.value,new Set(k.map(I=>I.id)))),e.hooks.nodesChange.trigger(Bn(t.value,new Set,!0))},v=k=>{h(k,!0)},y=k=>{const A=(k||e.nodes).map(D=>(D.selected=!1,On(D.id,!1)));e.hooks.nodesChange.trigger(A)},_=k=>{const A=(k||e.edges).map(D=>(D.selected=!1,On(D.id,!1)));e.hooks.edgesChange.trigger(A)},p=k=>{if(!k||!k.length)return h([],!1);const I=k.reduce((A,D)=>{const B=On(D.id,!1);return xi(D)?A.nodes.push(B):A.edges.push(B),A},{nodes:[],edges:[]});I.nodes.length&&e.hooks.nodesChange.trigger(I.nodes),I.edges.length&&e.hooks.edgesChange.trigger(I.edges)},g=k=>{var I;(I=e.d3Zoom)==null||I.scaleExtent([k,e.maxZoom]),e.minZoom=k},S=k=>{var I;(I=e.d3Zoom)==null||I.scaleExtent([e.minZoom,k]),e.maxZoom=k},C=k=>{var I;(I=e.d3Zoom)==null||I.translateExtent(k),e.translateExtent=k},F=k=>{e.nodeExtent=k,o()},w=k=>{var I;(I=e.d3Zoom)==null||I.clickDistance(k)},x=k=>{e.nodesDraggable=k,e.nodesConnectable=k,e.elementsSelectable=k},N=k=>{const I=k instanceof Function?k(e.nodes):k;!e.initialized&&!I.length||(e.nodes=Jc(I,l,e.hooks.error.trigger))},P=k=>{const I=k instanceof Function?k(e.edges):k;if(!e.initialized&&!I.length)return;const A=uu(I,e.isValidConnection,l,c,e.hooks.error.trigger,e.defaultEdgeOptions,e.nodes,e.edges);su(e.connectionLookup,n.value,A),e.edges=A},E=k=>{const I=k instanceof Function?k([...e.nodes,...e.edges]):k;!e.initialized&&!I.length||(N(I.filter(xi)),P(I.filter(Qn)))},z=k=>{let I=k instanceof Function?k(e.nodes):k;I=Array.isArray(I)?I:[I];const A=Jc(I,l,e.hooks.error.trigger),D=[];for(const B of A)D.push(qc(B));D.length&&e.hooks.nodesChange.trigger(D)},M=k=>{let I=k instanceof Function?k(e.edges):k;I=Array.isArray(I)?I:[I];const A=uu(I,e.isValidConnection,l,c,e.hooks.error.trigger,e.defaultEdgeOptions,e.nodes,e.edges),D=[];for(const B of A)D.push(qc(B));D.length&&e.hooks.edgesChange.trigger(D)},U=(k,I=!0,A=!1)=>{const D=k instanceof Function?k(e.nodes):k,B=Array.isArray(D)?D:[D],j=[],W=[];function q(Q){const re=u(Q);for(const ce of re)(!nt(ce.deletable)||ce.deletable)&&W.push(jc(ce.id,ce.source,ce.target,ce.sourceHandle,ce.targetHandle))}function ee(Q){const re=[];for(const ce of e.nodes)ce.parentNode===Q&&re.push(ce);if(re.length){for(const ce of re)j.push(Gc(ce.id));I&&q(re);for(const ce of re)ee(ce.id)}}for(const Q of B){const re=typeof Q=="string"?l(Q):Q;re&&(nt(re.deletable)&&!re.deletable||(j.push(Gc(re.id)),I&&q([re]),A&&ee(re.id)))}W.length&&e.hooks.edgesChange.trigger(W),j.length&&e.hooks.nodesChange.trigger(j)},$=k=>{const I=k instanceof Function?k(e.edges):k,A=Array.isArray(I)?I:[I],D=[];for(const B of A){const j=typeof B=="string"?c(B):B;j&&(nt(j.deletable)&&!j.deletable||D.push(jc(typeof B=="string"?B:B.id,j.source,j.target,j.sourceHandle,j.targetHandle)))}e.hooks.edgesChange.trigger(D)},Z=(k,I,A=!0)=>{const D=c(k.id),B=T2(k,I,D,A,e.hooks.error.trigger);if(B){const[j]=uu([B],e.isValidConnection,l,c,e.hooks.error.trigger,e.defaultEdgeOptions,e.nodes,e.edges);return e.edges.splice(e.edges.indexOf(D),1,j),su(e.connectionLookup,n.value,[j]),j}return!1},Y=(k,I,A={replace:!1})=>{const D=c(k);if(!D)return;const B=typeof I=="function"?I(D):I;D.data=A.replace?B:{...D.data,...B}},ne=k=>Uc(k,e.nodes),ie=k=>{const I=Uc(k,e.edges);return su(e.connectionLookup,n.value,I),I},ae=(k,I,A={replace:!1})=>{const D=l(k);if(!D)return;const B=typeof I=="function"?I(D):I;A.replace?e.nodes.splice(e.nodes.indexOf(D),1,B):Object.assign(D,B)},K=(k,I,A={replace:!1})=>{const D=l(k);if(!D)return;const B=typeof I=="function"?I(D):I;D.data=A.replace?B:{...D.data,...B}},R=(k,I,A=!1)=>{A?e.connectionClickStartHandle=k:e.connectionStartHandle=k,e.connectionEndHandle=null,e.connectionStatus=null,I&&(e.connectionPosition=I)},H=(k,I=null,A=null)=>{e.connectionStartHandle&&(e.connectionPosition=k,e.connectionEndHandle=I,e.connectionStatus=A)},G=(k,I)=>{e.connectionPosition={x:Number.NaN,y:Number.NaN},e.connectionEndHandle=null,e.connectionStatus=null,I?e.connectionClickStartHandle=null:e.connectionStartHandle=null},J=k=>{const I=s2(k),A=I?null:yo(k)?k:l(k.id);return!I&&!A?[null,null,I]:[I?k:is(A),A,I]},ue=(k,I=!0,A=e.nodes)=>{const[D,B,j]=J(k);if(!D)return[];const W=[];for(const q of A||e.nodes){if(!j&&(q.id===B.id||!q.computedPosition))continue;const ee=is(q),Q=os(ee,D);(I&&Q>0||Q>=Number(D.width)*Number(D.height))&&W.push(q)}return W},pe=(k,I,A=!0)=>{const[D]=J(k);if(!D)return!1;const B=os(D,I);return A&&B>0||B>=Number(D.width)*Number(D.height)},fe=k=>{const{viewport:I,dimensions:A,d3Zoom:D,d3Selection:B,translateExtent:j}=e;if(!D||!B||!k.x&&!k.y)return!1;const W=eo.translate(I.x+k.x,I.y+k.y).scale(I.zoom),q=[[0,0],[A.width,A.height]],ee=D.constrain()(W,q,j),Q=e.viewport.x!==ee.x||e.viewport.y!==ee.y||e.viewport.zoom!==ee.k;return D.transform(B,ee),Q},ge=k=>{const I=k instanceof Function?k(e):k,A=["d3Zoom","d3Selection","d3ZoomHandler","viewportRef","vueFlowRef","dimensions","hooks"];nt(I.defaultEdgeOptions)&&(e.defaultEdgeOptions=I.defaultEdgeOptions);const D=I.modelValue||I.nodes||I.edges?[]:void 0;D&&(I.modelValue&&D.push(...I.modelValue),I.nodes&&D.push(...I.nodes),I.edges&&D.push(...I.edges),E(D));const B=()=>{nt(I.maxZoom)&&S(I.maxZoom),nt(I.minZoom)&&g(I.minZoom),nt(I.translateExtent)&&C(I.translateExtent)};for(const j of Object.keys(I)){const W=j,q=I[W];![...q2,...A].includes(W)&&nt(q)&&(e[W]=q)}Ia(()=>e.d3Zoom).not.toBeNull().then(B),e.initialized||(e.initialized=!0)};return{updateNodePositions:d,updateNodeDimensions:f,setElements:E,setNodes:N,setEdges:P,addNodes:z,addEdges:M,removeNodes:U,removeEdges:$,findNode:l,findEdge:c,updateEdge:Z,updateEdgeData:Y,updateNode:ae,updateNodeData:K,applyEdgeChanges:ie,applyNodeChanges:ne,addSelectedElements:v,addSelectedNodes:m,addSelectedEdges:b,setMinZoom:g,setMaxZoom:S,setTranslateExtent:C,setNodeExtent:F,setPaneClickDistance:w,removeSelectedElements:p,removeSelectedNodes:y,removeSelectedEdges:_,startConnection:R,updateConnection:H,endConnection:G,setInteractive:x,setState:ge,getIntersectingNodes:ue,getIncomers:r,getOutgoers:s,getConnectedEdges:u,getHandleConnections:a,isNodeIntersecting:pe,panBy:fe,fitView:k=>i.value.fitView(k),zoomIn:k=>i.value.zoomIn(k),zoomOut:k=>i.value.zoomOut(k),zoomTo:(k,I)=>i.value.zoomTo(k,I),setViewport:(k,I)=>i.value.setViewport(k,I),setTransform:(k,I)=>i.value.setTransform(k,I),getViewport:()=>i.value.getViewport(),getTransform:()=>i.value.getTransform(),setCenter:(k,I,A)=>i.value.setCenter(k,I,A),fitBounds:(k,I)=>i.value.fitBounds(k,I),project:k=>i.value.project(k),screenToFlowCoordinate:k=>i.value.screenToFlowCoordinate(k),flowToScreenCoordinate:k=>i.value.flowToScreenCoordinate(k),toObject:()=>{const k=[],I=[];for(const A of e.nodes){const{computedPosition:D,handleBounds:B,selected:j,dimensions:W,isParent:q,resizing:ee,dragging:Q,events:re,...ce}=A;k.push(ce)}for(const A of e.edges){const{selected:D,sourceNode:B,targetNode:j,events:W,...q}=A;I.push(q)}return JSON.parse(JSON.stringify({nodes:k,edges:I,position:[e.viewport.x,e.viewport.y],zoom:e.viewport.zoom,viewport:e.viewport}))},fromObject:k=>new Promise(I=>{const{nodes:A,edges:D,position:B,zoom:j,viewport:W}=k;if(A&&N(A),D&&P(D),W!=null&&W.x&&(W!=null&&W.y)||B){const q=(W==null?void 0:W.x)||B[0],ee=(W==null?void 0:W.y)||B[1],Q=(W==null?void 0:W.zoom)||j||e.viewport.zoom;return Ia(()=>i.value.viewportInitialized).toBe(!0).then(()=>{i.value.setViewport({x:q,y:ee,zoom:Q}).then(()=>{I(!0)})})}else I(!0)}),updateNodeInternals:o,viewportHelper:i,$reset:()=>{const k=np();if(e.edges=[],e.nodes=[],e.d3Zoom&&e.d3Selection){const I=eo.translate(k.defaultViewport.x??0,k.defaultViewport.y??0).scale(Ii(k.defaultViewport.zoom??1,k.minZoom,k.maxZoom)),A=e.viewportRef.getBoundingClientRect(),D=[[0,0],[A.width,A.height]],B=e.d3Zoom.constrain()(I,D,k.translateExtent);e.d3Zoom.transform(e.d3Selection,B)}ge(k)},$destroy:()=>{}}}const j2=["data-id","data-handleid","data-nodeid","data-handlepos"],W2={name:"Handle",compatConfig:{MODE:3}},Xe=be({...W2,props:{id:{default:null},type:{},position:{default:()=>se.Top},isValidConnection:{type:Function},connectable:{type:[Boolean,Number,String,Function],default:void 0},connectableStart:{type:Boolean,default:!0},connectableEnd:{type:Boolean,default:!0}},setup(e,{expose:t}){const n=Jm(e,["position","connectable","connectableStart","connectableEnd","id"]),i=We(()=>n.type??"source"),o=We(()=>n.isValidConnection??null),{id:r,connectionStartHandle:s,connectionClickStartHandle:u,connectionEndHandle:a,vueFlowRef:l,nodesConnectable:c,noDragClassName:d,noPanClassName:f}=Te(),{id:h,node:m,nodeEl:b,connectedEdges:v}=yl(),y=le(),_=We(()=>typeof e.connectableStart<"u"?e.connectableStart:!0),p=We(()=>typeof e.connectableEnd<"u"?e.connectableEnd:!0),g=We(()=>{var P,E,z,M,U,$;return((P=s.value)==null?void 0:P.nodeId)===h&&((E=s.value)==null?void 0:E.id)===e.id&&((z=s.value)==null?void 0:z.type)===i.value||((M=a.value)==null?void 0:M.nodeId)===h&&((U=a.value)==null?void 0:U.id)===e.id&&(($=a.value)==null?void 0:$.type)===i.value}),S=We(()=>{var P,E,z;return((P=u.value)==null?void 0:P.nodeId)===h&&((E=u.value)==null?void 0:E.id)===e.id&&((z=u.value)==null?void 0:z.type)===i.value}),{handlePointerDown:C,handleClick:F}=ep({nodeId:h,handleId:e.id,isValidConnection:o,type:i}),w=ve(()=>typeof e.connectable=="string"&&e.connectable==="single"?!v.value.some(P=>{const E=P[`${i.value}Handle`];return P[i.value]!==h?!1:E?E===e.id:!0}):typeof e.connectable=="number"?v.value.filter(P=>{const E=P[`${i.value}Handle`];return P[i.value]!==h?!1:E?E===e.id:!0}).length<e.connectable:typeof e.connectable=="function"?e.connectable(m,v.value):nt(e.connectable)?e.connectable:c.value);ft(()=>{var P;if(!m.dimensions.width||!m.dimensions.height)return;const E=(P=m.handleBounds[i.value])==null?void 0:P.find(ne=>ne.id===e.id);if(!l.value||E)return;const z=l.value.querySelector(".vue-flow__transformationpane");if(!b.value||!y.value||!z||!e.id)return;const M=b.value.getBoundingClientRect(),U=y.value.getBoundingClientRect(),$=window.getComputedStyle(z),{m22:Z}=new window.DOMMatrixReadOnly($.transform),Y={id:e.id,position:e.position,x:(U.left-M.left)/Z,y:(U.top-M.top)/Z,type:i.value,nodeId:h,...Ts(y.value)};m.handleBounds[i.value]=[...m.handleBounds[i.value]??[],Y]}),uo(()=>{const P=m.handleBounds[i.value];P&&(m.handleBounds[i.value]=P.filter(E=>E.id!==e.id))});function x(P){const E=bl(P);w.value&&_.value&&(E&&P.button===0||!E)&&C(P)}function N(P){!h||!u.value&&!_.value||w.value&&F(P)}return t({handleClick:F,handlePointerDown:C,onClick:N,onPointerDown:x}),(P,E)=>(X(),te("div",{ref_key:"handle",ref:y,"data-id":`${V(r)}-${V(h)}-${e.id}-${i.value}`,"data-handleid":e.id,"data-nodeid":V(h),"data-handlepos":P.position,class:Ve(["vue-flow__handle",[`vue-flow__handle-${P.position}`,`vue-flow__handle-${e.id}`,V(d),V(f),i.value,{connectable:w.value,connecting:S.value,connectablestart:_.value,connectableend:p.value,connectionindicator:w.value&&(_.value&&!g.value||p.value&&g.value)}]]),onMousedown:x,onTouchstartPassive:x,onClick:N},[It(P.$slots,"default",{id:P.id})],42,j2))}}),Fs=function({sourcePosition:e=se.Bottom,targetPosition:t=se.Top,label:n,connectable:i=!0,isValidTargetPos:o,isValidSourcePos:r,data:s}){const u=s.label||n;return[Be(Xe,{type:"target",position:t,connectable:i,isValidConnection:o}),typeof u!="string"&&u?Be(u):Be(Ie,[u]),Be(Xe,{type:"source",position:e,connectable:i,isValidConnection:r})]};Fs.props=["sourcePosition","targetPosition","label","isValidTargetPos","isValidSourcePos","connectable","data"];Fs.inheritAttrs=!1;Fs.compatConfig={MODE:3};const Z2=Fs,Ps=function({targetPosition:e=se.Top,label:t,connectable:n=!0,isValidTargetPos:i,data:o}){const r=o.label||t;return[Be(Xe,{type:"target",position:e,connectable:n,isValidConnection:i}),typeof r!="string"&&r?Be(r):Be(Ie,[r])]};Ps.props=["targetPosition","label","isValidTargetPos","connectable","data"];Ps.inheritAttrs=!1;Ps.compatConfig={MODE:3};const Y2=Ps,Os=function({sourcePosition:e=se.Bottom,label:t,connectable:n=!0,isValidSourcePos:i,data:o}){const r=o.label||t;return[typeof r!="string"&&r?Be(r):Be(Ie,[r]),Be(Xe,{type:"source",position:e,connectable:n,isValidConnection:i})]};Os.props=["sourcePosition","label","isValidSourcePos","connectable","data"];Os.inheritAttrs=!1;Os.compatConfig={MODE:3};const X2=Os,K2=["transform"],J2=["width","height","x","y","rx","ry"],Q2=["y"],ew={name:"EdgeText",compatConfig:{MODE:3}},tw=be({...ew,props:{x:{},y:{},label:{},labelStyle:{default:()=>({})},labelShowBg:{type:Boolean,default:!0},labelBgStyle:{default:()=>({})},labelBgPadding:{default:()=>[2,4]},labelBgBorderRadius:{default:2}},setup(e){const t=le({x:0,y:0,width:0,height:0}),n=le(null),i=ve(()=>`translate(${e.x-t.value.width/2} ${e.y-t.value.height/2})`);ft(o),ke([()=>e.x,()=>e.y,n,()=>e.label],o);function o(){if(!n.value)return;const r=n.value.getBBox();(r.width!==t.value.width||r.height!==t.value.height)&&(t.value=r)}return(r,s)=>(X(),te("g",{transform:i.value,class:"vue-flow__edge-textwrapper"},[r.labelShowBg?(X(),te("rect",{key:0,class:"vue-flow__edge-textbg",width:`${t.value.width+2*r.labelBgPadding[0]}px`,height:`${t.value.height+2*r.labelBgPadding[1]}px`,x:-r.labelBgPadding[0],y:-r.labelBgPadding[1],style:vt(r.labelBgStyle),rx:r.labelBgBorderRadius,ry:r.labelBgBorderRadius},null,12,J2)):Me("",!0),L("text",ul(r.$attrs,{ref_key:"el",ref:n,class:"vue-flow__edge-text",y:t.value.height/2,dy:"0.3em",style:r.labelStyle}),[It(r.$slots,"default",{},()=>[typeof r.label!="string"?(X(),Ye(fh(r.label),{key:0})):(X(),te(Ie,{key:1},[tt(Ee(r.label),1)],64))])],16,Q2)],8,K2))}}),nw=["id","d","marker-end","marker-start"],iw=["d","stroke-width"],ow={name:"BaseEdge",inheritAttrs:!1,compatConfig:{MODE:3}},Ls=be({...ow,props:{id:{},labelX:{},labelY:{},path:{},label:{},markerStart:{},markerEnd:{},interactionWidth:{default:20},labelStyle:{},labelShowBg:{type:Boolean},labelBgStyle:{},labelBgPadding:{},labelBgBorderRadius:{}},setup(e,{expose:t}){const n=le(null),i=le(null),o=le(null),r=Km();return t({pathEl:n,interactionEl:i,labelEl:o}),(s,u)=>(X(),te(Ie,null,[L("path",ul(V(r),{id:s.id,ref_key:"pathEl",ref:n,d:s.path,class:"vue-flow__edge-path","marker-end":s.markerEnd,"marker-start":s.markerStart}),null,16,nw),s.interactionWidth?(X(),te("path",{key:0,ref_key:"interactionEl",ref:i,fill:"none",d:s.path,"stroke-width":s.interactionWidth,"stroke-opacity":0,class:"vue-flow__edge-interaction"},null,8,iw)):Me("",!0),s.label&&s.labelX&&s.labelY?(X(),Ye(tw,{key:1,ref_key:"labelEl",ref:o,x:s.labelX,y:s.labelY,label:s.label,"label-show-bg":s.labelShowBg,"label-bg-style":s.labelBgStyle,"label-bg-padding":s.labelBgPadding,"label-bg-border-radius":s.labelBgBorderRadius,"label-style":s.labelStyle},null,8,["x","y","label","label-show-bg","label-bg-style","label-bg-padding","label-bg-border-radius","label-style"])):Me("",!0)],64))}});function ip({sourceX:e,sourceY:t,targetX:n,targetY:i}){const o=Math.abs(n-e)/2,r=n<e?n+o:n-o,s=Math.abs(i-t)/2,u=i<t?i+s:i-s;return[r,u,o,s]}function op({sourceX:e,sourceY:t,targetX:n,targetY:i,sourceControlX:o,sourceControlY:r,targetControlX:s,targetControlY:u}){const a=e*.125+o*.375+s*.375+n*.125,l=t*.125+r*.375+u*.375+i*.125,c=Math.abs(a-e),d=Math.abs(l-t);return[a,l,c,d]}function kr(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function id({pos:e,x1:t,y1:n,x2:i,y2:o,c:r}){let s,u;switch(e){case se.Left:s=t-kr(t-i,r),u=n;break;case se.Right:s=t+kr(i-t,r),u=n;break;case se.Top:s=t,u=n-kr(n-o,r);break;case se.Bottom:s=t,u=n+kr(o-n,r);break}return[s,u]}function rp(e){const{sourceX:t,sourceY:n,sourcePosition:i=se.Bottom,targetX:o,targetY:r,targetPosition:s=se.Top,curvature:u=.25}=e,[a,l]=id({pos:i,x1:t,y1:n,x2:o,y2:r,c:u}),[c,d]=id({pos:s,x1:o,y1:r,x2:t,y2:n,c:u}),[f,h,m,b]=op({sourceX:t,sourceY:n,targetX:o,targetY:r,sourceControlX:a,sourceControlY:l,targetControlX:c,targetControlY:d});return[`M${t},${n} C${a},${l} ${c},${d} ${o},${r}`,f,h,m,b]}function od({pos:e,x1:t,y1:n,x2:i,y2:o}){let r,s;switch(e){case se.Left:case se.Right:r=.5*(t+i),s=n;break;case se.Top:case se.Bottom:r=t,s=.5*(n+o);break}return[r,s]}function sp(e){const{sourceX:t,sourceY:n,sourcePosition:i=se.Bottom,targetX:o,targetY:r,targetPosition:s=se.Top}=e,[u,a]=od({pos:i,x1:t,y1:n,x2:o,y2:r}),[l,c]=od({pos:s,x1:o,y1:r,x2:t,y2:n}),[d,f,h,m]=op({sourceX:t,sourceY:n,targetX:o,targetY:r,sourceControlX:u,sourceControlY:a,targetControlX:l,targetControlY:c});return[`M${t},${n} C${u},${a} ${l},${c} ${o},${r}`,d,f,h,m]}const rd={[se.Left]:{x:-1,y:0},[se.Right]:{x:1,y:0},[se.Top]:{x:0,y:-1},[se.Bottom]:{x:0,y:1}};function rw({source:e,sourcePosition:t=se.Bottom,target:n}){return t===se.Left||t===se.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1}}function sd(e,t){return Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2)}function sw({source:e,sourcePosition:t=se.Bottom,target:n,targetPosition:i=se.Top,center:o,offset:r}){const s=rd[t],u=rd[i],a={x:e.x+s.x*r,y:e.y+s.y*r},l={x:n.x+u.x*r,y:n.y+u.y*r},c=rw({source:a,sourcePosition:t,target:l}),d=c.x!==0?"x":"y",f=c[d];let h,m,b;const v={x:0,y:0},y={x:0,y:0},[_,p,g,S]=ip({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(s[d]*u[d]===-1){m=o.x??_,b=o.y??p;const F=[{x:m,y:a.y},{x:m,y:l.y}],w=[{x:a.x,y:b},{x:l.x,y:b}];s[d]===f?h=d==="x"?F:w:h=d==="x"?w:F}else{const F=[{x:a.x,y:l.y}],w=[{x:l.x,y:a.y}];if(d==="x"?h=s.x===f?w:F:h=s.y===f?F:w,t===i){const z=Math.abs(e[d]-n[d]);if(z<=r){const M=Math.min(r-1,r-z);s[d]===f?v[d]=(a[d]>e[d]?-1:1)*M:y[d]=(l[d]>n[d]?-1:1)*M}}if(t!==i){const z=d==="x"?"y":"x",M=s[d]===u[z],U=a[z]>l[z],$=a[z]<l[z];(s[d]===1&&(!M&&U||M&&$)||s[d]!==1&&(!M&&$||M&&U))&&(h=d==="x"?F:w)}const x={x:a.x+v.x,y:a.y+v.y},N={x:l.x+y.x,y:l.y+y.y},P=Math.max(Math.abs(x.x-h[0].x),Math.abs(N.x-h[0].x)),E=Math.max(Math.abs(x.y-h[0].y),Math.abs(N.y-h[0].y));P>=E?(m=(x.x+N.x)/2,b=h[0].y):(m=h[0].x,b=(x.y+N.y)/2)}return[[e,{x:a.x+v.x,y:a.y+v.y},...h,{x:l.x+y.x,y:l.y+y.y},n],m,b,g,S]}function uw(e,t,n,i){const o=Math.min(sd(e,t)/2,sd(t,n)/2,i),{x:r,y:s}=t;if(e.x===r&&r===n.x||e.y===s&&s===n.y)return`L${r} ${s}`;if(e.y===s){const l=e.x<n.x?-1:1,c=e.y<n.y?1:-1;return`L ${r+o*l},${s}Q ${r},${s} ${r},${s+o*c}`}const u=e.x<n.x?1:-1,a=e.y<n.y?-1:1;return`L ${r},${s+o*a}Q ${r},${s} ${r+o*u},${s}`}function Ha(e){const{sourceX:t,sourceY:n,sourcePosition:i=se.Bottom,targetX:o,targetY:r,targetPosition:s=se.Top,borderRadius:u=5,centerX:a,centerY:l,offset:c=20}=e,[d,f,h,m,b]=sw({source:{x:t,y:n},sourcePosition:i,target:{x:o,y:r},targetPosition:s,center:{x:a,y:l},offset:c});return[d.reduce((y,_,p)=>{let g;return p>0&&p<d.length-1?g=uw(d[p-1],_,d[p+1],u):g=`${p===0?"M":"L"}${_.x} ${_.y}`,y+=g,y},""),f,h,m,b]}function aw(e){const{sourceX:t,sourceY:n,targetX:i,targetY:o}=e,[r,s,u,a]=ip({sourceX:t,sourceY:n,targetX:i,targetY:o});return[`M ${t},${n}L ${i},${o}`,r,s,u,a]}const lw=be({name:"StraightEdge",props:["label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{const[n,i,o]=aw(e);return Be(Ls,{path:n,labelX:i,labelY:o,...t,...e})}}}),cw=lw,dw=be({name:"SmoothStepEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","borderRadius","markerEnd","markerStart","interactionWidth","offset"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{const[n,i,o]=Ha({...e,sourcePosition:e.sourcePosition??se.Bottom,targetPosition:e.targetPosition??se.Top});return Be(Ls,{path:n,labelX:i,labelY:o,...t,...e})}}}),up=dw,fw=be({name:"StepEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],setup(e,{attrs:t}){return()=>Be(up,{...e,...t,borderRadius:0})}}),hw=fw,pw=be({name:"BezierEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","curvature","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{const[n,i,o]=rp({...e,sourcePosition:e.sourcePosition??se.Bottom,targetPosition:e.targetPosition??se.Top});return Be(Ls,{path:n,labelX:i,labelY:o,...t,...e})}}}),mw=pw,gw=be({name:"SimpleBezierEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{const[n,i,o]=sp({...e,sourcePosition:e.sourcePosition??se.Bottom,targetPosition:e.targetPosition??se.Top});return Be(Ls,{path:n,labelX:i,labelY:o,...t,...e})}}}),_w=gw,vw={input:X2,default:Z2,output:Y2},bw={default:mw,straight:cw,step:hw,smoothstep:up,simplebezier:_w};function yw(e,t,n){const i=ve(()=>b=>t.value.get(b)),o=ve(()=>b=>n.value.get(b)),r=ve(()=>{const b={...bw,...e.edgeTypes},v=Object.keys(b);for(const y of e.edges)y.type&&!v.includes(y.type)&&(b[y.type]=y.type);return b}),s=ve(()=>{const b={...vw,...e.nodeTypes},v=Object.keys(b);for(const y of e.nodes)y.type&&!v.includes(y.type)&&(b[y.type]=y.type);return b}),u=ve(()=>e.onlyRenderVisibleElements?U0(e.nodes,{x:0,y:0,width:e.dimensions.width,height:e.dimensions.height},e.viewport,!0):e.nodes),a=ve(()=>{if(e.onlyRenderVisibleElements){const b=[];for(const v of e.edges){const y=t.value.get(v.source),_=t.value.get(v.target);v2({sourcePos:y.computedPosition||{x:0,y:0},targetPos:_.computedPosition||{x:0,y:0},sourceWidth:y.dimensions.width,sourceHeight:y.dimensions.height,targetWidth:_.dimensions.width,targetHeight:_.dimensions.height,width:e.dimensions.width,height:e.dimensions.height,viewport:e.viewport})&&b.push(v)}return b}return e.edges}),l=ve(()=>[...u.value,...a.value]),c=ve(()=>{const b=[];for(const v of e.nodes)v.selected&&b.push(v);return b}),d=ve(()=>{const b=[];for(const v of e.edges)v.selected&&b.push(v);return b}),f=ve(()=>[...c.value,...d.value]),h=ve(()=>{const b=[];for(const v of e.nodes)v.dimensions.width&&v.dimensions.height&&v.handleBounds!==void 0&&b.push(v);return b}),m=ve(()=>u.value.length>0&&h.value.length===u.value.length);return{getNode:i,getEdge:o,getElements:l,getEdgeTypes:r,getNodeTypes:s,getEdges:a,getNodes:u,getSelectedElements:f,getSelectedNodes:c,getSelectedEdges:d,getNodesInitialized:h,areNodesInitialized:m}}class fi{constructor(){this.currentId=0,this.flows=new Map}static getInstance(){var t;const n=(t=ii())==null?void 0:t.appContext.app,i=(n==null?void 0:n.config.globalProperties.$vueFlowStorage)??fi.instance;return fi.instance=i??new fi,n&&(n.config.globalProperties.$vueFlowStorage=fi.instance),fi.instance}set(t,n){return this.flows.set(t,n)}get(t){return this.flows.get(t)}remove(t){return this.flows.delete(t)}create(t,n){const i=np(),o=gs(i),r={};for(const[f,h]of Object.entries(o.hooks)){const m=`on${f.charAt(0).toUpperCase()+f.slice(1)}`;r[m]=h.on}const s={};for(const[f,h]of Object.entries(o.hooks))s[f]=h.trigger;const u=ve(()=>{const f=new Map;for(const h of o.nodes)f.set(h.id,h);return f}),a=ve(()=>{const f=new Map;for(const h of o.edges)f.set(h.id,h);return f}),l=yw(o,u,a),c=G2(o,u,a);c.setState({...o,...n});const d={...r,...l,...c,...y_(o),nodeLookup:u,edgeLookup:a,emits:s,id:t,vueFlowVersion:"1.42.1",$destroy:()=>{this.remove(t)}};return this.set(t,d),d}getId(){return`vue-flow-${this.currentId++}`}}function Te(e){const t=fi.getInstance(),n=Xa(),i=typeof e=="object",o=i?e:{id:e},r=o.id,s=r??(n==null?void 0:n.vueFlowId);let u;if(n){const a=Zt(nd,null);typeof a<"u"&&a!==null&&(!s||a.id===s)&&(u=a)}if(u||s&&(u=t.get(s)),!u||s&&u.id!==s){const a=r??t.getId(),l=t.create(a,o);u=l,(n??Ff(!0)).run(()=>{ke(l.applyDefault,(d,f,h)=>{const m=v=>{l.applyNodeChanges(v)},b=v=>{l.applyEdgeChanges(v)};d?(l.onNodesChange(m),l.onEdgesChange(b)):(l.hooks.value.nodesChange.off(m),l.hooks.value.edgesChange.off(b)),h(()=>{l.hooks.value.nodesChange.off(m),l.hooks.value.edgesChange.off(b)})},{immediate:!0}),Ss(()=>{if(u){const d=t.get(u.id);d?d.$destroy():ao(`No store instance found for id ${u.id} in storage.`)}})})}else i&&u.setState(o);if(n&&(Wn(nd,u),n.vueFlowId=u.id),i){const a=ii();(a==null?void 0:a.type.name)!=="VueFlow"&&u.emits.error(new st(it.USEVUEFLOW_OPTIONS))}return u}function ww(e){const{emits:t,dimensions:n}=Te();let i;ft(()=>{const o=e.value,r=()=>{if(!o)return;const s=Ts(o);(s.width===0||s.height===0)&&t.error(new st(it.MISSING_VIEWPORT_DIMENSIONS)),n.value={width:s.width||500,height:s.height||500}};r(),window.addEventListener("resize",r),o&&(i=new ResizeObserver(()=>r()),i.observe(o)),so(()=>{window.removeEventListener("resize",r),i&&o&&i.unobserve(o)})})}const xw={name:"UserSelection",compatConfig:{MODE:3}},Cw=be({...xw,props:{userSelectionRect:{}},setup(e){return(t,n)=>(X(),te("div",{class:"vue-flow__selection vue-flow__container",style:vt({width:`${t.userSelectionRect.width}px`,height:`${t.userSelectionRect.height}px`,transform:`translate(${t.userSelectionRect.x}px, ${t.userSelectionRect.y}px)`})},null,4))}}),Ew=["tabIndex"],Sw={name:"NodesSelection",compatConfig:{MODE:3}},kw=be({...Sw,setup(e){const{emits:t,viewport:n,getSelectedNodes:i,noPanClassName:o,disableKeyboardA11y:r,userSelectionActive:s}=Te(),u=tp(),a=le(null),l=Q0({el:a,onStart(m){t.selectionDragStart(m)},onDrag(m){t.selectionDrag(m)},onStop(m){t.selectionDragStop(m)}});ft(()=>{var m;r.value||(m=a.value)==null||m.focus({preventScroll:!0})});const c=ve(()=>V0(i.value)),d=ve(()=>({width:`${c.value.width}px`,height:`${c.value.height}px`,top:`${c.value.y}px`,left:`${c.value.x}px`}));function f(m){t.selectionContextMenu({event:m,nodes:i.value})}function h(m){r||qi[m.key]&&(m.preventDefault(),u({x:qi[m.key].x,y:qi[m.key].y},m.shiftKey))}return(m,b)=>!V(s)&&c.value.width&&c.value.height?(X(),te("div",{key:0,class:Ve(["vue-flow__nodesselection vue-flow__container",V(o)]),style:vt({transform:`translate(${V(n).x}px,${V(n).y}px) scale(${V(n).zoom})`})},[L("div",{ref_key:"el",ref:a,class:Ve([{dragging:V(l)},"vue-flow__nodesselection-rect"]),style:vt(d.value),tabIndex:V(r)?void 0:-1,onContextmenu:f,onKeydown:h},null,46,Ew)],6)):Me("",!0)}});function Iw(e,t){return{x:e.clientX-t.left,y:e.clientY-t.top}}const Aw={name:"Pane",compatConfig:{MODE:3}},Dw=be({...Aw,props:{isSelecting:{type:Boolean},selectionKeyPressed:{type:Boolean}},setup(e){const{vueFlowRef:t,nodes:n,viewport:i,emits:o,userSelectionActive:r,removeSelectedElements:s,userSelectionRect:u,elementsSelectable:a,nodesSelectionActive:l,getSelectedEdges:c,getSelectedNodes:d,removeNodes:f,removeEdges:h,selectionMode:m,deleteKeyCode:b,multiSelectionKeyCode:v,multiSelectionActive:y,edgeLookup:_,nodeLookup:p,connectionLookup:g,defaultEdgeOptions:S}=Te(),C=le(null),F=le(new Set),w=le(new Set),x=le(),N=We(()=>a.value&&(e.isSelecting||r.value));let P=!1,E=!1;const z=To(b,{actInsideInputWithModifier:!1}),M=To(v);ke(z,K=>{K&&(f(d.value),h(c.value),l.value=!1)}),ke(M,K=>{y.value=K});function U(K,R){return H=>{H.target===R&&(K==null||K(H))}}function $(K){if(P){P=!1;return}o.paneClick(K),s(),l.value=!1}function Z(K){K.preventDefault(),K.stopPropagation(),o.paneContextMenu(K)}function Y(K){o.paneScroll(K)}function ne(K){var R,H,G;if(x.value=(R=t.value)==null?void 0:R.getBoundingClientRect(),!a.value||!e.isSelecting||K.button!==0||K.target!==C.value||!x.value)return;(G=(H=K.target)==null?void 0:H.setPointerCapture)==null||G.call(H,K.pointerId);const{x:J,y:ue}=Iw(K,x.value);E=!0,P=!1,s(),u.value={width:0,height:0,startX:J,startY:ue,x:J,y:ue},o.selectionStart(K)}function ie(K){var R;if(!x.value||!u.value)return;P=!0;const{x:H,y:G}=jn(K,x.value),{startX:J=0,startY:ue=0}=u.value,pe={startX:J,startY:ue,x:H<J?H:J,y:G<ue?G:ue,width:Math.abs(H-J),height:Math.abs(G-ue)},fe=F.value,ge=w.value;F.value=new Set(U0(n.value,pe,i.value,m.value===_l.Partial,!0).map(T=>T.id)),w.value=new Set;const me=((R=S.value)==null?void 0:R.selectable)??!0;for(const T of F.value){const O=g.value.get(T);if(O)for(const{edgeId:k}of O.values()){const I=_.value.get(k);I&&(I.selectable??me)&&w.value.add(k)}}if(!td(fe,F.value)){const T=Bn(p.value,F.value,!0);o.nodesChange(T)}if(!td(ge,w.value)){const T=Bn(_.value,w.value);o.edgesChange(T)}u.value=pe,r.value=!0,l.value=!1}function ae(K){var R;K.button!==0||!E||((R=K.target)==null||R.releasePointerCapture(K.pointerId),!r.value&&u.value&&K.target===C.value&&$(K),r.value=!1,u.value=null,l.value=F.value.size>0,o.selectionEnd(K),e.selectionKeyPressed&&(P=!1),E=!1)}return(K,R)=>(X(),te("div",{ref_key:"container",ref:C,class:Ve(["vue-flow__pane vue-flow__container",{selection:K.isSelecting}]),onClick:R[0]||(R[0]=H=>N.value?void 0:U($,C.value)(H)),onContextmenu:R[1]||(R[1]=H=>U(Z,C.value)(H)),onWheelPassive:R[2]||(R[2]=H=>U(Y,C.value)(H)),onPointerenter:R[3]||(R[3]=H=>N.value?void 0:V(o).paneMouseEnter(H)),onPointerdown:R[4]||(R[4]=H=>N.value?ne(H):V(o).paneMouseMove(H)),onPointermove:R[5]||(R[5]=H=>N.value?ie(H):V(o).paneMouseMove(H)),onPointerup:R[6]||(R[6]=H=>N.value?ae(H):void 0),onPointerleave:R[7]||(R[7]=H=>V(o).paneMouseLeave(H))},[It(K.$slots,"default"),V(r)&&V(u)?(X(),Ye(Cw,{key:0,"user-selection-rect":V(u)},null,8,["user-selection-rect"])):Me("",!0),V(l)&&V(d).length?(X(),Ye(kw,{key:1})):Me("",!0)],34))}}),Tw={name:"Transform",compatConfig:{MODE:3}},Mw=be({...Tw,setup(e){const{viewport:t,fitViewOnInit:n,fitViewOnInitDone:i}=Te(),o=ve(()=>n.value?!i.value:!1),r=ve(()=>`translate(${t.value.x}px,${t.value.y}px) scale(${t.value.zoom})`);return(s,u)=>(X(),te("div",{class:"vue-flow__transformationpane vue-flow__container",style:vt({transform:r.value,opacity:o.value?0:void 0})},[It(s.$slots,"default")],4))}}),Nw={name:"Viewport",compatConfig:{MODE:3}},Fw=be({...Nw,setup(e){const{minZoom:t,maxZoom:n,defaultViewport:i,translateExtent:o,zoomActivationKeyCode:r,selectionKeyCode:s,panActivationKeyCode:u,panOnScroll:a,panOnScrollMode:l,panOnScrollSpeed:c,panOnDrag:d,zoomOnDoubleClick:f,zoomOnPinch:h,zoomOnScroll:m,preventScrolling:b,noWheelClassName:v,noPanClassName:y,emits:_,connectionStartHandle:p,userSelectionActive:g,paneDragging:S,d3Zoom:C,d3Selection:F,d3ZoomHandler:w,viewport:x,viewportRef:N,paneClickDistance:P}=Te();ww(N);const E=le(!1),z=le(!1);let M=null,U=!1,$=0,Z={x:0,y:0,zoom:0};const Y=To(u),ne=To(s),ie=To(r),ae=We(()=>(!ne.value||ne.value&&s.value===!0)&&(Y.value||d.value)),K=We(()=>Y.value||a.value),R=We(()=>ne.value||s.value===!0&&ae.value!==!0);ft(()=>{if(!N.value){ao("Viewport element is missing");return}const fe=N.value,ge=fe.getBoundingClientRect(),me=t2().clickDistance(P.value).scaleExtent([t.value,n.value]).translateExtent(o.value),T=Gt(fe).call(me),O=T.on("wheel.zoom"),k=eo.translate(i.value.x??0,i.value.y??0).scale(Ii(i.value.zoom??1,t.value,n.value)),I=[[0,0],[ge.width,ge.height]],A=me.constrain()(k,I,o.value);me.transform(T,A),me.wheelDelta(G),C.value=me,F.value=T,w.value=O,x.value={x:A.x,y:A.y,zoom:A.k},me.on("start",D=>{var B;if(!D.sourceEvent)return null;$=D.sourceEvent.button,E.value=!0;const j=ue(D.transform);((B=D.sourceEvent)==null?void 0:B.type)==="mousedown"&&(S.value=!0),Z=j,_.viewportChangeStart(j),_.moveStart({event:D,flowTransform:j})}),me.on("end",D=>{if(!D.sourceEvent)return null;if(E.value=!1,S.value=!1,H(ae.value,$??0)&&!U&&_.paneContextMenu(D.sourceEvent),U=!1,J(Z,D.transform)){const B=ue(D.transform);Z=B,_.viewportChangeEnd(B),_.moveEnd({event:D,flowTransform:B})}}),me.filter(D=>{var B;const j=ie.value||m.value,W=h.value&&D.ctrlKey,q=D.button;if(q===1&&D.type==="mousedown"&&(pe(D,"vue-flow__node")||pe(D,"vue-flow__edge")))return!0;if(!ae.value&&!j&&!K.value&&!f.value&&!h.value||g.value||!f.value&&D.type==="dblclick"||pe(D,v.value)&&D.type==="wheel"||pe(D,y.value)&&(D.type!=="wheel"||K.value&&D.type==="wheel"&&!ie.value)||!h.value&&D.ctrlKey&&D.type==="wheel"||!j&&!K.value&&!W&&D.type==="wheel")return!1;if(!h&&D.type==="touchstart"&&((B=D.touches)==null?void 0:B.length)>1)return D.preventDefault(),!1;if(!ae.value&&(D.type==="mousedown"||D.type==="touchstart")||s.value===!0&&Array.isArray(d.value)&&d.value.includes(0)&&q===0||Array.isArray(d.value)&&!d.value.includes(q)&&(D.type==="mousedown"||D.type==="touchstart"))return!1;const ee=Array.isArray(d.value)&&d.value.includes(q)||s.value===!0&&Array.isArray(d.value)&&!d.value.includes(0)||!q||q<=1;return(!D.ctrlKey||Y.value||D.type==="wheel")&&ee}),ke([g,ae],()=>{g.value&&!E.value?me.on("zoom",null):g.value||me.on("zoom",D=>{x.value={x:D.transform.x,y:D.transform.y,zoom:D.transform.k};const B=ue(D.transform);U=H(ae.value,$??0),_.viewportChange(B),_.move({event:D,flowTransform:B})})},{immediate:!0}),ke([g,K,l,ie,h,b,v],()=>{K.value&&!ie.value&&!g.value?T.on("wheel.zoom",D=>{if(pe(D,v.value))return!1;const B=ie.value||m.value,j=h.value&&D.ctrlKey;if(!(!b.value||K.value||B||j))return!1;D.preventDefault(),D.stopImmediatePropagation();const q=T.property("__zoom").k||1,ee=rs();if(!Y.value&&D.ctrlKey&&h.value&&ee){const Ne=un(D),Oe=G(D),bt=q*2**Oe;me.scaleTo(T,bt,Ne,D);return}const Q=D.deltaMode===1?20:1;let re=l.value===Do.Vertical?0:D.deltaX*Q,ce=l.value===Do.Horizontal?0:D.deltaY*Q;!ee&&D.shiftKey&&l.value!==Do.Vertical&&!re&&ce&&(re=ce,ce=0),me.translateBy(T,-(re/q)*c.value,-(ce/q)*c.value);const xe=ue(T.property("__zoom"));M&&clearTimeout(M),z.value?(_.move({event:D,flowTransform:xe}),_.viewportChange(xe),M=setTimeout(()=>{_.moveEnd({event:D,flowTransform:xe}),_.viewportChangeEnd(xe),z.value=!1},150)):(z.value=!0,_.moveStart({event:D,flowTransform:xe}),_.viewportChangeStart(xe))},{passive:!1}):typeof O<"u"&&T.on("wheel.zoom",function(D,B){const j=!b.value&&D.type==="wheel"&&!D.ctrlKey,W=ie.value||m.value,q=h.value&&D.ctrlKey;if(!W&&!a.value&&!q&&D.type==="wheel"||j||pe(D,v.value))return null;D.preventDefault(),O.call(this,D,B)},{passive:!1})},{immediate:!0})});function H(fe,ge){return ge===2&&Array.isArray(fe)&&fe.includes(2)}function G(fe){const ge=fe.ctrlKey&&rs()?10:1;return-fe.deltaY*(fe.deltaMode===1?.05:fe.deltaMode?1:.002)*ge}function J(fe,ge){return fe.x!==ge.x&&!Number.isNaN(ge.x)||fe.y!==ge.y&&!Number.isNaN(ge.y)||fe.zoom!==ge.k&&!Number.isNaN(ge.k)}function ue(fe){return{x:fe.x,y:fe.y,zoom:fe.k}}function pe(fe,ge){return fe.target.closest(`.${ge}`)}return(fe,ge)=>(X(),te("div",{ref_key:"viewportRef",ref:N,class:"vue-flow__viewport vue-flow__container"},[he(Dw,{"is-selecting":R.value,"selection-key-pressed":V(ne),class:Ve({connecting:!!V(p),dragging:V(S),draggable:V(d)===!0||Array.isArray(V(d))&&V(d).includes(0)})},{default:Le(()=>[he(Mw,null,{default:Le(()=>[It(fe.$slots,"default")]),_:3})]),_:3},8,["is-selecting","selection-key-pressed","class"])],512))}}),Pw=["id"],Ow=["id"],Lw=["id"],zw={name:"A11yDescriptions",compatConfig:{MODE:3}},Rw=be({...zw,setup(e){const{id:t,disableKeyboardA11y:n,ariaLiveMessage:i}=Te();return(o,r)=>(X(),te(Ie,null,[L("div",{id:`${V(P0)}-${V(t)}`,style:{display:"none"}}," Press enter or space to select a node. "+Ee(V(n)?"":"You can then use the arrow keys to move the node around.")+" You can then use the arrow keys to move the node around, press delete to remove it and press escape to cancel. ",9,Pw),L("div",{id:`${V(O0)}-${V(t)}`,style:{display:"none"}}," Press enter or space to select an edge. You can then press delete to remove it or press escape to cancel. ",8,Ow),V(n)?Me("",!0):(X(),te("div",{key:0,id:`${V(r2)}-${V(t)}`,"aria-live":"assertive","aria-atomic":"true",style:{position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)","clip-path":"inset(100%)"}},Ee(V(i)),9,Lw))],64))}});function $w(){const e=Te();ke(()=>e.viewportHelper.value.viewportInitialized,t=>{t&&setTimeout(()=>{e.emits.init(e),e.emits.paneReady(e)},1)})}function Bw(e,t,n){return n===se.Left?e-t:n===se.Right?e+t:e}function Hw(e,t,n){return n===se.Top?e-t:n===se.Bottom?e+t:e}const wl=function({radius:e=10,centerX:t=0,centerY:n=0,position:i=se.Top,type:o}){return Be("circle",{class:`vue-flow__edgeupdater vue-flow__edgeupdater-${o}`,cx:Bw(t,e,i),cy:Hw(n,e,i),r:e,stroke:"transparent",fill:"transparent"})};wl.props=["radius","centerX","centerY","position","type"];wl.compatConfig={MODE:3};const ud=wl,Vw=be({name:"Edge",compatConfig:{MODE:3},props:["id"],setup(e){const{id:t,addSelectedEdges:n,connectionMode:i,edgeUpdaterRadius:o,emits:r,nodesSelectionActive:s,noPanClassName:u,getEdgeTypes:a,removeSelectedEdges:l,findEdge:c,findNode:d,isValidConnection:f,multiSelectionActive:h,disableKeyboardA11y:m,elementsSelectable:b,edgesUpdatable:v,edgesFocusable:y,hooks:_}=Te(),p=ve(()=>c(e.id)),{emit:g,on:S}=O2(p.value,r),C=Zt(Ns),F=ii(),w=le(!1),x=le(!1),N=le(""),P=le(null),E=le("source"),z=le(null),M=We(()=>typeof p.value.selectable>"u"?b.value:p.value.selectable),U=We(()=>typeof p.value.updatable>"u"?v.value:p.value.updatable),$=We(()=>typeof p.value.focusable>"u"?y.value:p.value.focusable);Wn(N2,e.id),Wn(F2,z);const Z=ve(()=>p.value.class instanceof Function?p.value.class(p.value):p.value.class),Y=ve(()=>p.value.style instanceof Function?p.value.style(p.value):p.value.style),ne=ve(()=>{const I=p.value.type||"default",A=C==null?void 0:C[`edge-${I}`];if(A)return A;let D=p.value.template??a.value[I];if(typeof D=="string"&&F){const B=Object.keys(F.appContext.components);B&&B.includes(I)&&(D=ol(I,!1))}return D&&typeof D!="string"?D:(r.error(new st(it.EDGE_TYPE_MISSING,D)),!1)}),{handlePointerDown:ie}=ep({nodeId:N,handleId:P,type:E,isValidConnection:f,edgeUpdaterType:E,onEdgeUpdate:R,onEdgeUpdateEnd:H});return()=>{const I=d(p.value.source),A=d(p.value.target),D="pathOptions"in p.value?p.value.pathOptions:{};if(!I&&!A)return r.error(new st(it.EDGE_SOURCE_TARGET_MISSING,p.value.id,p.value.source,p.value.target)),null;if(!I)return r.error(new st(it.EDGE_SOURCE_MISSING,p.value.id,p.value.source)),null;if(!A)return r.error(new st(it.EDGE_TARGET_MISSING,p.value.id,p.value.target)),null;if(!p.value||p.value.hidden||I.hidden||A.hidden)return null;let B;i.value===Jn.Strict?B=I.handleBounds.source:B=[...I.handleBounds.source||[],...I.handleBounds.target||[]];const j=Zc(B,p.value.sourceHandle);let W;i.value===Jn.Strict?W=A.handleBounds.target:W=[...A.handleBounds.target||[],...A.handleBounds.source||[]];const q=Zc(W,p.value.targetHandle),ee=(j==null?void 0:j.position)||se.Bottom,Q=(q==null?void 0:q.position)||se.Top,{x:re,y:ce}=to(I,j,ee),{x:xe,y:Ne}=to(A,q,Q);return p.value.sourceX=re,p.value.sourceY=ce,p.value.targetX=xe,p.value.targetY=Ne,Be("g",{ref:z,key:e.id,"data-id":e.id,class:["vue-flow__edge",`vue-flow__edge-${ne.value===!1?"default":p.value.type||"default"}`,u.value,Z.value,{updating:w.value,selected:p.value.selected,animated:p.value.animated,inactive:!M.value&&!_.value.edgeClick.hasListeners()}],onClick:J,onContextmenu:ue,onDblclick:pe,onMouseenter:fe,onMousemove:ge,onMouseleave:me,onKeyDown:$.value?k:void 0,tabIndex:$.value?0:void 0,"aria-label":p.value.ariaLabel===null?void 0:p.value.ariaLabel||`Edge from ${p.value.source} to ${p.value.target}`,"aria-describedby":$.value?`${O0}-${t}`:void 0,role:$.value?"button":"img"},[x.value?null:Be(ne.value===!1?a.value.default:ne.value,{id:e.id,sourceNode:I,targetNode:A,source:p.value.source,target:p.value.target,type:p.value.type,updatable:U.value,selected:p.value.selected,animated:p.value.animated,label:p.value.label,labelStyle:p.value.labelStyle,labelShowBg:p.value.labelShowBg,labelBgStyle:p.value.labelBgStyle,labelBgPadding:p.value.labelBgPadding,labelBgBorderRadius:p.value.labelBgBorderRadius,data:p.value.data,events:{...p.value.events,...S},style:Y.value,markerStart:`url('#${Qo(p.value.markerStart,t)}')`,markerEnd:`url('#${Qo(p.value.markerEnd,t)}')`,sourcePosition:ee,targetPosition:Q,sourceX:re,sourceY:ce,targetX:xe,targetY:Ne,sourceHandleId:p.value.sourceHandle,targetHandleId:p.value.targetHandle,interactionWidth:p.value.interactionWidth,...D}),[U.value==="source"||U.value===!0?[Be("g",{onMousedown:T,onMouseenter:ae,onMouseout:K},Be(ud,{position:ee,centerX:re,centerY:ce,radius:o.value,type:"source","data-type":"source"}))]:null,U.value==="target"||U.value===!0?[Be("g",{onMousedown:O,onMouseenter:ae,onMouseout:K},Be(ud,{position:Q,centerX:xe,centerY:Ne,radius:o.value,type:"target","data-type":"target"}))]:null]])};function ae(){w.value=!0}function K(){w.value=!1}function R(I,A){g.update({event:I,edge:p.value,connection:A})}function H(I){g.updateEnd({event:I,edge:p.value}),x.value=!1}function G(I,A){I.button===0&&(x.value=!0,N.value=A?p.value.target:p.value.source,P.value=(A?p.value.targetHandle:p.value.sourceHandle)??"",E.value=A?"target":"source",g.updateStart({event:I,edge:p.value}),ie(I))}function J(I){var A;const D={event:I,edge:p.value};M.value&&(s.value=!1,p.value.selected&&h.value?(l([p.value]),(A=z.value)==null||A.blur()):n([p.value])),g.click(D)}function ue(I){g.contextMenu({event:I,edge:p.value})}function pe(I){g.doubleClick({event:I,edge:p.value})}function fe(I){g.mouseEnter({event:I,edge:p.value})}function ge(I){g.mouseMove({event:I,edge:p.value})}function me(I){g.mouseLeave({event:I,edge:p.value})}function T(I){G(I,!0)}function O(I){G(I,!1)}function k(I){var A;!m.value&&L0.includes(I.key)&&M.value&&(I.key==="Escape"?((A=z.value)==null||A.blur(),l([c(e.id)])):n([c(e.id)]))}}}),Uw=Vw,qw=be({name:"ConnectionLine",compatConfig:{MODE:3},setup(){var e;const{id:t,connectionMode:n,connectionStartHandle:i,connectionEndHandle:o,connectionPosition:r,connectionLineType:s,connectionLineStyle:u,connectionLineOptions:a,connectionStatus:l,viewport:c,findNode:d}=Te(),f=(e=Zt(Ns))==null?void 0:e["connection-line"],h=ve(()=>{var _;return d((_=i.value)==null?void 0:_.nodeId)}),m=ve(()=>{var _;return d((_=o.value)==null?void 0:_.nodeId)??null}),b=ve(()=>({x:(r.value.x-c.value.x)/c.value.zoom,y:(r.value.y-c.value.y)/c.value.zoom})),v=ve(()=>a.value.markerStart?`url(#${Qo(a.value.markerStart,t)})`:""),y=ve(()=>a.value.markerEnd?`url(#${Qo(a.value.markerEnd,t)})`:"");return()=>{var _,p,g;if(!h.value||!i.value)return null;const S=i.value.id,C=i.value.type,F=h.value.handleBounds;let w=(F==null?void 0:F[C])||[];if(n.value===Jn.Loose){const Y=(F==null?void 0:F[C==="source"?"target":"source"])||[];w=[...w,...Y]}if(!w)return null;const x=(S?w.find(Y=>Y.id===S):w[0])??null,N=(x==null?void 0:x.position)||se.Top,{x:P,y:E}=to(h.value,x,N);let z=null;m.value&&(n.value===Jn.Strict?z=((_=m.value.handleBounds[C==="source"?"target":"source"])==null?void 0:_.find(Y=>{var ne;return Y.id===((ne=o.value)==null?void 0:ne.id)}))||null:z=((p=[...m.value.handleBounds.source||[],...m.value.handleBounds.target||[]])==null?void 0:p.find(Y=>{var ne;return Y.id===((ne=o.value)==null?void 0:ne.id)}))||null);const M=((g=o.value)==null?void 0:g.position)??(N?$a[N]:null);if(!N||!M)return null;const U=s.value??a.value.type??di.Bezier;let $="";const Z={sourceX:P,sourceY:E,sourcePosition:N,targetX:b.value.x,targetY:b.value.y,targetPosition:M};return U===di.Bezier?[$]=rp(Z):U===di.Step?[$]=Ha({...Z,borderRadius:0}):U===di.SmoothStep?[$]=Ha(Z):U===di.SimpleBezier?[$]=sp(Z):$=`M${P},${E} ${b.value.x},${b.value.y}`,Be("svg",{class:"vue-flow__edges vue-flow__connectionline vue-flow__container"},Be("g",{class:"vue-flow__connection"},f?Be(f,{sourceX:P,sourceY:E,sourcePosition:N,targetX:b.value.x,targetY:b.value.y,targetPosition:M,sourceNode:h.value,sourceHandle:x,targetNode:m.value,targetHandle:z,markerEnd:y.value,markerStart:v.value,connectionStatus:l.value}):Be("path",{d:$,class:[a.value.class,l,"vue-flow__connection-path"],style:{...u.value,...a.value.style},"marker-end":y.value,"marker-start":v.value})))}}}),Gw=qw,jw=["id","markerWidth","markerHeight","markerUnits","orient"],Ww={name:"MarkerType",compatConfig:{MODE:3}},Zw=be({...Ww,props:{id:{},type:{},color:{default:"none"},width:{default:12.5},height:{default:12.5},markerUnits:{default:"strokeWidth"},orient:{default:"auto-start-reverse"},strokeWidth:{default:1}},setup(e){return(t,n)=>(X(),te("marker",{id:t.id,class:"vue-flow__arrowhead",viewBox:"-10 -10 20 20",refX:"0",refY:"0",markerWidth:`${t.width}`,markerHeight:`${t.height}`,markerUnits:t.markerUnits,orient:t.orient},[t.type===V(La).ArrowClosed?(X(),te("polyline",{key:0,style:vt({stroke:t.color,fill:t.color,strokeWidth:t.strokeWidth}),"stroke-linecap":"round","stroke-linejoin":"round",points:"-5,-4 0,0 -5,4 -5,-4"},null,4)):Me("",!0),t.type===V(La).Arrow?(X(),te("polyline",{key:1,style:vt({stroke:t.color,strokeWidth:t.strokeWidth}),"stroke-linecap":"round","stroke-linejoin":"round",fill:"none",points:"-5,-4 0,0 -5,4"},null,4)):Me("",!0)],8,jw))}}),Yw={class:"vue-flow__marker vue-flow__container"},Xw={name:"MarkerDefinitions",compatConfig:{MODE:3}},Kw=be({...Xw,setup(e){const{id:t,edges:n,connectionLineOptions:i,defaultMarkerColor:o}=Te(),r=ve(()=>{const s=new Set,u=[],a=l=>{if(l){const c=Qo(l,t);s.has(c)||(typeof l=="object"?u.push({...l,id:c,color:l.color||o.value}):u.push({id:c,color:o.value,type:l}),s.add(c))}};for(const l of[i.value.markerEnd,i.value.markerStart])a(l);for(const l of n.value)for(const c of[l.markerStart,l.markerEnd])a(c);return u.sort((l,c)=>l.id.localeCompare(c.id))});return(s,u)=>(X(),te("svg",Yw,[L("defs",null,[(X(!0),te(Ie,null,ht(r.value,a=>(X(),Ye(Zw,{id:a.id,key:a.id,type:a.type,color:a.color,width:a.width,height:a.height,markerUnits:a.markerUnits,"stroke-width":a.strokeWidth,orient:a.orient},null,8,["id","type","color","width","height","markerUnits","stroke-width","orient"]))),128))])]))}}),Jw={name:"Edges",compatConfig:{MODE:3}},Qw=be({...Jw,setup(e){const{findNode:t,getEdges:n,elevateEdgesOnSelect:i}=Te();return(o,r)=>(X(),te(Ie,null,[he(Kw),(X(!0),te(Ie,null,ht(V(n),s=>(X(),te("svg",{key:s.id,class:"vue-flow__edges vue-flow__container",style:vt({zIndex:V(b2)(s,V(t),V(i))})},[he(V(Uw),{id:s.id},null,8,["id"])],4))),128)),he(V(Gw))],64))}}),e3=be({name:"Node",compatConfig:{MODE:3},props:["id","resizeObserver"],setup(e){const{id:t,noPanClassName:n,selectNodesOnDrag:i,nodesSelectionActive:o,multiSelectionActive:r,emits:s,removeSelectedNodes:u,addSelectedNodes:a,updateNodeDimensions:l,onUpdateNodeInternals:c,getNodeTypes:d,nodeExtent:f,elevateNodesOnSelect:h,disableKeyboardA11y:m,ariaLiveMessage:b,snapToGrid:v,snapGrid:y,nodeDragThreshold:_,nodesDraggable:p,elementsSelectable:g,nodesConnectable:S,nodesFocusable:C,hooks:F}=Te(),w=le(null);Wn(J0,w),Wn(K0,e.id);const x=Zt(Ns),N=ii(),P=tp(),{node:E,parentNode:z}=yl(e.id),{emit:M,on:U}=R2(E,s),$=We(()=>typeof E.draggable>"u"?p.value:E.draggable),Z=We(()=>typeof E.selectable>"u"?g.value:E.selectable),Y=We(()=>typeof E.connectable>"u"?S.value:E.connectable),ne=We(()=>typeof E.focusable>"u"?C.value:E.focusable),ie=We(()=>Z.value||$.value||F.value.nodeClick.hasListeners()||F.value.nodeDoubleClick.hasListeners()||F.value.nodeMouseEnter.hasListeners()||F.value.nodeMouseMove.hasListeners()||F.value.nodeMouseLeave.hasListeners()),ae=We(()=>!!E.dimensions.width&&!!E.dimensions.height),K=ve(()=>{const A=E.type||"default",D=x==null?void 0:x[`node-${A}`];if(D)return D;let B=E.template||d.value[A];if(typeof B=="string"&&N){const j=Object.keys(N.appContext.components);j&&j.includes(A)&&(B=ol(A,!1))}return B&&typeof B!="string"?B:(s.error(new st(it.NODE_TYPE_MISSING,B)),!1)}),R=Q0({id:e.id,el:w,disabled:()=>!$.value,selectable:Z,dragHandle:()=>E.dragHandle,onStart(A){M.dragStart(A)},onDrag(A){M.drag(A)},onStop(A){M.dragStop(A)},onClick(A){k(A)}}),H=ve(()=>E.class instanceof Function?E.class(E):E.class),G=ve(()=>{const A=(E.style instanceof Function?E.style(E):E.style)||{},D=E.width instanceof Function?E.width(E):E.width,B=E.height instanceof Function?E.height(E):E.height;return!A.width&&D&&(A.width=typeof D=="string"?D:`${D}px`),!A.height&&B&&(A.height=typeof B=="string"?B:`${B}px`),A}),J=We(()=>Number(E.zIndex??G.value.zIndex??0));return c(A=>{(A.includes(e.id)||!A.length)&&pe()}),ft(()=>{ke(()=>E.hidden,(A=!1,D,B)=>{!A&&w.value&&(e.resizeObserver.observe(w.value),B(()=>{w.value&&e.resizeObserver.unobserve(w.value)}))},{immediate:!0,flush:"post"})}),ke([()=>E.type,()=>E.sourcePosition,()=>E.targetPosition],()=>{lt(()=>{l([{id:e.id,nodeElement:w.value,forceUpdate:!0}])})}),ke([()=>E.position.x,()=>E.position.y,()=>{var A;return(A=z.value)==null?void 0:A.computedPosition.x},()=>{var A;return(A=z.value)==null?void 0:A.computedPosition.y},()=>{var A;return(A=z.value)==null?void 0:A.computedPosition.z},J,()=>E.selected,()=>E.dimensions.height,()=>E.dimensions.width,()=>{var A;return(A=z.value)==null?void 0:A.dimensions.height},()=>{var A;return(A=z.value)==null?void 0:A.dimensions.width}],([A,D,B,j,W,q])=>{const ee={x:A,y:D,z:q+(h.value&&E.selected?1e3:0)};typeof B<"u"&&typeof j<"u"?E.computedPosition=h2({x:B,y:j,z:W},ee):E.computedPosition=ee},{flush:"post",immediate:!0}),ke([()=>E.extent,f],([A,D],[B,j])=>{(A!==B||D!==j)&&ue()}),E.extent==="parent"||typeof E.extent=="object"&&"range"in E.extent&&E.extent.range==="parent"?Ia(()=>ae).toBe(!0).then(ue):ue(),()=>E.hidden?null:Be("div",{ref:w,"data-id":E.id,class:["vue-flow__node",`vue-flow__node-${K.value===!1?"default":E.type||"default"}`,{[n.value]:$.value,dragging:R==null?void 0:R.value,draggable:$.value,selected:E.selected,selectable:Z.value,parent:E.isParent},H.value],style:{visibility:ae.value?"visible":"hidden",zIndex:E.computedPosition.z??J.value,transform:`translate(${E.computedPosition.x}px,${E.computedPosition.y}px)`,pointerEvents:ie.value?"all":"none",...G.value},tabIndex:ne.value?0:void 0,role:ne.value?"button":void 0,"aria-describedby":m.value?void 0:`${P0}-${t}`,"aria-label":E.ariaLabel,onMouseenter:fe,onMousemove:ge,onMouseleave:me,onContextmenu:T,onClick:k,onDblclick:O,onKeydown:I},[Be(K.value===!1?d.value.default:K.value,{id:E.id,type:E.type,data:E.data,events:{...E.events,...U},selected:E.selected,resizing:E.resizing,dragging:R.value,connectable:Y.value,position:E.computedPosition,dimensions:E.dimensions,isValidTargetPos:E.isValidTargetPos,isValidSourcePos:E.isValidSourcePos,parent:E.parentNode,parentNodeId:E.parentNode,zIndex:E.computedPosition.z??J.value,targetPosition:E.targetPosition,sourcePosition:E.sourcePosition,label:E.label,dragHandle:E.dragHandle,onUpdateNodeInternals:pe})]);function ue(){const A=E.computedPosition,{computedPosition:D,position:B}=vl(E,v.value?Ms(A,y.value):A,s.error,f.value,z.value);(E.computedPosition.x!==D.x||E.computedPosition.y!==D.y)&&(E.computedPosition={...E.computedPosition,...D}),(E.position.x!==B.x||E.position.y!==B.y)&&(E.position=B)}function pe(){w.value&&l([{id:e.id,nodeElement:w.value,forceUpdate:!0}])}function fe(A){R!=null&&R.value||M.mouseEnter({event:A,node:E})}function ge(A){R!=null&&R.value||M.mouseMove({event:A,node:E})}function me(A){R!=null&&R.value||M.mouseLeave({event:A,node:E})}function T(A){return M.contextMenu({event:A,node:E})}function O(A){return M.doubleClick({event:A,node:E})}function k(A){Z.value&&(!i.value||!$.value||_.value>0)&&Ba(E,r.value,a,u,o,!1,w.value),M.click({event:A,node:E})}function I(A){if(!(za(A)||m.value))if(L0.includes(A.key)&&Z.value){const D=A.key==="Escape";Ba(E,r.value,a,u,o,D,w.value)}else $.value&&E.selected&&qi[A.key]&&(A.preventDefault(),b.value=`Moved selected node ${A.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~E.position.x}, y: ${~~E.position.y}`,P({x:qi[A.key].x,y:qi[A.key].y},A.shiftKey))}}}),t3=e3;function n3(e={includeHiddenNodes:!1}){const{nodes:t}=Te();return ve(()=>{if(t.value.length===0)return!1;for(const n of t.value)if((e.includeHiddenNodes||!n.hidden)&&((n==null?void 0:n.handleBounds)===void 0||n.dimensions.width===0||n.dimensions.height===0))return!1;return!0})}const i3={class:"vue-flow__nodes vue-flow__container"},o3={name:"Nodes",compatConfig:{MODE:3}},r3=be({...o3,setup(e){const{getNodes:t,updateNodeDimensions:n,emits:i}=Te(),o=n3(),r=le();return ke(o,s=>{s&&lt(()=>{i.nodesInitialized(t.value)})},{immediate:!0}),ft(()=>{r.value=new ResizeObserver(s=>{const u=s.map(a=>({id:a.target.getAttribute("data-id"),nodeElement:a.target,forceUpdate:!0}));lt(()=>n(u))})}),so(()=>{var s;return(s=r.value)==null?void 0:s.disconnect()}),(s,u)=>(X(),te("div",i3,[r.value?(X(!0),te(Ie,{key:0},ht(V(t),(a,l,c,d)=>{const f=[a.id];if(d&&d.key===a.id&&zg(d,f))return d;const h=(X(),Ye(V(t3),{id:a.id,key:a.id,"resize-observer":r.value},null,8,["id","resize-observer"]));return h.memo=f,h},u,0),128)):Me("",!0)]))}});function s3(){const{emits:e}=Te();ft(()=>{if(X0()){const t=document.querySelector(".vue-flow__pane");t&&window.getComputedStyle(t).zIndex!=="1"&&e.error(new st(it.MISSING_STYLES))}})}const u3=L("div",{class:"vue-flow__edge-labels"},null,-1),a3={name:"VueFlow",compatConfig:{MODE:3}},l3=be({...a3,props:{id:{},modelValue:{},nodes:{},edges:{},edgeTypes:{},nodeTypes:{},connectionMode:{},connectionLineType:{},connectionLineStyle:{default:void 0},connectionLineOptions:{default:void 0},connectionRadius:{},isValidConnection:{type:[Function,null],default:void 0},deleteKeyCode:{default:void 0},selectionKeyCode:{type:[Boolean,null],default:void 0},multiSelectionKeyCode:{default:void 0},zoomActivationKeyCode:{default:void 0},panActivationKeyCode:{default:void 0},snapToGrid:{type:Boolean,default:void 0},snapGrid:{},onlyRenderVisibleElements:{type:Boolean,default:void 0},edgesUpdatable:{type:[Boolean,String],default:void 0},nodesDraggable:{type:Boolean,default:void 0},nodesConnectable:{type:Boolean,default:void 0},nodeDragThreshold:{},elementsSelectable:{type:Boolean,default:void 0},selectNodesOnDrag:{type:Boolean,default:void 0},panOnDrag:{type:[Boolean,Array],default:void 0},minZoom:{},maxZoom:{},defaultViewport:{},translateExtent:{},nodeExtent:{},defaultMarkerColor:{},zoomOnScroll:{type:Boolean,default:void 0},zoomOnPinch:{type:Boolean,default:void 0},panOnScroll:{type:Boolean,default:void 0},panOnScrollSpeed:{},panOnScrollMode:{},paneClickDistance:{},zoomOnDoubleClick:{type:Boolean,default:void 0},preventScrolling:{type:Boolean,default:void 0},selectionMode:{},edgeUpdaterRadius:{},fitViewOnInit:{type:Boolean,default:void 0},connectOnClick:{type:Boolean,default:void 0},applyDefault:{type:Boolean,default:void 0},autoConnect:{type:[Boolean,Function],default:void 0},noDragClassName:{},noWheelClassName:{},noPanClassName:{},defaultEdgeOptions:{},elevateEdgesOnSelect:{type:Boolean,default:void 0},elevateNodesOnSelect:{type:Boolean,default:void 0},disableKeyboardA11y:{type:Boolean,default:void 0},edgesFocusable:{type:Boolean,default:void 0},nodesFocusable:{type:Boolean,default:void 0},autoPanOnConnect:{type:Boolean,default:void 0},autoPanOnNodeDrag:{type:Boolean,default:void 0},autoPanSpeed:{}},emits:["nodesChange","edgesChange","nodesInitialized","paneReady","init","updateNodeInternals","error","connect","connectStart","connectEnd","clickConnectStart","clickConnectEnd","moveStart","move","moveEnd","selectionDragStart","selectionDrag","selectionDragStop","selectionContextMenu","selectionStart","selectionEnd","viewportChangeStart","viewportChange","viewportChangeEnd","paneScroll","paneClick","paneContextMenu","paneMouseEnter","paneMouseMove","paneMouseLeave","edgeUpdate","edgeContextMenu","edgeMouseEnter","edgeMouseMove","edgeMouseLeave","edgeDoubleClick","edgeClick","edgeUpdateStart","edgeUpdateEnd","nodeContextMenu","nodeMouseEnter","nodeMouseMove","nodeMouseLeave","nodeDoubleClick","nodeClick","nodeDragStart","nodeDrag","nodeDragStop","miniMapNodeClick","miniMapNodeDoubleClick","miniMapNodeMouseEnter","miniMapNodeMouseMove","miniMapNodeMouseLeave","update:modelValue","update:nodes","update:edges"],setup(e,{expose:t,emit:n}){const i=e,o=Xm(),r=Js(i,"modelValue",n),s=Js(i,"nodes",n),u=Js(i,"edges",n),a=Te(i),l=H2({modelValue:r,nodes:s,edges:u},i,a);return U2(n,a.hooks),$w(),s3(),Wn(Ns,o),uo(()=>{l()}),t(a),(c,d)=>(X(),te("div",{ref:V(a).vueFlowRef,class:"vue-flow"},[he(Fw,null,{default:Le(()=>[he(Qw),u3,he(r3),It(c.$slots,"zoom-pane")]),_:3}),It(c.$slots,"default"),he(Rw)],512))}}),c3={name:"Panel",compatConfig:{MODE:3}},d3=be({...c3,props:{position:{}},setup(e){const t=e,{userSelectionActive:n}=Te(),i=ve(()=>`${t.position}`.split("-"));return(o,r)=>(X(),te("div",{class:Ve(["vue-flow__panel",i.value]),style:vt({pointerEvents:V(n)?"none":"all"})},[It(o.$slots,"default")],6))}});function Ut(e={}){const{handleType:t,handleId:n,nodeId:i,onConnect:o,onDisconnect:r}=e,{connectionLookup:s}=Te(),u=hn(),a=le(null),l=le(),c=ve(()=>{const d=Ae(i)??u,f=Ae(t),h=Ae(n);return`${d}${f?h?`-${f}-${h}`:`-${f}`:""}`});return ke(()=>s.value.get(c.value),d=>{M2(l.value,d)||(l.value=d)},{immediate:!0}),ke([l,()=>typeof o<"u",()=>typeof r<"u"],([d=new Map])=>{a.value&&a.value!==d&&(ed(a.value,d,r),ed(d,a.value,o)),a.value=d},{immediate:!0}),ve(()=>l.value?Array.from(l.value.values()):[])}function Dn(e){const{findNode:t}=Te();return ve({get(){const n=Ae(e);if(!Array.isArray(n)){const o=t(n);return o?{id:o.id,type:o.type,data:o.data}:null}const i=[];for(const o of n){const r=t(o);r&&i.push({id:r.id,type:r.type,data:r.data})}return i},set(){ao("You are trying to set node data via useNodesData. This is not supported.")}})}function f3(e){const{findEdge:t}=Te();return ve({get(){const n=Ae(e);if(!Array.isArray(n)){const o=t(n);return o?{id:o.id,type:o.type,data:o.data??null}:null}const i=[];for(const o of n){const r=t(o);r&&i.push({id:r.id,type:r.type,data:r.data??null})}return i},set(){ao("You are trying to set edge data via useEdgesData. This is not supported.")}})}const h3={key:0,class:"node-item-name"},p3=be({__name:"MarkdownItem",props:{data:{}},setup(e){const t=e,n=le();let i=zt.fn_renderMarkdown;return ft(()=>{!n.value||!i||i(t.data.value,n.value)}),(o,r)=>(X(),te("div",{class:Ve("markdown-item  node-item-slot "+t.data.refType)},[t.data.name?(X(),te("span",h3,Ee(t.data.name),1)):Me("",!0),t.data.value?(X(),te("div",{key:1,class:"node-item-value",ref_key:"MdArea",ref:n},null,512)):Me("",!0),r[0]||(r[0]=L("div",{style:{height:"0",clear:"both"}},null,-1))],2))}}),ap=rt(p3,[["__scopeId","data-v-db9fcc0e"]]),m3=["type"],g3=be({__name:"ObcanvasNode",props:{id:{},data:{}},setup(e){const n=le({name:"",value:e.data.label,refType:"value",valueType:"item-markdown"});return(i,o)=>(X(),te(Ie,null,[L("div",{class:"obcanvas-node",type:i.data.type},[ze(L("div",{class:"obcanvas-group"},Ee(n.value.value),513),[[_t,i.data.type=="group"]]),ze(he(ap,{data:n.value},null,8,["data"]),[[_t,i.data.type!="group"]])],8,m3),he(V(Xe),{id:"left",type:"target",position:V(se).Left},null,8,["position"]),he(V(Xe),{id:"top",type:"target",position:V(se).Top},null,8,["position"]),he(V(Xe),{id:"right",type:"source",position:V(se).Right},null,8,["position"]),he(V(Xe),{id:"bottom",type:"source",position:V(se).Bottom},null,8,["position"])],64))}}),_3=rt(g3,[["__scopeId","data-v-460d2d0c"]]),v3={class:"comfyui-node"},b3={class:"node-id"},y3=["aria-label"],w3={class:"node-title"},x3={style:{display:"inline-block","margin-left":"10px"}},C3={class:"node-content"},E3={class:"node-handle-name"},S3={class:"left"},k3={class:"item"},I3={class:"right"},A3={class:"item"},D3={class:"node-self-attr"},T3={class:"item-c"},M3={class:"item"},N3=be({__name:"ComfyUINode",props:{id:{type:String,required:!0},data:{type:Object,required:!0}},setup(e){var i,o,r,s;const t=e,n=le(!1);return n.value=((o=(i=t.data)==null?void 0:i.inputs)==null?void 0:o.length)!=0||((s=(r=t.data)==null?void 0:r.outputs)==null?void 0:s.length)!=0,(u,a)=>(X(),te("div",v3,[L("div",b3,[L("div",null," #"+Ee(e.id),1)]),L("div",{class:"node-main","aria-label":e.data.label},[L("div",w3,[a[0]||(a[0]=L("span",{style:{display:"inline-block",height:"10px",width:"10px","border-radius":"5px","background-color":"#666666"}},null,-1)),L("span",x3,Ee(e.data.label),1)]),L("div",C3,[L("div",E3,[L("div",S3,[(X(!0),te(Ie,null,ht(e.data.inputs,(l,c)=>(X(),te("div",k3,Ee(l.hasOwnProperty("label")?l.label:l.hasOwnProperty("name")?l.name:l.type),1))),256))]),L("div",I3,[(X(!0),te(Ie,null,ht(e.data.outputs,(l,c)=>(X(),te("div",A3,Ee(l.hasOwnProperty("label")?l.label:l.hasOwnProperty("name")?l.name:l.type),1))),256))])]),L("div",D3,[(X(!0),te(Ie,null,ht(e.data.widgets_values,(l,c)=>(X(),te("div",T3,[L("div",M3,Ee(l),1)]))),256))])]),(X(!0),te(Ie,null,ht(e.data.inputs,(l,c)=>(X(),Ye(V(Xe),{key:c,id:l.hasOwnProperty("id")?l.id:"target-"+c,class:"comfyui",indexAttr:c,nameAttr:l.hasOwnProperty("label")?l.label:l.hasOwnProperty("name")?l.name:l.type,nameMapAttr:(l.hasOwnProperty("label")?l.label:l.hasOwnProperty("name")?l.name:l.type).toLowerCase().charCodeAt(0)%20,type:"target",position:V(se).Left},null,8,["id","indexAttr","nameAttr","nameMapAttr","position"]))),128)),(X(!0),te(Ie,null,ht(e.data.outputs,(l,c)=>(X(),Ye(V(Xe),{key:c,id:l.hasOwnProperty("id")?l.id:"source-"+c,class:"comfyui",indexAttr:c,nameAttr:l.hasOwnProperty("label")?l.label:l.hasOwnProperty("name")?l.name:l.type,nameMapAttr:(l.hasOwnProperty("label")?l.label:l.hasOwnProperty("name")?l.name:l.type).toLowerCase().charCodeAt(0)%20,type:"source",position:V(se).Right},null,8,["id","indexAttr","nameAttr","nameMapAttr","position"]))),128))],8,y3)]))}}),F3=["aria-label"],P3={class:"comfyui-node-title"},O3={style:{display:"inline-block","margin-left":"10px"}},L3=be({__name:"ComfyUINodeGroup",props:{id:{type:String,required:!0},data:{type:Object,required:!0}},setup(e){return(t,n)=>(X(),te("div",{class:"comfyui-node comfyui-group","aria-label":e.data.label},[L("div",P3,[n[0]||(n[0]=L("span",{style:{display:"inline-block",height:"10px",width:"10px","border-radius":"5px","background-color":"#666666"}},null,-1)),L("span",O3,Ee(e.data.label),1)])],8,F3))}}),z3=rt(L3,[["__scopeId","data-v-01ed208e"]]),R3={class:"common-node"},$3={class:"node-id"},B3=["aria-label"],H3={class:"node-title"},V3={style:{display:"inline-block","margin-left":"10px"}},U3={class:"node-content"},q3={class:"node-content-handle"},G3={class:"left"},j3={class:"line"},W3={class:"item-sub item-name"},Z3={key:0,class:"item-sub item-value"},Y3={class:"item-sub-sub"},X3={class:"left"},K3={class:"right"},J3={class:"line"},Q3={class:"item-sub item-name"},ex={key:0,class:"item-sub item-value"},tx={class:"node-content-self"},nx={class:"line"},ix={class:"item-sub"},ox={class:"item-name"},rx={class:"item-value"},sx=be({__name:"CommonNode",props:{id:{type:String,required:!0},data:{type:Object,required:!0}},setup(e){var i,o,r,s;const t=e,n=le(!1);return n.value=((o=(i=t.data)==null?void 0:i.inputs)==null?void 0:o.length)!=0||((s=(r=t.data)==null?void 0:r.outputs)==null?void 0:s.length)!=0,(u,a)=>(X(),te("div",R3,[L("div",$3,[L("div",null," #"+Ee(e.id),1)]),L("div",{class:"node-main","aria-label":e.data.label},[L("div",H3,[a[0]||(a[0]=L("span",{style:{display:"inline-block",height:"10px",width:"10px","border-radius":"5px","background-color":"#666666"}},null,-1)),L("span",V3,Ee(e.data.label),1)]),L("div",U3,[L("div",q3,[L("div",G3,[(X(!0),te(Ie,null,ht(e.data.inputs,(l,c)=>(X(),te("div",j3,[L("span",W3,Ee(l.hasOwnProperty("label")?l.label:l.hasOwnProperty("name")?l.name:l.type),1),l.value?(X(),te("span",Z3,[L("div",Y3,[L("span",X3,Ee(l.value),1)])])):Me("",!0)]))),256))]),L("div",K3,[(X(!0),te(Ie,null,ht(e.data.outputs,(l,c)=>(X(),te("div",J3,[L("span",Q3,Ee(l.hasOwnProperty("label")?l.label:l.hasOwnProperty("name")?l.name:l.type),1),l.value?(X(),te("span",ex,[L("div",null,Ee(l.value),1)])):Me("",!0)]))),256))])]),L("div",tx,[(X(!0),te(Ie,null,ht(e.data.values,(l,c)=>(X(),te("div",nx,[L("div",ix,[L("span",ox,Ee(l.name),1),L("span",rx,Ee(l.value),1),a[1]||(a[1]=L("div",{style:{height:"0",clear:"both"}},null,-1))])]))),256))])]),(X(!0),te(Ie,null,ht(e.data.inputs,(l,c)=>(X(),Ye(V(Xe),{key:c,id:l.hasOwnProperty("id")?l.id:"target-"+c,class:"custom",indexAttr:c,nameAttr:l.hasOwnProperty("label")?l.label:l.hasOwnProperty("name")?l.name:l.type,nameMapAttr:(l.hasOwnProperty("id")?l.id:"target-"+c).toLowerCase().charCodeAt(0)%20,type:"target",position:V(se).Left},null,8,["id","indexAttr","nameAttr","nameMapAttr","position"]))),128)),(X(!0),te(Ie,null,ht(e.data.outputs,(l,c)=>(X(),Ye(V(Xe),{key:c,id:l.hasOwnProperty("id")?l.id:"source-"+c,class:"custom",indexAttr:c,nameAttr:l.hasOwnProperty("label")?l.label:l.hasOwnProperty("name")?l.name:l.type,nameMapAttr:(l.hasOwnProperty("id")?l.id:"target-"+c).toLowerCase().charCodeAt(0)%20,type:"source",position:V(se).Right},null,8,["id","indexAttr","nameAttr","nameMapAttr","position"]))),128)),ze(he(V(Xe),{id:"l",class:"default",type:"target",position:V(se).Left},null,8,["position"]),[[_t,!n.value]]),ze(he(V(Xe),{id:"t",class:"default",position:V(se).Top},null,8,["position"]),[[_t,!n.value]]),ze(he(V(Xe),{id:"r",class:"default",type:"source",position:V(se).Right},null,8,["position"]),[[_t,!n.value]]),ze(he(V(Xe),{id:"b",class:"default",position:V(se).Bottom},null,8,["position"]),[[_t,!n.value]])],8,B3)]))}}),ux=be({__name:"ItemNodeSlot",props:{index:{type:Number,required:!0},item:{type:Object,required:!0}},setup(e){const t=e;return(n,i)=>(X(),te(Ie,null,[e.item.refType==="input"||e.item.refType==="i"||e.item.refType==="io"?(X(),Ye(V(Xe),{key:0,class:"node-item-handle",id:e.item.hasOwnProperty("id")?e.item.id:"target-"+e.index,title:e.item.hasOwnProperty("id")?e.item.id:"target-"+e.index,indexAttr:e.index,nameAttr:e.item.hasOwnProperty("label")?e.item.label:e.item.hasOwnProperty("name")?e.item.name:e.item.type,nameMapAttr:(e.item.hasOwnProperty("id")?e.item.id:"target-"+e.index).toLowerCase().charCodeAt(0)%20,"type-attr":e.item.hasOwnProperty("valueType")?e.item.valueType:"item-string","type-map-attr":(e.item.hasOwnProperty("valueType")?e.item.valueType:"item-string").toLowerCase().charCodeAt(6)%20,type:"target",position:V(se).Left},null,8,["id","title","indexAttr","nameAttr","nameMapAttr","type-attr","type-map-attr","position"])):Me("",!0),e.item.refType==="output"||e.item.refType==="o"||e.item.refType==="io"?(X(),Ye(V(Xe),{key:1,class:"node-item-handle",id:e.item.hasOwnProperty("id")?e.item.id:"source-"+e.index,title:e.item.hasOwnProperty("id")?e.item.id:"source-"+e.index,indexAttr:e.index,nameAttr:e.item.hasOwnProperty("label")?e.item.label:e.item.hasOwnProperty("name")?e.item.name:e.item.type,nameMapAttr:(e.item.hasOwnProperty("id")?e.item.id:"source-"+e.index).toLowerCase().charCodeAt(0)%20,"type-attr":e.item.hasOwnProperty("valueType")?e.item.valueType:"item-string","type-map-attr":(e.item.hasOwnProperty("valueType")?e.item.valueType:"item-string").toLowerCase().charCodeAt(6)%20,type:"source",position:V(se).Right},null,8,["id","title","indexAttr","nameAttr","nameMapAttr","type-attr","type-map-attr","position"])):Me("",!0),It(n.$slots,t.item.valueType,{id:t.item.id,data:t.item})],64))}});var ad=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function lp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var cu={exports:{}},ld;function ax(){return ld||(ld=1,function(e){var t=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var n=function(i){var o=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,r=0,s={},u={manual:i.Prism&&i.Prism.manual,disableWorkerMessageHandler:i.Prism&&i.Prism.disableWorkerMessageHandler,util:{encode:function _(p){return p instanceof a?new a(p.type,_(p.content),p.alias):Array.isArray(p)?p.map(_):p.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(_){return Object.prototype.toString.call(_).slice(8,-1)},objId:function(_){return _.__id||Object.defineProperty(_,"__id",{value:++r}),_.__id},clone:function _(p,g){g=g||{};var S,C;switch(u.util.type(p)){case"Object":if(C=u.util.objId(p),g[C])return g[C];S={},g[C]=S;for(var F in p)p.hasOwnProperty(F)&&(S[F]=_(p[F],g));return S;case"Array":return C=u.util.objId(p),g[C]?g[C]:(S=[],g[C]=S,p.forEach(function(w,x){S[x]=_(w,g)}),S);default:return p}},getLanguage:function(_){for(;_;){var p=o.exec(_.className);if(p)return p[1].toLowerCase();_=_.parentElement}return"none"},setLanguage:function(_,p){_.className=_.className.replace(RegExp(o,"gi"),""),_.classList.add("language-"+p)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(S){var _=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(S.stack)||[])[1];if(_){var p=document.getElementsByTagName("script");for(var g in p)if(p[g].src==_)return p[g]}return null}},isActive:function(_,p,g){for(var S="no-"+p;_;){var C=_.classList;if(C.contains(p))return!0;if(C.contains(S))return!1;_=_.parentElement}return!!g}},languages:{plain:s,plaintext:s,text:s,txt:s,extend:function(_,p){var g=u.util.clone(u.languages[_]);for(var S in p)g[S]=p[S];return g},insertBefore:function(_,p,g,S){S=S||u.languages;var C=S[_],F={};for(var w in C)if(C.hasOwnProperty(w)){if(w==p)for(var x in g)g.hasOwnProperty(x)&&(F[x]=g[x]);g.hasOwnProperty(w)||(F[w]=C[w])}var N=S[_];return S[_]=F,u.languages.DFS(u.languages,function(P,E){E===N&&P!=_&&(this[P]=F)}),F},DFS:function _(p,g,S,C){C=C||{};var F=u.util.objId;for(var w in p)if(p.hasOwnProperty(w)){g.call(p,w,p[w],S||w);var x=p[w],N=u.util.type(x);N==="Object"&&!C[F(x)]?(C[F(x)]=!0,_(x,g,null,C)):N==="Array"&&!C[F(x)]&&(C[F(x)]=!0,_(x,g,w,C))}}},plugins:{},highlightAll:function(_,p){u.highlightAllUnder(document,_,p)},highlightAllUnder:function(_,p,g){var S={callback:g,container:_,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};u.hooks.run("before-highlightall",S),S.elements=Array.prototype.slice.apply(S.container.querySelectorAll(S.selector)),u.hooks.run("before-all-elements-highlight",S);for(var C=0,F;F=S.elements[C++];)u.highlightElement(F,p===!0,S.callback)},highlightElement:function(_,p,g){var S=u.util.getLanguage(_),C=u.languages[S];u.util.setLanguage(_,S);var F=_.parentElement;F&&F.nodeName.toLowerCase()==="pre"&&u.util.setLanguage(F,S);var w=_.textContent,x={element:_,language:S,grammar:C,code:w};function N(E){x.highlightedCode=E,u.hooks.run("before-insert",x),x.element.innerHTML=x.highlightedCode,u.hooks.run("after-highlight",x),u.hooks.run("complete",x),g&&g.call(x.element)}if(u.hooks.run("before-sanity-check",x),F=x.element.parentElement,F&&F.nodeName.toLowerCase()==="pre"&&!F.hasAttribute("tabindex")&&F.setAttribute("tabindex","0"),!x.code){u.hooks.run("complete",x),g&&g.call(x.element);return}if(u.hooks.run("before-highlight",x),!x.grammar){N(u.util.encode(x.code));return}if(p&&i.Worker){var P=new Worker(u.filename);P.onmessage=function(E){N(E.data)},P.postMessage(JSON.stringify({language:x.language,code:x.code,immediateClose:!0}))}else N(u.highlight(x.code,x.grammar,x.language))},highlight:function(_,p,g){var S={code:_,grammar:p,language:g};if(u.hooks.run("before-tokenize",S),!S.grammar)throw new Error('The language "'+S.language+'" has no grammar.');return S.tokens=u.tokenize(S.code,S.grammar),u.hooks.run("after-tokenize",S),a.stringify(u.util.encode(S.tokens),S.language)},tokenize:function(_,p){var g=p.rest;if(g){for(var S in g)p[S]=g[S];delete p.rest}var C=new d;return f(C,C.head,_),c(_,C,p,C.head,0),m(C)},hooks:{all:{},add:function(_,p){var g=u.hooks.all;g[_]=g[_]||[],g[_].push(p)},run:function(_,p){var g=u.hooks.all[_];if(!(!g||!g.length))for(var S=0,C;C=g[S++];)C(p)}},Token:a};i.Prism=u;function a(_,p,g,S){this.type=_,this.content=p,this.alias=g,this.length=(S||"").length|0}a.stringify=function _(p,g){if(typeof p=="string")return p;if(Array.isArray(p)){var S="";return p.forEach(function(N){S+=_(N,g)}),S}var C={type:p.type,content:_(p.content,g),tag:"span",classes:["token",p.type],attributes:{},language:g},F=p.alias;F&&(Array.isArray(F)?Array.prototype.push.apply(C.classes,F):C.classes.push(F)),u.hooks.run("wrap",C);var w="";for(var x in C.attributes)w+=" "+x+'="'+(C.attributes[x]||"").replace(/"/g,"&quot;")+'"';return"<"+C.tag+' class="'+C.classes.join(" ")+'"'+w+">"+C.content+"</"+C.tag+">"};function l(_,p,g,S){_.lastIndex=p;var C=_.exec(g);if(C&&S&&C[1]){var F=C[1].length;C.index+=F,C[0]=C[0].slice(F)}return C}function c(_,p,g,S,C,F){for(var w in g)if(!(!g.hasOwnProperty(w)||!g[w])){var x=g[w];x=Array.isArray(x)?x:[x];for(var N=0;N<x.length;++N){if(F&&F.cause==w+","+N)return;var P=x[N],E=P.inside,z=!!P.lookbehind,M=!!P.greedy,U=P.alias;if(M&&!P.pattern.global){var $=P.pattern.toString().match(/[imsuy]*$/)[0];P.pattern=RegExp(P.pattern.source,$+"g")}for(var Z=P.pattern||P,Y=S.next,ne=C;Y!==p.tail&&!(F&&ne>=F.reach);ne+=Y.value.length,Y=Y.next){var ie=Y.value;if(p.length>_.length)return;if(!(ie instanceof a)){var ae=1,K;if(M){if(K=l(Z,ne,_,z),!K||K.index>=_.length)break;var J=K.index,R=K.index+K[0].length,H=ne;for(H+=Y.value.length;J>=H;)Y=Y.next,H+=Y.value.length;if(H-=Y.value.length,ne=H,Y.value instanceof a)continue;for(var G=Y;G!==p.tail&&(H<R||typeof G.value=="string");G=G.next)ae++,H+=G.value.length;ae--,ie=_.slice(ne,H),K.index-=ne}else if(K=l(Z,0,ie,z),!K)continue;var J=K.index,ue=K[0],pe=ie.slice(0,J),fe=ie.slice(J+ue.length),ge=ne+ie.length;F&&ge>F.reach&&(F.reach=ge);var me=Y.prev;pe&&(me=f(p,me,pe),ne+=pe.length),h(p,me,ae);var T=new a(w,E?u.tokenize(ue,E):ue,U,ue);if(Y=f(p,me,T),fe&&f(p,Y,fe),ae>1){var O={cause:w+","+N,reach:ge};c(_,p,g,Y.prev,ne,O),F&&O.reach>F.reach&&(F.reach=O.reach)}}}}}}function d(){var _={value:null,prev:null,next:null},p={value:null,prev:_,next:null};_.next=p,this.head=_,this.tail=p,this.length=0}function f(_,p,g){var S=p.next,C={value:g,prev:p,next:S};return p.next=C,S.prev=C,_.length++,C}function h(_,p,g){for(var S=p.next,C=0;C<g&&S!==_.tail;C++)S=S.next;p.next=S,S.prev=p,_.length-=C}function m(_){for(var p=[],g=_.head.next;g!==_.tail;)p.push(g.value),g=g.next;return p}if(!i.document)return i.addEventListener&&(u.disableWorkerMessageHandler||i.addEventListener("message",function(_){var p=JSON.parse(_.data),g=p.language,S=p.code,C=p.immediateClose;i.postMessage(u.highlight(S,u.languages[g],g)),C&&i.close()},!1)),u;var b=u.util.currentScript();b&&(u.filename=b.src,b.hasAttribute("data-manual")&&(u.manual=!0));function v(){u.manual||u.highlightAll()}if(!u.manual){var y=document.readyState;y==="loading"||y==="interactive"&&b&&b.defer?document.addEventListener("DOMContentLoaded",v):window.requestAnimationFrame?window.requestAnimationFrame(v):window.setTimeout(v,16)}return u}(t);e.exports&&(e.exports=n),typeof ad<"u"&&(ad.Prism=n),n.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},n.languages.markup.tag.inside["attr-value"].inside.entity=n.languages.markup.entity,n.languages.markup.doctype.inside["internal-subset"].inside=n.languages.markup,n.hooks.add("wrap",function(i){i.type==="entity"&&(i.attributes.title=i.content.replace(/&amp;/,"&"))}),Object.defineProperty(n.languages.markup.tag,"addInlined",{value:function(o,r){var s={};s["language-"+r]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:n.languages[r]},s.cdata=/^<!\[CDATA\[|\]\]>$/i;var u={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:s}};u["language-"+r]={pattern:/[\s\S]+/,inside:n.languages[r]};var a={};a[o]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return o}),"i"),lookbehind:!0,greedy:!0,inside:u},n.languages.insertBefore("markup","cdata",a)}}),Object.defineProperty(n.languages.markup.tag,"addAttribute",{value:function(i,o){n.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+i+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[o,"language-"+o],inside:n.languages[o]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),n.languages.html=n.languages.markup,n.languages.mathml=n.languages.markup,n.languages.svg=n.languages.markup,n.languages.xml=n.languages.extend("markup",{}),n.languages.ssml=n.languages.xml,n.languages.atom=n.languages.xml,n.languages.rss=n.languages.xml,function(i){var o=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;i.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+o.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+o.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+o.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+o.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:o,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},i.languages.css.atrule.inside.rest=i.languages.css;var r=i.languages.markup;r&&(r.tag.addInlined("style","css"),r.tag.addAttribute("style","css"))}(n),n.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},n.languages.javascript=n.languages.extend("clike",{"class-name":[n.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),n.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,n.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:n.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:n.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:n.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:n.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:n.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),n.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:n.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),n.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),n.languages.markup&&(n.languages.markup.tag.addInlined("script","javascript"),n.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),n.languages.js=n.languages.javascript,function(){if(typeof n>"u"||typeof document>"u")return;Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var i="Loading",o=function(b,v){return" Error "+b+" while fetching file: "+v},r=" Error: File does not exist or is empty",s={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},u="data-src-status",a="loading",l="loaded",c="failed",d="pre[data-src]:not(["+u+'="'+l+'"]):not(['+u+'="'+a+'"])';function f(b,v,y){var _=new XMLHttpRequest;_.open("GET",b,!0),_.onreadystatechange=function(){_.readyState==4&&(_.status<400&&_.responseText?v(_.responseText):_.status>=400?y(o(_.status,_.statusText)):y(r))},_.send(null)}function h(b){var v=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(b||"");if(v){var y=Number(v[1]),_=v[2],p=v[3];return _?p?[y,Number(p)]:[y,void 0]:[y,y]}}n.hooks.add("before-highlightall",function(b){b.selector+=", "+d}),n.hooks.add("before-sanity-check",function(b){var v=b.element;if(v.matches(d)){b.code="",v.setAttribute(u,a);var y=v.appendChild(document.createElement("CODE"));y.textContent=i;var _=v.getAttribute("data-src"),p=b.language;if(p==="none"){var g=(/\.(\w+)$/.exec(_)||[,"none"])[1];p=s[g]||g}n.util.setLanguage(y,p),n.util.setLanguage(v,p);var S=n.plugins.autoloader;S&&S.loadLanguages(p),f(_,function(C){v.setAttribute(u,l);var F=h(v.getAttribute("data-range"));if(F){var w=C.split(/\r\n?|\n/g),x=F[0],N=F[1]==null?w.length:F[1];x<0&&(x+=w.length),x=Math.max(0,Math.min(x-1,w.length)),N<0&&(N+=w.length),N=Math.max(0,Math.min(N,w.length)),C=w.slice(x,N).join(`
`),v.hasAttribute("data-start")||v.setAttribute("data-start",String(x+1))}y.textContent=C,n.highlightElement(y)},function(C){v.setAttribute(u,c),y.textContent=C})}}),n.plugins.fileHighlight={highlight:function(v){for(var y=(v||document).querySelectorAll(d),_=0,p;p=y[_++];)n.highlightElement(p)}};var m=!1;n.fileHighlight=function(){m||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),m=!0),n.plugins.fileHighlight.highlight.apply(this,arguments)}}()}(cu)),cu.exports}var lx=ax();const cd=lp(lx);Prism.languages.javascript=Prism.languages.extend("clike",{"class-name":[Prism.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/});Prism.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/;Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Prism.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:Prism.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/});Prism.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}});Prism.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}});Prism.languages.markup&&(Prism.languages.markup.tag.addInlined("script","javascript"),Prism.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript"));Prism.languages.js=Prism.languages.javascript;const cx=["title"],dx=["innerHTML"],fx=["title","rows"],hx=be({__name:"NFTextArea",props:{data:{},isHideBorder:{type:Boolean,default:!1},codeType:{default:""}},setup(e){const t=e;t.data.value||(t.data.value="");const n=ve({get:()=>t.data.value,set:d=>{t.data.value=d}});function i(d){d&&(d.style.height="auto",d.scrollHeight&&(d.style.height=d.scrollHeight<30?"20px":d.scrollHeight+"px"),d.style.width="auto",d.scrollWidth&&(d.style.width=d.scrollWidth+12+"px"))}const o=le(null);ft(()=>{lt(()=>{i(o.value)})});function r(d){lt(()=>{i(d.target)})}const s=le(null),u=le(null);ft(async()=>{await lt(),!(!s.value||!u.value)&&cd.highlightElement(u.value)});async function a(d){if(!s.value||!u.value)return;const f=l(s.value),h=u.value.textContent||"";n.value=h,await lt(),cd.highlightElement(u.value),f&&c(s.value,f.start,f.end)}function l(d){const f=window.getSelection();if(!f||f.rangeCount===0)return null;const h=f.getRangeAt(0),m=document.createRange();m.selectNodeContents(d),m.setEnd(h.startContainer,h.startOffset);const b=m.toString().length;return{start:b,end:b+h.toString().length}}function c(d,f,h){const m=window.getSelection(),b=document.createRange();let v=0,y=!1,_=!1;function p(g){var S;if(g.nodeType===Node.TEXT_NODE){const C=v+(((S=g.nodeValue)==null?void 0:S.length)||0);!y&&f>=v&&f<=C&&(b.setStart(g,f-v),y=!0),y&&!_&&h>=v&&h<=C&&(b.setEnd(g,h-v),_=!0),v=C}else for(const C of g.childNodes)if(p(C),_)break}p(d),m==null||m.removeAllRanges(),m==null||m.addRange(b)}return(d,f)=>(X(),te("div",null,[d.codeType!=""?(X(),te("pre",{key:0,ref_key:"ref_pre",ref:s,onInput:a,class:Ve(["nf-textarea",{"without-border":d.isHideBorder}]),contenteditable:"true",spellcheck:"false",title:"cacheValue: "+d.data.cacheValue},[L("code",{ref_key:"ref_code",ref:u,class:Ve("language-"+d.codeType),innerHTML:n.value},null,10,dx)],42,cx)):Me("",!0),d.codeType==""?ze((X(),te("textarea",{key:1,ref_key:"ref_textArea",ref:o,onInput:r,"onUpdate:modelValue":f[0]||(f[0]=h=>n.value=h),class:Ve(["nf-textarea",{"without-border":d.isHideBorder}]),spellcheck:"false",title:"cacheValue: "+d.data.cacheValue,rows:n.value.split(`
`).length,cols:"10"},null,42,fx)),[[Ca,n.value]]):Me("",!0)]))}}),no=rt(hx,[["__scopeId","data-v-3e18f5f9"]]),px={key:0,class:"node-item-name"},mx=be({__name:"StringItem",props:{data:{}},setup(e){const t=e;return(n,i)=>(X(),te("div",{ref:"TextArea2",class:Ve("string-item  node-item-slot "+t.data.refType+(t.data.value?" has-value":""))},[t.data.name?(X(),te("span",px,Ee(t.data.name),1)):Me("",!0),he(no,{class:"node-item-value",data:n.data,isHideBorder:!0},null,8,["data"]),i[0]||(i[0]=L("div",{style:{height:"0",clear:"both"}},null,-1))],2))}}),gx=rt(mx,[["__scopeId","data-v-3e3c8d37"]]),_x={key:0,class:"node-item-name"},vx=["value"],bx=be({__name:"EnumItem",props:{data:{}},setup(e){const t=e,n=ve(()=>t.data.value.split("|"));n.value.length==0&&(t.data.value=[""]);const i=le(n.value[0]);return(o,r)=>(X(),te("div",{class:Ve("enum-item  node-item-slot "+t.data.refType+(t.data.value?" has-value":""))},[t.data.name?(X(),te("span",_x,Ee(t.data.name),1)):Me("",!0),t.data.value?(X(),te("div",{key:1,class:"node-item-value",style:vt("background:"+t.data.value)},[ze(L("select",{"onUpdate:modelValue":r[0]||(r[0]=s=>i.value=s)},[(X(!0),te(Ie,null,ht(n.value,s=>(X(),te("option",{value:s},Ee(s),9,vx))),256))],512),[[Vh,i.value]])],4)):Me("",!0),r[1]||(r[1]=L("div",{style:{height:"0",clear:"both"}},null,-1))],2))}}),yx=rt(bx,[["__scopeId","data-v-228ab195"]]),wx={key:0,class:"node-item-name"},xx=be({__name:"ColorItem",props:{data:{}},setup(e){const t=e;t.data.value||(t.data.value="#fff");function n(i){i=i.replace(/^#/,""),i.length===3&&(i=i.split("").map(a=>a+a).join(""));var o=parseInt(i.substr(0,2),16),r=parseInt(i.substr(2,2),16),s=parseInt(i.substr(4,2),16),u=(o+r+s)/3;return u>128?"black":"white"}return(i,o)=>(X(),te("div",{class:Ve("color-item  node-item-slot "+t.data.refType+(t.data.value?" has-value":""))},[t.data.name?(X(),te("span",wx,Ee(t.data.name),1)):Me("",!0),L("div",{class:"node-item-value",style:vt("background:"+t.data.value+"; color:"+n(t.data.value))},[he(no,{data:i.data,isHideBorder:!0},null,8,["data"])],4),o[0]||(o[0]=L("div",{style:{height:"0",clear:"both"}},null,-1))],2))}}),Cx=rt(xx,[["__scopeId","data-v-140e1133"]]),Ex={key:0,class:"node-item-name"},Sx={class:"node-item-value"},kx=be({__name:"DebugItem",props:{data:{}},setup(e){var y;const t=e;t.data.value||(t.data.value="");const{getConnectedEdges:n,findNode:i,nodes:o}=Te(),r=hn(),s=i(r),u=yl(hn()),a=Dn(r),l=Ut({handleType:"target"}),c=Array.from(new Set(l.value.map(_=>_.source))),d=Dn(c),f=Ut({handleType:"source"}),h=Array.from(new Set(f.value.map(_=>_.target))),m=Dn(h),b=n(r),v=f3((y=b[0])==null?void 0:y.id);return(_,p)=>(X(),te("div",{class:Ve("debug-item  node-item-slot "+t.data.refType+(t.data.value?" has-value":""))},[t.data.name?(X(),te("span",Ex,Ee(t.data.name),1)):Me("",!0),L("div",Sx,[p[12]||(p[12]=L("div",null,[L("span",null,"---The Node-----")],-1)),L("div",null,[L("span",null,"useNodeId: "+Ee(V(r)),1)]),L("div",null,[L("span",null,"Size: ("+Ee(V(s).dimensions.width)+" x "+Ee(V(s).dimensions.height)+")",1)]),L("div",null,[L("span",null,"Posi: ("+Ee(V(s).position.x.toFixed(1))+", "+Ee(V(s).position.y.toFixed(1))+")",1)]),L("div",null,[L("button",{onClick:p[0]||(p[0]=g=>console.log(V(u)))},"Node")]),L("div",null,[L("button",{onClick:p[1]||(p[1]=g=>console.log(V(a)))},"NodesData")]),L("div",null,[L("button",{onClick:p[2]||(p[2]=g=>console.log(V(s)))},"Node Find")]),L("div",null,[L("button",{onClick:p[3]||(p[3]=g=>console.log(V(a).data.items))},"listItem type use")]),p[13]||(p[13]=L("div",null,[L("span",null,"---The Handle---")],-1)),L("div",null,[L("button",{onClick:p[4]||(p[4]=g=>console.log(_.data))},"componentData")]),p[14]||(p[14]=L("div",null,[L("span",null,"---Near Node----")],-1)),L("div",null,[L("button",{onClick:p[5]||(p[5]=g=>console.log(V(d)))},"SourceNodesData")]),L("div",null,[L("button",{onClick:p[6]||(p[6]=g=>console.log(V(m)))},"TargetNodesData")]),p[15]||(p[15]=L("div",null,[L("span",null,"---Near Handle--")],-1)),L("div",null,[L("button",{onClick:p[7]||(p[7]=g=>console.log(V(l)))},"SourceConnections")]),L("div",null,[L("button",{onClick:p[8]||(p[8]=g=>console.log(V(f)))},"TargetConnections")]),p[16]||(p[16]=L("div",null,[L("span",null,"---Near Edge----")],-1)),L("div",null,[L("button",{onClick:p[9]||(p[9]=g=>console.log(V(b)))},"GetEdges")]),L("div",null,[L("button",{onClick:p[10]||(p[10]=g=>console.log(V(v)))},"EdgesData1")]),p[17]||(p[17]=L("div",null,[L("span",null,"---All Node-----")],-1)),L("div",null,[L("button",{onClick:p[11]||(p[11]=g=>console.log(V(o)))},"Nodes")])]),p[18]||(p[18]=L("div",{style:{height:"0",clear:"both"}},null,-1))],2))}}),Ix=rt(kx,[["__scopeId","data-v-e54e9334"]]),Ax={key:0,class:"node-item-name"},Dx={class:"node-item-value"},Tx=be({__name:"FeatItem",props:{data:{}},setup(e){const t=e;t.data.value||(t.data.value="");const{updateNodeData:n,findNode:i,nodes:o,edges:r}=Te();function s(){const c=new Set;for(const d of o.value)c.add(d.id);for(const d of r.value)c.delete(d.target);return c}function u(c){const d=[],f=[];for(const h of c){let m=!1;for(const b of i(h).data.items)if(b.valueType.startsWith("item-flow")){m=!0;break}m?f.push(h):d.push(h)}for(const h of f)d.push(h);return d}async function a(){const c=u(s());for(const d of o.value)d.data.runState="none",n(d.id,d.data);for(const d of c){const f=i(d).data;f.runState="ready",n(d,f),await new Promise(h=>setTimeout(h,500))}}function l(){for(const c of o.value)c.data.runState="none",n(c.id,c.data)}return(c,d)=>(X(),te("div",{class:Ve("feat-item  node-item-slot "+t.data.refType+(t.data.value?" has-value":""))},[t.data.name?(X(),te("span",Ax,Ee(t.data.name),1)):Me("",!0),L("div",Dx,[d[4]||(d[4]=L("div",null,[L("span",null,"---All--------")],-1)),L("div",null,[L("button",{onClick:d[0]||(d[0]=f=>console.log(s()))},"Get_StartNodes")]),L("div",null,[L("button",{onClick:d[1]||(d[1]=f=>console.log(u(s())))},"Get_RunList")]),L("div",null,[L("button",{onClick:d[2]||(d[2]=f=>a())},"Start_RunList")]),L("div",null,[L("button",{onClick:d[3]||(d[3]=f=>l())},"Clear_State")])]),d[5]||(d[5]=L("div",{style:{height:"0",clear:"both"}},null,-1))],2))}}),Mx=rt(Tx,[["__scopeId","data-v-66cece10"]]),Nx={key:0,class:"node-item-name"},Fx=be({__name:"StartItem",props:{data:{}},setup(e){const t=e;t.data.value||(t.data.value="");const{updateNodeData:n,getConnectedEdges:i,nodes:o}=Te(),r=hn(),s=Dn(r),u=async()=>{s.value.data.runState="ready",n(r,s.value.data)};return(a,l)=>(X(),te("div",{class:Ve("flowstart-item  node-item-slot "+t.data.refType+(t.data.value?" has-value":""))},[t.data.name?(X(),te("span",Nx,Ee(t.data.name),1)):Me("",!0),L("div",{class:"node-item-value",title:"",onClick:l[0]||(l[0]=c=>u()),style:vt("background:"+(V(s).data.isRunning?"green;":"red;"))},null,4),l[1]||(l[1]=L("div",{style:{height:"0",clear:"both"}},null,-1))],2))}}),Px=rt(Fx,[["__scopeId","data-v-6377c448"]]);function cr(e,t,n,i=async()=>!0){const{updateNodeData:o,findNode:r}=Te();return async function(){for(const c of t.value){const d=r(c.source);if(d.data.runState!="over"){console.warn(`#${e}  #${c.source} `);return}const f=d.data.items;let h="";for(const v of f)if(v.id==c.sourceHandle){h=v.cacheValue??v.value;break}const b=r(e).data.items;for(const v of b)if(v.id==c.targetHandle){v.cacheValue=h;break}}const u=r(e);if(u.data.runState="running",o(e,u.data),!await i()){u.data.runState="error",o(e,u.data);return}u.data.runState="over",o(e,u.data);const l=Array.from(new Set(n.value.map(c=>c.target)));for(const c of l){const d=r(c).data;d.runState="ready",o(c,d)}l.length==0&&console.log("flowControl, end")}}const Ox={key:0,class:"node-item-name"},Lx=be({__name:"FlowItem",props:{data:{}},setup(e){const t=e;t.data.value||(t.data.value="");const n=hn(),i=Dn(n),o=Ut({handleType:"target"}),r=Ut({handleType:"source"}),s=cr(n,o,r,async()=>(await new Promise(u=>setTimeout(u,1e3)),console.log(`debugConsole, nodeId:${n} handleId:${t.data.id}`),!0));return i.value.data.runState="none",ke(i,(u,a)=>{u.data.runState=="ready"&&s()}),(u,a)=>(X(),te("div",{class:Ve("flow-item  node-item-slot "+t.data.refType+(t.data.value?" has-value":""))},[t.data.name?(X(),te("span",Ox,Ee(t.data.name),1)):Me("",!0),a[0]||(a[0]=L("div",{style:{height:"0",clear:"both"}},null,-1))],2))}}),zx=rt(Lx,[["__scopeId","data-v-f88cad10"]]),Rx={key:0,class:"node-item-name"},$x=be({__name:"FDefaultItem",props:{data:{}},setup(e){const t=e;t.data.value||(t.data.value="");const n=hn(),i=Dn(n),o=Ut({handleType:"target"}),r=Ut({handleType:"source"}),s=cr(n,o,r);return i.value.data.runState="none",ke(i,(u,a)=>{u.data.runState=="ready"&&s()}),(u,a)=>(X(),te("div",{class:Ve("fdefault-item  node-item-slot "+t.data.refType+(t.data.value?" has-value":""))},[t.data.name?(X(),te("span",Rx,Ee(t.data.name),1)):Me("",!0),a[0]||(a[0]=L("div",{style:{height:"0",clear:"both"}},null,-1))],2))}}),Bx=rt($x,[["__scopeId","data-v-dcbdec06"]]),Hx={key:0,class:"node-item-name"},Vx={class:"node-item-value2"},Ux=be({__name:"FlowDelayItem",props:{data:{}},setup(e){const t=e;t.data.value||(t.data.value="0");const n=hn(),i=Dn(n),o=Ut({handleType:"target"}),r=Ut({handleType:"source"}),s=cr(n,o,r,async()=>(await new Promise(u=>setTimeout(u,t.data.value)),console.log(`debugConsole, nodeId:${n} handleId:${t.data.id} delay:${t.data.value}`),!0));return i.value.data.runState="none",ke(i,(u,a)=>{u.data.runState=="ready"&&s()}),(u,a)=>(X(),te("div",{class:Ve("flowdelay-item  node-item-slot "+t.data.refType+(t.data.value?" has-value":""))},[t.data.name?(X(),te("span",Hx,Ee(t.data.name),1)):Me("",!0),a[0]||(a[0]=L("div",{style:{height:"0",clear:"both"}},null,-1)),L("div",Vx,[he(no,{data:u.data},null,8,["data"])]),a[1]||(a[1]=L("div",{style:{height:"0",clear:"both"}},null,-1))],2))}}),qx=rt(Ux,[["__scopeId","data-v-bea07792"]]),Gx={key:0,class:"node-item-name"},jx={class:"node-item-value2"},Wx=be({__name:"FlowReqItem",props:{data:{}},setup(e){const t=e;t.data.value||(t.data.value="https://httpbin.org/get");const{updateNodeData:n}=Te(),i=hn(),o=Dn(i);let r=le("");const s=Ut({handleType:"target"}),u=Ut({handleType:"source"}),a=cr(i,s,u,async()=>{try{const l=await zt.fn_request(t.data.value,"GET",void 0,void 0);if(console.log(`debugConsole, nodeId:${i} handleId:${t.data.id} resp:
`,l),l.status!=200)return r.value="warning: ok/status:"+l.status.toString(),!1;if(typeof l.json=="object")return r.value=JSON.stringify(l.json,null,2),!0;if(typeof l.json=="function"){const c=await l.json();return r.value=JSON.stringify(c,null,2),!0}else return r.value="warning: without json",!1}catch(l){return console.error("error request:",l),r.value="[error]",!1}});return o.value.data.runState=!1,ke(o,(l,c)=>{l.data.runState=="ready"&&a()}),(l,c)=>(X(),te("div",{class:Ve("flowreq-item  node-item-slot "+t.data.refType+(t.data.value?" has-value":""))},[t.data.name?(X(),te("span",Gx,Ee(t.data.name),1)):Me("",!0),c[1]||(c[1]=L("div",{style:{height:"0",clear:"both"}},null,-1)),L("div",jx,[he(no,{data:l.data},null,8,["data"]),c[0]||(c[0]=L("div",{style:{height:"0",clear:"both"}},null,-1)),V(r).length>0?(X(),Ye(no,{key:0,data:{value:V(r)},style:{"margin-top":"4px"}},null,8,["data"])):Me("",!0)]),c[2]||(c[2]=L("div",{style:{height:"0",clear:"both"}},null,-1))],2))}}),Zx=rt(Wx,[["__scopeId","data-v-df15ca2b"]]),Yx={key:0,class:"node-item-name"},Xx={class:"node-item-value2"},Kx=be({__name:"FlowEvalItem",props:{data:{}},setup(e){const t=e;t.data.value||(t.data.value="console.log('debug output')");const n=hn(),i=Dn(n),o=Ut({handleType:"target"}),r=Ut({handleType:"source"}),s=cr(n,o,r,async()=>{try{const u={socketData:t.data,source:{},target:{}};return new Function("ctx",t.data.value)(u),console.log(`debugConsole, nodeId:${n} handleId:${t.data.id}`),!0}catch(u){return console.error(`debugConsole, nodeId:${n} handleId:${t.data.id} error:`,u),!1}});return i.value.data.runState="none",ke(i,(u,a)=>{u.data.runState=="ready"&&s()}),(u,a)=>(X(),te("div",{class:Ve("floweval-item  node-item-slot "+t.data.refType+(t.data.value?" has-value":""))},[t.data.name?(X(),te("span",Yx,Ee(t.data.name),1)):Me("",!0),a[0]||(a[0]=L("div",{style:{height:"0",clear:"both"}},null,-1)),L("div",Xx,[he(no,{data:u.data,codeType:"js"},null,8,["data"])]),a[1]||(a[1]=L("div",{style:{height:"0",clear:"both"}},null,-1))],2))}}),Jx=rt(Kx,[["__scopeId","data-v-971abdd6"]]),Qx={class:"node-id"},eC=["aria-label"],tC={class:"node-title"},nC=["title"],iC={style:{display:"inline-block","margin-left":"10px"}},oC={class:"node-content"},rC=be({__name:"ItemNode",props:{id:{},data:{},isItem:{type:Boolean,default:!1}},setup(e){var i,o;const t=e;ve(()=>t.data.items.filter(r=>r.refType==="input")),ve(()=>t.data.items.filter(r=>r.refType==="output")),ve(()=>t.data.items.filter(r=>r.refType==="value"));const n=le(!1);return n.value=((o=(i=t.data)==null?void 0:i.items)==null?void 0:o.length)!=0,(r,s)=>{const u=ol("ItemNode",!0);return X(),te("div",{class:Ve(["item-node oo-style",{"item-item":r.isItem}])},[ze(L("div",Qx,[L("div",null,"#"+Ee(r.id),1)],512),[[_t,r.id!=""]]),L("div",{class:Ve(["common-node node-main",r.data.runState]),"aria-label":r.data.label},[L("div",tC,[L("span",{class:"node-state",title:"runState: "+r.data.runState},null,8,nC),L("span",iC,Ee(r.data.hasOwnProperty("label")?r.data.label:r.data.hasOwnProperty("name")?r.data.name:r.data.id),1)]),L("div",oC,[(X(!0),te(Ie,null,ht(r.data.items,(a,l)=>(X(),te("div",{class:Ve("line node-item "+a.refType)},[he(ux,{index:l,item:a},{"item-item":Le(c=>[he(u,{id:c.data.id,data:c.data,"is-item":!0},null,8,["id","data"])]),"item-string":Le(c=>[he(gx,{data:c.data},null,8,["data"])]),"item-enum":Le(c=>[he(yx,{data:c.data},null,8,["data"])]),"item-color":Le(c=>[he(Cx,{data:c.data},null,8,["data"])]),"item-markdown":Le(c=>[he(ap,{data:c.data},null,8,["data"])]),"item-debug":Le(c=>[he(Ix,{data:c.data},null,8,["data"])]),"item-feat":Le(c=>[he(Mx,{data:c.data},null,8,["data"])]),"item-start":Le(c=>[he(Px,{data:c.data},null,8,["data"])]),"item-fdefault":Le(c=>[he(Bx,{data:c.data},null,8,["data"])]),"item-flow":Le(c=>[he(zx,{data:c.data},null,8,["data"])]),"item-flowdelay":Le(c=>[he(qx,{data:c.data},null,8,["data"])]),"item-flowreq":Le(c=>[he(Zx,{data:c.data},null,8,["data"])]),"item-floweval":Le(c=>[he(Jx,{data:c.data},null,8,["data"])]),_:2},1032,["index","item"])],2))),256))]),ze(L("div",null,[he(V(Xe),{id:"l",class:"default",type:"target",position:V(se).Left},null,8,["position"]),he(V(Xe),{id:"t",class:"default",type:"target",position:V(se).Top},null,8,["position"]),he(V(Xe),{id:"r",class:"default",type:"source",position:V(se).Right},null,8,["position"]),he(V(Xe),{id:"b",class:"default",type:"source",position:V(se).Bottom},null,8,["position"])],512),[[_t,!n.value]])],10,eC)],2)}}}),sC={class:"fold-title"},uC={class:"fold-content"},aC={class:"fold-title"},lC={class:"fold-content"},cC={for:"draggable",title:""},dC={for:"connectable",title:""},fC={for:"selectable",title:""},hC={for:"zoomonscroll",title:","},pC={for:"zoomonpinch",title:"Ctrl,"},mC={for:"panonscroll",title:","},gC={title:","},_C={for:"zoomondbl",title:""},vC={for:"panemoveable",title:""},bC={for:"capturezoompaneclick",title:"?"},yC={for:"capturezoompanescroll",title:"?"},wC=be({__name:"InteractionControls",setup(e){let t=le(!0),n=le(!0);const{nodesDraggable:i,nodesConnectable:o,elementsSelectable:r,zoomOnScroll:s,zoomOnDoubleClick:u,zoomOnPinch:a,panOnScroll:l,panOnScrollMode:c,panOnDrag:d,onConnect:f,onNodeDragStop:h,onPaneClick:m,onPaneScroll:b,onPaneContextMenu:v,onNodeDragStart:y,onMoveEnd:_,addEdges:p,zoomIn:g,zoomOut:S,setMinZoom:C,setMaxZoom:F}=Te(),w=le(!1),x=le(!1);f(E=>p(E));const N=()=>{F(3),g()},P=()=>{C(.1),S()};return N(),P(),y(E=>zt.isDebug&&console.log("Drag start",E)),h(E=>zt.isDebug&&console.log("Drag stop",E)),m(E=>zt.isDebug&&w.value&&console.log("Pane click",E)),b(E=>zt.isDebug&&x.value&&console.log("Pane scroll",E)),v(E=>zt.isDebug&&w.value&&console.log("Pane ctx menu",E)),_(E=>zt.isDebug&&console.log("Move end",E)),(E,z)=>(X(),Ye(V(d3),{position:"top-right"},{default:Le(()=>[L("div",sC,[L("button",{onClick:z[0]||(z[0]=M=>Ce(n)?n.value=!V(n):n=!V(n))},"Nodes Tool "+Ee(V(n)?"v":"^"),1)]),ze(L("div",uC,z[13]||(z[13]=[L("div",{title:""},[L("button",{title:"ctrl+d"},"Copy&Paste")],-1),L("div",{title:""},[L("button",{title:"ctrl+c"},"Copy")],-1),L("div",{title:""},[L("button",{title:"ctrl+v"},"Paste")],-1)]),512),[[_t,!V(n)]]),L("div",aC,[L("button",{onClick:z[1]||(z[1]=M=>Ce(t)?t.value=!V(t):t=!V(t))},"Canvas Config "+Ee(V(t)?"v":"^"),1)]),ze(L("div",lC,[L("div",null,[L("label",cC,[z[14]||(z[14]=tt(" Nodes draggable ")),ze(L("input",{id:"draggable","onUpdate:modelValue":z[2]||(z[2]=M=>Ce(i)?i.value=M:null),type:"checkbox",class:"vue-flow__draggable"},null,512),[[rn,V(i)]])])]),L("div",null,[L("label",dC,[z[15]||(z[15]=tt(" Nodes connectable ")),ze(L("input",{id:"connectable","onUpdate:modelValue":z[3]||(z[3]=M=>Ce(o)?o.value=M:null),type:"checkbox"},null,512),[[rn,V(o)]])])]),L("div",null,[L("label",fC,[z[16]||(z[16]=tt(" Elements selectable ")),ze(L("input",{id:"selectable","onUpdate:modelValue":z[4]||(z[4]=M=>Ce(r)?r.value=M:null),type:"checkbox"},null,512),[[rn,V(r)]])])]),L("div",null,[L("label",hC,[z[17]||(z[17]=tt(" Zoom on scroll ")),ze(L("input",{id:"zoomonscroll","onUpdate:modelValue":z[5]||(z[5]=M=>Ce(s)?s.value=M:null),type:"checkbox"},null,512),[[rn,V(s)]])])]),L("div",null,[L("label",pC,[z[18]||(z[18]=tt(" Zoom on pinch ")),ze(L("input",{id:"zoomonpinch","onUpdate:modelValue":z[6]||(z[6]=M=>Ce(a)?a.value=M:null),type:"checkbox"},null,512),[[rn,V(a)]])])]),L("div",null,[L("label",mC,[z[19]||(z[19]=tt(" Pan on scroll ")),ze(L("input",{id:"panonscroll","onUpdate:modelValue":z[7]||(z[7]=M=>Ce(l)?l.value=M:null),type:"checkbox"},null,512),[[rn,V(l)]])])]),L("div",null,[L("label",gC,[z[21]||(z[21]=tt(" Pan on scroll mode ")),ze(L("select",{"onUpdate:modelValue":z[8]||(z[8]=M=>Ce(c)?c.value=M:null)},z[20]||(z[20]=[L("option",{value:"free"},"Free",-1),L("option",{value:"horizontal"},"Horizontal",-1),L("option",{value:"vertical"},"Vertical",-1)]),512),[[Vh,V(c)]])])]),L("div",null,[L("label",_C,[z[22]||(z[22]=tt(" Zoom on double click ")),ze(L("input",{id:"zoomondbl","onUpdate:modelValue":z[9]||(z[9]=M=>Ce(u)?u.value=M:null),type:"checkbox"},null,512),[[rn,V(u)]])])]),L("div",null,[L("label",vC,[z[23]||(z[23]=tt(" Pane movable ")),ze(L("input",{id:"panemoveable","onUpdate:modelValue":z[10]||(z[10]=M=>Ce(d)?d.value=M:null),type:"checkbox"},null,512),[[rn,V(d)]])])]),L("div",null,[L("label",bC,[z[24]||(z[24]=tt(" Capture on pane click ")),ze(L("input",{id:"capturezoompaneclick","onUpdate:modelValue":z[11]||(z[11]=M=>w.value=M),type:"checkbox"},null,512),[[rn,w.value]])])]),L("div",null,[L("label",yC,[z[25]||(z[25]=tt(" Capture on pane scroll ")),ze(L("input",{id:"capturezoompanescroll","onUpdate:modelValue":z[12]||(z[12]=M=>x.value=M),type:"checkbox"},null,512),[[rn,x.value]])])]),L("div",null,[L("label",{title:""},[L("button",{onclick:N},"Zoom in")])]),L("div",null,[L("label",{title:""},[L("button",{onclick:P},"Zoom out")])])],512),[[_t,!V(t)]])]),_:1}))}}),xC=rt(wC,[["__scopeId","data-v-3f93b4b5"]]);var kn=(e=>(e.Lines="lines",e.Dots="dots",e))(kn||{});const cp=function({dimensions:e,size:t,color:n}){return Be("path",{stroke:n,"stroke-width":t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`})},dp=function({radius:e,color:t}){return Be("circle",{cx:e,cy:e,r:e,fill:t})};kn.Lines+"",kn.Dots+"";const CC={[kn.Dots]:"#81818a",[kn.Lines]:"#eee"},EC=["id","x","y","width","height","patternTransform"],SC={key:2,height:"100",width:"100"},kC=["fill"],IC=["x","y","fill"],AC={name:"Background",compatConfig:{MODE:3}},DC=be({...AC,props:{id:{},variant:{default:()=>kn.Dots},gap:{default:20},size:{default:1},lineWidth:{default:1},patternColor:{},color:{},bgColor:{},height:{default:100},width:{default:100},x:{default:0},y:{default:0},offset:{default:0}},setup(e){const{id:t,viewport:n}=Te(),i=ve(()=>{const s=n.value.zoom,[u,a]=Array.isArray(e.gap)?e.gap:[e.gap,e.gap],l=[u*s||1,a*s||1],c=e.size*s,[d,f]=Array.isArray(e.offset)?e.offset:[e.offset,e.offset],h=[d*s||1+l[0]/2,f*s||1+l[1]/2];return{scaledGap:l,offset:h,size:c}}),o=We(()=>`pattern-${t}${e.id?`-${e.id}`:""}`),r=We(()=>e.color||e.patternColor||CC[e.variant||kn.Dots]);return(s,u)=>(X(),te("svg",{class:"vue-flow__background vue-flow__container",style:vt({height:`${s.height>100?100:s.height}%`,width:`${s.width>100?100:s.width}%`})},[It(s.$slots,"pattern-container",{id:o.value},()=>[L("pattern",{id:o.value,x:V(n).x%i.value.scaledGap[0],y:V(n).y%i.value.scaledGap[1],width:i.value.scaledGap[0],height:i.value.scaledGap[1],patternTransform:`translate(-${i.value.offset[0]},-${i.value.offset[1]})`,patternUnits:"userSpaceOnUse"},[It(s.$slots,"pattern",{},()=>[s.variant===V(kn).Lines?(X(),Ye(V(cp),{key:0,size:s.lineWidth,color:r.value,dimensions:i.value.scaledGap},null,8,["size","color","dimensions"])):s.variant===V(kn).Dots?(X(),Ye(V(dp),{key:1,color:r.value,radius:i.value.size/2},null,8,["color","radius"])):Me("",!0),s.bgColor?(X(),te("svg",SC,[L("rect",{width:"100%",height:"100%",fill:s.bgColor},null,8,kC)])):Me("",!0)])],8,EC)]),L("rect",{x:s.x,y:s.y,width:"100%",height:"100%",fill:`url(#${o.value})`},null,8,IC),It(s.$slots,"default",{id:o.value})],4))}});var du,dd;function xl(){if(dd)return du;dd=1;var e="\0",t="\0",n="";class i{constructor(c){et(this,"_isDirected",!0);et(this,"_isMultigraph",!1);et(this,"_isCompound",!1);et(this,"_label");et(this,"_defaultNodeLabelFn",()=>{});et(this,"_defaultEdgeLabelFn",()=>{});et(this,"_nodes",{});et(this,"_in",{});et(this,"_preds",{});et(this,"_out",{});et(this,"_sucs",{});et(this,"_edgeObjs",{});et(this,"_edgeLabels",{});et(this,"_nodeCount",0);et(this,"_edgeCount",0);et(this,"_parent");et(this,"_children");c&&(this._isDirected=Object.hasOwn(c,"directed")?c.directed:!0,this._isMultigraph=Object.hasOwn(c,"multigraph")?c.multigraph:!1,this._isCompound=Object.hasOwn(c,"compound")?c.compound:!1),this._isCompound&&(this._parent={},this._children={},this._children[t]={})}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(c){return this._label=c,this}graph(){return this._label}setDefaultNodeLabel(c){return this._defaultNodeLabelFn=c,typeof c!="function"&&(this._defaultNodeLabelFn=()=>c),this}nodeCount(){return this._nodeCount}nodes(){return Object.keys(this._nodes)}sources(){var c=this;return this.nodes().filter(d=>Object.keys(c._in[d]).length===0)}sinks(){var c=this;return this.nodes().filter(d=>Object.keys(c._out[d]).length===0)}setNodes(c,d){var f=arguments,h=this;return c.forEach(function(m){f.length>1?h.setNode(m,d):h.setNode(m)}),this}setNode(c,d){return Object.hasOwn(this._nodes,c)?(arguments.length>1&&(this._nodes[c]=d),this):(this._nodes[c]=arguments.length>1?d:this._defaultNodeLabelFn(c),this._isCompound&&(this._parent[c]=t,this._children[c]={},this._children[t][c]=!0),this._in[c]={},this._preds[c]={},this._out[c]={},this._sucs[c]={},++this._nodeCount,this)}node(c){return this._nodes[c]}hasNode(c){return Object.hasOwn(this._nodes,c)}removeNode(c){var d=this;if(Object.hasOwn(this._nodes,c)){var f=h=>d.removeEdge(d._edgeObjs[h]);delete this._nodes[c],this._isCompound&&(this._removeFromParentsChildList(c),delete this._parent[c],this.children(c).forEach(function(h){d.setParent(h)}),delete this._children[c]),Object.keys(this._in[c]).forEach(f),delete this._in[c],delete this._preds[c],Object.keys(this._out[c]).forEach(f),delete this._out[c],delete this._sucs[c],--this._nodeCount}return this}setParent(c,d){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(d===void 0)d=t;else{d+="";for(var f=d;f!==void 0;f=this.parent(f))if(f===c)throw new Error("Setting "+d+" as parent of "+c+" would create a cycle");this.setNode(d)}return this.setNode(c),this._removeFromParentsChildList(c),this._parent[c]=d,this._children[d][c]=!0,this}_removeFromParentsChildList(c){delete this._children[this._parent[c]][c]}parent(c){if(this._isCompound){var d=this._parent[c];if(d!==t)return d}}children(c=t){if(this._isCompound){var d=this._children[c];if(d)return Object.keys(d)}else{if(c===t)return this.nodes();if(this.hasNode(c))return[]}}predecessors(c){var d=this._preds[c];if(d)return Object.keys(d)}successors(c){var d=this._sucs[c];if(d)return Object.keys(d)}neighbors(c){var d=this.predecessors(c);if(d){const h=new Set(d);for(var f of this.successors(c))h.add(f);return Array.from(h.values())}}isLeaf(c){var d;return this.isDirected()?d=this.successors(c):d=this.neighbors(c),d.length===0}filterNodes(c){var d=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});d.setGraph(this.graph());var f=this;Object.entries(this._nodes).forEach(function([b,v]){c(b)&&d.setNode(b,v)}),Object.values(this._edgeObjs).forEach(function(b){d.hasNode(b.v)&&d.hasNode(b.w)&&d.setEdge(b,f.edge(b))});var h={};function m(b){var v=f.parent(b);return v===void 0||d.hasNode(v)?(h[b]=v,v):v in h?h[v]:m(v)}return this._isCompound&&d.nodes().forEach(b=>d.setParent(b,m(b))),d}setDefaultEdgeLabel(c){return this._defaultEdgeLabelFn=c,typeof c!="function"&&(this._defaultEdgeLabelFn=()=>c),this}edgeCount(){return this._edgeCount}edges(){return Object.values(this._edgeObjs)}setPath(c,d){var f=this,h=arguments;return c.reduce(function(m,b){return h.length>1?f.setEdge(m,b,d):f.setEdge(m,b),b}),this}setEdge(){var c,d,f,h,m=!1,b=arguments[0];typeof b=="object"&&b!==null&&"v"in b?(c=b.v,d=b.w,f=b.name,arguments.length===2&&(h=arguments[1],m=!0)):(c=b,d=arguments[1],f=arguments[3],arguments.length>2&&(h=arguments[2],m=!0)),c=""+c,d=""+d,f!==void 0&&(f=""+f);var v=s(this._isDirected,c,d,f);if(Object.hasOwn(this._edgeLabels,v))return m&&(this._edgeLabels[v]=h),this;if(f!==void 0&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(c),this.setNode(d),this._edgeLabels[v]=m?h:this._defaultEdgeLabelFn(c,d,f);var y=u(this._isDirected,c,d,f);return c=y.v,d=y.w,Object.freeze(y),this._edgeObjs[v]=y,o(this._preds[d],c),o(this._sucs[c],d),this._in[d][v]=y,this._out[c][v]=y,this._edgeCount++,this}edge(c,d,f){var h=arguments.length===1?a(this._isDirected,arguments[0]):s(this._isDirected,c,d,f);return this._edgeLabels[h]}edgeAsObj(){const c=this.edge(...arguments);return typeof c!="object"?{label:c}:c}hasEdge(c,d,f){var h=arguments.length===1?a(this._isDirected,arguments[0]):s(this._isDirected,c,d,f);return Object.hasOwn(this._edgeLabels,h)}removeEdge(c,d,f){var h=arguments.length===1?a(this._isDirected,arguments[0]):s(this._isDirected,c,d,f),m=this._edgeObjs[h];return m&&(c=m.v,d=m.w,delete this._edgeLabels[h],delete this._edgeObjs[h],r(this._preds[d],c),r(this._sucs[c],d),delete this._in[d][h],delete this._out[c][h],this._edgeCount--),this}inEdges(c,d){var f=this._in[c];if(f){var h=Object.values(f);return d?h.filter(m=>m.v===d):h}}outEdges(c,d){var f=this._out[c];if(f){var h=Object.values(f);return d?h.filter(m=>m.w===d):h}}nodeEdges(c,d){var f=this.inEdges(c,d);if(f)return f.concat(this.outEdges(c,d))}}function o(l,c){l[c]?l[c]++:l[c]=1}function r(l,c){--l[c]||delete l[c]}function s(l,c,d,f){var h=""+c,m=""+d;if(!l&&h>m){var b=h;h=m,m=b}return h+n+m+n+(f===void 0?e:f)}function u(l,c,d,f){var h=""+c,m=""+d;if(!l&&h>m){var b=h;h=m,m=b}var v={v:h,w:m};return f&&(v.name=f),v}function a(l,c){return s(l,c.v,c.w,c.name)}return du=i,du}var fu,fd;function TC(){return fd||(fd=1,fu="2.2.4"),fu}var hu,hd;function MC(){return hd||(hd=1,hu={Graph:xl(),version:TC()}),hu}var pu,pd;function NC(){if(pd)return pu;pd=1;var e=xl();pu={write:t,read:o};function t(r){var s={options:{directed:r.isDirected(),multigraph:r.isMultigraph(),compound:r.isCompound()},nodes:n(r),edges:i(r)};return r.graph()!==void 0&&(s.value=structuredClone(r.graph())),s}function n(r){return r.nodes().map(function(s){var u=r.node(s),a=r.parent(s),l={v:s};return u!==void 0&&(l.value=u),a!==void 0&&(l.parent=a),l})}function i(r){return r.edges().map(function(s){var u=r.edge(s),a={v:s.v,w:s.w};return s.name!==void 0&&(a.name=s.name),u!==void 0&&(a.value=u),a})}function o(r){var s=new e(r.options).setGraph(r.value);return r.nodes.forEach(function(u){s.setNode(u.v,u.value),u.parent&&s.setParent(u.v,u.parent)}),r.edges.forEach(function(u){s.setEdge({v:u.v,w:u.w,name:u.name},u.value)}),s}return pu}var mu,md;function FC(){if(md)return mu;md=1,mu=e;function e(t){var n={},i=[],o;function r(s){Object.hasOwn(n,s)||(n[s]=!0,o.push(s),t.successors(s).forEach(r),t.predecessors(s).forEach(r))}return t.nodes().forEach(function(s){o=[],r(s),o.length&&i.push(o)}),i}return mu}var gu,gd;function fp(){if(gd)return gu;gd=1;class e{constructor(){et(this,"_arr",[]);et(this,"_keyIndices",{})}size(){return this._arr.length}keys(){return this._arr.map(function(n){return n.key})}has(n){return Object.hasOwn(this._keyIndices,n)}priority(n){var i=this._keyIndices[n];if(i!==void 0)return this._arr[i].priority}min(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key}add(n,i){var o=this._keyIndices;if(n=String(n),!Object.hasOwn(o,n)){var r=this._arr,s=r.length;return o[n]=s,r.push({key:n,priority:i}),this._decrease(s),!0}return!1}removeMin(){this._swap(0,this._arr.length-1);var n=this._arr.pop();return delete this._keyIndices[n.key],this._heapify(0),n.key}decrease(n,i){var o=this._keyIndices[n];if(i>this._arr[o].priority)throw new Error("New priority is greater than current priority. Key: "+n+" Old: "+this._arr[o].priority+" New: "+i);this._arr[o].priority=i,this._decrease(o)}_heapify(n){var i=this._arr,o=2*n,r=o+1,s=n;o<i.length&&(s=i[o].priority<i[s].priority?o:s,r<i.length&&(s=i[r].priority<i[s].priority?r:s),s!==n&&(this._swap(n,s),this._heapify(s)))}_decrease(n){for(var i=this._arr,o=i[n].priority,r;n!==0&&(r=n>>1,!(i[r].priority<o));)this._swap(n,r),n=r}_swap(n,i){var o=this._arr,r=this._keyIndices,s=o[n],u=o[i];o[n]=u,o[i]=s,r[u.key]=n,r[s.key]=i}}return gu=e,gu}var _u,_d;function hp(){if(_d)return _u;_d=1;var e=fp();_u=n;var t=()=>1;function n(o,r,s,u){return i(o,String(r),s||t,u||function(a){return o.outEdges(a)})}function i(o,r,s,u){var a={},l=new e,c,d,f=function(h){var m=h.v!==c?h.v:h.w,b=a[m],v=s(h),y=d.distance+v;if(v<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+h+" Weight: "+v);y<b.distance&&(b.distance=y,b.predecessor=c,l.decrease(m,y))};for(o.nodes().forEach(function(h){var m=h===r?0:Number.POSITIVE_INFINITY;a[h]={distance:m},l.add(h,m)});l.size()>0&&(c=l.removeMin(),d=a[c],d.distance!==Number.POSITIVE_INFINITY);)u(c).forEach(f);return a}return _u}var vu,vd;function PC(){if(vd)return vu;vd=1;var e=hp();vu=t;function t(n,i,o){return n.nodes().reduce(function(r,s){return r[s]=e(n,s,i,o),r},{})}return vu}var bu,bd;function pp(){if(bd)return bu;bd=1,bu=e;function e(t){var n=0,i=[],o={},r=[];function s(u){var a=o[u]={onStack:!0,lowlink:n,index:n++};if(i.push(u),t.successors(u).forEach(function(d){Object.hasOwn(o,d)?o[d].onStack&&(a.lowlink=Math.min(a.lowlink,o[d].index)):(s(d),a.lowlink=Math.min(a.lowlink,o[d].lowlink))}),a.lowlink===a.index){var l=[],c;do c=i.pop(),o[c].onStack=!1,l.push(c);while(u!==c);r.push(l)}}return t.nodes().forEach(function(u){Object.hasOwn(o,u)||s(u)}),r}return bu}var yu,yd;function OC(){if(yd)return yu;yd=1;var e=pp();yu=t;function t(n){return e(n).filter(function(i){return i.length>1||i.length===1&&n.hasEdge(i[0],i[0])})}return yu}var wu,wd;function LC(){if(wd)return wu;wd=1,wu=t;var e=()=>1;function t(i,o,r){return n(i,o||e,r||function(s){return i.outEdges(s)})}function n(i,o,r){var s={},u=i.nodes();return u.forEach(function(a){s[a]={},s[a][a]={distance:0},u.forEach(function(l){a!==l&&(s[a][l]={distance:Number.POSITIVE_INFINITY})}),r(a).forEach(function(l){var c=l.v===a?l.w:l.v,d=o(l);s[a][c]={distance:d,predecessor:a}})}),u.forEach(function(a){var l=s[a];u.forEach(function(c){var d=s[c];u.forEach(function(f){var h=d[a],m=l[f],b=d[f],v=h.distance+m.distance;v<b.distance&&(b.distance=v,b.predecessor=m.predecessor)})})}),s}return wu}var xu,xd;function mp(){if(xd)return xu;xd=1;function e(n){var i={},o={},r=[];function s(u){if(Object.hasOwn(o,u))throw new t;Object.hasOwn(i,u)||(o[u]=!0,i[u]=!0,n.predecessors(u).forEach(s),delete o[u],r.push(u))}if(n.sinks().forEach(s),Object.keys(i).length!==n.nodeCount())throw new t;return r}class t extends Error{constructor(){super(...arguments)}}return xu=e,e.CycleException=t,xu}var Cu,Cd;function zC(){if(Cd)return Cu;Cd=1;var e=mp();Cu=t;function t(n){try{e(n)}catch(i){if(i instanceof e.CycleException)return!1;throw i}return!0}return Cu}var Eu,Ed;function gp(){if(Ed)return Eu;Ed=1,Eu=e;function e(o,r,s){Array.isArray(r)||(r=[r]);var u=o.isDirected()?d=>o.successors(d):d=>o.neighbors(d),a=s==="post"?t:n,l=[],c={};return r.forEach(d=>{if(!o.hasNode(d))throw new Error("Graph does not have node: "+d);a(d,u,c,l)}),l}function t(o,r,s,u){for(var a=[[o,!1]];a.length>0;){var l=a.pop();l[1]?u.push(l[0]):Object.hasOwn(s,l[0])||(s[l[0]]=!0,a.push([l[0],!0]),i(r(l[0]),c=>a.push([c,!1])))}}function n(o,r,s,u){for(var a=[o];a.length>0;){var l=a.pop();Object.hasOwn(s,l)||(s[l]=!0,u.push(l),i(r(l),c=>a.push(c)))}}function i(o,r){for(var s=o.length;s--;)r(o[s],s,o);return o}return Eu}var Su,Sd;function RC(){if(Sd)return Su;Sd=1;var e=gp();Su=t;function t(n,i){return e(n,i,"post")}return Su}var ku,kd;function $C(){if(kd)return ku;kd=1;var e=gp();ku=t;function t(n,i){return e(n,i,"pre")}return ku}var Iu,Id;function BC(){if(Id)return Iu;Id=1;var e=xl(),t=fp();Iu=n;function n(i,o){var r=new e,s={},u=new t,a;function l(d){var f=d.v===a?d.w:d.v,h=u.priority(f);if(h!==void 0){var m=o(d);m<h&&(s[f]=a,u.decrease(f,m))}}if(i.nodeCount()===0)return r;i.nodes().forEach(function(d){u.add(d,Number.POSITIVE_INFINITY),r.setNode(d)}),u.decrease(i.nodes()[0],0);for(var c=!1;u.size()>0;){if(a=u.removeMin(),Object.hasOwn(s,a))r.setEdge(a,s[a]);else{if(c)throw new Error("Input graph is not connected: "+i);c=!0}i.nodeEdges(a).forEach(l)}return r}return Iu}var Au,Ad;function HC(){return Ad||(Ad=1,Au={components:FC(),dijkstra:hp(),dijkstraAll:PC(),findCycles:OC(),floydWarshall:LC(),isAcyclic:zC(),postorder:RC(),preorder:$C(),prim:BC(),tarjan:pp(),topsort:mp()}),Au}var Du,Dd;function Kt(){if(Dd)return Du;Dd=1;var e=MC();return Du={Graph:e.Graph,json:NC(),alg:HC(),version:e.version},Du}var Tu,Td;function VC(){if(Td)return Tu;Td=1;class e{constructor(){let o={};o._next=o._prev=o,this._sentinel=o}dequeue(){let o=this._sentinel,r=o._prev;if(r!==o)return t(r),r}enqueue(o){let r=this._sentinel;o._prev&&o._next&&t(o),o._next=r._next,r._next._prev=o,r._next=o,o._prev=r}toString(){let o=[],r=this._sentinel,s=r._prev;for(;s!==r;)o.push(JSON.stringify(s,n)),s=s._prev;return"["+o.join(", ")+"]"}}function t(i){i._prev._next=i._next,i._next._prev=i._prev,delete i._next,delete i._prev}function n(i,o){if(i!=="_next"&&i!=="_prev")return o}return Tu=e,Tu}var Mu,Md;function UC(){if(Md)return Mu;Md=1;let e=Kt().Graph,t=VC();Mu=i;let n=()=>1;function i(l,c){if(l.nodeCount()<=1)return[];let d=s(l,c||n);return o(d.graph,d.buckets,d.zeroIdx).flatMap(h=>l.outEdges(h.v,h.w))}function o(l,c,d){let f=[],h=c[c.length-1],m=c[0],b;for(;l.nodeCount();){for(;b=m.dequeue();)r(l,c,d,b);for(;b=h.dequeue();)r(l,c,d,b);if(l.nodeCount()){for(let v=c.length-2;v>0;--v)if(b=c[v].dequeue(),b){f=f.concat(r(l,c,d,b,!0));break}}}return f}function r(l,c,d,f,h){let m=h?[]:void 0;return l.inEdges(f.v).forEach(b=>{let v=l.edge(b),y=l.node(b.v);h&&m.push({v:b.v,w:b.w}),y.out-=v,u(c,d,y)}),l.outEdges(f.v).forEach(b=>{let v=l.edge(b),y=b.w,_=l.node(y);_.in-=v,u(c,d,_)}),l.removeNode(f.v),m}function s(l,c){let d=new e,f=0,h=0;l.nodes().forEach(v=>{d.setNode(v,{v,in:0,out:0})}),l.edges().forEach(v=>{let y=d.edge(v.v,v.w)||0,_=c(v),p=y+_;d.setEdge(v.v,v.w,p),h=Math.max(h,d.node(v.v).out+=_),f=Math.max(f,d.node(v.w).in+=_)});let m=a(h+f+3).map(()=>new t),b=f+1;return d.nodes().forEach(v=>{u(m,b,d.node(v))}),{graph:d,buckets:m,zeroIdx:b}}function u(l,c,d){d.out?d.in?l[d.out-d.in+c].enqueue(d):l[l.length-1].enqueue(d):l[0].enqueue(d)}function a(l){const c=[];for(let d=0;d<l;d++)c.push(d);return c}return Mu}var Nu,Nd;function ot(){if(Nd)return Nu;Nd=1;let e=Kt().Graph;Nu={addBorderNode:c,addDummyNode:t,applyWithChunking:h,asNonCompoundGraph:i,buildLayerMatrix:u,intersectRect:s,mapValues:C,maxRank:m,normalizeRanks:a,notime:y,partition:b,pick:S,predecessorWeights:r,range:g,removeEmptyRanks:l,simplify:n,successorWeights:o,time:v,uniqueId:p,zipObject:F};function t(w,x,N,P){let E;do E=p(P);while(w.hasNode(E));return N.dummy=x,w.setNode(E,N),E}function n(w){let x=new e().setGraph(w.graph());return w.nodes().forEach(N=>x.setNode(N,w.node(N))),w.edges().forEach(N=>{let P=x.edge(N.v,N.w)||{weight:0,minlen:1},E=w.edge(N);x.setEdge(N.v,N.w,{weight:P.weight+E.weight,minlen:Math.max(P.minlen,E.minlen)})}),x}function i(w){let x=new e({multigraph:w.isMultigraph()}).setGraph(w.graph());return w.nodes().forEach(N=>{w.children(N).length||x.setNode(N,w.node(N))}),w.edges().forEach(N=>{x.setEdge(N,w.edge(N))}),x}function o(w){let x=w.nodes().map(N=>{let P={};return w.outEdges(N).forEach(E=>{P[E.w]=(P[E.w]||0)+w.edge(E).weight}),P});return F(w.nodes(),x)}function r(w){let x=w.nodes().map(N=>{let P={};return w.inEdges(N).forEach(E=>{P[E.v]=(P[E.v]||0)+w.edge(E).weight}),P});return F(w.nodes(),x)}function s(w,x){let N=w.x,P=w.y,E=x.x-N,z=x.y-P,M=w.width/2,U=w.height/2;if(!E&&!z)throw new Error("Not possible to find intersection inside of the rectangle");let $,Z;return Math.abs(z)*M>Math.abs(E)*U?(z<0&&(U=-U),$=U*E/z,Z=U):(E<0&&(M=-M),$=M,Z=M*z/E),{x:N+$,y:P+Z}}function u(w){let x=g(m(w)+1).map(()=>[]);return w.nodes().forEach(N=>{let P=w.node(N),E=P.rank;E!==void 0&&(x[E][P.order]=N)}),x}function a(w){let x=w.nodes().map(P=>{let E=w.node(P).rank;return E===void 0?Number.MAX_VALUE:E}),N=h(Math.min,x);w.nodes().forEach(P=>{let E=w.node(P);Object.hasOwn(E,"rank")&&(E.rank-=N)})}function l(w){let x=w.nodes().map(M=>w.node(M).rank),N=h(Math.min,x),P=[];w.nodes().forEach(M=>{let U=w.node(M).rank-N;P[U]||(P[U]=[]),P[U].push(M)});let E=0,z=w.graph().nodeRankFactor;Array.from(P).forEach((M,U)=>{M===void 0&&U%z!==0?--E:M!==void 0&&E&&M.forEach($=>w.node($).rank+=E)})}function c(w,x,N,P){let E={width:0,height:0};return arguments.length>=4&&(E.rank=N,E.order=P),t(w,"border",E,x)}function d(w,x=f){const N=[];for(let P=0;P<w.length;P+=x){const E=w.slice(P,P+x);N.push(E)}return N}const f=65535;function h(w,x){if(x.length>f){const N=d(x);return w.apply(null,N.map(P=>w.apply(null,P)))}else return w.apply(null,x)}function m(w){const N=w.nodes().map(P=>{let E=w.node(P).rank;return E===void 0?Number.MIN_VALUE:E});return h(Math.max,N)}function b(w,x){let N={lhs:[],rhs:[]};return w.forEach(P=>{x(P)?N.lhs.push(P):N.rhs.push(P)}),N}function v(w,x){let N=Date.now();try{return x()}finally{console.log(w+" time: "+(Date.now()-N)+"ms")}}function y(w,x){return x()}let _=0;function p(w){var x=++_;return toString(w)+x}function g(w,x,N=1){x==null&&(x=w,w=0);let P=z=>z<x;N<0&&(P=z=>x<z);const E=[];for(let z=w;P(z);z+=N)E.push(z);return E}function S(w,x){const N={};for(const P of x)w[P]!==void 0&&(N[P]=w[P]);return N}function C(w,x){let N=x;return typeof x=="string"&&(N=P=>P[x]),Object.entries(w).reduce((P,[E,z])=>(P[E]=N(z,E),P),{})}function F(w,x){return w.reduce((N,P,E)=>(N[P]=x[E],N),{})}return Nu}var Fu,Fd;function qC(){if(Fd)return Fu;Fd=1;let e=UC(),t=ot().uniqueId;Fu={run:n,undo:o};function n(r){(r.graph().acyclicer==="greedy"?e(r,u(r)):i(r)).forEach(a=>{let l=r.edge(a);r.removeEdge(a),l.forwardName=a.name,l.reversed=!0,r.setEdge(a.w,a.v,l,t("rev"))});function u(a){return l=>a.edge(l).weight}}function i(r){let s=[],u={},a={};function l(c){Object.hasOwn(a,c)||(a[c]=!0,u[c]=!0,r.outEdges(c).forEach(d=>{Object.hasOwn(u,d.w)?s.push(d):l(d.w)}),delete u[c])}return r.nodes().forEach(l),s}function o(r){r.edges().forEach(s=>{let u=r.edge(s);if(u.reversed){r.removeEdge(s);let a=u.forwardName;delete u.reversed,delete u.forwardName,r.setEdge(s.w,s.v,u,a)}})}return Fu}var Pu,Pd;function GC(){if(Pd)return Pu;Pd=1;let e=ot();Pu={run:t,undo:i};function t(o){o.graph().dummyChains=[],o.edges().forEach(r=>n(o,r))}function n(o,r){let s=r.v,u=o.node(s).rank,a=r.w,l=o.node(a).rank,c=r.name,d=o.edge(r),f=d.labelRank;if(l===u+1)return;o.removeEdge(r);let h,m,b;for(b=0,++u;u<l;++b,++u)d.points=[],m={width:0,height:0,edgeLabel:d,edgeObj:r,rank:u},h=e.addDummyNode(o,"edge",m,"_d"),u===f&&(m.width=d.width,m.height=d.height,m.dummy="edge-label",m.labelpos=d.labelpos),o.setEdge(s,h,{weight:d.weight},c),b===0&&o.graph().dummyChains.push(h),s=h;o.setEdge(s,a,{weight:d.weight},c)}function i(o){o.graph().dummyChains.forEach(r=>{let s=o.node(r),u=s.edgeLabel,a;for(o.setEdge(s.edgeObj,u);s.dummy;)a=o.successors(r)[0],o.removeNode(r),u.points.push({x:s.x,y:s.y}),s.dummy==="edge-label"&&(u.x=s.x,u.y=s.y,u.width=s.width,u.height=s.height),r=a,s=o.node(r)})}return Pu}var Ou,Od;function ss(){if(Od)return Ou;Od=1;const{applyWithChunking:e}=ot();Ou={longestPath:t,slack:n};function t(i){var o={};function r(s){var u=i.node(s);if(Object.hasOwn(o,s))return u.rank;o[s]=!0;let a=i.outEdges(s).map(c=>c==null?Number.POSITIVE_INFINITY:r(c.w)-i.edge(c).minlen);var l=e(Math.min,a);return l===Number.POSITIVE_INFINITY&&(l=0),u.rank=l}i.sources().forEach(r)}function n(i,o){return i.node(o.w).rank-i.node(o.v).rank-i.edge(o).minlen}return Ou}var Lu,Ld;function _p(){if(Ld)return Lu;Ld=1;var e=Kt().Graph,t=ss().slack;Lu=n;function n(s){var u=new e({directed:!1}),a=s.nodes()[0],l=s.nodeCount();u.setNode(a,{});for(var c,d;i(u,s)<l;)c=o(u,s),d=u.hasNode(c.v)?t(s,c):-t(s,c),r(u,s,d);return u}function i(s,u){function a(l){u.nodeEdges(l).forEach(c=>{var d=c.v,f=l===d?c.w:d;!s.hasNode(f)&&!t(u,c)&&(s.setNode(f,{}),s.setEdge(l,f,{}),a(f))})}return s.nodes().forEach(a),s.nodeCount()}function o(s,u){return u.edges().reduce((l,c)=>{let d=Number.POSITIVE_INFINITY;return s.hasNode(c.v)!==s.hasNode(c.w)&&(d=t(u,c)),d<l[0]?[d,c]:l},[Number.POSITIVE_INFINITY,null])[1]}function r(s,u,a){s.nodes().forEach(l=>u.node(l).rank+=a)}return Lu}var zu,zd;function jC(){if(zd)return zu;zd=1;var e=_p(),t=ss().slack,n=ss().longestPath,i=Kt().alg.preorder,o=Kt().alg.postorder,r=ot().simplify;zu=s,s.initLowLimValues=c,s.initCutValues=u,s.calcCutValue=l,s.leaveEdge=f,s.enterEdge=h,s.exchangeEdges=m;function s(_){_=r(_),n(_);var p=e(_);c(p),u(p,_);for(var g,S;g=f(p);)S=h(p,_,g),m(p,_,g,S)}function u(_,p){var g=o(_,_.nodes());g=g.slice(0,g.length-1),g.forEach(S=>a(_,p,S))}function a(_,p,g){var S=_.node(g),C=S.parent;_.edge(g,C).cutvalue=l(_,p,g)}function l(_,p,g){var S=_.node(g),C=S.parent,F=!0,w=p.edge(g,C),x=0;return w||(F=!1,w=p.edge(C,g)),x=w.weight,p.nodeEdges(g).forEach(N=>{var P=N.v===g,E=P?N.w:N.v;if(E!==C){var z=P===F,M=p.edge(N).weight;if(x+=z?M:-M,v(_,g,E)){var U=_.edge(g,E).cutvalue;x+=z?-U:U}}}),x}function c(_,p){arguments.length<2&&(p=_.nodes()[0]),d(_,{},1,p)}function d(_,p,g,S,C){var F=g,w=_.node(S);return p[S]=!0,_.neighbors(S).forEach(x=>{Object.hasOwn(p,x)||(g=d(_,p,g,x,S))}),w.low=F,w.lim=g++,C?w.parent=C:delete w.parent,g}function f(_){return _.edges().find(p=>_.edge(p).cutvalue<0)}function h(_,p,g){var S=g.v,C=g.w;p.hasEdge(S,C)||(S=g.w,C=g.v);var F=_.node(S),w=_.node(C),x=F,N=!1;F.lim>w.lim&&(x=w,N=!0);var P=p.edges().filter(E=>N===y(_,_.node(E.v),x)&&N!==y(_,_.node(E.w),x));return P.reduce((E,z)=>t(p,z)<t(p,E)?z:E)}function m(_,p,g,S){var C=g.v,F=g.w;_.removeEdge(C,F),_.setEdge(S.v,S.w,{}),c(_),u(_,p),b(_,p)}function b(_,p){var g=_.nodes().find(C=>!p.node(C).parent),S=i(_,g);S=S.slice(1),S.forEach(C=>{var F=_.node(C).parent,w=p.edge(C,F),x=!1;w||(w=p.edge(F,C),x=!0),p.node(C).rank=p.node(F).rank+(x?w.minlen:-w.minlen)})}function v(_,p,g){return _.hasEdge(p,g)}function y(_,p,g){return g.low<=p.lim&&p.lim<=g.lim}return zu}var Ru,Rd;function WC(){if(Rd)return Ru;Rd=1;var e=ss(),t=e.longestPath,n=_p(),i=jC();Ru=o;function o(a){switch(a.graph().ranker){case"network-simplex":u(a);break;case"tight-tree":s(a);break;case"longest-path":r(a);break;default:u(a)}}var r=t;function s(a){t(a),n(a)}function u(a){i(a)}return Ru}var $u,$d;function ZC(){if($d)return $u;$d=1,$u=e;function e(i){let o=n(i);i.graph().dummyChains.forEach(r=>{let s=i.node(r),u=s.edgeObj,a=t(i,o,u.v,u.w),l=a.path,c=a.lca,d=0,f=l[d],h=!0;for(;r!==u.w;){if(s=i.node(r),h){for(;(f=l[d])!==c&&i.node(f).maxRank<s.rank;)d++;f===c&&(h=!1)}if(!h){for(;d<l.length-1&&i.node(f=l[d+1]).minRank<=s.rank;)d++;f=l[d]}i.setParent(r,f),r=i.successors(r)[0]}})}function t(i,o,r,s){let u=[],a=[],l=Math.min(o[r].low,o[s].low),c=Math.max(o[r].lim,o[s].lim),d,f;d=r;do d=i.parent(d),u.push(d);while(d&&(o[d].low>l||c>o[d].lim));for(f=d,d=s;(d=i.parent(d))!==f;)a.push(d);return{path:u.concat(a.reverse()),lca:f}}function n(i){let o={},r=0;function s(u){let a=r;i.children(u).forEach(s),o[u]={low:a,lim:r++}}return i.children().forEach(s),o}return $u}var Bu,Bd;function YC(){if(Bd)return Bu;Bd=1;let e=ot();Bu={run:t,cleanup:r};function t(s){let u=e.addDummyNode(s,"root",{},"_root"),a=i(s),l=Object.values(a),c=e.applyWithChunking(Math.max,l)-1,d=2*c+1;s.graph().nestingRoot=u,s.edges().forEach(h=>s.edge(h).minlen*=d);let f=o(s)+1;s.children().forEach(h=>n(s,u,d,f,c,a,h)),s.graph().nodeRankFactor=d}function n(s,u,a,l,c,d,f){let h=s.children(f);if(!h.length){f!==u&&s.setEdge(u,f,{weight:0,minlen:a});return}let m=e.addBorderNode(s,"_bt"),b=e.addBorderNode(s,"_bb"),v=s.node(f);s.setParent(m,f),v.borderTop=m,s.setParent(b,f),v.borderBottom=b,h.forEach(y=>{n(s,u,a,l,c,d,y);let _=s.node(y),p=_.borderTop?_.borderTop:y,g=_.borderBottom?_.borderBottom:y,S=_.borderTop?l:2*l,C=p!==g?1:c-d[f]+1;s.setEdge(m,p,{weight:S,minlen:C,nestingEdge:!0}),s.setEdge(g,b,{weight:S,minlen:C,nestingEdge:!0})}),s.parent(f)||s.setEdge(u,m,{weight:0,minlen:c+d[f]})}function i(s){var u={};function a(l,c){var d=s.children(l);d&&d.length&&d.forEach(f=>a(f,c+1)),u[l]=c}return s.children().forEach(l=>a(l,1)),u}function o(s){return s.edges().reduce((u,a)=>u+s.edge(a).weight,0)}function r(s){var u=s.graph();s.removeNode(u.nestingRoot),delete u.nestingRoot,s.edges().forEach(a=>{var l=s.edge(a);l.nestingEdge&&s.removeEdge(a)})}return Bu}var Hu,Hd;function XC(){if(Hd)return Hu;Hd=1;let e=ot();Hu=t;function t(i){function o(r){let s=i.children(r),u=i.node(r);if(s.length&&s.forEach(o),Object.hasOwn(u,"minRank")){u.borderLeft=[],u.borderRight=[];for(let a=u.minRank,l=u.maxRank+1;a<l;++a)n(i,"borderLeft","_bl",r,u,a),n(i,"borderRight","_br",r,u,a)}}i.children().forEach(o)}function n(i,o,r,s,u,a){let l={width:0,height:0,rank:a,borderType:o},c=u[o][a-1],d=e.addDummyNode(i,"border",l,r);u[o][a]=d,i.setParent(d,s),c&&i.setEdge(c,d,{weight:1})}return Hu}var Vu,Vd;function KC(){if(Vd)return Vu;Vd=1,Vu={adjust:e,undo:t};function e(a){let l=a.graph().rankdir.toLowerCase();(l==="lr"||l==="rl")&&n(a)}function t(a){let l=a.graph().rankdir.toLowerCase();(l==="bt"||l==="rl")&&o(a),(l==="lr"||l==="rl")&&(s(a),n(a))}function n(a){a.nodes().forEach(l=>i(a.node(l))),a.edges().forEach(l=>i(a.edge(l)))}function i(a){let l=a.width;a.width=a.height,a.height=l}function o(a){a.nodes().forEach(l=>r(a.node(l))),a.edges().forEach(l=>{let c=a.edge(l);c.points.forEach(r),Object.hasOwn(c,"y")&&r(c)})}function r(a){a.y=-a.y}function s(a){a.nodes().forEach(l=>u(a.node(l))),a.edges().forEach(l=>{let c=a.edge(l);c.points.forEach(u),Object.hasOwn(c,"x")&&u(c)})}function u(a){let l=a.x;a.x=a.y,a.y=l}return Vu}var Uu,Ud;function JC(){if(Ud)return Uu;Ud=1;let e=ot();Uu=t;function t(n){let i={},o=n.nodes().filter(c=>!n.children(c).length),r=o.map(c=>n.node(c).rank),s=e.applyWithChunking(Math.max,r),u=e.range(s+1).map(()=>[]);function a(c){if(i[c])return;i[c]=!0;let d=n.node(c);u[d.rank].push(c),n.successors(c).forEach(a)}return o.sort((c,d)=>n.node(c).rank-n.node(d).rank).forEach(a),u}return Uu}var qu,qd;function QC(){if(qd)return qu;qd=1;let e=ot().zipObject;qu=t;function t(i,o){let r=0;for(let s=1;s<o.length;++s)r+=n(i,o[s-1],o[s]);return r}function n(i,o,r){let s=e(r,r.map((f,h)=>h)),u=o.flatMap(f=>i.outEdges(f).map(h=>({pos:s[h.w],weight:i.edge(h).weight})).sort((h,m)=>h.pos-m.pos)),a=1;for(;a<r.length;)a<<=1;let l=2*a-1;a-=1;let c=new Array(l).fill(0),d=0;return u.forEach(f=>{let h=f.pos+a;c[h]+=f.weight;let m=0;for(;h>0;)h%2&&(m+=c[h+1]),h=h-1>>1,c[h]+=f.weight;d+=f.weight*m}),d}return qu}var Gu,Gd;function e6(){if(Gd)return Gu;Gd=1,Gu=e;function e(t,n=[]){return n.map(i=>{let o=t.inEdges(i);if(o.length){let r=o.reduce((s,u)=>{let a=t.edge(u),l=t.node(u.v);return{sum:s.sum+a.weight*l.order,weight:s.weight+a.weight}},{sum:0,weight:0});return{v:i,barycenter:r.sum/r.weight,weight:r.weight}}else return{v:i}})}return Gu}var ju,jd;function t6(){if(jd)return ju;jd=1;let e=ot();ju=t;function t(o,r){let s={};o.forEach((a,l)=>{let c=s[a.v]={indegree:0,in:[],out:[],vs:[a.v],i:l};a.barycenter!==void 0&&(c.barycenter=a.barycenter,c.weight=a.weight)}),r.edges().forEach(a=>{let l=s[a.v],c=s[a.w];l!==void 0&&c!==void 0&&(c.indegree++,l.out.push(s[a.w]))});let u=Object.values(s).filter(a=>!a.indegree);return n(u)}function n(o){let r=[];function s(a){return l=>{l.merged||(l.barycenter===void 0||a.barycenter===void 0||l.barycenter>=a.barycenter)&&i(a,l)}}function u(a){return l=>{l.in.push(a),--l.indegree===0&&o.push(l)}}for(;o.length;){let a=o.pop();r.push(a),a.in.reverse().forEach(s(a)),a.out.forEach(u(a))}return r.filter(a=>!a.merged).map(a=>e.pick(a,["vs","i","barycenter","weight"]))}function i(o,r){let s=0,u=0;o.weight&&(s+=o.barycenter*o.weight,u+=o.weight),r.weight&&(s+=r.barycenter*r.weight,u+=r.weight),o.vs=r.vs.concat(o.vs),o.barycenter=s/u,o.weight=u,o.i=Math.min(r.i,o.i),r.merged=!0}return ju}var Wu,Wd;function n6(){if(Wd)return Wu;Wd=1;let e=ot();Wu=t;function t(o,r){let s=e.partition(o,m=>Object.hasOwn(m,"barycenter")),u=s.lhs,a=s.rhs.sort((m,b)=>b.i-m.i),l=[],c=0,d=0,f=0;u.sort(i(!!r)),f=n(l,a,f),u.forEach(m=>{f+=m.vs.length,l.push(m.vs),c+=m.barycenter*m.weight,d+=m.weight,f=n(l,a,f)});let h={vs:l.flat(!0)};return d&&(h.barycenter=c/d,h.weight=d),h}function n(o,r,s){let u;for(;r.length&&(u=r[r.length-1]).i<=s;)r.pop(),o.push(u.vs),s++;return s}function i(o){return(r,s)=>r.barycenter<s.barycenter?-1:r.barycenter>s.barycenter?1:o?s.i-r.i:r.i-s.i}return Wu}var Zu,Zd;function i6(){if(Zd)return Zu;Zd=1;let e=e6(),t=t6(),n=n6();Zu=i;function i(s,u,a,l){let c=s.children(u),d=s.node(u),f=d?d.borderLeft:void 0,h=d?d.borderRight:void 0,m={};f&&(c=c.filter(_=>_!==f&&_!==h));let b=e(s,c);b.forEach(_=>{if(s.children(_.v).length){let p=i(s,_.v,a,l);m[_.v]=p,Object.hasOwn(p,"barycenter")&&r(_,p)}});let v=t(b,a);o(v,m);let y=n(v,l);if(f&&(y.vs=[f,y.vs,h].flat(!0),s.predecessors(f).length)){let _=s.node(s.predecessors(f)[0]),p=s.node(s.predecessors(h)[0]);Object.hasOwn(y,"barycenter")||(y.barycenter=0,y.weight=0),y.barycenter=(y.barycenter*y.weight+_.order+p.order)/(y.weight+2),y.weight+=2}return y}function o(s,u){s.forEach(a=>{a.vs=a.vs.flatMap(l=>u[l]?u[l].vs:l)})}function r(s,u){s.barycenter!==void 0?(s.barycenter=(s.barycenter*s.weight+u.barycenter*u.weight)/(s.weight+u.weight),s.weight+=u.weight):(s.barycenter=u.barycenter,s.weight=u.weight)}return Zu}var Yu,Yd;function o6(){if(Yd)return Yu;Yd=1;let e=Kt().Graph,t=ot();Yu=n;function n(o,r,s){let u=i(o),a=new e({compound:!0}).setGraph({root:u}).setDefaultNodeLabel(l=>o.node(l));return o.nodes().forEach(l=>{let c=o.node(l),d=o.parent(l);(c.rank===r||c.minRank<=r&&r<=c.maxRank)&&(a.setNode(l),a.setParent(l,d||u),o[s](l).forEach(f=>{let h=f.v===l?f.w:f.v,m=a.edge(h,l),b=m!==void 0?m.weight:0;a.setEdge(h,l,{weight:o.edge(f).weight+b})}),Object.hasOwn(c,"minRank")&&a.setNode(l,{borderLeft:c.borderLeft[r],borderRight:c.borderRight[r]}))}),a}function i(o){for(var r;o.hasNode(r=t.uniqueId("_root")););return r}return Yu}var Xu,Xd;function r6(){if(Xd)return Xu;Xd=1,Xu=e;function e(t,n,i){let o={},r;i.forEach(s=>{let u=t.parent(s),a,l;for(;u;){if(a=t.parent(u),a?(l=o[a],o[a]=u):(l=r,r=u),l&&l!==u){n.setEdge(l,u);return}u=a}})}return Xu}var Ku,Kd;function s6(){if(Kd)return Ku;Kd=1;let e=JC(),t=QC(),n=i6(),i=o6(),o=r6(),r=Kt().Graph,s=ot();Ku=u;function u(d,f){if(f&&typeof f.customOrder=="function"){f.customOrder(d,u);return}let h=s.maxRank(d),m=a(d,s.range(1,h+1),"inEdges"),b=a(d,s.range(h-1,-1,-1),"outEdges"),v=e(d);if(c(d,v),f&&f.disableOptimalOrderHeuristic)return;let y=Number.POSITIVE_INFINITY,_;for(let p=0,g=0;g<4;++p,++g){l(p%2?m:b,p%4>=2),v=s.buildLayerMatrix(d);let S=t(d,v);S<y&&(g=0,_=Object.assign({},v),y=S)}c(d,_)}function a(d,f,h){return f.map(function(m){return i(d,m,h)})}function l(d,f){let h=new r;d.forEach(function(m){let b=m.graph().root,v=n(m,b,h,f);v.vs.forEach((y,_)=>m.node(y).order=_),o(m,h,v.vs)})}function c(d,f){Object.values(f).forEach(h=>h.forEach((m,b)=>d.node(m).order=b))}return Ku}var Ju,Jd;function u6(){if(Jd)return Ju;Jd=1;let e=Kt().Graph,t=ot();Ju={positionX:h,findType1Conflicts:n,findType2Conflicts:i,addConflict:r,hasConflict:s,verticalAlignment:u,horizontalCompaction:a,alignCoordinates:d,findSmallestWidthAlignment:c,balance:f};function n(v,y){let _={};function p(g,S){let C=0,F=0,w=g.length,x=S[S.length-1];return S.forEach((N,P)=>{let E=o(v,N),z=E?v.node(E).order:w;(E||N===x)&&(S.slice(F,P+1).forEach(M=>{v.predecessors(M).forEach(U=>{let $=v.node(U),Z=$.order;(Z<C||z<Z)&&!($.dummy&&v.node(M).dummy)&&r(_,U,M)})}),F=P+1,C=z)}),S}return y.length&&y.reduce(p),_}function i(v,y){let _={};function p(S,C,F,w,x){let N;t.range(C,F).forEach(P=>{N=S[P],v.node(N).dummy&&v.predecessors(N).forEach(E=>{let z=v.node(E);z.dummy&&(z.order<w||z.order>x)&&r(_,E,N)})})}function g(S,C){let F=-1,w,x=0;return C.forEach((N,P)=>{if(v.node(N).dummy==="border"){let E=v.predecessors(N);E.length&&(w=v.node(E[0]).order,p(C,x,P,F,w),x=P,F=w)}p(C,x,C.length,w,S.length)}),C}return y.length&&y.reduce(g),_}function o(v,y){if(v.node(y).dummy)return v.predecessors(y).find(_=>v.node(_).dummy)}function r(v,y,_){if(y>_){let g=y;y=_,_=g}let p=v[y];p||(v[y]=p={}),p[_]=!0}function s(v,y,_){if(y>_){let p=y;y=_,_=p}return!!v[y]&&Object.hasOwn(v[y],_)}function u(v,y,_,p){let g={},S={},C={};return y.forEach(F=>{F.forEach((w,x)=>{g[w]=w,S[w]=w,C[w]=x})}),y.forEach(F=>{let w=-1;F.forEach(x=>{let N=p(x);if(N.length){N=N.sort((E,z)=>C[E]-C[z]);let P=(N.length-1)/2;for(let E=Math.floor(P),z=Math.ceil(P);E<=z;++E){let M=N[E];S[x]===x&&w<C[M]&&!s(_,x,M)&&(S[M]=x,S[x]=g[x]=g[M],w=C[M])}}})}),{root:g,align:S}}function a(v,y,_,p,g){let S={},C=l(v,y,_,g),F=g?"borderLeft":"borderRight";function w(P,E){let z=C.nodes(),M=z.pop(),U={};for(;M;)U[M]?P(M):(U[M]=!0,z.push(M),z=z.concat(E(M))),M=z.pop()}function x(P){S[P]=C.inEdges(P).reduce((E,z)=>Math.max(E,S[z.v]+C.edge(z)),0)}function N(P){let E=C.outEdges(P).reduce((M,U)=>Math.min(M,S[U.w]-C.edge(U)),Number.POSITIVE_INFINITY),z=v.node(P);E!==Number.POSITIVE_INFINITY&&z.borderType!==F&&(S[P]=Math.max(S[P],E))}return w(x,C.predecessors.bind(C)),w(N,C.successors.bind(C)),Object.keys(p).forEach(P=>S[P]=S[_[P]]),S}function l(v,y,_,p){let g=new e,S=v.graph(),C=m(S.nodesep,S.edgesep,p);return y.forEach(F=>{let w;F.forEach(x=>{let N=_[x];if(g.setNode(N),w){var P=_[w],E=g.edge(P,N);g.setEdge(P,N,Math.max(C(v,x,w),E||0))}w=x})}),g}function c(v,y){return Object.values(y).reduce((_,p)=>{let g=Number.NEGATIVE_INFINITY,S=Number.POSITIVE_INFINITY;Object.entries(p).forEach(([F,w])=>{let x=b(v,F)/2;g=Math.max(w+x,g),S=Math.min(w-x,S)});const C=g-S;return C<_[0]&&(_=[C,p]),_},[Number.POSITIVE_INFINITY,null])[1]}function d(v,y){let _=Object.values(y),p=t.applyWithChunking(Math.min,_),g=t.applyWithChunking(Math.max,_);["u","d"].forEach(S=>{["l","r"].forEach(C=>{let F=S+C,w=v[F];if(w===y)return;let x=Object.values(w),N=p-t.applyWithChunking(Math.min,x);C!=="l"&&(N=g-t.applyWithChunking(Math.max,x)),N&&(v[F]=t.mapValues(w,P=>P+N))})})}function f(v,y){return t.mapValues(v.ul,(_,p)=>{if(y)return v[y.toLowerCase()][p];{let g=Object.values(v).map(S=>S[p]).sort((S,C)=>S-C);return(g[1]+g[2])/2}})}function h(v){let y=t.buildLayerMatrix(v),_=Object.assign(n(v,y),i(v,y)),p={},g;["u","d"].forEach(C=>{g=C==="u"?y:Object.values(y).reverse(),["l","r"].forEach(F=>{F==="r"&&(g=g.map(P=>Object.values(P).reverse()));let w=(C==="u"?v.predecessors:v.successors).bind(v),x=u(v,g,_,w),N=a(v,g,x.root,x.align,F==="r");F==="r"&&(N=t.mapValues(N,P=>-P)),p[C+F]=N})});let S=c(v,p);return d(p,S),f(p,v.graph().align)}function m(v,y,_){return(p,g,S)=>{let C=p.node(g),F=p.node(S),w=0,x;if(w+=C.width/2,Object.hasOwn(C,"labelpos"))switch(C.labelpos.toLowerCase()){case"l":x=-C.width/2;break;case"r":x=C.width/2;break}if(x&&(w+=_?x:-x),x=0,w+=(C.dummy?y:v)/2,w+=(F.dummy?y:v)/2,w+=F.width/2,Object.hasOwn(F,"labelpos"))switch(F.labelpos.toLowerCase()){case"l":x=F.width/2;break;case"r":x=-F.width/2;break}return x&&(w+=_?x:-x),x=0,w}}function b(v,y){return v.node(y).width}return Ju}var Qu,Qd;function a6(){if(Qd)return Qu;Qd=1;let e=ot(),t=u6().positionX;Qu=n;function n(o){o=e.asNonCompoundGraph(o),i(o),Object.entries(t(o)).forEach(([r,s])=>o.node(r).x=s)}function i(o){let r=e.buildLayerMatrix(o),s=o.graph().ranksep,u=0;r.forEach(a=>{const l=a.reduce((c,d)=>{const f=o.node(d).height;return c>f?c:f},0);a.forEach(c=>o.node(c).y=u+l/2),u+=l+s})}return Qu}var ea,ef;function l6(){if(ef)return ea;ef=1;let e=qC(),t=GC(),n=WC(),i=ot().normalizeRanks,o=ZC(),r=ot().removeEmptyRanks,s=YC(),u=XC(),a=KC(),l=s6(),c=a6(),d=ot(),f=Kt().Graph;ea=h;function h(R,H){let G=H&&H.debugTiming?d.time:d.notime;G("layout",()=>{let J=G("  buildLayoutGraph",()=>w(R));G("  runLayout",()=>m(J,G,H)),G("  updateInputGraph",()=>b(R,J))})}function m(R,H,G){H("    makeSpaceForEdgeLabels",()=>x(R)),H("    removeSelfEdges",()=>Y(R)),H("    acyclic",()=>e.run(R)),H("    nestingGraph.run",()=>s.run(R)),H("    rank",()=>n(d.asNonCompoundGraph(R))),H("    injectEdgeLabelProxies",()=>N(R)),H("    removeEmptyRanks",()=>r(R)),H("    nestingGraph.cleanup",()=>s.cleanup(R)),H("    normalizeRanks",()=>i(R)),H("    assignRankMinMax",()=>P(R)),H("    removeEdgeLabelProxies",()=>E(R)),H("    normalize.run",()=>t.run(R)),H("    parentDummyChains",()=>o(R)),H("    addBorderSegments",()=>u(R)),H("    order",()=>l(R,G)),H("    insertSelfEdges",()=>ne(R)),H("    adjustCoordinateSystem",()=>a.adjust(R)),H("    position",()=>c(R)),H("    positionSelfEdges",()=>ie(R)),H("    removeBorderNodes",()=>Z(R)),H("    normalize.undo",()=>t.undo(R)),H("    fixupEdgeLabelCoords",()=>U(R)),H("    undoCoordinateSystem",()=>a.undo(R)),H("    translateGraph",()=>z(R)),H("    assignNodeIntersects",()=>M(R)),H("    reversePoints",()=>$(R)),H("    acyclic.undo",()=>e.undo(R))}function b(R,H){R.nodes().forEach(G=>{let J=R.node(G),ue=H.node(G);J&&(J.x=ue.x,J.y=ue.y,J.rank=ue.rank,H.children(G).length&&(J.width=ue.width,J.height=ue.height))}),R.edges().forEach(G=>{let J=R.edge(G),ue=H.edge(G);J.points=ue.points,Object.hasOwn(ue,"x")&&(J.x=ue.x,J.y=ue.y)}),R.graph().width=H.graph().width,R.graph().height=H.graph().height}let v=["nodesep","edgesep","ranksep","marginx","marginy"],y={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},_=["acyclicer","ranker","rankdir","align"],p=["width","height"],g={width:0,height:0},S=["minlen","weight","width","height","labeloffset"],C={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},F=["labelpos"];function w(R){let H=new f({multigraph:!0,compound:!0}),G=K(R.graph());return H.setGraph(Object.assign({},y,ae(G,v),d.pick(G,_))),R.nodes().forEach(J=>{let ue=K(R.node(J));const pe=ae(ue,p);Object.keys(g).forEach(fe=>{pe[fe]===void 0&&(pe[fe]=g[fe])}),H.setNode(J,pe),H.setParent(J,R.parent(J))}),R.edges().forEach(J=>{let ue=K(R.edge(J));H.setEdge(J,Object.assign({},C,ae(ue,S),d.pick(ue,F)))}),H}function x(R){let H=R.graph();H.ranksep/=2,R.edges().forEach(G=>{let J=R.edge(G);J.minlen*=2,J.labelpos.toLowerCase()!=="c"&&(H.rankdir==="TB"||H.rankdir==="BT"?J.width+=J.labeloffset:J.height+=J.labeloffset)})}function N(R){R.edges().forEach(H=>{let G=R.edge(H);if(G.width&&G.height){let J=R.node(H.v),pe={rank:(R.node(H.w).rank-J.rank)/2+J.rank,e:H};d.addDummyNode(R,"edge-proxy",pe,"_ep")}})}function P(R){let H=0;R.nodes().forEach(G=>{let J=R.node(G);J.borderTop&&(J.minRank=R.node(J.borderTop).rank,J.maxRank=R.node(J.borderBottom).rank,H=Math.max(H,J.maxRank))}),R.graph().maxRank=H}function E(R){R.nodes().forEach(H=>{let G=R.node(H);G.dummy==="edge-proxy"&&(R.edge(G.e).labelRank=G.rank,R.removeNode(H))})}function z(R){let H=Number.POSITIVE_INFINITY,G=0,J=Number.POSITIVE_INFINITY,ue=0,pe=R.graph(),fe=pe.marginx||0,ge=pe.marginy||0;function me(T){let O=T.x,k=T.y,I=T.width,A=T.height;H=Math.min(H,O-I/2),G=Math.max(G,O+I/2),J=Math.min(J,k-A/2),ue=Math.max(ue,k+A/2)}R.nodes().forEach(T=>me(R.node(T))),R.edges().forEach(T=>{let O=R.edge(T);Object.hasOwn(O,"x")&&me(O)}),H-=fe,J-=ge,R.nodes().forEach(T=>{let O=R.node(T);O.x-=H,O.y-=J}),R.edges().forEach(T=>{let O=R.edge(T);O.points.forEach(k=>{k.x-=H,k.y-=J}),Object.hasOwn(O,"x")&&(O.x-=H),Object.hasOwn(O,"y")&&(O.y-=J)}),pe.width=G-H+fe,pe.height=ue-J+ge}function M(R){R.edges().forEach(H=>{let G=R.edge(H),J=R.node(H.v),ue=R.node(H.w),pe,fe;G.points?(pe=G.points[0],fe=G.points[G.points.length-1]):(G.points=[],pe=ue,fe=J),G.points.unshift(d.intersectRect(J,pe)),G.points.push(d.intersectRect(ue,fe))})}function U(R){R.edges().forEach(H=>{let G=R.edge(H);if(Object.hasOwn(G,"x"))switch((G.labelpos==="l"||G.labelpos==="r")&&(G.width-=G.labeloffset),G.labelpos){case"l":G.x-=G.width/2+G.labeloffset;break;case"r":G.x+=G.width/2+G.labeloffset;break}})}function $(R){R.edges().forEach(H=>{let G=R.edge(H);G.reversed&&G.points.reverse()})}function Z(R){R.nodes().forEach(H=>{if(R.children(H).length){let G=R.node(H),J=R.node(G.borderTop),ue=R.node(G.borderBottom),pe=R.node(G.borderLeft[G.borderLeft.length-1]),fe=R.node(G.borderRight[G.borderRight.length-1]);G.width=Math.abs(fe.x-pe.x),G.height=Math.abs(ue.y-J.y),G.x=pe.x+G.width/2,G.y=J.y+G.height/2}}),R.nodes().forEach(H=>{R.node(H).dummy==="border"&&R.removeNode(H)})}function Y(R){R.edges().forEach(H=>{if(H.v===H.w){var G=R.node(H.v);G.selfEdges||(G.selfEdges=[]),G.selfEdges.push({e:H,label:R.edge(H)}),R.removeEdge(H)}})}function ne(R){var H=d.buildLayerMatrix(R);H.forEach(G=>{var J=0;G.forEach((ue,pe)=>{var fe=R.node(ue);fe.order=pe+J,(fe.selfEdges||[]).forEach(ge=>{d.addDummyNode(R,"selfedge",{width:ge.label.width,height:ge.label.height,rank:fe.rank,order:pe+ ++J,e:ge.e,label:ge.label},"_se")}),delete fe.selfEdges})})}function ie(R){R.nodes().forEach(H=>{var G=R.node(H);if(G.dummy==="selfedge"){var J=R.node(G.e.v),ue=J.x+J.width/2,pe=J.y,fe=G.x-ue,ge=J.height/2;R.setEdge(G.e,G.label),R.removeNode(H),G.label.points=[{x:ue+2*fe/3,y:pe-ge},{x:ue+5*fe/6,y:pe-ge},{x:ue+fe,y:pe},{x:ue+5*fe/6,y:pe+ge},{x:ue+2*fe/3,y:pe+ge}],G.label.x=G.x,G.label.y=G.y}})}function ae(R,H){return d.mapValues(d.pick(R,H),Number)}function K(R){var H={};return R&&Object.entries(R).forEach(([G,J])=>{typeof G=="string"&&(G=G.toLowerCase()),H[G]=J}),H}return ea}var ta,tf;function c6(){if(tf)return ta;tf=1;let e=ot(),t=Kt().Graph;ta={debugOrdering:n};function n(i){let o=e.buildLayerMatrix(i),r=new t({compound:!0,multigraph:!0}).setGraph({});return i.nodes().forEach(s=>{r.setNode(s,{label:s}),r.setParent(s,"layer"+i.node(s).rank)}),i.edges().forEach(s=>r.setEdge(s.v,s.w,{},s.name)),o.forEach((s,u)=>{let a="layer"+u;r.setNode(a,{rank:"same"}),s.reduce((l,c)=>(r.setEdge(l,c,{style:"invis"}),c))}),r}return ta}var na,nf;function d6(){return nf||(nf=1,na="1.1.4"),na}var ia,of;function f6(){return of||(of=1,ia={graphlib:Kt(),layout:l6(),debug:c6(),util:{time:ot().time,notime:ot().notime},version:d6()}),ia}var h6=f6();const rf=lp(h6);function p6(){const{findNode:e}=Te();function t(n,i,o,r="none"){var l,c;const s=new rf.graphlib.Graph;s.setDefaultEdgeLabel(()=>({})),s.setGraph({rankdir:o,ranksep:50,nodesep:60});for(const d of n){if(d.data.type=="group")continue;const f=e(d.id);s.setNode(d.id,{width:((l=f==null?void 0:f.dimensions)==null?void 0:l.width)||150,height:((c=f==null?void 0:f.dimensions)==null?void 0:c.height)||50})}for(const d of i)s.setEdge(d.source,d.target);rf.layout(s);let u=0,a=n.map(d=>{if(d.data.type=="group")return d;const f=s.node(d.id);return f.rank>u&&(u=f.rank),{...d,targetPosition:o==="LR"?se.Left:se.Top,sourcePosition:o==="LR"?se.Right:se.Bottom,position:{x:f.x,y:f.y}}});if(r=="none")return a;{let d=0;const f=50,h=60;for(let m=0;m<u+2;m+=2){const b=[];let v=0,y=0;for(const _ of a){const p=s.node(_.id);if(p.rank==m){if(r=="top"){let g=null;for(const S of i)if(S.target==_.id){const C=s.node(S.source);g?g=Math.min(g,C.y):g=C.y}p.x=d,p.y=y,g&&(p.y=Math.max(g,p.y))}else if(r=="center"){let g=null;for(const S of i)if(S.target==_.id){const C=s.node(S.source);g?g=Math.min(g,C.y+C.height/2):g=C.y+C.height/2}p.x=d,p.y=y,g&&(y==0?p.y=g-p.height/2:p.y=Math.max(g,p.y+p.height/2)-p.height/2)}b.push(_),p.width>v&&(v=p.width),y=p.y+p.height+h}}y>h&&(y-=h),d+=v+f}}return a=n.map(d=>{if(d.data.type=="group")return d;const f=s.node(d.id);return{...d,targetPosition:o==="LR"?se.Left:se.Top,sourcePosition:o==="LR"?se.Right:se.Bottom,position:{x:f.x,y:f.y}}}),a}return{calcLayout:t}}const m6=be({__name:"NodeFlow",props:{jsonData:{default:{nodes:[],edges:[]}},isShowControls:{type:Boolean,default:!1},isMini:{type:Boolean}},setup(e,{expose:t}){const n=e;let i=le([]),o=le([]);try{i=le(n.jsonData.nodes),o=le(n.jsonData.edges)}catch(C){console.error("Failed to parse json:",C,"rawJson:",JSON.stringify(n.jsonData))}if(n.isMini){const{zoomOnScroll:C,zoomOnDoubleClick:F,nodesConnectable:w,onConnect:x,addEdges:N}=Te();C.value=!1,F.value=!1,w.value=!0,x(P=>N(P))}const{calcLayout:r}=p6();async function s(C,F="none"){i.value=r(i.value,o.value,C,F);const{fitView:w}=Te();lt(()=>{w()})}const u=le(!1);ke(u,(C,F)=>{F==!1&&C==!0&&i.value.length>1&&i.value[0].position.x==0&&i.value[0].position.y==0&&i.value[1].position.x==0&&i.value[1].position.y==0&&s("LR","center")}),t({refreshLayout:s});function a(C){for(let F of C.value){const w=v(F);let x=2;for(;v(F+x);)x++;const N={id:w.id+x,data:w.data,position:{x:w.position.x+100,y:w.position.y+100},type:w.type};_(N)}}let l=le([]),c=le([]);const d=C=>{n.isShowControls&&(C.ctrlKey&&C.key==="d"?(C.preventDefault(),a(l)):C.ctrlKey&&C.key==="c"?(C.preventDefault(),c.value=l.value):C.ctrlKey&&C.key==="v"&&(C.preventDefault(),a(c)))};ft(()=>{document.addEventListener("keydown",d)}),uo(()=>{document.removeEventListener("keydown",d)});const{findEdge:f,updateEdgeData:h,addEdges:m,removeEdges:b,findNode:v,updateNodeData:y,addNodes:_,removeNodes:p}=Te();function g(C){for(const F of C)if(F.type=="select"&&F.hasOwnProperty("selected")){const w=f(F.id);w.animated=F.selected}else if(F.type=="add"&&F.hasOwnProperty("item")){const w=["#ff0000","#ff4d00","#ff9900","#ffe600","#ccff00","#80ff00","#33ff00","#00ff1a","#00ff66","#00ffb3","#00ffff","#00b3ff","#0066ff","#001aff","#3300ff","#8000ff","#cc00ff","#ff00e6","#ff0099","#ff004c"],x=F.item.targetHandle.toLowerCase().charCodeAt(0)%20;n.jsonData.edges.push({id:F.item.id,style:{stroke:w[x]},target:F.item.target,targetHandle:F.item.targetHandle,source:F.item.source,sourceHandle:F.item.sourceHandle})}else F.type=="remove"&&(n.jsonData.edges=n.jsonData.edges.filter(w=>w.id!=F.id))}function S(C){for(const F of C)if(F.type=="select"&&F.hasOwnProperty("selected"))v(F.id),F.selected?l.value.push(F.id):l.value=l.value.filter(w=>w!==F.id);else if(F.type=="add"&&F.hasOwnProperty("item")){const w=v(F.item.id);n.jsonData.nodes.push({id:w.id,data:w.data,position:w.position,type:w.type})}else F.type=="remove"&&(n.jsonData.nodes=n.jsonData.nodes.filter(w=>w.id!=F.id))}return(C,F)=>(X(),Ye(V(l3),{class:"nf-node-flow",nodes:V(i),edges:V(o),"prevent-scrolling":!0,"fit-view-on-init":"",onNodesChange:S,onEdgesChange:g,onNodesInitialized:F[0]||(F[0]=w=>u.value=!0)},{"node-obcanvas":Le(w=>[he(_3,{id:w.id,data:w.data},null,8,["id","data"])]),"node-comfyui":Le(w=>[he(N3,{id:w.id,data:w.data},null,8,["id","data"])]),"node-comfyui-group":Le(w=>[he(z3,{id:w.id,data:w.data},null,8,["id","data"])]),"node-common":Le(w=>[he(sx,{id:w.id,data:w.data},null,8,["id","data"])]),"node-item":Le(w=>[he(rC,{id:w.id,data:w.data},null,8,["id","data"])]),default:Le(()=>[he(V(DC),{style:{"background-color":"#222222"},"pattern-color":"#191919",variant:"lines",gap:16}),!n.isMini||n.isShowControls?(X(),Ye(xC,{key:0})):Me("",!0)]),_:1},8,["nodes","edges"]))}}),g6={key:0,class:"dd-button-menu"},oa=be({__name:"dropdownButton",props:{label:{},fn:{type:Function}},setup(e){const t=e,n=le(t.label),i=le(t.fn);function o(){r.value=!r.value}const r=le(!1);function s(c,d){n.value=c,i.value=d,i.value&&i.value(),r.value=!1}function u(){i.value&&i.value()}function a(c){l.value&&!l.value.contains(c.target)&&(r.value=!1)}const l=le(null);return ft(()=>{document.addEventListener("click",a)}),so(()=>{document.removeEventListener("click",a)}),(c,d)=>(X(),te("div",{class:"dd-button",ref_key:"ddButtonRef",ref:l},[L("button",{class:"dd-button-main",onClick:u},Ee(n.value),1),L("button",{class:"dd-button-dropdown",onClick:o},"^"),he(qg,{name:"fade"},{default:Le(()=>[r.value?(X(),te("ul",g6,[It(c.$slots,"default",{selectItem:s})])):Me("",!0)]),_:3})],512))}});function _6(e,t){return new Promise((n,i)=>{e&&(t.value?(t.value=!1,e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullScreen?e.webkitRequestFullScreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.msRequestFullscreen&&e.msRequestFullscreen(),v6(t)):(t.value=!0,document.exitFullscreen?document.exitFullscreen():e.webkitCancelFullScreen?e.webkitCancelFullScreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.msExitFullscreen&&e.msExitFullscreen()))})}function v6(e){document.addEventListener("fullscreenchange",t),document.addEventListener("webkitfullscreenchange",t),document.addEventListener("mozfullscreenchange",t),document.addEventListener("MSFullscreenChange",t);function t(){document.fullscreenElement||(e.value=!0,document.removeEventListener("fullscreenchange",t),document.removeEventListener("webkitfullscreenchange",t),document.removeEventListener("mozfullscreenchange",t),document.removeEventListener("MSFullscreenChange",t))}}function b6(e,t){return e=="nodeflow-item"?y6(t):e=="nodeflow-listitem"||e=="nodeflow-list"?sf(t):{code:-1,msg:"No supported serialization in this jsonType: "+e,data:""}}function y6(e){const t={nodes:[],edges:[]};for(let n of e.nodes)t.nodes.push({id:n.id,data:n.data});return t.edges=e.edges,{code:0,msg:"",data:JSON.stringify(t,null,2)}}function sf(e){let t="";t+=`- nodes
`;for(let n of e.nodes){t+=`  - ${n.id}${n.id==n.data.label?"":":"+n.data.label}
`;for(let i of n.data.items)t+=`    - ${i.id}${i.id==i.name?"":":"+i.name}, ${i.refType=="v"||i.refType=="value"?"":i.refType}${i.valueType=="item-string"?"":":"+i.valueType}${i.value.trim()==""?"":", "+i.value}
`}t+=`- edges
`;for(let n of e.edges)t+=`  - ${n.source}, ${n.sourceHandle}, ${n.target}, ${n.targetHandle}
`;return{code:0,msg:"",data:t}}const w6={class:"nf-toolbar"},x6=["onClick"],C6=["onClick"],E6=["onClick"],S6=["onClick"],k6=["onClick"],I6=["onClick"],A6=["onClick"],D6=["onClick"],T6=["onClick"],M6=["onClick"],N6=["onClick"],F6=["onClick"],P6=be({__name:"NodeFlowContainerS",props:{rawData:{default:""},mdData:{default:""},jsonType:{default:""},jsonData:{},isMini:{type:Boolean},fn_newView:{type:Function,default:async()=>{}},fn_save:{type:Function,default:()=>{}}},setup(e){const t=e,n=ve(()=>t.fn_newView||c),i=le(t.isMini),o=le(!1),r=le();function s(w,x="none"){var N;(N=r.value)==null||N.refreshLayout(w,x)}const u=le(!0);function a(){const w=document.body,x=document.querySelector(".workspace-leaf.mod-active .markdown-source-view .cm-scroller");u.value?(u.value=!1,w&&w.classList.add("nf-style-overflow-hidden"),x&&x.classList.add("nf-style-overflow-hidden")):(u.value=!0,w&&w.classList.remove("nf-style-overflow-hidden"),x&&x.classList.remove("nf-style-overflow-hidden"))}const l=le();function c(){_6(l.value,i)}function d(w){let x;w=="mdData"?x=`
`+t.mdData:w=="rawData"?x=`
`+t.rawData:x=t.jsonData,console.log("Debug json:",x)}function f(w){if(Array.isArray(w))return w.map(x=>f(x));if(typeof w=="object"&&w!==null){const x={};for(const N in w)N!=="parent"&&(x[N]=f(w[N]));return x}else return w}function h(w){let x;w=="mdData"?x=t.mdData:w=="rawData"?x=t.rawData:x=ve(()=>JSON.stringify(f(t.jsonData),null,2)).value,navigator.clipboard.writeText(x).then(()=>{console.log("Info: copy success")},()=>{console.error("Error: copy fail")})}function m(){if(!t.hasOwnProperty("jsonType")||!t.hasOwnProperty("fn_save"))return;const w=b6(t.jsonType,t.jsonData);w.code==0?t.fn_save(w.data):console.error("",w)}function b(){S({offset:{x:0,y:0}})}const{zoomIn:v,zoomOut:y,zoomTo:_,setMinZoom:p,setMaxZoom:g,fitView:S}=Te(),C=le();ft(()=>{document.addEventListener("wheel",w=>{!C.value||!C.value.contains(w.target)||(w.preventDefault(),g(3),p(.1),w.deltaY>0?y():v())},{passive:!1})}),uo(()=>{document.removeEventListener("wheel",()=>{})});function F(){_(1)}return(w,x)=>(X(),te("div",{ref_key:"CanFullScreen",ref:l,class:Ve(i.value?"normal-size":"full-size")},[L("div",{class:Ve(i.value?"nf-shell-mini":"nf-shell-view")},[he(m6,{ref_key:"RefChild",ref:r,jsonData:w.jsonData,isMini:i.value,isShowControls:o.value},null,8,["jsonData","isMini","isShowControls"])],2),L("div",w6,[(X(),te("button",{key:0,class:"nf-btn",onClick:x[0]||(x[0]=N=>m())},"Save")),he(oa,{class:"nf-btn",label:"Full screen",fn:()=>c()},{default:Le(({selectItem:N})=>[L("button",{class:"nf-btn",onClick:P=>N("Full screen",()=>c())},"Full screen",8,x6),L("button",{class:"nf-btn",onClick:P=>N("New view",()=>n.value())},"New view",8,C6)]),_:1},8,["fn"]),he(oa,{class:"nf-btn",label:"LR layout (center)",fn:()=>s("LR","center")},{default:Le(({selectItem:N})=>[L("button",{class:"nf-btn",onClick:P=>N("LR layout",()=>s("LR"))},"LR layout",8,E6),L("button",{class:"nf-btn",onClick:P=>N("TB layout",()=>s("TB"))},"TB layout",8,S6),L("button",{class:"nf-btn",onClick:P=>N("LR layout (center)",()=>s("LR","center"))},"LR layout (center)",8,k6),L("button",{class:"nf-btn",onClick:P=>N("LR layout (top)",()=>s("LR","top"))},"LR layout (top)",8,I6)]),_:1},8,["fn"]),he(oa,{class:"nf-btn",label:"Copy md",fn:()=>h("mdData")},{default:Le(({selectItem:N})=>[L("button",{class:"nf-btn",onClick:P=>N("Print json",()=>d("jsonData"))},"Print json",8,A6),L("button",{class:"nf-btn",onClick:P=>N("Print md",()=>d("mdData"))},"Print md",8,D6),L("button",{class:"nf-btn",onClick:P=>N("Print raw",()=>d("rawData"))},"Print raw",8,T6),L("button",{class:"nf-btn",onClick:P=>N("Copy json",()=>h("jsonData"))},"Copy json",8,M6),L("button",{class:"nf-btn",onClick:P=>N("Copy md",()=>h("mdData"))},"Copy md",8,N6),L("button",{class:"nf-btn",onClick:P=>N("Copy raw",()=>h("rawData"))},"Copy raw",8,F6)]),_:1},8,["fn"]),L("button",{class:"nf-btn",onClick:x[1]||(x[1]=N=>b()),title:""},"Init view"),L("button",{class:"nf-btn",onClick:x[2]||(x[2]=N=>F()),ref_key:"zoomButton",ref:C,title:" (Ctrl)"},"Zoom area",512),L("button",{class:"nf-btn",onClick:x[3]||(x[3]=N=>a())},"Ex lock"),L("button",{class:"nf-btn",onClick:x[4]||(x[4]=N=>o.value=!o.value)},"Show Controls")])],2))}}),O6=rt(P6,[["__scopeId","data-v-32b10ec5"]]),L6=be({__name:"App",setup(e){const t=le(null);Wn("LAYOUT",t);const n=le({type:"",rawContent:""}),i=le(0),o=ve(()=>{let u=c_(n.value.type,n.value.rawContent);return u.code!=0&&(u=d_(u.msg)),u}),r=le(o.value.data);ke(o,u=>{console.log("[debug] json string changed, update view"),r.value=u.data,i.value+=1},{immediate:!0});function s(u){n.value.rawContent=u}return(u,a)=>(X(),te(Ie,null,[he(j1,{class:"main-nav"}),he(X1,{class:"golden-layout main-golden",ref_key:"GLayoutRootRef",ref:t,config:V(Wh).miniRow},{JsonEditor:Le(()=>[he(l_,{nfData:n.value},null,8,["nfData"])]),NodeFlow:Le(()=>[(X(),Ye(O6,{key:i.value,rawData:n.value.rawContent,mdData:`\`\`\`${n.value.type}
${n.value.rawContent}
\`\`\`
`,jsonType:n.value.type,jsonData:r.value,fn_newView:async()=>{},fn_save:s,isMini:!1},null,8,["rawData","mdData","jsonType","jsonData"]))]),_:1},8,["config"])],64))}}),z6=rt(L6,[["__scopeId","data-v-6292ba3d"]]),uf={};function R6(e){let t=uf[e];if(t)return t;t=uf[e]=[];for(let n=0;n<128;n++){const i=String.fromCharCode(n);t.push(i)}for(let n=0;n<e.length;n++){const i=e.charCodeAt(n);t[i]="%"+("0"+i.toString(16).toUpperCase()).slice(-2)}return t}function io(e,t){typeof t!="string"&&(t=io.defaultChars);const n=R6(t);return e.replace(/(%[a-f0-9]{2})+/gi,function(i){let o="";for(let r=0,s=i.length;r<s;r+=3){const u=parseInt(i.slice(r+1,r+3),16);if(u<128){o+=n[u];continue}if((u&224)===192&&r+3<s){const a=parseInt(i.slice(r+4,r+6),16);if((a&192)===128){const l=u<<6&1984|a&63;l<128?o+="":o+=String.fromCharCode(l),r+=3;continue}}if((u&240)===224&&r+6<s){const a=parseInt(i.slice(r+4,r+6),16),l=parseInt(i.slice(r+7,r+9),16);if((a&192)===128&&(l&192)===128){const c=u<<12&61440|a<<6&4032|l&63;c<2048||c>=55296&&c<=57343?o+="":o+=String.fromCharCode(c),r+=6;continue}}if((u&248)===240&&r+9<s){const a=parseInt(i.slice(r+4,r+6),16),l=parseInt(i.slice(r+7,r+9),16),c=parseInt(i.slice(r+10,r+12),16);if((a&192)===128&&(l&192)===128&&(c&192)===128){let d=u<<18&1835008|a<<12&258048|l<<6&4032|c&63;d<65536||d>1114111?o+="":(d-=65536,o+=String.fromCharCode(55296+(d>>10),56320+(d&1023))),r+=9;continue}}o+=""}return o})}io.defaultChars=";/?:@&=+$,#";io.componentChars="";const af={};function $6(e){let t=af[e];if(t)return t;t=af[e]=[];for(let n=0;n<128;n++){const i=String.fromCharCode(n);/^[0-9a-z]$/i.test(i)?t.push(i):t.push("%"+("0"+n.toString(16).toUpperCase()).slice(-2))}for(let n=0;n<e.length;n++)t[e.charCodeAt(n)]=e[n];return t}function dr(e,t,n){typeof t!="string"&&(n=t,t=dr.defaultChars),typeof n>"u"&&(n=!0);const i=$6(t);let o="";for(let r=0,s=e.length;r<s;r++){const u=e.charCodeAt(r);if(n&&u===37&&r+2<s&&/^[0-9a-f]{2}$/i.test(e.slice(r+1,r+3))){o+=e.slice(r,r+3),r+=2;continue}if(u<128){o+=i[u];continue}if(u>=55296&&u<=57343){if(u>=55296&&u<=56319&&r+1<s){const a=e.charCodeAt(r+1);if(a>=56320&&a<=57343){o+=encodeURIComponent(e[r]+e[r+1]),r++;continue}}o+="%EF%BF%BD";continue}o+=encodeURIComponent(e[r])}return o}dr.defaultChars=";/?:@&=+$,-_.!~*'()#";dr.componentChars="-_.!~*'()";function Cl(e){let t="";return t+=e.protocol||"",t+=e.slashes?"//":"",t+=e.auth?e.auth+"@":"",e.hostname&&e.hostname.indexOf(":")!==-1?t+="["+e.hostname+"]":t+=e.hostname||"",t+=e.port?":"+e.port:"",t+=e.pathname||"",t+=e.search||"",t+=e.hash||"",t}function us(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}const B6=/^([a-z0-9.+-]+:)/i,H6=/:[0-9]*$/,V6=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,U6=["<",">",'"',"`"," ","\r",`
`,"	"],q6=["{","}","|","\\","^","`"].concat(U6),G6=["'"].concat(q6),lf=["%","/","?",";","#"].concat(G6),cf=["/","?","#"],j6=255,df=/^[+a-z0-9A-Z_-]{0,63}$/,W6=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,ff={javascript:!0,"javascript:":!0},hf={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function El(e,t){if(e&&e instanceof us)return e;const n=new us;return n.parse(e,t),n}us.prototype.parse=function(e,t){let n,i,o,r=e;if(r=r.trim(),!t&&e.split("#").length===1){const l=V6.exec(r);if(l)return this.pathname=l[1],l[2]&&(this.search=l[2]),this}let s=B6.exec(r);if(s&&(s=s[0],n=s.toLowerCase(),this.protocol=s,r=r.substr(s.length)),(t||s||r.match(/^\/\/[^@\/]+@[^@\/]+/))&&(o=r.substr(0,2)==="//",o&&!(s&&ff[s])&&(r=r.substr(2),this.slashes=!0)),!ff[s]&&(o||s&&!hf[s])){let l=-1;for(let m=0;m<cf.length;m++)i=r.indexOf(cf[m]),i!==-1&&(l===-1||i<l)&&(l=i);let c,d;l===-1?d=r.lastIndexOf("@"):d=r.lastIndexOf("@",l),d!==-1&&(c=r.slice(0,d),r=r.slice(d+1),this.auth=c),l=-1;for(let m=0;m<lf.length;m++)i=r.indexOf(lf[m]),i!==-1&&(l===-1||i<l)&&(l=i);l===-1&&(l=r.length),r[l-1]===":"&&l--;const f=r.slice(0,l);r=r.slice(l),this.parseHost(f),this.hostname=this.hostname||"";const h=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!h){const m=this.hostname.split(/\./);for(let b=0,v=m.length;b<v;b++){const y=m[b];if(y&&!y.match(df)){let _="";for(let p=0,g=y.length;p<g;p++)y.charCodeAt(p)>127?_+="x":_+=y[p];if(!_.match(df)){const p=m.slice(0,b),g=m.slice(b+1),S=y.match(W6);S&&(p.push(S[1]),g.unshift(S[2])),g.length&&(r=g.join(".")+r),this.hostname=p.join(".");break}}}}this.hostname.length>j6&&(this.hostname=""),h&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}const u=r.indexOf("#");u!==-1&&(this.hash=r.substr(u),r=r.slice(0,u));const a=r.indexOf("?");return a!==-1&&(this.search=r.substr(a),r=r.slice(0,a)),r&&(this.pathname=r),hf[n]&&this.hostname&&!this.pathname&&(this.pathname=""),this};us.prototype.parseHost=function(e){let t=H6.exec(e);t&&(t=t[0],t!==":"&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)};const Z6=Object.freeze(Object.defineProperty({__proto__:null,decode:io,encode:dr,format:Cl,parse:El},Symbol.toStringTag,{value:"Module"})),vp=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,bp=/[\0-\x1F\x7F-\x9F]/,Y6=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u0890\u0891\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD80D[\uDC30-\uDC3F]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/,Sl=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/,yp=/[\$\+<->\^`\|~\xA2-\xA6\xA8\xA9\xAC\xAE-\xB1\xB4\xB8\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0384\u0385\u03F6\u0482\u058D-\u058F\u0606-\u0608\u060B\u060E\u060F\u06DE\u06E9\u06FD\u06FE\u07F6\u07FE\u07FF\u0888\u09F2\u09F3\u09FA\u09FB\u0AF1\u0B70\u0BF3-\u0BFA\u0C7F\u0D4F\u0D79\u0E3F\u0F01-\u0F03\u0F13\u0F15-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE\u0FCF\u0FD5-\u0FD8\u109E\u109F\u1390-\u1399\u166D\u17DB\u1940\u19DE-\u19FF\u1B61-\u1B6A\u1B74-\u1B7C\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2044\u2052\u207A-\u207C\u208A-\u208C\u20A0-\u20C0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2307\u230C-\u2328\u232B-\u2426\u2440-\u244A\u249C-\u24E9\u2500-\u2767\u2794-\u27C4\u27C7-\u27E5\u27F0-\u2982\u2999-\u29D7\u29DC-\u29FB\u29FE-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2E50\u2E51\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3004\u3012\u3013\u3020\u3036\u3037\u303E\u303F\u309B\u309C\u3190\u3191\u3196-\u319F\u31C0-\u31E3\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uAA77-\uAA79\uAB5B\uAB6A\uAB6B\uFB29\uFBB2-\uFBC2\uFD40-\uFD4F\uFDCF\uFDFC-\uFDFF\uFE62\uFE64-\uFE66\uFE69\uFF04\uFF0B\uFF1C-\uFF1E\uFF3E\uFF40\uFF5C\uFF5E\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]|\uD805\uDF3F|\uD807[\uDFD5-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]|\uD82F\uDC9C|\uD833[\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|\uD838[\uDD4F\uDEFF]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF76\uDF7B-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0\uDCB1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC5\uDECE-\uDEDB\uDEE0-\uDEE8\uDEF0-\uDEF8\uDF00-\uDF92\uDF94-\uDFCA]/,wp=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,X6=Object.freeze(Object.defineProperty({__proto__:null,Any:vp,Cc:bp,Cf:Y6,P:Sl,S:yp,Z:wp},Symbol.toStringTag,{value:"Module"})),K6=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(e=>e.charCodeAt(0))),J6=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(e=>e.charCodeAt(0)));var ra;const Q6=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),eE=(ra=String.fromCodePoint)!==null&&ra!==void 0?ra:function(e){let t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|e&1023),t+=String.fromCharCode(e),t};function tE(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=Q6.get(e))!==null&&t!==void 0?t:e}var at;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(at||(at={}));const nE=32;var Gn;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(Gn||(Gn={}));function Va(e){return e>=at.ZERO&&e<=at.NINE}function iE(e){return e>=at.UPPER_A&&e<=at.UPPER_F||e>=at.LOWER_A&&e<=at.LOWER_F}function oE(e){return e>=at.UPPER_A&&e<=at.UPPER_Z||e>=at.LOWER_A&&e<=at.LOWER_Z||Va(e)}function rE(e){return e===at.EQUALS||oE(e)}var ut;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(ut||(ut={}));var Un;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(Un||(Un={}));class sE{constructor(t,n,i){this.decodeTree=t,this.emitCodePoint=n,this.errors=i,this.state=ut.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Un.Strict}startEntity(t){this.decodeMode=t,this.state=ut.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,n){switch(this.state){case ut.EntityStart:return t.charCodeAt(n)===at.NUM?(this.state=ut.NumericStart,this.consumed+=1,this.stateNumericStart(t,n+1)):(this.state=ut.NamedEntity,this.stateNamedEntity(t,n));case ut.NumericStart:return this.stateNumericStart(t,n);case ut.NumericDecimal:return this.stateNumericDecimal(t,n);case ut.NumericHex:return this.stateNumericHex(t,n);case ut.NamedEntity:return this.stateNamedEntity(t,n)}}stateNumericStart(t,n){return n>=t.length?-1:(t.charCodeAt(n)|nE)===at.LOWER_X?(this.state=ut.NumericHex,this.consumed+=1,this.stateNumericHex(t,n+1)):(this.state=ut.NumericDecimal,this.stateNumericDecimal(t,n))}addToNumericResult(t,n,i,o){if(n!==i){const r=i-n;this.result=this.result*Math.pow(o,r)+parseInt(t.substr(n,r),o),this.consumed+=r}}stateNumericHex(t,n){const i=n;for(;n<t.length;){const o=t.charCodeAt(n);if(Va(o)||iE(o))n+=1;else return this.addToNumericResult(t,i,n,16),this.emitNumericEntity(o,3)}return this.addToNumericResult(t,i,n,16),-1}stateNumericDecimal(t,n){const i=n;for(;n<t.length;){const o=t.charCodeAt(n);if(Va(o))n+=1;else return this.addToNumericResult(t,i,n,10),this.emitNumericEntity(o,2)}return this.addToNumericResult(t,i,n,10),-1}emitNumericEntity(t,n){var i;if(this.consumed<=n)return(i=this.errors)===null||i===void 0||i.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===at.SEMI)this.consumed+=1;else if(this.decodeMode===Un.Strict)return 0;return this.emitCodePoint(tE(this.result),this.consumed),this.errors&&(t!==at.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,n){const{decodeTree:i}=this;let o=i[this.treeIndex],r=(o&Gn.VALUE_LENGTH)>>14;for(;n<t.length;n++,this.excess++){const s=t.charCodeAt(n);if(this.treeIndex=uE(i,o,this.treeIndex+Math.max(1,r),s),this.treeIndex<0)return this.result===0||this.decodeMode===Un.Attribute&&(r===0||rE(s))?0:this.emitNotTerminatedNamedEntity();if(o=i[this.treeIndex],r=(o&Gn.VALUE_LENGTH)>>14,r!==0){if(s===at.SEMI)return this.emitNamedEntityData(this.treeIndex,r,this.consumed+this.excess);this.decodeMode!==Un.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:n,decodeTree:i}=this,o=(i[n]&Gn.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,o,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,n,i){const{decodeTree:o}=this;return this.emitCodePoint(n===1?o[t]&~Gn.VALUE_LENGTH:o[t+1],i),n===3&&this.emitCodePoint(o[t+2],i),i}end(){var t;switch(this.state){case ut.NamedEntity:return this.result!==0&&(this.decodeMode!==Un.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case ut.NumericDecimal:return this.emitNumericEntity(0,2);case ut.NumericHex:return this.emitNumericEntity(0,3);case ut.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case ut.EntityStart:return 0}}}function xp(e){let t="";const n=new sE(e,i=>t+=eE(i));return function(o,r){let s=0,u=0;for(;(u=o.indexOf("&",u))>=0;){t+=o.slice(s,u),n.startEntity(r);const l=n.write(o,u+1);if(l<0){s=u+n.end();break}s=u+l,u=l===0?s+1:s}const a=t+o.slice(s);return t="",a}}function uE(e,t,n,i){const o=(t&Gn.BRANCH_LENGTH)>>7,r=t&Gn.JUMP_TABLE;if(o===0)return r!==0&&i===r?n:-1;if(r){const a=i-r;return a<0||a>=o?-1:e[n+a]-1}let s=n,u=s+o-1;for(;s<=u;){const a=s+u>>>1,l=e[a];if(l<i)s=a+1;else if(l>i)u=a-1;else return e[a+o]}return-1}const aE=xp(K6);xp(J6);function Cp(e,t=Un.Legacy){return aE(e,t)}function lE(e){return Object.prototype.toString.call(e)}function kl(e){return lE(e)==="[object String]"}const cE=Object.prototype.hasOwnProperty;function dE(e,t){return cE.call(e,t)}function zs(e){return Array.prototype.slice.call(arguments,1).forEach(function(n){if(n){if(typeof n!="object")throw new TypeError(n+"must be object");Object.keys(n).forEach(function(i){e[i]=n[i]})}}),e}function Ep(e,t,n){return[].concat(e.slice(0,t),n,e.slice(t+1))}function Il(e){return!(e>=55296&&e<=57343||e>=64976&&e<=65007||(e&65535)===65535||(e&65535)===65534||e>=0&&e<=8||e===11||e>=14&&e<=31||e>=127&&e<=159||e>1114111)}function as(e){if(e>65535){e-=65536;const t=55296+(e>>10),n=56320+(e&1023);return String.fromCharCode(t,n)}return String.fromCharCode(e)}const Sp=/\\([!"#$%&'()*+,\-./:;<=>?@[\\\]^_`{|}~])/g,fE=/&([a-z#][a-z0-9]{1,31});/gi,hE=new RegExp(Sp.source+"|"+fE.source,"gi"),pE=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))$/i;function mE(e,t){if(t.charCodeAt(0)===35&&pE.test(t)){const i=t[1].toLowerCase()==="x"?parseInt(t.slice(2),16):parseInt(t.slice(1),10);return Il(i)?as(i):e}const n=Cp(e);return n!==e?n:e}function gE(e){return e.indexOf("\\")<0?e:e.replace(Sp,"$1")}function oo(e){return e.indexOf("\\")<0&&e.indexOf("&")<0?e:e.replace(hE,function(t,n,i){return n||mE(t,i)})}const _E=/[&<>"]/,vE=/[&<>"]/g,bE={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function yE(e){return bE[e]}function ei(e){return _E.test(e)?e.replace(vE,yE):e}const wE=/[.?*+^$[\]\\(){}|-]/g;function xE(e){return e.replace(wE,"\\$&")}function je(e){switch(e){case 9:case 32:return!0}return!1}function er(e){if(e>=8192&&e<=8202)return!0;switch(e){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}function tr(e){return Sl.test(e)||yp.test(e)}function nr(e){switch(e){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function Rs(e){return e=e.trim().replace(/\s+/g," "),"".toLowerCase()===""&&(e=e.replace(//g,"")),e.toLowerCase().toUpperCase()}const CE={mdurl:Z6,ucmicro:X6},EE=Object.freeze(Object.defineProperty({__proto__:null,arrayReplaceAt:Ep,assign:zs,escapeHtml:ei,escapeRE:xE,fromCodePoint:as,has:dE,isMdAsciiPunct:nr,isPunctChar:tr,isSpace:je,isString:kl,isValidEntityCode:Il,isWhiteSpace:er,lib:CE,normalizeReference:Rs,unescapeAll:oo,unescapeMd:gE},Symbol.toStringTag,{value:"Module"}));function SE(e,t,n){let i,o,r,s;const u=e.posMax,a=e.pos;for(e.pos=t+1,i=1;e.pos<u;){if(r=e.src.charCodeAt(e.pos),r===93&&(i--,i===0)){o=!0;break}if(s=e.pos,e.md.inline.skipToken(e),r===91){if(s===e.pos-1)i++;else if(n)return e.pos=a,-1}}let l=-1;return o&&(l=e.pos),e.pos=a,l}function kE(e,t,n){let i,o=t;const r={ok:!1,pos:0,str:""};if(e.charCodeAt(o)===60){for(o++;o<n;){if(i=e.charCodeAt(o),i===10||i===60)return r;if(i===62)return r.pos=o+1,r.str=oo(e.slice(t+1,o)),r.ok=!0,r;if(i===92&&o+1<n){o+=2;continue}o++}return r}let s=0;for(;o<n&&(i=e.charCodeAt(o),!(i===32||i<32||i===127));){if(i===92&&o+1<n){if(e.charCodeAt(o+1)===32)break;o+=2;continue}if(i===40&&(s++,s>32))return r;if(i===41){if(s===0)break;s--}o++}return t===o||s!==0||(r.str=oo(e.slice(t,o)),r.pos=o,r.ok=!0),r}function IE(e,t,n,i){let o,r=t;const s={ok:!1,can_continue:!1,pos:0,str:"",marker:0};if(i)s.str=i.str,s.marker=i.marker;else{if(r>=n)return s;let u=e.charCodeAt(r);if(u!==34&&u!==39&&u!==40)return s;t++,r++,u===40&&(u=41),s.marker=u}for(;r<n;){if(o=e.charCodeAt(r),o===s.marker)return s.pos=r+1,s.str+=oo(e.slice(t,r)),s.ok=!0,s;if(o===40&&s.marker===41)return s;o===92&&r+1<n&&r++,r++}return s.can_continue=!0,s.str+=oo(e.slice(t,r)),s}const AE=Object.freeze(Object.defineProperty({__proto__:null,parseLinkDestination:kE,parseLinkLabel:SE,parseLinkTitle:IE},Symbol.toStringTag,{value:"Module"})),mn={};mn.code_inline=function(e,t,n,i,o){const r=e[t];return"<code"+o.renderAttrs(r)+">"+ei(r.content)+"</code>"};mn.code_block=function(e,t,n,i,o){const r=e[t];return"<pre"+o.renderAttrs(r)+"><code>"+ei(e[t].content)+`</code></pre>
`};mn.fence=function(e,t,n,i,o){const r=e[t],s=r.info?oo(r.info).trim():"";let u="",a="";if(s){const c=s.split(/(\s+)/g);u=c[0],a=c.slice(2).join("")}let l;if(n.highlight?l=n.highlight(r.content,u,a)||ei(r.content):l=ei(r.content),l.indexOf("<pre")===0)return l+`
`;if(s){const c=r.attrIndex("class"),d=r.attrs?r.attrs.slice():[];c<0?d.push(["class",n.langPrefix+u]):(d[c]=d[c].slice(),d[c][1]+=" "+n.langPrefix+u);const f={attrs:d};return`<pre><code${o.renderAttrs(f)}>${l}</code></pre>
`}return`<pre><code${o.renderAttrs(r)}>${l}</code></pre>
`};mn.image=function(e,t,n,i,o){const r=e[t];return r.attrs[r.attrIndex("alt")][1]=o.renderInlineAsText(r.children,n,i),o.renderToken(e,t,n)};mn.hardbreak=function(e,t,n){return n.xhtmlOut?`<br />
`:`<br>
`};mn.softbreak=function(e,t,n){return n.breaks?n.xhtmlOut?`<br />
`:`<br>
`:`
`};mn.text=function(e,t){return ei(e[t].content)};mn.html_block=function(e,t){return e[t].content};mn.html_inline=function(e,t){return e[t].content};function lo(){this.rules=zs({},mn)}lo.prototype.renderAttrs=function(t){let n,i,o;if(!t.attrs)return"";for(o="",n=0,i=t.attrs.length;n<i;n++)o+=" "+ei(t.attrs[n][0])+'="'+ei(t.attrs[n][1])+'"';return o};lo.prototype.renderToken=function(t,n,i){const o=t[n];let r="";if(o.hidden)return"";o.block&&o.nesting!==-1&&n&&t[n-1].hidden&&(r+=`
`),r+=(o.nesting===-1?"</":"<")+o.tag,r+=this.renderAttrs(o),o.nesting===0&&i.xhtmlOut&&(r+=" /");let s=!1;if(o.block&&(s=!0,o.nesting===1&&n+1<t.length)){const u=t[n+1];(u.type==="inline"||u.hidden||u.nesting===-1&&u.tag===o.tag)&&(s=!1)}return r+=s?`>
`:">",r};lo.prototype.renderInline=function(e,t,n){let i="";const o=this.rules;for(let r=0,s=e.length;r<s;r++){const u=e[r].type;typeof o[u]<"u"?i+=o[u](e,r,t,n,this):i+=this.renderToken(e,r,t)}return i};lo.prototype.renderInlineAsText=function(e,t,n){let i="";for(let o=0,r=e.length;o<r;o++)switch(e[o].type){case"text":i+=e[o].content;break;case"image":i+=this.renderInlineAsText(e[o].children,t,n);break;case"html_inline":case"html_block":i+=e[o].content;break;case"softbreak":case"hardbreak":i+=`
`;break}return i};lo.prototype.render=function(e,t,n){let i="";const o=this.rules;for(let r=0,s=e.length;r<s;r++){const u=e[r].type;u==="inline"?i+=this.renderInline(e[r].children,t,n):typeof o[u]<"u"?i+=o[u](e,r,t,n,this):i+=this.renderToken(e,r,t,n)}return i};function At(){this.__rules__=[],this.__cache__=null}At.prototype.__find__=function(e){for(let t=0;t<this.__rules__.length;t++)if(this.__rules__[t].name===e)return t;return-1};At.prototype.__compile__=function(){const e=this,t=[""];e.__rules__.forEach(function(n){n.enabled&&n.alt.forEach(function(i){t.indexOf(i)<0&&t.push(i)})}),e.__cache__={},t.forEach(function(n){e.__cache__[n]=[],e.__rules__.forEach(function(i){i.enabled&&(n&&i.alt.indexOf(n)<0||e.__cache__[n].push(i.fn))})})};At.prototype.at=function(e,t,n){const i=this.__find__(e),o=n||{};if(i===-1)throw new Error("Parser rule not found: "+e);this.__rules__[i].fn=t,this.__rules__[i].alt=o.alt||[],this.__cache__=null};At.prototype.before=function(e,t,n,i){const o=this.__find__(e),r=i||{};if(o===-1)throw new Error("Parser rule not found: "+e);this.__rules__.splice(o,0,{name:t,enabled:!0,fn:n,alt:r.alt||[]}),this.__cache__=null};At.prototype.after=function(e,t,n,i){const o=this.__find__(e),r=i||{};if(o===-1)throw new Error("Parser rule not found: "+e);this.__rules__.splice(o+1,0,{name:t,enabled:!0,fn:n,alt:r.alt||[]}),this.__cache__=null};At.prototype.push=function(e,t,n){const i=n||{};this.__rules__.push({name:e,enabled:!0,fn:t,alt:i.alt||[]}),this.__cache__=null};At.prototype.enable=function(e,t){Array.isArray(e)||(e=[e]);const n=[];return e.forEach(function(i){const o=this.__find__(i);if(o<0){if(t)return;throw new Error("Rules manager: invalid rule name "+i)}this.__rules__[o].enabled=!0,n.push(i)},this),this.__cache__=null,n};At.prototype.enableOnly=function(e,t){Array.isArray(e)||(e=[e]),this.__rules__.forEach(function(n){n.enabled=!1}),this.enable(e,t)};At.prototype.disable=function(e,t){Array.isArray(e)||(e=[e]);const n=[];return e.forEach(function(i){const o=this.__find__(i);if(o<0){if(t)return;throw new Error("Rules manager: invalid rule name "+i)}this.__rules__[o].enabled=!1,n.push(i)},this),this.__cache__=null,n};At.prototype.getRules=function(e){return this.__cache__===null&&this.__compile__(),this.__cache__[e]||[]};function Qt(e,t,n){this.type=e,this.tag=t,this.attrs=null,this.map=null,this.nesting=n,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}Qt.prototype.attrIndex=function(t){if(!this.attrs)return-1;const n=this.attrs;for(let i=0,o=n.length;i<o;i++)if(n[i][0]===t)return i;return-1};Qt.prototype.attrPush=function(t){this.attrs?this.attrs.push(t):this.attrs=[t]};Qt.prototype.attrSet=function(t,n){const i=this.attrIndex(t),o=[t,n];i<0?this.attrPush(o):this.attrs[i]=o};Qt.prototype.attrGet=function(t){const n=this.attrIndex(t);let i=null;return n>=0&&(i=this.attrs[n][1]),i};Qt.prototype.attrJoin=function(t,n){const i=this.attrIndex(t);i<0?this.attrPush([t,n]):this.attrs[i][1]=this.attrs[i][1]+" "+n};function kp(e,t,n){this.src=e,this.env=n,this.tokens=[],this.inlineMode=!1,this.md=t}kp.prototype.Token=Qt;const DE=/\r\n?|\n/g,TE=/\0/g;function ME(e){let t;t=e.src.replace(DE,`
`),t=t.replace(TE,""),e.src=t}function NE(e){let t;e.inlineMode?(t=new e.Token("inline","",0),t.content=e.src,t.map=[0,1],t.children=[],e.tokens.push(t)):e.md.block.parse(e.src,e.md,e.env,e.tokens)}function FE(e){const t=e.tokens;for(let n=0,i=t.length;n<i;n++){const o=t[n];o.type==="inline"&&e.md.inline.parse(o.content,e.md,e.env,o.children)}}function PE(e){return/^<a[>\s]/i.test(e)}function OE(e){return/^<\/a\s*>/i.test(e)}function LE(e){const t=e.tokens;if(e.md.options.linkify)for(let n=0,i=t.length;n<i;n++){if(t[n].type!=="inline"||!e.md.linkify.pretest(t[n].content))continue;let o=t[n].children,r=0;for(let s=o.length-1;s>=0;s--){const u=o[s];if(u.type==="link_close"){for(s--;o[s].level!==u.level&&o[s].type!=="link_open";)s--;continue}if(u.type==="html_inline"&&(PE(u.content)&&r>0&&r--,OE(u.content)&&r++),!(r>0)&&u.type==="text"&&e.md.linkify.test(u.content)){const a=u.content;let l=e.md.linkify.match(a);const c=[];let d=u.level,f=0;l.length>0&&l[0].index===0&&s>0&&o[s-1].type==="text_special"&&(l=l.slice(1));for(let h=0;h<l.length;h++){const m=l[h].url,b=e.md.normalizeLink(m);if(!e.md.validateLink(b))continue;let v=l[h].text;l[h].schema?l[h].schema==="mailto:"&&!/^mailto:/i.test(v)?v=e.md.normalizeLinkText("mailto:"+v).replace(/^mailto:/,""):v=e.md.normalizeLinkText(v):v=e.md.normalizeLinkText("http://"+v).replace(/^http:\/\//,"");const y=l[h].index;if(y>f){const S=new e.Token("text","",0);S.content=a.slice(f,y),S.level=d,c.push(S)}const _=new e.Token("link_open","a",1);_.attrs=[["href",b]],_.level=d++,_.markup="linkify",_.info="auto",c.push(_);const p=new e.Token("text","",0);p.content=v,p.level=d,c.push(p);const g=new e.Token("link_close","a",-1);g.level=--d,g.markup="linkify",g.info="auto",c.push(g),f=l[h].lastIndex}if(f<a.length){const h=new e.Token("text","",0);h.content=a.slice(f),h.level=d,c.push(h)}t[n].children=o=Ep(o,s,c)}}}}const Ip=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,zE=/\((c|tm|r)\)/i,RE=/\((c|tm|r)\)/ig,$E={c:"",r:"",tm:""};function BE(e,t){return $E[t.toLowerCase()]}function HE(e){let t=0;for(let n=e.length-1;n>=0;n--){const i=e[n];i.type==="text"&&!t&&(i.content=i.content.replace(RE,BE)),i.type==="link_open"&&i.info==="auto"&&t--,i.type==="link_close"&&i.info==="auto"&&t++}}function VE(e){let t=0;for(let n=e.length-1;n>=0;n--){const i=e[n];i.type==="text"&&!t&&Ip.test(i.content)&&(i.content=i.content.replace(/\+-/g,"").replace(/\.{2,}/g,"").replace(/([?!])/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/mg,"$1").replace(/(^|\s)--(?=\s|$)/mg,"$1").replace(/(^|[^-\s])--(?=[^-\s]|$)/mg,"$1")),i.type==="link_open"&&i.info==="auto"&&t--,i.type==="link_close"&&i.info==="auto"&&t++}}function UE(e){let t;if(e.md.options.typographer)for(t=e.tokens.length-1;t>=0;t--)e.tokens[t].type==="inline"&&(zE.test(e.tokens[t].content)&&HE(e.tokens[t].children),Ip.test(e.tokens[t].content)&&VE(e.tokens[t].children))}const qE=/['"]/,pf=/['"]/g,mf="";function Ir(e,t,n){return e.slice(0,t)+n+e.slice(t+1)}function GE(e,t){let n;const i=[];for(let o=0;o<e.length;o++){const r=e[o],s=e[o].level;for(n=i.length-1;n>=0&&!(i[n].level<=s);n--);if(i.length=n+1,r.type!=="text")continue;let u=r.content,a=0,l=u.length;e:for(;a<l;){pf.lastIndex=a;const c=pf.exec(u);if(!c)break;let d=!0,f=!0;a=c.index+1;const h=c[0]==="'";let m=32;if(c.index-1>=0)m=u.charCodeAt(c.index-1);else for(n=o-1;n>=0&&!(e[n].type==="softbreak"||e[n].type==="hardbreak");n--)if(e[n].content){m=e[n].content.charCodeAt(e[n].content.length-1);break}let b=32;if(a<l)b=u.charCodeAt(a);else for(n=o+1;n<e.length&&!(e[n].type==="softbreak"||e[n].type==="hardbreak");n++)if(e[n].content){b=e[n].content.charCodeAt(0);break}const v=nr(m)||tr(String.fromCharCode(m)),y=nr(b)||tr(String.fromCharCode(b)),_=er(m),p=er(b);if(p?d=!1:y&&(_||v||(d=!1)),_?f=!1:v&&(p||y||(f=!1)),b===34&&c[0]==='"'&&m>=48&&m<=57&&(f=d=!1),d&&f&&(d=v,f=y),!d&&!f){h&&(r.content=Ir(r.content,c.index,mf));continue}if(f)for(n=i.length-1;n>=0;n--){let g=i[n];if(i[n].level<s)break;if(g.single===h&&i[n].level===s){g=i[n];let S,C;h?(S=t.md.options.quotes[2],C=t.md.options.quotes[3]):(S=t.md.options.quotes[0],C=t.md.options.quotes[1]),r.content=Ir(r.content,c.index,C),e[g.token].content=Ir(e[g.token].content,g.pos,S),a+=C.length-1,g.token===o&&(a+=S.length-1),u=r.content,l=u.length,i.length=n;continue e}}d?i.push({token:o,pos:c.index,single:h,level:s}):f&&h&&(r.content=Ir(r.content,c.index,mf))}}}function jE(e){if(e.md.options.typographer)for(let t=e.tokens.length-1;t>=0;t--)e.tokens[t].type!=="inline"||!qE.test(e.tokens[t].content)||GE(e.tokens[t].children,e)}function WE(e){let t,n;const i=e.tokens,o=i.length;for(let r=0;r<o;r++){if(i[r].type!=="inline")continue;const s=i[r].children,u=s.length;for(t=0;t<u;t++)s[t].type==="text_special"&&(s[t].type="text");for(t=n=0;t<u;t++)s[t].type==="text"&&t+1<u&&s[t+1].type==="text"?s[t+1].content=s[t].content+s[t+1].content:(t!==n&&(s[n]=s[t]),n++);t!==n&&(s.length=n)}}const sa=[["normalize",ME],["block",NE],["inline",FE],["linkify",LE],["replacements",UE],["smartquotes",jE],["text_join",WE]];function Al(){this.ruler=new At;for(let e=0;e<sa.length;e++)this.ruler.push(sa[e][0],sa[e][1])}Al.prototype.process=function(e){const t=this.ruler.getRules("");for(let n=0,i=t.length;n<i;n++)t[n](e)};Al.prototype.State=kp;function gn(e,t,n,i){this.src=e,this.md=t,this.env=n,this.tokens=i,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0;const o=this.src;for(let r=0,s=0,u=0,a=0,l=o.length,c=!1;s<l;s++){const d=o.charCodeAt(s);if(!c)if(je(d)){u++,d===9?a+=4-a%4:a++;continue}else c=!0;(d===10||s===l-1)&&(d!==10&&s++,this.bMarks.push(r),this.eMarks.push(s),this.tShift.push(u),this.sCount.push(a),this.bsCount.push(0),c=!1,u=0,a=0,r=s+1)}this.bMarks.push(o.length),this.eMarks.push(o.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}gn.prototype.push=function(e,t,n){const i=new Qt(e,t,n);return i.block=!0,n<0&&this.level--,i.level=this.level,n>0&&this.level++,this.tokens.push(i),i};gn.prototype.isEmpty=function(t){return this.bMarks[t]+this.tShift[t]>=this.eMarks[t]};gn.prototype.skipEmptyLines=function(t){for(let n=this.lineMax;t<n&&!(this.bMarks[t]+this.tShift[t]<this.eMarks[t]);t++);return t};gn.prototype.skipSpaces=function(t){for(let n=this.src.length;t<n;t++){const i=this.src.charCodeAt(t);if(!je(i))break}return t};gn.prototype.skipSpacesBack=function(t,n){if(t<=n)return t;for(;t>n;)if(!je(this.src.charCodeAt(--t)))return t+1;return t};gn.prototype.skipChars=function(t,n){for(let i=this.src.length;t<i&&this.src.charCodeAt(t)===n;t++);return t};gn.prototype.skipCharsBack=function(t,n,i){if(t<=i)return t;for(;t>i;)if(n!==this.src.charCodeAt(--t))return t+1;return t};gn.prototype.getLines=function(t,n,i,o){if(t>=n)return"";const r=new Array(n-t);for(let s=0,u=t;u<n;u++,s++){let a=0;const l=this.bMarks[u];let c=l,d;for(u+1<n||o?d=this.eMarks[u]+1:d=this.eMarks[u];c<d&&a<i;){const f=this.src.charCodeAt(c);if(je(f))f===9?a+=4-(a+this.bsCount[u])%4:a++;else if(c-l<this.tShift[u])a++;else break;c++}a>i?r[s]=new Array(a-i+1).join(" ")+this.src.slice(c,d):r[s]=this.src.slice(c,d)}return r.join("")};gn.prototype.Token=Qt;const ZE=65536;function ua(e,t){const n=e.bMarks[t]+e.tShift[t],i=e.eMarks[t];return e.src.slice(n,i)}function gf(e){const t=[],n=e.length;let i=0,o=e.charCodeAt(i),r=!1,s=0,u="";for(;i<n;)o===124&&(r?(u+=e.substring(s,i-1),s=i):(t.push(u+e.substring(s,i)),u="",s=i+1)),r=o===92,i++,o=e.charCodeAt(i);return t.push(u+e.substring(s)),t}function YE(e,t,n,i){if(t+2>n)return!1;let o=t+1;if(e.sCount[o]<e.blkIndent||e.sCount[o]-e.blkIndent>=4)return!1;let r=e.bMarks[o]+e.tShift[o];if(r>=e.eMarks[o])return!1;const s=e.src.charCodeAt(r++);if(s!==124&&s!==45&&s!==58||r>=e.eMarks[o])return!1;const u=e.src.charCodeAt(r++);if(u!==124&&u!==45&&u!==58&&!je(u)||s===45&&je(u))return!1;for(;r<e.eMarks[o];){const g=e.src.charCodeAt(r);if(g!==124&&g!==45&&g!==58&&!je(g))return!1;r++}let a=ua(e,t+1),l=a.split("|");const c=[];for(let g=0;g<l.length;g++){const S=l[g].trim();if(!S){if(g===0||g===l.length-1)continue;return!1}if(!/^:?-+:?$/.test(S))return!1;S.charCodeAt(S.length-1)===58?c.push(S.charCodeAt(0)===58?"center":"right"):S.charCodeAt(0)===58?c.push("left"):c.push("")}if(a=ua(e,t).trim(),a.indexOf("|")===-1||e.sCount[t]-e.blkIndent>=4)return!1;l=gf(a),l.length&&l[0]===""&&l.shift(),l.length&&l[l.length-1]===""&&l.pop();const d=l.length;if(d===0||d!==c.length)return!1;if(i)return!0;const f=e.parentType;e.parentType="table";const h=e.md.block.ruler.getRules("blockquote"),m=e.push("table_open","table",1),b=[t,0];m.map=b;const v=e.push("thead_open","thead",1);v.map=[t,t+1];const y=e.push("tr_open","tr",1);y.map=[t,t+1];for(let g=0;g<l.length;g++){const S=e.push("th_open","th",1);c[g]&&(S.attrs=[["style","text-align:"+c[g]]]);const C=e.push("inline","",0);C.content=l[g].trim(),C.children=[],e.push("th_close","th",-1)}e.push("tr_close","tr",-1),e.push("thead_close","thead",-1);let _,p=0;for(o=t+2;o<n&&!(e.sCount[o]<e.blkIndent);o++){let g=!1;for(let C=0,F=h.length;C<F;C++)if(h[C](e,o,n,!0)){g=!0;break}if(g||(a=ua(e,o).trim(),!a)||e.sCount[o]-e.blkIndent>=4||(l=gf(a),l.length&&l[0]===""&&l.shift(),l.length&&l[l.length-1]===""&&l.pop(),p+=d-l.length,p>ZE))break;if(o===t+2){const C=e.push("tbody_open","tbody",1);C.map=_=[t+2,0]}const S=e.push("tr_open","tr",1);S.map=[o,o+1];for(let C=0;C<d;C++){const F=e.push("td_open","td",1);c[C]&&(F.attrs=[["style","text-align:"+c[C]]]);const w=e.push("inline","",0);w.content=l[C]?l[C].trim():"",w.children=[],e.push("td_close","td",-1)}e.push("tr_close","tr",-1)}return _&&(e.push("tbody_close","tbody",-1),_[1]=o),e.push("table_close","table",-1),b[1]=o,e.parentType=f,e.line=o,!0}function XE(e,t,n){if(e.sCount[t]-e.blkIndent<4)return!1;let i=t+1,o=i;for(;i<n;){if(e.isEmpty(i)){i++;continue}if(e.sCount[i]-e.blkIndent>=4){i++,o=i;continue}break}e.line=o;const r=e.push("code_block","code",0);return r.content=e.getLines(t,o,4+e.blkIndent,!1)+`
`,r.map=[t,e.line],!0}function KE(e,t,n,i){let o=e.bMarks[t]+e.tShift[t],r=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4||o+3>r)return!1;const s=e.src.charCodeAt(o);if(s!==126&&s!==96)return!1;let u=o;o=e.skipChars(o,s);let a=o-u;if(a<3)return!1;const l=e.src.slice(u,o),c=e.src.slice(o,r);if(s===96&&c.indexOf(String.fromCharCode(s))>=0)return!1;if(i)return!0;let d=t,f=!1;for(;d++,!(d>=n||(o=u=e.bMarks[d]+e.tShift[d],r=e.eMarks[d],o<r&&e.sCount[d]<e.blkIndent));)if(e.src.charCodeAt(o)===s&&!(e.sCount[d]-e.blkIndent>=4)&&(o=e.skipChars(o,s),!(o-u<a)&&(o=e.skipSpaces(o),!(o<r)))){f=!0;break}a=e.sCount[t],e.line=d+(f?1:0);const h=e.push("fence","code",0);return h.info=c,h.content=e.getLines(t+1,d,a,!0),h.markup=l,h.map=[t,e.line],!0}function JE(e,t,n,i){let o=e.bMarks[t]+e.tShift[t],r=e.eMarks[t];const s=e.lineMax;if(e.sCount[t]-e.blkIndent>=4||e.src.charCodeAt(o)!==62)return!1;if(i)return!0;const u=[],a=[],l=[],c=[],d=e.md.block.ruler.getRules("blockquote"),f=e.parentType;e.parentType="blockquote";let h=!1,m;for(m=t;m<n;m++){const p=e.sCount[m]<e.blkIndent;if(o=e.bMarks[m]+e.tShift[m],r=e.eMarks[m],o>=r)break;if(e.src.charCodeAt(o++)===62&&!p){let S=e.sCount[m]+1,C,F;e.src.charCodeAt(o)===32?(o++,S++,F=!1,C=!0):e.src.charCodeAt(o)===9?(C=!0,(e.bsCount[m]+S)%4===3?(o++,S++,F=!1):F=!0):C=!1;let w=S;for(u.push(e.bMarks[m]),e.bMarks[m]=o;o<r;){const x=e.src.charCodeAt(o);if(je(x))x===9?w+=4-(w+e.bsCount[m]+(F?1:0))%4:w++;else break;o++}h=o>=r,a.push(e.bsCount[m]),e.bsCount[m]=e.sCount[m]+1+(C?1:0),l.push(e.sCount[m]),e.sCount[m]=w-S,c.push(e.tShift[m]),e.tShift[m]=o-e.bMarks[m];continue}if(h)break;let g=!1;for(let S=0,C=d.length;S<C;S++)if(d[S](e,m,n,!0)){g=!0;break}if(g){e.lineMax=m,e.blkIndent!==0&&(u.push(e.bMarks[m]),a.push(e.bsCount[m]),c.push(e.tShift[m]),l.push(e.sCount[m]),e.sCount[m]-=e.blkIndent);break}u.push(e.bMarks[m]),a.push(e.bsCount[m]),c.push(e.tShift[m]),l.push(e.sCount[m]),e.sCount[m]=-1}const b=e.blkIndent;e.blkIndent=0;const v=e.push("blockquote_open","blockquote",1);v.markup=">";const y=[t,0];v.map=y,e.md.block.tokenize(e,t,m);const _=e.push("blockquote_close","blockquote",-1);_.markup=">",e.lineMax=s,e.parentType=f,y[1]=e.line;for(let p=0;p<c.length;p++)e.bMarks[p+t]=u[p],e.tShift[p+t]=c[p],e.sCount[p+t]=l[p],e.bsCount[p+t]=a[p];return e.blkIndent=b,!0}function QE(e,t,n,i){const o=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;let r=e.bMarks[t]+e.tShift[t];const s=e.src.charCodeAt(r++);if(s!==42&&s!==45&&s!==95)return!1;let u=1;for(;r<o;){const l=e.src.charCodeAt(r++);if(l!==s&&!je(l))return!1;l===s&&u++}if(u<3)return!1;if(i)return!0;e.line=t+1;const a=e.push("hr","hr",0);return a.map=[t,e.line],a.markup=Array(u+1).join(String.fromCharCode(s)),!0}function _f(e,t){const n=e.eMarks[t];let i=e.bMarks[t]+e.tShift[t];const o=e.src.charCodeAt(i++);if(o!==42&&o!==45&&o!==43)return-1;if(i<n){const r=e.src.charCodeAt(i);if(!je(r))return-1}return i}function vf(e,t){const n=e.bMarks[t]+e.tShift[t],i=e.eMarks[t];let o=n;if(o+1>=i)return-1;let r=e.src.charCodeAt(o++);if(r<48||r>57)return-1;for(;;){if(o>=i)return-1;if(r=e.src.charCodeAt(o++),r>=48&&r<=57){if(o-n>=10)return-1;continue}if(r===41||r===46)break;return-1}return o<i&&(r=e.src.charCodeAt(o),!je(r))?-1:o}function e4(e,t){const n=e.level+2;for(let i=t+2,o=e.tokens.length-2;i<o;i++)e.tokens[i].level===n&&e.tokens[i].type==="paragraph_open"&&(e.tokens[i+2].hidden=!0,e.tokens[i].hidden=!0,i+=2)}function t4(e,t,n,i){let o,r,s,u,a=t,l=!0;if(e.sCount[a]-e.blkIndent>=4||e.listIndent>=0&&e.sCount[a]-e.listIndent>=4&&e.sCount[a]<e.blkIndent)return!1;let c=!1;i&&e.parentType==="paragraph"&&e.sCount[a]>=e.blkIndent&&(c=!0);let d,f,h;if((h=vf(e,a))>=0){if(d=!0,s=e.bMarks[a]+e.tShift[a],f=Number(e.src.slice(s,h-1)),c&&f!==1)return!1}else if((h=_f(e,a))>=0)d=!1;else return!1;if(c&&e.skipSpaces(h)>=e.eMarks[a])return!1;if(i)return!0;const m=e.src.charCodeAt(h-1),b=e.tokens.length;d?(u=e.push("ordered_list_open","ol",1),f!==1&&(u.attrs=[["start",f]])):u=e.push("bullet_list_open","ul",1);const v=[a,0];u.map=v,u.markup=String.fromCharCode(m);let y=!1;const _=e.md.block.ruler.getRules("list"),p=e.parentType;for(e.parentType="list";a<n;){r=h,o=e.eMarks[a];const g=e.sCount[a]+h-(e.bMarks[a]+e.tShift[a]);let S=g;for(;r<o;){const U=e.src.charCodeAt(r);if(U===9)S+=4-(S+e.bsCount[a])%4;else if(U===32)S++;else break;r++}const C=r;let F;C>=o?F=1:F=S-g,F>4&&(F=1);const w=g+F;u=e.push("list_item_open","li",1),u.markup=String.fromCharCode(m);const x=[a,0];u.map=x,d&&(u.info=e.src.slice(s,h-1));const N=e.tight,P=e.tShift[a],E=e.sCount[a],z=e.listIndent;if(e.listIndent=e.blkIndent,e.blkIndent=w,e.tight=!0,e.tShift[a]=C-e.bMarks[a],e.sCount[a]=S,C>=o&&e.isEmpty(a+1)?e.line=Math.min(e.line+2,n):e.md.block.tokenize(e,a,n,!0),(!e.tight||y)&&(l=!1),y=e.line-a>1&&e.isEmpty(e.line-1),e.blkIndent=e.listIndent,e.listIndent=z,e.tShift[a]=P,e.sCount[a]=E,e.tight=N,u=e.push("list_item_close","li",-1),u.markup=String.fromCharCode(m),a=e.line,x[1]=a,a>=n||e.sCount[a]<e.blkIndent||e.sCount[a]-e.blkIndent>=4)break;let M=!1;for(let U=0,$=_.length;U<$;U++)if(_[U](e,a,n,!0)){M=!0;break}if(M)break;if(d){if(h=vf(e,a),h<0)break;s=e.bMarks[a]+e.tShift[a]}else if(h=_f(e,a),h<0)break;if(m!==e.src.charCodeAt(h-1))break}return d?u=e.push("ordered_list_close","ol",-1):u=e.push("bullet_list_close","ul",-1),u.markup=String.fromCharCode(m),v[1]=a,e.line=a,e.parentType=p,l&&e4(e,b),!0}function n4(e,t,n,i){let o=e.bMarks[t]+e.tShift[t],r=e.eMarks[t],s=t+1;if(e.sCount[t]-e.blkIndent>=4||e.src.charCodeAt(o)!==91)return!1;function u(_){const p=e.lineMax;if(_>=p||e.isEmpty(_))return null;let g=!1;if(e.sCount[_]-e.blkIndent>3&&(g=!0),e.sCount[_]<0&&(g=!0),!g){const F=e.md.block.ruler.getRules("reference"),w=e.parentType;e.parentType="reference";let x=!1;for(let N=0,P=F.length;N<P;N++)if(F[N](e,_,p,!0)){x=!0;break}if(e.parentType=w,x)return null}const S=e.bMarks[_]+e.tShift[_],C=e.eMarks[_];return e.src.slice(S,C+1)}let a=e.src.slice(o,r+1);r=a.length;let l=-1;for(o=1;o<r;o++){const _=a.charCodeAt(o);if(_===91)return!1;if(_===93){l=o;break}else if(_===10){const p=u(s);p!==null&&(a+=p,r=a.length,s++)}else if(_===92&&(o++,o<r&&a.charCodeAt(o)===10)){const p=u(s);p!==null&&(a+=p,r=a.length,s++)}}if(l<0||a.charCodeAt(l+1)!==58)return!1;for(o=l+2;o<r;o++){const _=a.charCodeAt(o);if(_===10){const p=u(s);p!==null&&(a+=p,r=a.length,s++)}else if(!je(_))break}const c=e.md.helpers.parseLinkDestination(a,o,r);if(!c.ok)return!1;const d=e.md.normalizeLink(c.str);if(!e.md.validateLink(d))return!1;o=c.pos;const f=o,h=s,m=o;for(;o<r;o++){const _=a.charCodeAt(o);if(_===10){const p=u(s);p!==null&&(a+=p,r=a.length,s++)}else if(!je(_))break}let b=e.md.helpers.parseLinkTitle(a,o,r);for(;b.can_continue;){const _=u(s);if(_===null)break;a+=_,o=r,r=a.length,s++,b=e.md.helpers.parseLinkTitle(a,o,r,b)}let v;for(o<r&&m!==o&&b.ok?(v=b.str,o=b.pos):(v="",o=f,s=h);o<r;){const _=a.charCodeAt(o);if(!je(_))break;o++}if(o<r&&a.charCodeAt(o)!==10&&v)for(v="",o=f,s=h;o<r;){const _=a.charCodeAt(o);if(!je(_))break;o++}if(o<r&&a.charCodeAt(o)!==10)return!1;const y=Rs(a.slice(1,l));return y?(i||(typeof e.env.references>"u"&&(e.env.references={}),typeof e.env.references[y]>"u"&&(e.env.references[y]={title:v,href:d}),e.line=s),!0):!1}const i4=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],o4="[a-zA-Z_:][a-zA-Z0-9:._-]*",r4="[^\"'=<>`\\x00-\\x20]+",s4="'[^']*'",u4='"[^"]*"',a4="(?:"+r4+"|"+s4+"|"+u4+")",l4="(?:\\s+"+o4+"(?:\\s*=\\s*"+a4+")?)",Ap="<[A-Za-z][A-Za-z0-9\\-]*"+l4+"*\\s*\\/?>",Dp="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",c4="<!---?>|<!--(?:[^-]|-[^-]|--[^>])*-->",d4="<[?][\\s\\S]*?[?]>",f4="<![A-Za-z][^>]*>",h4="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",p4=new RegExp("^(?:"+Ap+"|"+Dp+"|"+c4+"|"+d4+"|"+f4+"|"+h4+")"),m4=new RegExp("^(?:"+Ap+"|"+Dp+")"),Ni=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+i4.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(m4.source+"\\s*$"),/^$/,!1]];function g4(e,t,n,i){let o=e.bMarks[t]+e.tShift[t],r=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4||!e.md.options.html||e.src.charCodeAt(o)!==60)return!1;let s=e.src.slice(o,r),u=0;for(;u<Ni.length&&!Ni[u][0].test(s);u++);if(u===Ni.length)return!1;if(i)return Ni[u][2];let a=t+1;if(!Ni[u][1].test(s)){for(;a<n&&!(e.sCount[a]<e.blkIndent);a++)if(o=e.bMarks[a]+e.tShift[a],r=e.eMarks[a],s=e.src.slice(o,r),Ni[u][1].test(s)){s.length!==0&&a++;break}}e.line=a;const l=e.push("html_block","",0);return l.map=[t,a],l.content=e.getLines(t,a,e.blkIndent,!0),!0}function _4(e,t,n,i){let o=e.bMarks[t]+e.tShift[t],r=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;let s=e.src.charCodeAt(o);if(s!==35||o>=r)return!1;let u=1;for(s=e.src.charCodeAt(++o);s===35&&o<r&&u<=6;)u++,s=e.src.charCodeAt(++o);if(u>6||o<r&&!je(s))return!1;if(i)return!0;r=e.skipSpacesBack(r,o);const a=e.skipCharsBack(r,35,o);a>o&&je(e.src.charCodeAt(a-1))&&(r=a),e.line=t+1;const l=e.push("heading_open","h"+String(u),1);l.markup="########".slice(0,u),l.map=[t,e.line];const c=e.push("inline","",0);c.content=e.src.slice(o,r).trim(),c.map=[t,e.line],c.children=[];const d=e.push("heading_close","h"+String(u),-1);return d.markup="########".slice(0,u),!0}function v4(e,t,n){const i=e.md.block.ruler.getRules("paragraph");if(e.sCount[t]-e.blkIndent>=4)return!1;const o=e.parentType;e.parentType="paragraph";let r=0,s,u=t+1;for(;u<n&&!e.isEmpty(u);u++){if(e.sCount[u]-e.blkIndent>3)continue;if(e.sCount[u]>=e.blkIndent){let h=e.bMarks[u]+e.tShift[u];const m=e.eMarks[u];if(h<m&&(s=e.src.charCodeAt(h),(s===45||s===61)&&(h=e.skipChars(h,s),h=e.skipSpaces(h),h>=m))){r=s===61?1:2;break}}if(e.sCount[u]<0)continue;let f=!1;for(let h=0,m=i.length;h<m;h++)if(i[h](e,u,n,!0)){f=!0;break}if(f)break}if(!r)return!1;const a=e.getLines(t,u,e.blkIndent,!1).trim();e.line=u+1;const l=e.push("heading_open","h"+String(r),1);l.markup=String.fromCharCode(s),l.map=[t,e.line];const c=e.push("inline","",0);c.content=a,c.map=[t,e.line-1],c.children=[];const d=e.push("heading_close","h"+String(r),-1);return d.markup=String.fromCharCode(s),e.parentType=o,!0}function b4(e,t,n){const i=e.md.block.ruler.getRules("paragraph"),o=e.parentType;let r=t+1;for(e.parentType="paragraph";r<n&&!e.isEmpty(r);r++){if(e.sCount[r]-e.blkIndent>3||e.sCount[r]<0)continue;let l=!1;for(let c=0,d=i.length;c<d;c++)if(i[c](e,r,n,!0)){l=!0;break}if(l)break}const s=e.getLines(t,r,e.blkIndent,!1).trim();e.line=r;const u=e.push("paragraph_open","p",1);u.map=[t,e.line];const a=e.push("inline","",0);return a.content=s,a.map=[t,e.line],a.children=[],e.push("paragraph_close","p",-1),e.parentType=o,!0}const Ar=[["table",YE,["paragraph","reference"]],["code",XE],["fence",KE,["paragraph","reference","blockquote","list"]],["blockquote",JE,["paragraph","reference","blockquote","list"]],["hr",QE,["paragraph","reference","blockquote","list"]],["list",t4,["paragraph","reference","blockquote"]],["reference",n4],["html_block",g4,["paragraph","reference","blockquote"]],["heading",_4,["paragraph","reference","blockquote"]],["lheading",v4],["paragraph",b4]];function $s(){this.ruler=new At;for(let e=0;e<Ar.length;e++)this.ruler.push(Ar[e][0],Ar[e][1],{alt:(Ar[e][2]||[]).slice()})}$s.prototype.tokenize=function(e,t,n){const i=this.ruler.getRules(""),o=i.length,r=e.md.options.maxNesting;let s=t,u=!1;for(;s<n&&(e.line=s=e.skipEmptyLines(s),!(s>=n||e.sCount[s]<e.blkIndent));){if(e.level>=r){e.line=n;break}const a=e.line;let l=!1;for(let c=0;c<o;c++)if(l=i[c](e,s,n,!1),l){if(a>=e.line)throw new Error("block rule didn't increment state.line");break}if(!l)throw new Error("none of the block rules matched");e.tight=!u,e.isEmpty(e.line-1)&&(u=!0),s=e.line,s<n&&e.isEmpty(s)&&(u=!0,s++,e.line=s)}};$s.prototype.parse=function(e,t,n,i){if(!e)return;const o=new this.State(e,t,n,i);this.tokenize(o,o.line,o.lineMax)};$s.prototype.State=gn;function fr(e,t,n,i){this.src=e,this.env=n,this.md=t,this.tokens=i,this.tokens_meta=Array(i.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}fr.prototype.pushPending=function(){const e=new Qt("text","",0);return e.content=this.pending,e.level=this.pendingLevel,this.tokens.push(e),this.pending="",e};fr.prototype.push=function(e,t,n){this.pending&&this.pushPending();const i=new Qt(e,t,n);let o=null;return n<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),i.level=this.level,n>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],o={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(i),this.tokens_meta.push(o),i};fr.prototype.scanDelims=function(e,t){const n=this.posMax,i=this.src.charCodeAt(e),o=e>0?this.src.charCodeAt(e-1):32;let r=e;for(;r<n&&this.src.charCodeAt(r)===i;)r++;const s=r-e,u=r<n?this.src.charCodeAt(r):32,a=nr(o)||tr(String.fromCharCode(o)),l=nr(u)||tr(String.fromCharCode(u)),c=er(o),d=er(u),f=!d&&(!l||c||a),h=!c&&(!a||d||l);return{can_open:f&&(t||!h||a),can_close:h&&(t||!f||l),length:s}};fr.prototype.Token=Qt;function y4(e){switch(e){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}function w4(e,t){let n=e.pos;for(;n<e.posMax&&!y4(e.src.charCodeAt(n));)n++;return n===e.pos?!1:(t||(e.pending+=e.src.slice(e.pos,n)),e.pos=n,!0)}const x4=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i;function C4(e,t){if(!e.md.options.linkify||e.linkLevel>0)return!1;const n=e.pos,i=e.posMax;if(n+3>i||e.src.charCodeAt(n)!==58||e.src.charCodeAt(n+1)!==47||e.src.charCodeAt(n+2)!==47)return!1;const o=e.pending.match(x4);if(!o)return!1;const r=o[1],s=e.md.linkify.matchAtStart(e.src.slice(n-r.length));if(!s)return!1;let u=s.url;if(u.length<=r.length)return!1;u=u.replace(/\*+$/,"");const a=e.md.normalizeLink(u);if(!e.md.validateLink(a))return!1;if(!t){e.pending=e.pending.slice(0,-r.length);const l=e.push("link_open","a",1);l.attrs=[["href",a]],l.markup="linkify",l.info="auto";const c=e.push("text","",0);c.content=e.md.normalizeLinkText(u);const d=e.push("link_close","a",-1);d.markup="linkify",d.info="auto"}return e.pos+=u.length-r.length,!0}function E4(e,t){let n=e.pos;if(e.src.charCodeAt(n)!==10)return!1;const i=e.pending.length-1,o=e.posMax;if(!t)if(i>=0&&e.pending.charCodeAt(i)===32)if(i>=1&&e.pending.charCodeAt(i-1)===32){let r=i-1;for(;r>=1&&e.pending.charCodeAt(r-1)===32;)r--;e.pending=e.pending.slice(0,r),e.push("hardbreak","br",0)}else e.pending=e.pending.slice(0,-1),e.push("softbreak","br",0);else e.push("softbreak","br",0);for(n++;n<o&&je(e.src.charCodeAt(n));)n++;return e.pos=n,!0}const Dl=[];for(let e=0;e<256;e++)Dl.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(e){Dl[e.charCodeAt(0)]=1});function S4(e,t){let n=e.pos;const i=e.posMax;if(e.src.charCodeAt(n)!==92||(n++,n>=i))return!1;let o=e.src.charCodeAt(n);if(o===10){for(t||e.push("hardbreak","br",0),n++;n<i&&(o=e.src.charCodeAt(n),!!je(o));)n++;return e.pos=n,!0}let r=e.src[n];if(o>=55296&&o<=56319&&n+1<i){const u=e.src.charCodeAt(n+1);u>=56320&&u<=57343&&(r+=e.src[n+1],n++)}const s="\\"+r;if(!t){const u=e.push("text_special","",0);o<256&&Dl[o]!==0?u.content=r:u.content=s,u.markup=s,u.info="escape"}return e.pos=n+1,!0}function k4(e,t){let n=e.pos;if(e.src.charCodeAt(n)!==96)return!1;const o=n;n++;const r=e.posMax;for(;n<r&&e.src.charCodeAt(n)===96;)n++;const s=e.src.slice(o,n),u=s.length;if(e.backticksScanned&&(e.backticks[u]||0)<=o)return t||(e.pending+=s),e.pos+=u,!0;let a=n,l;for(;(l=e.src.indexOf("`",a))!==-1;){for(a=l+1;a<r&&e.src.charCodeAt(a)===96;)a++;const c=a-l;if(c===u){if(!t){const d=e.push("code_inline","code",0);d.markup=s,d.content=e.src.slice(n,l).replace(/\n/g," ").replace(/^ (.+) $/,"$1")}return e.pos=a,!0}e.backticks[c]=l}return e.backticksScanned=!0,t||(e.pending+=s),e.pos+=u,!0}function I4(e,t){const n=e.pos,i=e.src.charCodeAt(n);if(t||i!==126)return!1;const o=e.scanDelims(e.pos,!0);let r=o.length;const s=String.fromCharCode(i);if(r<2)return!1;let u;r%2&&(u=e.push("text","",0),u.content=s,r--);for(let a=0;a<r;a+=2)u=e.push("text","",0),u.content=s+s,e.delimiters.push({marker:i,length:0,token:e.tokens.length-1,end:-1,open:o.can_open,close:o.can_close});return e.pos+=o.length,!0}function bf(e,t){let n;const i=[],o=t.length;for(let r=0;r<o;r++){const s=t[r];if(s.marker!==126||s.end===-1)continue;const u=t[s.end];n=e.tokens[s.token],n.type="s_open",n.tag="s",n.nesting=1,n.markup="~~",n.content="",n=e.tokens[u.token],n.type="s_close",n.tag="s",n.nesting=-1,n.markup="~~",n.content="",e.tokens[u.token-1].type==="text"&&e.tokens[u.token-1].content==="~"&&i.push(u.token-1)}for(;i.length;){const r=i.pop();let s=r+1;for(;s<e.tokens.length&&e.tokens[s].type==="s_close";)s++;s--,r!==s&&(n=e.tokens[s],e.tokens[s]=e.tokens[r],e.tokens[r]=n)}}function A4(e){const t=e.tokens_meta,n=e.tokens_meta.length;bf(e,e.delimiters);for(let i=0;i<n;i++)t[i]&&t[i].delimiters&&bf(e,t[i].delimiters)}const Tp={tokenize:I4,postProcess:A4};function D4(e,t){const n=e.pos,i=e.src.charCodeAt(n);if(t||i!==95&&i!==42)return!1;const o=e.scanDelims(e.pos,i===42);for(let r=0;r<o.length;r++){const s=e.push("text","",0);s.content=String.fromCharCode(i),e.delimiters.push({marker:i,length:o.length,token:e.tokens.length-1,end:-1,open:o.can_open,close:o.can_close})}return e.pos+=o.length,!0}function yf(e,t){const n=t.length;for(let i=n-1;i>=0;i--){const o=t[i];if(o.marker!==95&&o.marker!==42||o.end===-1)continue;const r=t[o.end],s=i>0&&t[i-1].end===o.end+1&&t[i-1].marker===o.marker&&t[i-1].token===o.token-1&&t[o.end+1].token===r.token+1,u=String.fromCharCode(o.marker),a=e.tokens[o.token];a.type=s?"strong_open":"em_open",a.tag=s?"strong":"em",a.nesting=1,a.markup=s?u+u:u,a.content="";const l=e.tokens[r.token];l.type=s?"strong_close":"em_close",l.tag=s?"strong":"em",l.nesting=-1,l.markup=s?u+u:u,l.content="",s&&(e.tokens[t[i-1].token].content="",e.tokens[t[o.end+1].token].content="",i--)}}function T4(e){const t=e.tokens_meta,n=e.tokens_meta.length;yf(e,e.delimiters);for(let i=0;i<n;i++)t[i]&&t[i].delimiters&&yf(e,t[i].delimiters)}const Mp={tokenize:D4,postProcess:T4};function M4(e,t){let n,i,o,r,s="",u="",a=e.pos,l=!0;if(e.src.charCodeAt(e.pos)!==91)return!1;const c=e.pos,d=e.posMax,f=e.pos+1,h=e.md.helpers.parseLinkLabel(e,e.pos,!0);if(h<0)return!1;let m=h+1;if(m<d&&e.src.charCodeAt(m)===40){for(l=!1,m++;m<d&&(n=e.src.charCodeAt(m),!(!je(n)&&n!==10));m++);if(m>=d)return!1;if(a=m,o=e.md.helpers.parseLinkDestination(e.src,m,e.posMax),o.ok){for(s=e.md.normalizeLink(o.str),e.md.validateLink(s)?m=o.pos:s="",a=m;m<d&&(n=e.src.charCodeAt(m),!(!je(n)&&n!==10));m++);if(o=e.md.helpers.parseLinkTitle(e.src,m,e.posMax),m<d&&a!==m&&o.ok)for(u=o.str,m=o.pos;m<d&&(n=e.src.charCodeAt(m),!(!je(n)&&n!==10));m++);}(m>=d||e.src.charCodeAt(m)!==41)&&(l=!0),m++}if(l){if(typeof e.env.references>"u")return!1;if(m<d&&e.src.charCodeAt(m)===91?(a=m+1,m=e.md.helpers.parseLinkLabel(e,m),m>=0?i=e.src.slice(a,m++):m=h+1):m=h+1,i||(i=e.src.slice(f,h)),r=e.env.references[Rs(i)],!r)return e.pos=c,!1;s=r.href,u=r.title}if(!t){e.pos=f,e.posMax=h;const b=e.push("link_open","a",1),v=[["href",s]];b.attrs=v,u&&v.push(["title",u]),e.linkLevel++,e.md.inline.tokenize(e),e.linkLevel--,e.push("link_close","a",-1)}return e.pos=m,e.posMax=d,!0}function N4(e,t){let n,i,o,r,s,u,a,l,c="";const d=e.pos,f=e.posMax;if(e.src.charCodeAt(e.pos)!==33||e.src.charCodeAt(e.pos+1)!==91)return!1;const h=e.pos+2,m=e.md.helpers.parseLinkLabel(e,e.pos+1,!1);if(m<0)return!1;if(r=m+1,r<f&&e.src.charCodeAt(r)===40){for(r++;r<f&&(n=e.src.charCodeAt(r),!(!je(n)&&n!==10));r++);if(r>=f)return!1;for(l=r,u=e.md.helpers.parseLinkDestination(e.src,r,e.posMax),u.ok&&(c=e.md.normalizeLink(u.str),e.md.validateLink(c)?r=u.pos:c=""),l=r;r<f&&(n=e.src.charCodeAt(r),!(!je(n)&&n!==10));r++);if(u=e.md.helpers.parseLinkTitle(e.src,r,e.posMax),r<f&&l!==r&&u.ok)for(a=u.str,r=u.pos;r<f&&(n=e.src.charCodeAt(r),!(!je(n)&&n!==10));r++);else a="";if(r>=f||e.src.charCodeAt(r)!==41)return e.pos=d,!1;r++}else{if(typeof e.env.references>"u")return!1;if(r<f&&e.src.charCodeAt(r)===91?(l=r+1,r=e.md.helpers.parseLinkLabel(e,r),r>=0?o=e.src.slice(l,r++):r=m+1):r=m+1,o||(o=e.src.slice(h,m)),s=e.env.references[Rs(o)],!s)return e.pos=d,!1;c=s.href,a=s.title}if(!t){i=e.src.slice(h,m);const b=[];e.md.inline.parse(i,e.md,e.env,b);const v=e.push("image","img",0),y=[["src",c],["alt",""]];v.attrs=y,v.children=b,v.content=i,a&&y.push(["title",a])}return e.pos=r,e.posMax=f,!0}const F4=/^([a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,P4=/^([a-zA-Z][a-zA-Z0-9+.-]{1,31}):([^<>\x00-\x20]*)$/;function O4(e,t){let n=e.pos;if(e.src.charCodeAt(n)!==60)return!1;const i=e.pos,o=e.posMax;for(;;){if(++n>=o)return!1;const s=e.src.charCodeAt(n);if(s===60)return!1;if(s===62)break}const r=e.src.slice(i+1,n);if(P4.test(r)){const s=e.md.normalizeLink(r);if(!e.md.validateLink(s))return!1;if(!t){const u=e.push("link_open","a",1);u.attrs=[["href",s]],u.markup="autolink",u.info="auto";const a=e.push("text","",0);a.content=e.md.normalizeLinkText(r);const l=e.push("link_close","a",-1);l.markup="autolink",l.info="auto"}return e.pos+=r.length+2,!0}if(F4.test(r)){const s=e.md.normalizeLink("mailto:"+r);if(!e.md.validateLink(s))return!1;if(!t){const u=e.push("link_open","a",1);u.attrs=[["href",s]],u.markup="autolink",u.info="auto";const a=e.push("text","",0);a.content=e.md.normalizeLinkText(r);const l=e.push("link_close","a",-1);l.markup="autolink",l.info="auto"}return e.pos+=r.length+2,!0}return!1}function L4(e){return/^<a[>\s]/i.test(e)}function z4(e){return/^<\/a\s*>/i.test(e)}function R4(e){const t=e|32;return t>=97&&t<=122}function $4(e,t){if(!e.md.options.html)return!1;const n=e.posMax,i=e.pos;if(e.src.charCodeAt(i)!==60||i+2>=n)return!1;const o=e.src.charCodeAt(i+1);if(o!==33&&o!==63&&o!==47&&!R4(o))return!1;const r=e.src.slice(i).match(p4);if(!r)return!1;if(!t){const s=e.push("html_inline","",0);s.content=r[0],L4(s.content)&&e.linkLevel++,z4(s.content)&&e.linkLevel--}return e.pos+=r[0].length,!0}const B4=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,H4=/^&([a-z][a-z0-9]{1,31});/i;function V4(e,t){const n=e.pos,i=e.posMax;if(e.src.charCodeAt(n)!==38||n+1>=i)return!1;if(e.src.charCodeAt(n+1)===35){const r=e.src.slice(n).match(B4);if(r){if(!t){const s=r[1][0].toLowerCase()==="x"?parseInt(r[1].slice(1),16):parseInt(r[1],10),u=e.push("text_special","",0);u.content=Il(s)?as(s):as(65533),u.markup=r[0],u.info="entity"}return e.pos+=r[0].length,!0}}else{const r=e.src.slice(n).match(H4);if(r){const s=Cp(r[0]);if(s!==r[0]){if(!t){const u=e.push("text_special","",0);u.content=s,u.markup=r[0],u.info="entity"}return e.pos+=r[0].length,!0}}}return!1}function wf(e){const t={},n=e.length;if(!n)return;let i=0,o=-2;const r=[];for(let s=0;s<n;s++){const u=e[s];if(r.push(0),(e[i].marker!==u.marker||o!==u.token-1)&&(i=s),o=u.token,u.length=u.length||0,!u.close)continue;t.hasOwnProperty(u.marker)||(t[u.marker]=[-1,-1,-1,-1,-1,-1]);const a=t[u.marker][(u.open?3:0)+u.length%3];let l=i-r[i]-1,c=l;for(;l>a;l-=r[l]+1){const d=e[l];if(d.marker===u.marker&&d.open&&d.end<0){let f=!1;if((d.close||u.open)&&(d.length+u.length)%3===0&&(d.length%3!==0||u.length%3!==0)&&(f=!0),!f){const h=l>0&&!e[l-1].open?r[l-1]+1:0;r[s]=s-l+h,r[l]=h,u.open=!1,d.end=s,d.close=!1,c=-1,o=-2;break}}}c!==-1&&(t[u.marker][(u.open?3:0)+(u.length||0)%3]=c)}}function U4(e){const t=e.tokens_meta,n=e.tokens_meta.length;wf(e.delimiters);for(let i=0;i<n;i++)t[i]&&t[i].delimiters&&wf(t[i].delimiters)}function q4(e){let t,n,i=0;const o=e.tokens,r=e.tokens.length;for(t=n=0;t<r;t++)o[t].nesting<0&&i--,o[t].level=i,o[t].nesting>0&&i++,o[t].type==="text"&&t+1<r&&o[t+1].type==="text"?o[t+1].content=o[t].content+o[t+1].content:(t!==n&&(o[n]=o[t]),n++);t!==n&&(o.length=n)}const aa=[["text",w4],["linkify",C4],["newline",E4],["escape",S4],["backticks",k4],["strikethrough",Tp.tokenize],["emphasis",Mp.tokenize],["link",M4],["image",N4],["autolink",O4],["html_inline",$4],["entity",V4]],la=[["balance_pairs",U4],["strikethrough",Tp.postProcess],["emphasis",Mp.postProcess],["fragments_join",q4]];function hr(){this.ruler=new At;for(let e=0;e<aa.length;e++)this.ruler.push(aa[e][0],aa[e][1]);this.ruler2=new At;for(let e=0;e<la.length;e++)this.ruler2.push(la[e][0],la[e][1])}hr.prototype.skipToken=function(e){const t=e.pos,n=this.ruler.getRules(""),i=n.length,o=e.md.options.maxNesting,r=e.cache;if(typeof r[t]<"u"){e.pos=r[t];return}let s=!1;if(e.level<o){for(let u=0;u<i;u++)if(e.level++,s=n[u](e,!0),e.level--,s){if(t>=e.pos)throw new Error("inline rule didn't increment state.pos");break}}else e.pos=e.posMax;s||e.pos++,r[t]=e.pos};hr.prototype.tokenize=function(e){const t=this.ruler.getRules(""),n=t.length,i=e.posMax,o=e.md.options.maxNesting;for(;e.pos<i;){const r=e.pos;let s=!1;if(e.level<o){for(let u=0;u<n;u++)if(s=t[u](e,!1),s){if(r>=e.pos)throw new Error("inline rule didn't increment state.pos");break}}if(s){if(e.pos>=i)break;continue}e.pending+=e.src[e.pos++]}e.pending&&e.pushPending()};hr.prototype.parse=function(e,t,n,i){const o=new this.State(e,t,n,i);this.tokenize(o);const r=this.ruler2.getRules(""),s=r.length;for(let u=0;u<s;u++)r[u](o)};hr.prototype.State=fr;function G4(e){const t={};e=e||{},t.src_Any=vp.source,t.src_Cc=bp.source,t.src_Z=wp.source,t.src_P=Sl.source,t.src_ZPCc=[t.src_Z,t.src_P,t.src_Cc].join("|"),t.src_ZCc=[t.src_Z,t.src_Cc].join("|");const n="[><]";return t.src_pseudo_letter="(?:(?!"+n+"|"+t.src_ZPCc+")"+t.src_Any+")",t.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",t.src_auth="(?:(?:(?!"+t.src_ZCc+"|[@/\\[\\]()]).)+@)?",t.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",t.src_host_terminator="(?=$|"+n+"|"+t.src_ZPCc+")(?!"+(e["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+t.src_ZPCc+"))",t.src_path="(?:[/?#](?:(?!"+t.src_ZCc+"|"+n+`|[()[\\]{}.,"'?!\\-;]).|\\[(?:(?!`+t.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+t.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+t.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+t.src_ZCc+`|["]).)+\\"|\\'(?:(?!`+t.src_ZCc+"|[']).)+\\'|\\'(?="+t.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+t.src_ZCc+"|[.]|$)|"+(e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+t.src_ZCc+"|$)|;(?!"+t.src_ZCc+"|$)|\\!+(?!"+t.src_ZCc+"|[!]|$)|\\?(?!"+t.src_ZCc+"|[?]|$))+|\\/)?",t.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',t.src_xn="xn--[a-z0-9\\-]{1,59}",t.src_domain_root="(?:"+t.src_xn+"|"+t.src_pseudo_letter+"{1,63})",t.src_domain="(?:"+t.src_xn+"|(?:"+t.src_pseudo_letter+")|(?:"+t.src_pseudo_letter+"(?:-|"+t.src_pseudo_letter+"){0,61}"+t.src_pseudo_letter+"))",t.src_host="(?:(?:(?:(?:"+t.src_domain+")\\.)*"+t.src_domain+"))",t.tpl_host_fuzzy="(?:"+t.src_ip4+"|(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%)))",t.tpl_host_no_ip_fuzzy="(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%))",t.src_host_strict=t.src_host+t.src_host_terminator,t.tpl_host_fuzzy_strict=t.tpl_host_fuzzy+t.src_host_terminator,t.src_host_port_strict=t.src_host+t.src_port+t.src_host_terminator,t.tpl_host_port_fuzzy_strict=t.tpl_host_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_port_no_ip_fuzzy_strict=t.tpl_host_no_ip_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+t.src_ZPCc+"|>|$))",t.tpl_email_fuzzy="(^|"+n+'|"|\\(|'+t.src_ZCc+")("+t.src_email_name+"@"+t.tpl_host_fuzzy_strict+")",t.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+t.src_ZPCc+"))((?![$+<=>^`|])"+t.tpl_host_port_fuzzy_strict+t.src_path+")",t.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+t.src_ZPCc+"))((?![$+<=>^`|])"+t.tpl_host_port_no_ip_fuzzy_strict+t.src_path+")",t}function Ua(e){return Array.prototype.slice.call(arguments,1).forEach(function(n){n&&Object.keys(n).forEach(function(i){e[i]=n[i]})}),e}function Bs(e){return Object.prototype.toString.call(e)}function j4(e){return Bs(e)==="[object String]"}function W4(e){return Bs(e)==="[object Object]"}function Z4(e){return Bs(e)==="[object RegExp]"}function xf(e){return Bs(e)==="[object Function]"}function Y4(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}const Np={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};function X4(e){return Object.keys(e||{}).reduce(function(t,n){return t||Np.hasOwnProperty(n)},!1)}const K4={"http:":{validate:function(e,t,n){const i=e.slice(t);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(i)?i.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,t,n){const i=e.slice(t);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(i)?t>=3&&e[t-3]===":"||t>=3&&e[t-3]==="/"?0:i.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(e,t,n){const i=e.slice(t);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(i)?i.match(n.re.mailto)[0].length:0}}},J4="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",Q4="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|".split("|");function eS(e){e.__index__=-1,e.__text_cache__=""}function tS(e){return function(t,n){const i=t.slice(n);return e.test(i)?i.match(e)[0].length:0}}function Cf(){return function(e,t){t.normalize(e)}}function ls(e){const t=e.re=G4(e.__opts__),n=e.__tlds__.slice();e.onCompile(),e.__tlds_replaced__||n.push(J4),n.push(t.src_xn),t.src_tlds=n.join("|");function i(u){return u.replace("%TLDS%",t.src_tlds)}t.email_fuzzy=RegExp(i(t.tpl_email_fuzzy),"i"),t.link_fuzzy=RegExp(i(t.tpl_link_fuzzy),"i"),t.link_no_ip_fuzzy=RegExp(i(t.tpl_link_no_ip_fuzzy),"i"),t.host_fuzzy_test=RegExp(i(t.tpl_host_fuzzy_test),"i");const o=[];e.__compiled__={};function r(u,a){throw new Error('(LinkifyIt) Invalid schema "'+u+'": '+a)}Object.keys(e.__schemas__).forEach(function(u){const a=e.__schemas__[u];if(a===null)return;const l={validate:null,link:null};if(e.__compiled__[u]=l,W4(a)){Z4(a.validate)?l.validate=tS(a.validate):xf(a.validate)?l.validate=a.validate:r(u,a),xf(a.normalize)?l.normalize=a.normalize:a.normalize?r(u,a):l.normalize=Cf();return}if(j4(a)){o.push(u);return}r(u,a)}),o.forEach(function(u){e.__compiled__[e.__schemas__[u]]&&(e.__compiled__[u].validate=e.__compiled__[e.__schemas__[u]].validate,e.__compiled__[u].normalize=e.__compiled__[e.__schemas__[u]].normalize)}),e.__compiled__[""]={validate:null,normalize:Cf()};const s=Object.keys(e.__compiled__).filter(function(u){return u.length>0&&e.__compiled__[u]}).map(Y4).join("|");e.re.schema_test=RegExp("(^|(?!_)(?:[><]|"+t.src_ZPCc+"))("+s+")","i"),e.re.schema_search=RegExp("(^|(?!_)(?:[><]|"+t.src_ZPCc+"))("+s+")","ig"),e.re.schema_at_start=RegExp("^"+e.re.schema_search.source,"i"),e.re.pretest=RegExp("("+e.re.schema_test.source+")|("+e.re.host_fuzzy_test.source+")|@","i"),eS(e)}function nS(e,t){const n=e.__index__,i=e.__last_index__,o=e.__text_cache__.slice(n,i);this.schema=e.__schema__.toLowerCase(),this.index=n+t,this.lastIndex=i+t,this.raw=o,this.text=o,this.url=o}function qa(e,t){const n=new nS(e,t);return e.__compiled__[n.schema].normalize(n,e),n}function Ot(e,t){if(!(this instanceof Ot))return new Ot(e,t);t||X4(e)&&(t=e,e={}),this.__opts__=Ua({},Np,t),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=Ua({},K4,e),this.__compiled__={},this.__tlds__=Q4,this.__tlds_replaced__=!1,this.re={},ls(this)}Ot.prototype.add=function(t,n){return this.__schemas__[t]=n,ls(this),this};Ot.prototype.set=function(t){return this.__opts__=Ua(this.__opts__,t),this};Ot.prototype.test=function(t){if(this.__text_cache__=t,this.__index__=-1,!t.length)return!1;let n,i,o,r,s,u,a,l,c;if(this.re.schema_test.test(t)){for(a=this.re.schema_search,a.lastIndex=0;(n=a.exec(t))!==null;)if(r=this.testSchemaAt(t,n[2],a.lastIndex),r){this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+r;break}}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(l=t.search(this.re.host_fuzzy_test),l>=0&&(this.__index__<0||l<this.__index__)&&(i=t.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))!==null&&(s=i.index+i[1].length,(this.__index__<0||s<this.__index__)&&(this.__schema__="",this.__index__=s,this.__last_index__=i.index+i[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(c=t.indexOf("@"),c>=0&&(o=t.match(this.re.email_fuzzy))!==null&&(s=o.index+o[1].length,u=o.index+o[0].length,(this.__index__<0||s<this.__index__||s===this.__index__&&u>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=s,this.__last_index__=u))),this.__index__>=0};Ot.prototype.pretest=function(t){return this.re.pretest.test(t)};Ot.prototype.testSchemaAt=function(t,n,i){return this.__compiled__[n.toLowerCase()]?this.__compiled__[n.toLowerCase()].validate(t,i,this):0};Ot.prototype.match=function(t){const n=[];let i=0;this.__index__>=0&&this.__text_cache__===t&&(n.push(qa(this,i)),i=this.__last_index__);let o=i?t.slice(i):t;for(;this.test(o);)n.push(qa(this,i)),o=o.slice(this.__last_index__),i+=this.__last_index__;return n.length?n:null};Ot.prototype.matchAtStart=function(t){if(this.__text_cache__=t,this.__index__=-1,!t.length)return null;const n=this.re.schema_at_start.exec(t);if(!n)return null;const i=this.testSchemaAt(t,n[2],n[0].length);return i?(this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+i,qa(this,0)):null};Ot.prototype.tlds=function(t,n){return t=Array.isArray(t)?t:[t],n?(this.__tlds__=this.__tlds__.concat(t).sort().filter(function(i,o,r){return i!==r[o-1]}).reverse(),ls(this),this):(this.__tlds__=t.slice(),this.__tlds_replaced__=!0,ls(this),this)};Ot.prototype.normalize=function(t){t.schema||(t.url="http://"+t.url),t.schema==="mailto:"&&!/^mailto:/i.test(t.url)&&(t.url="mailto:"+t.url)};Ot.prototype.onCompile=function(){};const Gi=2147483647,ln=36,Tl=1,ir=26,iS=38,oS=700,Fp=72,Pp=128,Op="-",rS=/^xn--/,sS=/[^\0-\x7F]/,uS=/[\x2E\u3002\uFF0E\uFF61]/g,aS={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},ca=ln-Tl,cn=Math.floor,da=String.fromCharCode;function Hn(e){throw new RangeError(aS[e])}function lS(e,t){const n=[];let i=e.length;for(;i--;)n[i]=t(e[i]);return n}function Lp(e,t){const n=e.split("@");let i="";n.length>1&&(i=n[0]+"@",e=n[1]),e=e.replace(uS,".");const o=e.split("."),r=lS(o,t).join(".");return i+r}function cS(e){const t=[];let n=0;const i=e.length;for(;n<i;){const o=e.charCodeAt(n++);if(o>=55296&&o<=56319&&n<i){const r=e.charCodeAt(n++);(r&64512)==56320?t.push(((o&1023)<<10)+(r&1023)+65536):(t.push(o),n--)}else t.push(o)}return t}const dS=function(e){return e>=48&&e<58?26+(e-48):e>=65&&e<91?e-65:e>=97&&e<123?e-97:ln},Ef=function(e,t){return e+22+75*(e<26)-((t!=0)<<5)},zp=function(e,t,n){let i=0;for(e=n?cn(e/oS):e>>1,e+=cn(e/t);e>ca*ir>>1;i+=ln)e=cn(e/ca);return cn(i+(ca+1)*e/(e+iS))},fS=function(e){const t=[],n=e.length;let i=0,o=Pp,r=Fp,s=e.lastIndexOf(Op);s<0&&(s=0);for(let u=0;u<s;++u)e.charCodeAt(u)>=128&&Hn("not-basic"),t.push(e.charCodeAt(u));for(let u=s>0?s+1:0;u<n;){const a=i;for(let c=1,d=ln;;d+=ln){u>=n&&Hn("invalid-input");const f=dS(e.charCodeAt(u++));f>=ln&&Hn("invalid-input"),f>cn((Gi-i)/c)&&Hn("overflow"),i+=f*c;const h=d<=r?Tl:d>=r+ir?ir:d-r;if(f<h)break;const m=ln-h;c>cn(Gi/m)&&Hn("overflow"),c*=m}const l=t.length+1;r=zp(i-a,l,a==0),cn(i/l)>Gi-o&&Hn("overflow"),o+=cn(i/l),i%=l,t.splice(i++,0,o)}return String.fromCodePoint(...t)},hS=function(e){const t=[];e=cS(e);const n=e.length;let i=Pp,o=0,r=Fp;for(const a of e)a<128&&t.push(da(a));const s=t.length;let u=s;for(s&&t.push(Op);u<n;){let a=Gi;for(const c of e)c>=i&&c<a&&(a=c);const l=u+1;a-i>cn((Gi-o)/l)&&Hn("overflow"),o+=(a-i)*l,i=a;for(const c of e)if(c<i&&++o>Gi&&Hn("overflow"),c===i){let d=o;for(let f=ln;;f+=ln){const h=f<=r?Tl:f>=r+ir?ir:f-r;if(d<h)break;const m=d-h,b=ln-h;t.push(da(Ef(h+m%b,0))),d=cn(m/b)}t.push(da(Ef(d,0))),r=zp(o,l,u===s),o=0,++u}++o,++i}return t.join("")},pS=function(e){return Lp(e,function(t){return rS.test(t)?fS(t.slice(4).toLowerCase()):t})},mS=function(e){return Lp(e,function(t){return sS.test(t)?"xn--"+hS(t):t})},Rp={toASCII:mS,toUnicode:pS},gS={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}},_S={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}},vS={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}},bS={default:gS,zero:_S,commonmark:vS},yS=/^(vbscript|javascript|file|data):/,wS=/^data:image\/(gif|png|jpeg|webp);/;function xS(e){const t=e.trim().toLowerCase();return yS.test(t)?wS.test(t):!0}const $p=["http:","https:","mailto:"];function CS(e){const t=El(e,!0);if(t.hostname&&(!t.protocol||$p.indexOf(t.protocol)>=0))try{t.hostname=Rp.toASCII(t.hostname)}catch{}return dr(Cl(t))}function ES(e){const t=El(e,!0);if(t.hostname&&(!t.protocol||$p.indexOf(t.protocol)>=0))try{t.hostname=Rp.toUnicode(t.hostname)}catch{}return io(Cl(t),io.defaultChars+"%")}function qt(e,t){if(!(this instanceof qt))return new qt(e,t);t||kl(e)||(t=e||{},e="default"),this.inline=new hr,this.block=new $s,this.core=new Al,this.renderer=new lo,this.linkify=new Ot,this.validateLink=xS,this.normalizeLink=CS,this.normalizeLinkText=ES,this.utils=EE,this.helpers=zs({},AE),this.options={},this.configure(e),t&&this.set(t)}qt.prototype.set=function(e){return zs(this.options,e),this};qt.prototype.configure=function(e){const t=this;if(kl(e)){const n=e;if(e=bS[n],!e)throw new Error('Wrong `markdown-it` preset "'+n+'", check name')}if(!e)throw new Error("Wrong `markdown-it` preset, can't be empty");return e.options&&t.set(e.options),e.components&&Object.keys(e.components).forEach(function(n){e.components[n].rules&&t[n].ruler.enableOnly(e.components[n].rules),e.components[n].rules2&&t[n].ruler2.enableOnly(e.components[n].rules2)}),this};qt.prototype.enable=function(e,t){let n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(o){n=n.concat(this[o].ruler.enable(e,!0))},this),n=n.concat(this.inline.ruler2.enable(e,!0));const i=e.filter(function(o){return n.indexOf(o)<0});if(i.length&&!t)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+i);return this};qt.prototype.disable=function(e,t){let n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(o){n=n.concat(this[o].ruler.disable(e,!0))},this),n=n.concat(this.inline.ruler2.disable(e,!0));const i=e.filter(function(o){return n.indexOf(o)<0});if(i.length&&!t)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+i);return this};qt.prototype.use=function(e){const t=[this].concat(Array.prototype.slice.call(arguments,1));return e.apply(e,t),this};qt.prototype.parse=function(e,t){if(typeof e!="string")throw new Error("Input data should be a String");const n=new this.core.State(e,this,t);return this.core.process(n),n.tokens};qt.prototype.render=function(e,t){return t=t||{},this.renderer.render(this.parse(e,t),this.options,t)};qt.prototype.parseInline=function(e,t){const n=new this.core.State(e,this,t);return n.inlineMode=!0,this.core.process(n),n.tokens};qt.prototype.renderInline=function(e,t){return t=t||{},this.renderer.render(this.parseInline(e,t),this.options,t)};const SS=new qt({html:!0,breaks:!0});zt.fn_renderMarkdown=(e,t,n)=>{t.classList.add("markdown-rendered");const i=SS.render(e),o=document.createElement("div");t.appendChild(o),o.innerHTML=i};zt.fn_request=async(e,t,n,i)=>await fetch(e,{method:t,headers:n,body:i});p1(z6).mount("#app");
